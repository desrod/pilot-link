<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: libpisock/cmp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('cmp_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">cmp.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;pi-debug.h&quot;</code><br />
<code>#include &quot;pi-source.h&quot;</code><br />
<code>#include &quot;pi-socket.h&quot;</code><br />
<code>#include &quot;pi-padp.h&quot;</code><br />
<code>#include &quot;pi-cmp.h&quot;</code><br />
<code>#include &quot;pi-error.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for cmp.c:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c__incl.png" border="0" usemap="#alibpisock_2cmp_8c" alt=""/></div>
<map name="alibpisock_2cmp_8c" id="alibpisock_2cmp_8c">
<area shape="rect" title=" " alt="" coords="291,5,404,31"/>
<area shape="rect" title=" " alt="" coords="5,79,66,105"/>
<area shape="poly" title=" " alt="" coords="291,34,82,81,80,75,290,28"/>
<area shape="rect" title=" " alt="" coords="90,79,171,105"/>
<area shape="poly" title=" " alt="" coords="311,34,182,76,181,71,310,29"/>
<area shape="rect" title=" " alt="" coords="196,79,281,105"/>
<area shape="poly" title=" " alt="" coords="330,34,271,73,268,68,328,29"/>
<area shape="rect" title=" " alt="" coords="305,79,390,105"/>
<area shape="poly" title=" " alt="" coords="350,31,350,63,345,63,345,31"/>
<area shape="rect" title=" " alt="" coords="414,79,489,105"/>
<area shape="poly" title=" " alt="" coords="367,29,423,68,420,72,364,34"/>
<area shape="rect" title=" " alt="" coords="513,79,584,105"/>
<area shape="poly" title=" " alt="" coords="383,29,501,71,499,76,381,34"/>
<area shape="rect" title=" " alt="" coords="609,79,680,105"/>
<area shape="poly" title=" " alt="" coords="399,29,595,76,593,81,398,34"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adc9c309853f9ac66577cf0966a372260" id="r_adc9c309853f9ac66577cf0966a372260"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc9c309853f9ac66577cf0966a372260">cmp_abort</a> (pi_socket_t *ps, int reason)</td></tr>
<tr class="separator:adc9c309853f9ac66577cf0966a372260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23bcd05a6108067dc8b3abff2ba7f41" id="r_ae23bcd05a6108067dc8b3abff2ba7f41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae23bcd05a6108067dc8b3abff2ba7f41">cmp_dump</a> (const unsigned char *cmp, int rxtx)</td></tr>
<tr class="separator:ae23bcd05a6108067dc8b3abff2ba7f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6695ef84d86dc43e73d652d19d4f928a" id="r_a6695ef84d86dc43e73d652d19d4f928a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6695ef84d86dc43e73d652d19d4f928a">cmp_flush</a> (pi_socket_t *ps, int <a class="el" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>)</td></tr>
<tr class="separator:a6695ef84d86dc43e73d652d19d4f928a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab947e04f0d9990170ac07ca883b3c7f4" id="r_ab947e04f0d9990170ac07ca883b3c7f4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab947e04f0d9990170ac07ca883b3c7f4">cmp_getsockopt</a> (pi_socket_t *ps, int level, int option_name, void *option_value, size_t *option_len)</td></tr>
<tr class="separator:ab947e04f0d9990170ac07ca883b3c7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11606925c41885b1bca65ab8c44adc30" id="r_a11606925c41885b1bca65ab8c44adc30"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11606925c41885b1bca65ab8c44adc30">cmp_init</a> (pi_socket_t *ps, int baudrate)</td></tr>
<tr class="separator:a11606925c41885b1bca65ab8c44adc30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46af9b9d2b4db141ed8b65871acc950e" id="r_a46af9b9d2b4db141ed8b65871acc950e"><td class="memItemLeft" align="right" valign="top">pi_protocol_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46af9b9d2b4db141ed8b65871acc950e">cmp_protocol</a> (void)</td></tr>
<tr class="separator:a46af9b9d2b4db141ed8b65871acc950e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56759b4b23c4ee2a492f0b3f1b3b7b0e" id="r_a56759b4b23c4ee2a492f0b3f1b3b7b0e"><td class="memItemLeft" align="right" valign="top">static pi_protocol_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56759b4b23c4ee2a492f0b3f1b3b7b0e">cmp_protocol_dup</a> (pi_protocol_t *prot)</td></tr>
<tr class="separator:a56759b4b23c4ee2a492f0b3f1b3b7b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad5bcc44e2077debe7fb819cd0c4bd2" id="r_adad5bcc44e2077debe7fb819cd0c4bd2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adad5bcc44e2077debe7fb819cd0c4bd2">cmp_protocol_free</a> (pi_protocol_t *prot)</td></tr>
<tr class="separator:adad5bcc44e2077debe7fb819cd0c4bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc715b624e23e1384e4b66c7c66ed93f" id="r_acc715b624e23e1384e4b66c7c66ed93f"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc715b624e23e1384e4b66c7c66ed93f">cmp_rx</a> (pi_socket_t *ps, pi_buffer_t *msg, size_t len, int <a class="el" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>)</td></tr>
<tr class="separator:acc715b624e23e1384e4b66c7c66ed93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b2861d069ea313208312a38d02644c" id="r_a94b2861d069ea313208312a38d02644c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94b2861d069ea313208312a38d02644c">cmp_rx_handshake</a> (pi_socket_t *ps, int establishrate, int establishhighrate)</td></tr>
<tr class="separator:a94b2861d069ea313208312a38d02644c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a614fe86fa2227410d7271057a55bb043" id="r_a614fe86fa2227410d7271057a55bb043"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a614fe86fa2227410d7271057a55bb043">cmp_setsockopt</a> (pi_socket_t *ps, int level, int option_name, const void *option_value, size_t *option_len)</td></tr>
<tr class="separator:a614fe86fa2227410d7271057a55bb043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323b204b884996c0557dc213c6ee4f43" id="r_a323b204b884996c0557dc213c6ee4f43"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a323b204b884996c0557dc213c6ee4f43">cmp_tx</a> (pi_socket_t *ps, const unsigned char *<a class="el" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, size_t len, int <a class="el" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>)</td></tr>
<tr class="separator:a323b204b884996c0557dc213c6ee4f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e3c72b736be2b8d827902975ce79d10" id="r_a5e3c72b736be2b8d827902975ce79d10"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e3c72b736be2b8d827902975ce79d10">cmp_tx_handshake</a> (pi_socket_t *ps)</td></tr>
<tr class="separator:a5e3c72b736be2b8d827902975ce79d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e820941b251af7a76e0d0962f5146a5" id="r_a9e820941b251af7a76e0d0962f5146a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e820941b251af7a76e0d0962f5146a5">cmp_wakeup</a> (pi_socket_t *ps, int maxbaud)</td></tr>
<tr class="separator:a9e820941b251af7a76e0d0962f5146a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="adc9c309853f9ac66577cf0966a372260" name="adc9c309853f9ac66577cf0966a372260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc9c309853f9ac66577cf0966a372260">&#9670;&#160;</a></span>cmp_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmp_abort </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>reason</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  452</span>{</div>
<div class="line"><span class="lineno">  453</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  454</span>    <span class="keyword">struct  </span>pi_cmp_data *data;</div>
<div class="line"><span class="lineno">  455</span>    </div>
<div class="line"><span class="lineno">  456</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  458</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>    data = (<span class="keyword">struct </span>pi_cmp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  461</span>    data-&gt;type = PI_CMP_TYPE_ABRT;</div>
<div class="line"><span class="lineno">  462</span>    data-&gt;flags = reason;</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>    LOG((PI_DBG_CMP, PI_DBG_LVL_NONE, <span class="stringliteral">&quot;CMP ABORT\n&quot;</span>));</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a323b204b884996c0557dc213c6ee4f43">cmp_tx</a> (ps, NULL, 0, 0);</div>
<div class="line"><span class="lineno">  467</span>}</div>
<div class="ttc" id="acmp_8c_html_a323b204b884996c0557dc213c6ee4f43"><div class="ttname"><a href="#a323b204b884996c0557dc213c6ee4f43">cmp_tx</a></div><div class="ttdeci">ssize_t cmp_tx(pi_socket_t *ps, const unsigned char *buf, size_t len, int flags)</div><div class="ttdef"><b>Definition</b> cmp.c:297</div></div>
<div class="ttc" id="asocket_8c_html_a0d734c11092254f751f06eda9d35d7b3"><div class="ttname"><a href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a></div><div class="ttdeci">pi_protocol_t * pi_protocol(int pi_sd, int level)</div><div class="ttdef"><b>Definition</b> socket.c:659</div></div>
<div class="ttc" id="asocket_8c_html_a415df518818c6813556c5607b29e833e"><div class="ttname"><a href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a></div><div class="ttdeci">int pi_set_error(int pi_sd, int error_code)</div><div class="ttdef"><b>Definition</b> socket.c:1625</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00297">cmp_tx()</a>, <a class="el" href="#l00659">pi_protocol()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00185">cmp_rx_handshake()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_adc9c309853f9ac66577cf0966a372260_cgraph.png" border="0" usemap="#acmp_8c_adc9c309853f9ac66577cf0966a372260_cgraph" alt=""/></div>
<map name="acmp_8c_adc9c309853f9ac66577cf0966a372260_cgraph" id="acmp_8c_adc9c309853f9ac66577cf0966a372260_cgraph">
<area shape="rect" title=" " alt="" coords="5,108,88,134"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="136,108,200,134"/>
<area shape="poly" title=" " alt="" coords="88,119,120,119,120,124,88,124"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="264,159,348,185"/>
<area shape="poly" title=" " alt="" coords="89,131,136,144,249,163,248,168,135,149,88,137"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="452,8,542,34"/>
<area shape="poly" title=" " alt="" coords="64,105,141,57,193,32,247,13,297,5,347,3,437,9,437,14,347,8,297,10,249,18,195,37,144,62,67,110"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="264,60,349,86"/>
<area shape="poly" title=" " alt="" coords="200,108,252,89,253,94,202,113"/>
<area shape="poly" title=" " alt="" coords="202,130,256,151,254,156,200,135"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="248,211,364,237"/>
<area shape="poly" title=" " alt="" coords="182,133,211,163,250,195,259,201,257,206,246,199,208,167,178,136"/>
<area shape="poly" title=" " alt="" coords="177,106,205,75,225,58,247,45,295,29,345,19,394,15,437,15,437,20,394,20,346,25,296,34,249,50,228,63,209,79,181,110"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="255,110,357,135"/>
<area shape="poly" title=" " alt="" coords="201,119,239,119,239,125,201,124"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="630,110,735,135"/>
<area shape="poly" title=" " alt="" coords="348,168,454,161,581,145,620,137,621,142,582,150,455,166,349,173"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="428,110,566,135"/>
<area shape="poly" title=" " alt="" coords="348,158,429,137,431,142,349,164"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="790,60,895,86"/>
<area shape="poly" title=" " alt="" coords="726,106,783,89,784,94,728,112"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="783,110,902,135"/>
<area shape="poly" title=" " alt="" coords="735,120,767,120,767,125,735,125"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="799,159,886,185"/>
<area shape="poly" title=" " alt="" coords="728,133,785,152,784,157,726,139"/>
<area shape="poly" title=" " alt="" coords="364,215,467,200,524,187,581,171,645,141,647,146,583,176,526,192,468,205,365,221"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="412,262,582,287"/>
<area shape="poly" title=" " alt="" coords="358,235,432,255,431,260,357,240"/>
<area shape="poly" title=" " alt="" coords="540,32,583,51,621,74,654,98,651,102,618,78,580,56,538,37"/>
<area shape="poly" title=" " alt="" coords="352,106,412,95,497,88,582,95,624,103,623,108,581,100,497,93,413,100,354,112"/>
<area shape="poly" title=" " alt="" coords="358,120,413,120,413,125,358,125"/>
<area shape="poly" title=" " alt="" coords="343,107,363,96,377,85,386,74,396,63,411,51,437,38,439,42,414,55,400,67,390,77,381,89,366,101,346,111"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_adc9c309853f9ac66577cf0966a372260_icgraph.png" border="0" usemap="#acmp_8c_adc9c309853f9ac66577cf0966a372260_icgraph" alt=""/></div>
<map name="acmp_8c_adc9c309853f9ac66577cf0966a372260_icgraph" id="acmp_8c_adc9c309853f9ac66577cf0966a372260_icgraph">
<area shape="rect" title=" " alt="" coords="1529,242,1612,268"/>
<area shape="rect" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c" title=" " alt="" coords="1347,242,1481,268"/>
<area shape="poly" title=" " alt="" coords="1514,258,1482,258,1482,252,1514,252"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,168,1299,193"/>
<area shape="poly" title=" " alt="" coords="1370,238,1298,207,1270,196,1272,191,1300,202,1372,233"/>
<area shape="rect" href="inet_8c.html#addba3dbe3eee187ecb6af12da94e12de" title=" " alt="" coords="1178,217,1283,242"/>
<area shape="poly" title=" " alt="" coords="1331,246,1283,240,1284,234,1332,241"/>
<area shape="rect" href="serial_8c.html#afd1f0015559a46379c5a5302589450fa" title=" " alt="" coords="1173,266,1288,292"/>
<area shape="poly" title=" " alt="" coords="1332,268,1289,274,1288,269,1331,263"/>
<area shape="rect" href="usb_8c.html#a22b05dc9bd4af901e301699fd78ca936" title=" " alt="" coords="1178,316,1283,341"/>
<area shape="poly" title=" " alt="" coords="1371,277,1300,307,1272,317,1270,312,1298,302,1369,272"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,168,1114,193"/>
<area shape="poly" title=" " alt="" coords="1146,183,1114,183,1114,178,1146,178"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="991,202,978,207,906,244,903,239,976,202,989,197"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="993,217,1098,242"/>
<area shape="poly" title=" " alt="" coords="1162,232,1098,232,1098,227,1162,227"/>
<area shape="poly" title=" " alt="" coords="978,243,930,250,929,245,977,237"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="988,266,1103,292"/>
<area shape="poly" title=" " alt="" coords="1157,282,1103,282,1103,276,1157,276"/>
<area shape="poly" title=" " alt="" coords="972,271,929,265,930,259,973,266"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="993,316,1098,341"/>
<area shape="poly" title=" " alt="" coords="1162,331,1098,331,1098,326,1162,326"/>
<area shape="poly" title=" " alt="" coords="989,312,976,307,904,271,907,266,978,302,991,307"/>
</map>
</div>

</div>
</div>
<a id="ae23bcd05a6108067dc8b3abff2ba7f41" name="ae23bcd05a6108067dc8b3abff2ba7f41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae23bcd05a6108067dc8b3abff2ba7f41">&#9670;&#160;</a></span>cmp_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cmp_dump </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>cmp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>rxtx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  621</span>{</div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordtype">char</span> *type;</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>    (void) rxtx;</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>    <span class="keywordflow">switch</span> (get_byte(&amp;cmp[PI_CMP_OFFSET_TYPE])) {</div>
<div class="line"><span class="lineno">  627</span>        <span class="keywordflow">case</span> PI_CMP_TYPE_WAKE:</div>
<div class="line"><span class="lineno">  628</span>            type = <span class="stringliteral">&quot;WAKE&quot;</span>;</div>
<div class="line"><span class="lineno">  629</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  630</span>        <span class="keywordflow">case</span> PI_CMP_TYPE_INIT:</div>
<div class="line"><span class="lineno">  631</span>            type = <span class="stringliteral">&quot;INIT&quot;</span>;</div>
<div class="line"><span class="lineno">  632</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  633</span>        <span class="keywordflow">case</span> PI_CMP_TYPE_ABRT:</div>
<div class="line"><span class="lineno">  634</span>            type = <span class="stringliteral">&quot;ABRT&quot;</span>;</div>
<div class="line"><span class="lineno">  635</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  636</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  637</span>            type = <span class="stringliteral">&quot;UNK&quot;</span>;</div>
<div class="line"><span class="lineno">  638</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  639</span>    }</div>
<div class="line"><span class="lineno">  640</span>    </div>
<div class="line"><span class="lineno">  641</span>    LOG((PI_DBG_CMP, PI_DBG_LVL_NONE,</div>
<div class="line"><span class="lineno">  642</span>        <span class="stringliteral">&quot;CMP %s %s Type: 0x%02x Flags: 0x%02x Version: 0x%04x Baud: %d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  643</span>        rxtx ? <span class="stringliteral">&quot;TX&quot;</span> : <span class="stringliteral">&quot;RX&quot;</span>, type,</div>
<div class="line"><span class="lineno">  644</span>        get_byte(&amp;cmp[PI_CMP_OFFSET_TYPE]), </div>
<div class="line"><span class="lineno">  645</span>        get_byte(&amp;cmp[PI_CMP_OFFSET_FLGS]),</div>
<div class="line"><span class="lineno">  646</span>        get_long(&amp;cmp[PI_CMP_OFFSET_VERS]),</div>
<div class="line"><span class="lineno">  647</span>        get_long(&amp;cmp[PI_CMP_OFFSET_BAUD])));</div>
<div class="line"><span class="lineno">  648</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00347">cmp_rx()</a>, and <a class="el" href="#l00297">cmp_tx()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_ae23bcd05a6108067dc8b3abff2ba7f41_icgraph.png" border="0" usemap="#acmp_8c_ae23bcd05a6108067dc8b3abff2ba7f41_icgraph" alt=""/></div>
<map name="acmp_8c_ae23bcd05a6108067dc8b3abff2ba7f41_icgraph" id="acmp_8c_ae23bcd05a6108067dc8b3abff2ba7f41_icgraph">
<area shape="rect" title=" " alt="" coords="1975,216,2061,242"/>
<area shape="rect" href="cmp_8c.html#acc715b624e23e1384e4b66c7c66ed93f" title=" " alt="" coords="1863,240,1927,266"/>
<area shape="poly" title=" " alt="" coords="1961,243,1928,249,1927,244,1960,238"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="1863,165,1927,191"/>
<area shape="poly" title=" " alt="" coords="1970,212,1927,194,1929,189,1972,207"/>
<area shape="rect" href="cmp_8c.html#a46af9b9d2b4db141ed8b65871acc950e" title=" " alt="" coords="1716,215,1815,240"/>
<area shape="poly" title=" " alt="" coords="1847,246,1815,240,1816,235,1848,241"/>
<area shape="rect" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c" title=" " alt="" coords="1529,104,1663,130"/>
<area shape="poly" title=" " alt="" coords="1848,266,1783,270,1748,266,1715,255,1675,229,1642,194,1617,159,1602,132,1606,129,1622,157,1646,191,1678,225,1717,250,1749,261,1783,265,1847,260"/>
<area shape="rect" href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10" title=" " alt="" coords="1529,292,1663,318"/>
<area shape="poly" title=" " alt="" coords="1865,277,1841,289,1816,299,1777,308,1737,312,1664,313,1664,308,1737,307,1776,302,1814,294,1839,285,1862,272"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1524,405,1668,431"/>
<area shape="poly" title=" " alt="" coords="1745,254,1611,407,1607,403,1741,250"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,455,783,480"/>
<area shape="poly" title=" " alt="" coords="1523,437,1477,446,1357,465,1303,470,1235,471,1044,471,783,470,783,465,1044,466,1235,466,1303,465,1356,460,1476,441,1522,432"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1364,405,1466,431"/>
<area shape="poly" title=" " alt="" coords="1509,421,1466,421,1466,416,1509,416"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,455,651,480"/>
<area shape="poly" title=" " alt="" coords="683,470,651,470,651,465,683,465"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,504,612,530"/>
<area shape="poly" title=" " alt="" coords="685,488,613,512,612,507,683,483"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,405,612,431"/>
<area shape="poly" title=" " alt="" coords="683,452,612,428,613,423,685,447"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1165,307,1302,332"/>
<area shape="poly" title=" " alt="" coords="1384,398,1347,371,1305,346,1280,335,1282,330,1307,341,1350,367,1387,393"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,308,1114,334"/>
<area shape="poly" title=" " alt="" coords="1150,323,1114,323,1114,318,1150,317"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,257,929,283"/>
<area shape="poly" title=" " alt="" coords="986,305,924,286,925,281,987,300"/>
<area shape="poly" title=" " alt="" coords="864,297,754,456,749,453,859,294"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,257,772,283"/>
<area shape="poly" title=" " alt="" coords="815,273,772,273,772,268,815,268"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,356,640,382"/>
<area shape="poly" title=" " alt="" coords="717,296,687,322,652,347,630,358,628,353,649,343,684,318,714,292"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,159,637,184"/>
<area shape="poly" title=" " alt="" coords="714,248,684,222,649,198,628,187,630,182,652,193,687,218,717,244"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,208,637,234"/>
<area shape="poly" title=" " alt="" coords="694,258,629,237,630,232,696,253"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,257,633,283"/>
<area shape="poly" title=" " alt="" coords="694,273,634,273,634,268,694,268"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,307,625,332"/>
<area shape="poly" title=" " alt="" coords="695,287,626,310,625,305,694,282"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,94,476,134"/>
<area shape="poly" title=" " alt="" coords="529,203,523,199,508,186,498,173,489,161,475,148,456,137,459,133,478,144,493,157,502,170,512,182,526,195,532,199"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,307,436,332"/>
<area shape="poly" title=" " alt="" coords="528,289,437,313,436,307,526,283"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,356,450,382"/>
<area shape="poly" title=" " alt="" coords="532,292,526,296,512,309,503,321,493,334,478,347,452,359,450,354,475,343,489,331,498,318,508,305,523,292,529,288"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,405,435,431"/>
<area shape="poly" title=" " alt="" coords="530,293,526,296,509,320,503,345,497,371,490,384,478,396,458,409,437,416,435,411,456,404,475,392,485,380,492,369,498,344,504,318,522,292,526,289"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,159,424,184"/>
<area shape="poly" title=" " alt="" coords="529,252,523,248,508,235,498,222,489,210,475,198,449,186,424,178,425,173,451,181,478,193,493,206,503,219,512,231,526,244,532,248"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,208,424,234"/>
<area shape="poly" title=" " alt="" coords="526,257,424,230,425,225,528,252"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,257,424,283"/>
<area shape="poly" title=" " alt="" coords="526,273,425,273,425,268,526,268"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,356,273,382"/>
<area shape="poly" title=" " alt="" coords="334,372,273,372,273,366,334,366"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,307,275,332"/>
<area shape="poly" title=" " alt="" coords="336,354,272,336,274,330,338,349"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,332,127,358"/>
<area shape="poly" title=" " alt="" coords="161,362,127,357,128,351,162,357"/>
<area shape="poly" title=" " alt="" coords="160,333,127,338,126,333,159,327"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,405,250,431"/>
<area shape="poly" title=" " alt="" coords="348,421,250,421,250,416,348,416"/>
<area shape="poly" title=" " alt="" coords="1519,136,1424,163,1383,179,1356,195,1345,207,1338,219,1332,245,1327,271,1319,284,1308,298,1291,308,1288,304,1304,293,1315,281,1322,269,1327,243,1333,217,1340,204,1352,191,1380,174,1422,158,1518,131"/>
<area shape="rect" href="inet_8c.html#addba3dbe3eee187ecb6af12da94e12de" title=" " alt="" coords="1362,104,1468,130"/>
<area shape="poly" title=" " alt="" coords="1513,120,1468,120,1468,114,1513,114"/>
<area shape="rect" href="serial_8c.html#afd1f0015559a46379c5a5302589450fa" title=" " alt="" coords="1358,55,1473,80"/>
<area shape="poly" title=" " alt="" coords="1531,102,1464,84,1466,78,1532,97"/>
<area shape="rect" href="usb_8c.html#a22b05dc9bd4af901e301699fd78ca936" title=" " alt="" coords="1362,5,1468,31"/>
<area shape="poly" title=" " alt="" coords="1562,97,1475,45,1452,34,1454,29,1478,40,1565,93"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="1182,257,1286,283"/>
<area shape="poly" title=" " alt="" coords="1369,140,1356,151,1340,175,1333,199,1326,222,1308,247,1288,259,1285,255,1304,243,1322,220,1328,197,1335,173,1352,147,1366,136"/>
<area shape="poly" title=" " alt="" coords="1166,273,930,273,930,268,1166,268"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="1177,207,1291,232"/>
<area shape="poly" title=" " alt="" coords="1358,91,1356,93,1339,118,1333,144,1327,170,1319,183,1308,196,1289,208,1286,204,1304,192,1315,180,1322,168,1328,142,1334,116,1352,90,1355,87"/>
<area shape="poly" title=" " alt="" coords="1161,230,978,254,930,263,929,258,977,249,1160,225"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="1182,156,1286,182"/>
<area shape="poly" title=" " alt="" coords="1361,41,1356,44,1321,72,1290,103,1247,157,1242,154,1286,100,1317,68,1352,40,1358,36"/>
<area shape="poly" title=" " alt="" coords="1167,182,1076,200,978,227,907,259,905,254,976,222,1075,195,1166,177"/>
<area shape="rect" href="bluetooth_8c.html#a15efa0484c8ec0d838f87e4e9b7e48a0" title=" " alt="" coords="1162,356,1306,382"/>
<area shape="poly" title=" " alt="" coords="1545,326,1477,345,1389,359,1307,367,1306,362,1388,354,1476,340,1543,321"/>
<area shape="rect" href="inet_8c.html#a11fa9878cd5a0b710987f3b3468fbbc8" title=" " alt="" coords="1359,304,1471,330"/>
<area shape="poly" title=" " alt="" coords="1513,313,1472,316,1472,310,1513,308"/>
<area shape="rect" href="serial_8c.html#a10ceb871749f334daf436760d389a238" title=" " alt="" coords="1354,255,1476,280"/>
<area shape="poly" title=" " alt="" coords="1515,291,1476,283,1477,277,1516,286"/>
<area shape="rect" href="usb_8c.html#a0589e9bb1b983864e59ba5d8cdca033f" title=" " alt="" coords="1359,205,1471,231"/>
<area shape="poly" title=" " alt="" coords="1556,286,1475,245,1451,234,1453,229,1477,240,1559,282"/>
<area shape="poly" title=" " alt="" coords="1165,354,1098,337,1099,332,1166,349"/>
<area shape="poly" title=" " alt="" coords="1347,302,1285,286,1287,281,1348,297"/>
<area shape="poly" title=" " alt="" coords="1349,253,1284,235,1286,230,1350,248"/>
<area shape="poly" title=" " alt="" coords="1350,203,1283,185,1285,180,1351,198"/>
<area shape="poly" title=" " alt="" coords="1849,198,1802,217,1800,212,1847,193"/>
<area shape="rect" href="cmp_8c.html#adc9c309853f9ac66577cf0966a372260" title=" " alt="" coords="1724,116,1806,142"/>
<area shape="poly" title=" " alt="" coords="1847,163,1800,145,1802,140,1849,158"/>
<area shape="rect" href="cmp_8c.html#a11606925c41885b1bca65ab8c44adc30" title=" " alt="" coords="1730,67,1800,92"/>
<area shape="poly" title=" " alt="" coords="1870,156,1844,130,1813,106,1796,95,1798,91,1817,101,1847,126,1874,152"/>
<area shape="rect" href="cmp_8c.html#a9e820941b251af7a76e0d0962f5146a5" title=" " alt="" coords="1716,165,1814,191"/>
<area shape="poly" title=" " alt="" coords="1847,181,1815,181,1815,176,1847,176"/>
<area shape="poly" title=" " alt="" coords="1708,127,1663,124,1664,119,1709,122"/>
<area shape="poly" title=" " alt="" coords="1716,93,1658,106,1657,101,1715,88"/>
<area shape="poly" title=" " alt="" coords="1723,201,1717,204,1657,252,1612,294,1608,290,1653,247,1714,200,1720,196"/>
</map>
</div>

</div>
</div>
<a id="a6695ef84d86dc43e73d652d19d4f928a" name="a6695ef84d86dc43e73d652d19d4f928a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6695ef84d86dc43e73d652d19d4f928a">&#9670;&#160;</a></span>cmp_flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cmp_flush </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  393</span>{</div>
<div class="line"><span class="lineno">  394</span>    pi_protocol_t   *prot,</div>
<div class="line"><span class="lineno">  395</span>            *next;</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  398</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>    next = <a class="code hl_function" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368">pi_protocol_next</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  402</span>    <span class="keywordflow">if</span> (next == NULL)</div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>    <span class="keywordflow">return</span> next-&gt;flush(ps, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>);</div>
<div class="line"><span class="lineno">  406</span>}</div>
<div class="ttc" id="adarwinusb_8c_html_a1cbb17ede73ea044a04a129bf4d86976"><div class="ttname"><a href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a></div><div class="ttdeci">unsigned short flags</div><div class="ttdef"><b>Definition</b> darwinusb.c:311</div></div>
<div class="ttc" id="asocket_8c_html_a8fe4e2f277f57446a40cc3ccf20dd368"><div class="ttname"><a href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368">pi_protocol_next</a></div><div class="ttdeci">pi_protocol_t * pi_protocol_next(int pi_sd, int level)</div><div class="ttdef"><b>Definition</b> socket.c:672</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00311">flags</a>, <a class="el" href="#l00659">pi_protocol()</a>, <a class="el" href="#l00672">pi_protocol_next()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00136">cmp_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a6695ef84d86dc43e73d652d19d4f928a_cgraph.png" border="0" usemap="#acmp_8c_a6695ef84d86dc43e73d652d19d4f928a_cgraph" alt=""/></div>
<map name="acmp_8c_a6695ef84d86dc43e73d652d19d4f928a_cgraph" id="acmp_8c_a6695ef84d86dc43e73d652d19d4f928a_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,87,80"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="151,5,235,31"/>
<area shape="poly" title=" " alt="" coords="86,51,137,34,139,39,88,57"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="135,104,251,130"/>
<area shape="poly" title=" " alt="" coords="88,78,139,96,137,101,86,84"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="148,55,238,80"/>
<area shape="poly" title=" " alt="" coords="87,65,133,65,133,70,87,70"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="331,55,436,80"/>
<area shape="poly" title=" " alt="" coords="236,26,317,48,316,53,235,32"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="315,5,452,31"/>
<area shape="poly" title=" " alt="" coords="235,16,299,16,299,21,235,21"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="523,5,629,31"/>
<area shape="poly" title=" " alt="" coords="436,51,508,33,509,38,437,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="516,55,636,80"/>
<area shape="poly" title=" " alt="" coords="437,65,501,65,501,70,437,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="532,104,620,130"/>
<area shape="poly" title=" " alt="" coords="437,78,518,99,517,105,436,84"/>
<area shape="poly" title=" " alt="" coords="245,101,316,82,317,87,246,106"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="299,104,468,130"/>
<area shape="poly" title=" " alt="" coords="252,114,283,114,283,120,252,120"/>
<area shape="poly" title=" " alt="" coords="238,65,315,65,315,70,238,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a6695ef84d86dc43e73d652d19d4f928a_icgraph.png" border="0" usemap="#acmp_8c_a6695ef84d86dc43e73d652d19d4f928a_icgraph" alt=""/></div>
<map name="acmp_8c_a6695ef84d86dc43e73d652d19d4f928a_icgraph" id="acmp_8c_a6695ef84d86dc43e73d652d19d4f928a_icgraph">
<area shape="rect" title=" " alt="" coords="1835,105,1916,131"/>
<area shape="rect" href="cmp_8c.html#a46af9b9d2b4db141ed8b65871acc950e" title=" " alt="" coords="1688,105,1787,131"/>
<area shape="poly" title=" " alt="" coords="1819,121,1787,121,1787,116,1819,116"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="ab947e04f0d9990170ac07ca883b3c7f4" name="ab947e04f0d9990170ac07ca883b3c7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab947e04f0d9990170ac07ca883b3c7f4">&#9670;&#160;</a></span>cmp_getsockopt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cmp_getsockopt </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>option_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>option_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>option_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  514</span>{</div>
<div class="line"><span class="lineno">  515</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  516</span>    <span class="keyword">struct  </span>pi_cmp_data *data;</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span>    (void) level;</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  521</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  522</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  523</span>    data = (<span class="keyword">struct </span>pi_cmp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>    <span class="keywordflow">switch</span> (option_name) {</div>
<div class="line"><span class="lineno">  526</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#afdad5f1f91e5a4c5fdf689004ce6a302">PI_CMP_TYPE</a>:</div>
<div class="line"><span class="lineno">  527</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;type))</div>
<div class="line"><span class="lineno">  528</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  529</span>            memcpy (option_value, &amp;data-&gt;type,</div>
<div class="line"><span class="lineno">  530</span>                sizeof (data-&gt;type));</div>
<div class="line"><span class="lineno">  531</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;type);</div>
<div class="line"><span class="lineno">  532</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a5806de891c1258a18b1d3a59d4d12052">PI_CMP_FLAGS</a>:</div>
<div class="line"><span class="lineno">  535</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;flags))</div>
<div class="line"><span class="lineno">  536</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  537</span>            memcpy (option_value, &amp;data-&gt;flags,</div>
<div class="line"><span class="lineno">  538</span>                sizeof (data-&gt;flags));</div>
<div class="line"><span class="lineno">  539</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;flags);</div>
<div class="line"><span class="lineno">  540</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a82a065fd79be0ec3863818aca65613cb">PI_CMP_VERS</a>:</div>
<div class="line"><span class="lineno">  543</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;version))</div>
<div class="line"><span class="lineno">  544</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  545</span>            memcpy (option_value, &amp;data-&gt;version,</div>
<div class="line"><span class="lineno">  546</span>                sizeof (data-&gt;version));</div>
<div class="line"><span class="lineno">  547</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;version);</div>
<div class="line"><span class="lineno">  548</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a95d290d89cc03d253c539234b6247f9b">PI_CMP_BAUD</a>:</div>
<div class="line"><span class="lineno">  551</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;baudrate))</div>
<div class="line"><span class="lineno">  552</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  553</span>            memcpy (option_value, &amp;data-&gt;baudrate,</div>
<div class="line"><span class="lineno">  554</span>                sizeof (data-&gt;baudrate));</div>
<div class="line"><span class="lineno">  555</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;baudrate);</div>
<div class="line"><span class="lineno">  556</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  557</span>    }</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  560</span>    </div>
<div class="line"><span class="lineno">  561</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>:</div>
<div class="line"><span class="lineno">  562</span>    errno = EINVAL;</div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_ARGUMENT);</div>
<div class="line"><span class="lineno">  564</span>}</div>
<div class="ttc" id="anamespacepisock_html_a5806de891c1258a18b1d3a59d4d12052"><div class="ttname"><a href="namespacepisock.html#a5806de891c1258a18b1d3a59d4d12052">pisock.PI_CMP_FLAGS</a></div><div class="ttdeci">PI_CMP_FLAGS</div><div class="ttdef"><b>Definition</b> pisock.py:104</div></div>
<div class="ttc" id="anamespacepisock_html_a82a065fd79be0ec3863818aca65613cb"><div class="ttname"><a href="namespacepisock.html#a82a065fd79be0ec3863818aca65613cb">pisock.PI_CMP_VERS</a></div><div class="ttdeci">PI_CMP_VERS</div><div class="ttdef"><b>Definition</b> pisock.py:105</div></div>
<div class="ttc" id="anamespacepisock_html_a95d290d89cc03d253c539234b6247f9b"><div class="ttname"><a href="namespacepisock.html#a95d290d89cc03d253c539234b6247f9b">pisock.PI_CMP_BAUD</a></div><div class="ttdeci">PI_CMP_BAUD</div><div class="ttdef"><b>Definition</b> pisock.py:106</div></div>
<div class="ttc" id="anamespacepisock_html_af10dacfa214e2575bb2e0ee407c242e0"><div class="ttname"><a href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">pisock.error</a></div><div class="ttdeci">error</div><div class="ttdef"><b>Definition</b> pisock.py:41</div></div>
<div class="ttc" id="anamespacepisock_html_afdad5f1f91e5a4c5fdf689004ce6a302"><div class="ttname"><a href="namespacepisock.html#afdad5f1f91e5a4c5fdf689004ce6a302">pisock.PI_CMP_TYPE</a></div><div class="ttdeci">PI_CMP_TYPE</div><div class="ttdef"><b>Definition</b> pisock.py:103</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00659">pi_protocol()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00136">cmp_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_ab947e04f0d9990170ac07ca883b3c7f4_cgraph.png" border="0" usemap="#acmp_8c_ab947e04f0d9990170ac07ca883b3c7f4_cgraph" alt=""/></div>
<map name="acmp_8c_ab947e04f0d9990170ac07ca883b3c7f4_cgraph" id="acmp_8c_ab947e04f0d9990170ac07ca883b3c7f4_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,123,106"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="173,104,258,130"/>
<area shape="poly" title=" " alt="" coords="124,100,158,105,157,110,123,105"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="171,55,260,80"/>
<area shape="poly" title=" " alt="" coords="123,80,155,75,156,80,124,86"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="324,55,429,80"/>
<area shape="poly" title=" " alt="" coords="257,101,317,83,318,88,259,107"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="308,104,445,130"/>
<area shape="poly" title=" " alt="" coords="258,114,293,114,293,120,258,120"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="500,5,606,31"/>
<area shape="poly" title=" " alt="" coords="425,51,489,33,491,38,426,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="493,55,613,80"/>
<area shape="poly" title=" " alt="" coords="430,65,478,65,478,70,430,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="509,104,597,130"/>
<area shape="poly" title=" " alt="" coords="426,78,496,98,494,103,425,84"/>
<area shape="poly" title=" " alt="" coords="260,65,309,65,309,70,260,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_ab947e04f0d9990170ac07ca883b3c7f4_icgraph.png" border="0" usemap="#acmp_8c_ab947e04f0d9990170ac07ca883b3c7f4_icgraph" alt=""/></div>
<map name="acmp_8c_ab947e04f0d9990170ac07ca883b3c7f4_icgraph" id="acmp_8c_ab947e04f0d9990170ac07ca883b3c7f4_icgraph">
<area shape="rect" title=" " alt="" coords="1835,105,1952,131"/>
<area shape="rect" href="cmp_8c.html#a46af9b9d2b4db141ed8b65871acc950e" title=" " alt="" coords="1688,105,1787,131"/>
<area shape="poly" title=" " alt="" coords="1820,121,1788,121,1788,116,1820,116"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="a11606925c41885b1bca65ab8c44adc30" name="a11606925c41885b1bca65ab8c44adc30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11606925c41885b1bca65ab8c44adc30">&#9670;&#160;</a></span>cmp_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmp_init </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>baudrate</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  421</span>{</div>
<div class="line"><span class="lineno">  422</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  423</span>    <span class="keyword">struct  </span>pi_cmp_data *data;</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  428</span>    data = (<span class="keyword">struct </span>pi_cmp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>    data-&gt;type = PI_CMP_TYPE_INIT;</div>
<div class="line"><span class="lineno">  431</span>    data-&gt;flags = CMP_FL_LONG_PACKET_SUPPORT;</div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">if</span> (baudrate != 9600)</div>
<div class="line"><span class="lineno">  433</span>        data-&gt;flags = CMP_FL_CHANGE_BAUD_RATE;</div>
<div class="line"><span class="lineno">  434</span>    data-&gt;baudrate = baudrate;</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a323b204b884996c0557dc213c6ee4f43">cmp_tx</a>(ps, NULL, 0, 0);</div>
<div class="line"><span class="lineno">  437</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00297">cmp_tx()</a>, <a class="el" href="#l00659">pi_protocol()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00185">cmp_rx_handshake()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a11606925c41885b1bca65ab8c44adc30_cgraph.png" border="0" usemap="#acmp_8c_a11606925c41885b1bca65ab8c44adc30_cgraph" alt=""/></div>
<map name="acmp_8c_a11606925c41885b1bca65ab8c44adc30_cgraph" id="acmp_8c_a11606925c41885b1bca65ab8c44adc30_cgraph">
<area shape="rect" title=" " alt="" coords="5,109,76,134"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="124,109,188,134"/>
<area shape="poly" title=" " alt="" coords="76,119,108,119,108,124,76,124"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="252,159,336,185"/>
<area shape="poly" title=" " alt="" coords="77,131,124,144,237,163,236,169,123,149,75,136"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="440,9,530,34"/>
<area shape="poly" title=" " alt="" coords="58,106,132,57,182,32,235,14,285,5,335,3,425,9,425,14,335,8,285,10,237,19,184,37,135,62,61,110"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="252,61,337,86"/>
<area shape="poly" title=" " alt="" coords="188,108,240,89,241,94,190,113"/>
<area shape="poly" title=" " alt="" coords="190,131,244,151,242,156,188,136"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="236,211,352,237"/>
<area shape="poly" title=" " alt="" coords="170,133,199,163,238,195,247,201,245,206,234,200,196,167,166,136"/>
<area shape="poly" title=" " alt="" coords="165,107,193,75,213,59,235,46,283,29,333,20,382,15,425,15,425,20,382,21,334,25,284,34,237,51,216,63,197,79,169,110"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="243,110,345,136"/>
<area shape="poly" title=" " alt="" coords="189,119,227,119,227,125,189,124"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="618,110,723,136"/>
<area shape="poly" title=" " alt="" coords="336,168,442,161,569,146,608,137,609,143,570,151,443,166,337,173"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="416,110,554,136"/>
<area shape="poly" title=" " alt="" coords="336,159,417,137,419,143,337,164"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="778,61,883,86"/>
<area shape="poly" title=" " alt="" coords="714,107,771,89,772,94,716,112"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="771,110,890,136"/>
<area shape="poly" title=" " alt="" coords="723,120,755,120,755,125,723,125"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="787,159,874,185"/>
<area shape="poly" title=" " alt="" coords="716,134,773,152,772,157,714,139"/>
<area shape="poly" title=" " alt="" coords="352,216,455,200,512,187,569,171,633,141,635,146,571,176,514,193,456,205,353,221"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="400,262,570,288"/>
<area shape="poly" title=" " alt="" coords="346,235,420,255,419,260,345,240"/>
<area shape="poly" title=" " alt="" coords="528,32,571,51,609,74,642,98,639,102,606,79,568,56,526,37"/>
<area shape="poly" title=" " alt="" coords="340,107,400,95,485,88,570,95,612,103,611,108,569,100,485,93,401,100,342,112"/>
<area shape="poly" title=" " alt="" coords="346,120,401,120,401,125,346,125"/>
<area shape="poly" title=" " alt="" coords="331,107,351,97,365,85,374,74,384,63,399,51,425,38,427,43,402,56,388,67,378,78,369,89,354,101,334,112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a11606925c41885b1bca65ab8c44adc30_icgraph.png" border="0" usemap="#acmp_8c_a11606925c41885b1bca65ab8c44adc30_icgraph" alt=""/></div>
<map name="acmp_8c_a11606925c41885b1bca65ab8c44adc30_icgraph" id="acmp_8c_a11606925c41885b1bca65ab8c44adc30_icgraph">
<area shape="rect" title=" " alt="" coords="1529,242,1600,268"/>
<area shape="rect" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c" title=" " alt="" coords="1347,242,1481,268"/>
<area shape="poly" title=" " alt="" coords="1514,258,1482,258,1482,252,1514,252"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,168,1299,193"/>
<area shape="poly" title=" " alt="" coords="1370,238,1298,207,1270,196,1272,191,1300,202,1372,233"/>
<area shape="rect" href="inet_8c.html#addba3dbe3eee187ecb6af12da94e12de" title=" " alt="" coords="1178,217,1283,242"/>
<area shape="poly" title=" " alt="" coords="1331,246,1283,240,1284,234,1332,241"/>
<area shape="rect" href="serial_8c.html#afd1f0015559a46379c5a5302589450fa" title=" " alt="" coords="1173,266,1288,292"/>
<area shape="poly" title=" " alt="" coords="1332,268,1289,274,1288,269,1331,263"/>
<area shape="rect" href="usb_8c.html#a22b05dc9bd4af901e301699fd78ca936" title=" " alt="" coords="1178,316,1283,341"/>
<area shape="poly" title=" " alt="" coords="1371,277,1300,307,1272,317,1270,312,1298,302,1369,272"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,168,1114,193"/>
<area shape="poly" title=" " alt="" coords="1146,183,1114,183,1114,178,1146,178"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="991,202,978,207,906,244,903,239,976,202,989,197"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="993,217,1098,242"/>
<area shape="poly" title=" " alt="" coords="1162,232,1098,232,1098,227,1162,227"/>
<area shape="poly" title=" " alt="" coords="978,243,930,250,929,245,977,237"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="988,266,1103,292"/>
<area shape="poly" title=" " alt="" coords="1157,282,1103,282,1103,276,1157,276"/>
<area shape="poly" title=" " alt="" coords="972,271,929,265,930,259,973,266"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="993,316,1098,341"/>
<area shape="poly" title=" " alt="" coords="1162,331,1098,331,1098,326,1162,326"/>
<area shape="poly" title=" " alt="" coords="989,312,976,307,904,271,907,266,978,302,991,307"/>
</map>
</div>

</div>
</div>
<a id="a46af9b9d2b4db141ed8b65871acc950e" name="a46af9b9d2b4db141ed8b65871acc950e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46af9b9d2b4db141ed8b65871acc950e">&#9670;&#160;</a></span>cmp_protocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pi_protocol_t * cmp_protocol </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  137</span>{</div>
<div class="line"><span class="lineno">  138</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  139</span>    <span class="keyword">struct  </span>pi_cmp_data *data;</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    prot = (pi_protocol_t *)malloc (<span class="keyword">sizeof</span> (pi_protocol_t));    </div>
<div class="line"><span class="lineno">  142</span>    data = (<span class="keyword">struct </span>pi_cmp_data *)malloc (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> pi_cmp_data));</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">if</span> (prot != NULL &amp;&amp; data != NULL) {</div>
<div class="line"><span class="lineno">  145</span>        prot-&gt;level         = <a class="code hl_variable" href="namespacepisock.html#ada72e7545bd6395a92ce9c673b02ff25">PI_LEVEL_CMP</a>;</div>
<div class="line"><span class="lineno">  146</span>        prot-&gt;dup       = <a class="code hl_function" href="#a56759b4b23c4ee2a492f0b3f1b3b7b0e">cmp_protocol_dup</a>;</div>
<div class="line"><span class="lineno">  147</span>        prot-&gt;free      = <a class="code hl_function" href="#adad5bcc44e2077debe7fb819cd0c4bd2">cmp_protocol_free</a>;</div>
<div class="line"><span class="lineno">  148</span>        prot-&gt;read      = <a class="code hl_function" href="#acc715b624e23e1384e4b66c7c66ed93f">cmp_rx</a>;</div>
<div class="line"><span class="lineno">  149</span>        prot-&gt;write         = <a class="code hl_function" href="#a323b204b884996c0557dc213c6ee4f43">cmp_tx</a>;</div>
<div class="line"><span class="lineno">  150</span>        prot-&gt;flush     = <a class="code hl_function" href="#a6695ef84d86dc43e73d652d19d4f928a">cmp_flush</a>;</div>
<div class="line"><span class="lineno">  151</span>        prot-&gt;getsockopt    = <a class="code hl_function" href="#ab947e04f0d9990170ac07ca883b3c7f4">cmp_getsockopt</a>;</div>
<div class="line"><span class="lineno">  152</span>        prot-&gt;setsockopt    = <a class="code hl_function" href="#a614fe86fa2227410d7271057a55bb043">cmp_setsockopt</a>;</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>        data-&gt;type  = 0;</div>
<div class="line"><span class="lineno">  155</span>        data-&gt;flags     = 0;</div>
<div class="line"><span class="lineno">  156</span>        data-&gt;version   = 0;</div>
<div class="line"><span class="lineno">  157</span>        data-&gt;baudrate  = 0;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>        prot-&gt;data  = data;</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prot != NULL) {</div>
<div class="line"><span class="lineno">  162</span>        free(prot);</div>
<div class="line"><span class="lineno">  163</span>        prot = NULL;</div>
<div class="line"><span class="lineno">  164</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data != NULL) {</div>
<div class="line"><span class="lineno">  165</span>        free(data);</div>
<div class="line"><span class="lineno">  166</span>        data = NULL;</div>
<div class="line"><span class="lineno">  167</span>    }</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">return</span> prot;</div>
<div class="line"><span class="lineno">  170</span>}</div>
<div class="ttc" id="acmp_8c_html_a56759b4b23c4ee2a492f0b3f1b3b7b0e"><div class="ttname"><a href="#a56759b4b23c4ee2a492f0b3f1b3b7b0e">cmp_protocol_dup</a></div><div class="ttdeci">static pi_protocol_t * cmp_protocol_dup(pi_protocol_t *prot)</div><div class="ttdef"><b>Definition</b> cmp.c:62</div></div>
<div class="ttc" id="acmp_8c_html_a614fe86fa2227410d7271057a55bb043"><div class="ttname"><a href="#a614fe86fa2227410d7271057a55bb043">cmp_setsockopt</a></div><div class="ttdeci">static int cmp_setsockopt(pi_socket_t *ps, int level, int option_name, const void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> cmp.c:579</div></div>
<div class="ttc" id="acmp_8c_html_a6695ef84d86dc43e73d652d19d4f928a"><div class="ttname"><a href="#a6695ef84d86dc43e73d652d19d4f928a">cmp_flush</a></div><div class="ttdeci">static int cmp_flush(pi_socket_t *ps, int flags)</div><div class="ttdef"><b>Definition</b> cmp.c:392</div></div>
<div class="ttc" id="acmp_8c_html_ab947e04f0d9990170ac07ca883b3c7f4"><div class="ttname"><a href="#ab947e04f0d9990170ac07ca883b3c7f4">cmp_getsockopt</a></div><div class="ttdeci">static int cmp_getsockopt(pi_socket_t *ps, int level, int option_name, void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> cmp.c:512</div></div>
<div class="ttc" id="acmp_8c_html_acc715b624e23e1384e4b66c7c66ed93f"><div class="ttname"><a href="#acc715b624e23e1384e4b66c7c66ed93f">cmp_rx</a></div><div class="ttdeci">ssize_t cmp_rx(pi_socket_t *ps, pi_buffer_t *msg, size_t len, int flags)</div><div class="ttdef"><b>Definition</b> cmp.c:347</div></div>
<div class="ttc" id="acmp_8c_html_adad5bcc44e2077debe7fb819cd0c4bd2"><div class="ttname"><a href="#adad5bcc44e2077debe7fb819cd0c4bd2">cmp_protocol_free</a></div><div class="ttdeci">static void cmp_protocol_free(pi_protocol_t *prot)</div><div class="ttdef"><b>Definition</b> cmp.c:114</div></div>
<div class="ttc" id="anamespacepisock_html_ada72e7545bd6395a92ce9c673b02ff25"><div class="ttname"><a href="namespacepisock.html#ada72e7545bd6395a92ce9c673b02ff25">pisock.PI_LEVEL_CMP</a></div><div class="ttdeci">PI_LEVEL_CMP</div><div class="ttdef"><b>Definition</b> pisock.py:84</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00392">cmp_flush()</a>, <a class="el" href="#l00512">cmp_getsockopt()</a>, <a class="el" href="#l00062">cmp_protocol_dup()</a>, <a class="el" href="#l00114">cmp_protocol_free()</a>, <a class="el" href="#l00347">cmp_rx()</a>, <a class="el" href="#l00579">cmp_setsockopt()</a>, and <a class="el" href="#l00297">cmp_tx()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00431">protocol_queue_build()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a46af9b9d2b4db141ed8b65871acc950e_cgraph.png" border="0" usemap="#acmp_8c_a46af9b9d2b4db141ed8b65871acc950e_cgraph" alt=""/></div>
<map name="acmp_8c_a46af9b9d2b4db141ed8b65871acc950e_cgraph" id="acmp_8c_a46af9b9d2b4db141ed8b65871acc950e_cgraph">
<area shape="rect" title=" " alt="" coords="5,156,105,182"/>
<area shape="rect" href="cmp_8c.html#a6695ef84d86dc43e73d652d19d4f928a" title=" " alt="" coords="176,107,258,133"/>
<area shape="poly" title=" " alt="" coords="99,153,161,134,163,139,101,158"/>
<area shape="rect" href="cmp_8c.html#ab947e04f0d9990170ac07ca883b3c7f4" title=" " alt="" coords="158,8,276,34"/>
<area shape="poly" title=" " alt="" coords="61,155,95,101,121,70,151,43,157,39,160,44,154,47,125,74,99,104,66,157"/>
<area shape="rect" href="cmp_8c.html#a56759b4b23c4ee2a492f0b3f1b3b7b0e" title=" " alt="" coords="153,255,280,281"/>
<area shape="poly" title=" " alt="" coords="72,180,108,210,154,241,163,246,160,251,151,246,105,214,69,184"/>
<area shape="rect" href="cmp_8c.html#adad5bcc44e2077debe7fb819cd0c4bd2" title=" " alt="" coords="153,304,281,330"/>
<area shape="poly" title=" " alt="" coords="66,181,99,234,125,264,154,291,160,295,157,299,151,295,121,268,95,237,61,184"/>
<area shape="rect" href="cmp_8c.html#acc715b624e23e1384e4b66c7c66ed93f" title=" " alt="" coords="185,156,249,182"/>
<area shape="poly" title=" " alt="" coords="105,166,169,166,169,172,105,172"/>
<area shape="rect" href="cmp_8c.html#a614fe86fa2227410d7271057a55bb043" title=" " alt="" coords="158,58,276,83"/>
<area shape="poly" title=" " alt="" coords="69,154,105,124,151,92,160,87,163,92,154,97,108,128,72,158"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="185,206,249,231"/>
<area shape="poly" title=" " alt="" coords="101,180,171,202,169,207,99,185"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="345,80,429,106"/>
<area shape="poly" title=" " alt="" coords="257,111,329,99,330,105,258,116"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="329,182,445,207"/>
<area shape="poly" title=" " alt="" coords="256,131,282,141,348,172,345,177,280,146,254,136"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="533,131,623,157"/>
<area shape="poly" title=" " alt="" coords="255,104,280,93,303,78,328,65,361,58,387,55,414,58,446,65,475,75,503,89,550,119,547,124,500,94,473,80,445,70,413,63,387,60,362,63,330,70,306,82,282,98,258,109"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="711,182,816,207"/>
<area shape="poly" title=" " alt="" coords="430,87,478,86,538,89,602,98,664,116,706,140,741,169,737,173,703,144,662,121,600,103,537,94,478,92,430,93"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="509,282,647,307"/>
<area shape="poly" title=" " alt="" coords="401,105,441,155,495,217,551,269,548,273,491,220,437,158,397,108"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="871,132,976,158"/>
<area shape="poly" title=" " alt="" coords="807,178,864,161,865,166,809,183"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="864,182,983,207"/>
<area shape="poly" title=" " alt="" coords="816,192,848,192,848,197,816,197"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="880,231,967,257"/>
<area shape="poly" title=" " alt="" coords="809,205,866,224,865,229,807,210"/>
<area shape="poly" title=" " alt="" coords="437,205,494,216,578,222,662,216,701,209,702,214,663,221,578,228,493,221,436,210"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="493,180,663,206"/>
<area shape="poly" title=" " alt="" coords="446,191,478,191,478,196,446,197"/>
<area shape="poly" title=" " alt="" coords="624,153,700,174,698,179,622,158"/>
<area shape="poly" title=" " alt="" coords="255,32,282,43,345,71,343,76,280,48,253,37"/>
<area shape="poly" title=" " alt="" coords="276,8,314,4,358,3,403,8,446,20,482,39,514,65,561,117,557,120,510,69,479,44,444,25,402,13,358,9,315,9,276,13"/>
<area shape="poly" title=" " alt="" coords="248,155,280,143,346,111,349,116,282,148,250,160"/>
<area shape="poly" title=" " alt="" coords="250,171,314,181,313,186,249,176"/>
<area shape="poly" title=" " alt="" coords="249,164,518,145,518,151,250,170"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="344,231,430,257"/>
<area shape="poly" title=" " alt="" coords="250,177,282,191,330,217,340,222,338,227,328,222,280,196,248,182"/>
<area shape="poly" title=" " alt="" coords="276,76,330,83,329,88,276,81"/>
<area shape="poly" title=" " alt="" coords="254,54,294,43,343,35,395,33,446,43,479,57,509,77,556,118,553,122,506,81,476,62,445,48,394,38,343,40,295,49,255,60"/>
<area shape="poly" title=" " alt="" coords="248,207,280,192,327,155,364,116,368,120,330,159,282,197,251,212"/>
<area shape="poly" title=" " alt="" coords="249,211,313,202,314,207,250,217"/>
<area shape="poly" title=" " alt="" coords="250,227,282,240,306,255,330,267,390,282,415,280,444,267,456,257,463,246,468,220,473,193,480,179,492,166,517,151,520,156,495,170,484,182,478,194,474,221,468,248,460,260,447,271,416,285,389,287,328,272,303,260,280,245,248,232"/>
<area shape="poly" title=" " alt="" coords="250,221,329,233,329,238,249,226"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="336,332,438,358"/>
<area shape="poly" title=" " alt="" coords="251,224,283,240,299,258,308,276,316,293,331,311,345,322,342,326,327,315,312,296,303,278,295,261,279,245,248,229"/>
<area shape="poly" title=" " alt="" coords="439,349,488,352,546,349,605,339,661,317,689,297,713,272,747,220,752,222,718,275,693,301,664,322,607,344,546,355,488,357,439,354"/>
<area shape="poly" title=" " alt="" coords="438,329,512,309,513,314,439,334"/>
<area shape="poly" title=" " alt="" coords="420,330,443,311,455,293,462,274,465,238,469,202,477,184,492,166,517,150,520,155,495,170,481,187,474,204,470,239,467,275,460,295,447,315,423,334"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a46af9b9d2b4db141ed8b65871acc950e_icgraph.png" border="0" usemap="#acmp_8c_a46af9b9d2b4db141ed8b65871acc950e_icgraph" alt=""/></div>
<map name="acmp_8c_a46af9b9d2b4db141ed8b65871acc950e_icgraph" id="acmp_8c_a46af9b9d2b4db141ed8b65871acc950e_icgraph">
<area shape="rect" title=" " alt="" coords="1688,105,1787,131"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="a56759b4b23c4ee2a492f0b3f1b3b7b0e" name="a56759b4b23c4ee2a492f0b3f1b3b7b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56759b4b23c4ee2a492f0b3f1b3b7b0e">&#9670;&#160;</a></span>cmp_protocol_dup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pi_protocol_t * cmp_protocol_dup </td>
          <td>(</td>
          <td class="paramtype">pi_protocol_t *</td>          <td class="paramname"><span class="paramname"><em>prot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>    pi_protocol_t *new_prot;</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    <span class="keyword">struct  </span>pi_cmp_data  *data,</div>
<div class="line"><span class="lineno">   67</span>                 *new_data;</div>
<div class="line"><span class="lineno">   68</span>    </div>
<div class="line"><span class="lineno">   69</span>    new_prot = (pi_protocol_t *)malloc (<span class="keyword">sizeof</span> (pi_protocol_t));</div>
<div class="line"><span class="lineno">   70</span>    new_data = (<span class="keyword">struct </span>pi_cmp_data *)malloc (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> pi_cmp_data));</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>    <span class="keywordflow">if</span> ( (new_prot != NULL) &amp;&amp; (new_data != NULL) ) {</div>
<div class="line"><span class="lineno">   73</span>        new_prot-&gt;level     = prot-&gt;level;</div>
<div class="line"><span class="lineno">   74</span>        new_prot-&gt;dup       = prot-&gt;dup;</div>
<div class="line"><span class="lineno">   75</span>        new_prot-&gt;free      = prot-&gt;free;</div>
<div class="line"><span class="lineno">   76</span>        new_prot-&gt;read      = prot-&gt;read;</div>
<div class="line"><span class="lineno">   77</span>        new_prot-&gt;write     = prot-&gt;write;</div>
<div class="line"><span class="lineno">   78</span>        new_prot-&gt;flush     = prot-&gt;flush;</div>
<div class="line"><span class="lineno">   79</span>        new_prot-&gt;getsockopt    = prot-&gt;getsockopt;</div>
<div class="line"><span class="lineno">   80</span>        new_prot-&gt;setsockopt    = prot-&gt;setsockopt;</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>        data = (<span class="keyword">struct </span>pi_cmp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">   83</span>        new_data-&gt;type      = data-&gt;type;</div>
<div class="line"><span class="lineno">   84</span>        new_data-&gt;flags     = data-&gt;flags;</div>
<div class="line"><span class="lineno">   85</span>        new_data-&gt;version   = data-&gt;version;</div>
<div class="line"><span class="lineno">   86</span>        new_data-&gt;baudrate  = data-&gt;baudrate;</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>        new_prot-&gt;data      = new_data;</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_prot != NULL) {</div>
<div class="line"><span class="lineno">   91</span>        free(new_prot);</div>
<div class="line"><span class="lineno">   92</span>        new_prot = NULL;</div>
<div class="line"><span class="lineno">   93</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_data != NULL) {</div>
<div class="line"><span class="lineno">   94</span>        free(new_data);</div>
<div class="line"><span class="lineno">   95</span>        new_data = NULL;</div>
<div class="line"><span class="lineno">   96</span>    }</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">return</span> new_prot;</div>
<div class="line"><span class="lineno">   99</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00136">cmp_protocol()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a56759b4b23c4ee2a492f0b3f1b3b7b0e_icgraph.png" border="0" usemap="#acmp_8c_a56759b4b23c4ee2a492f0b3f1b3b7b0e_icgraph" alt=""/></div>
<map name="acmp_8c_a56759b4b23c4ee2a492f0b3f1b3b7b0e_icgraph" id="acmp_8c_a56759b4b23c4ee2a492f0b3f1b3b7b0e_icgraph">
<area shape="rect" title=" " alt="" coords="1835,105,1962,131"/>
<area shape="rect" href="cmp_8c.html#a46af9b9d2b4db141ed8b65871acc950e" title=" " alt="" coords="1688,105,1787,131"/>
<area shape="poly" title=" " alt="" coords="1819,121,1787,121,1787,116,1819,116"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="adad5bcc44e2077debe7fb819cd0c4bd2" name="adad5bcc44e2077debe7fb819cd0c4bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad5bcc44e2077debe7fb819cd0c4bd2">&#9670;&#160;</a></span>cmp_protocol_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cmp_protocol_free </td>
          <td>(</td>
          <td class="paramtype">pi_protocol_t *</td>          <td class="paramname"><span class="paramname"><em>prot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  115</span>{</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">if</span> (prot != NULL) {</div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">if</span> (prot-&gt;data != NULL)</div>
<div class="line"><span class="lineno">  118</span>            free(prot-&gt;data);</div>
<div class="line"><span class="lineno">  119</span>        free(prot);</div>
<div class="line"><span class="lineno">  120</span>    }</div>
<div class="line"><span class="lineno">  121</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00136">cmp_protocol()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_adad5bcc44e2077debe7fb819cd0c4bd2_icgraph.png" border="0" usemap="#acmp_8c_adad5bcc44e2077debe7fb819cd0c4bd2_icgraph" alt=""/></div>
<map name="acmp_8c_adad5bcc44e2077debe7fb819cd0c4bd2_icgraph" id="acmp_8c_adad5bcc44e2077debe7fb819cd0c4bd2_icgraph">
<area shape="rect" title=" " alt="" coords="1835,105,1963,131"/>
<area shape="rect" href="cmp_8c.html#a46af9b9d2b4db141ed8b65871acc950e" title=" " alt="" coords="1688,105,1787,131"/>
<area shape="poly" title=" " alt="" coords="1819,121,1788,121,1788,116,1819,116"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="acc715b624e23e1384e4b66c7c66ed93f" name="acc715b624e23e1384e4b66c7c66ed93f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc715b624e23e1384e4b66c7c66ed93f">&#9670;&#160;</a></span>cmp_rx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t cmp_rx </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pi_buffer_t *</td>          <td class="paramname"><span class="paramname"><em>msg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  348</span>{</div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordtype">int</span>     bytes;</div>
<div class="line"><span class="lineno">  350</span>    pi_protocol_t   *prot,</div>
<div class="line"><span class="lineno">  351</span>            *next;</div>
<div class="line"><span class="lineno">  352</span>    <span class="keyword">struct  </span>pi_cmp_data *data;</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    LOG((PI_DBG_CMP, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;CMP RX len=%d flags=0x%02x\n&quot;</span>,</div>
<div class="line"><span class="lineno">  355</span>        len, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>));</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>    data = (<span class="keyword">struct </span>pi_cmp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  362</span>    next = <a class="code hl_function" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368">pi_protocol_next</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  363</span>    <span class="keywordflow">if</span> (next == NULL)</div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    bytes = next-&gt;read(ps, msg, len, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>);</div>
<div class="line"><span class="lineno">  367</span>    <span class="keywordflow">if</span> (bytes &lt; 10)</div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, (bytes &lt; 0) ? bytes : <a class="code hl_variable" href="namespacepisock.html#a3b7d258b23459ad45fbbb65b43c14bb5">PI_ERR_PROT_ABORTED</a>);</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>    CHECK(PI_DBG_CMP, PI_DBG_LVL_INFO, <a class="code hl_function" href="#ae23bcd05a6108067dc8b3abff2ba7f41">cmp_dump</a>(msg-&gt;data, 0));</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>    data-&gt;type  = get_byte(&amp;msg-&gt;data[PI_CMP_OFFSET_TYPE]);</div>
<div class="line"><span class="lineno">  373</span>    data-&gt;flags     = get_byte(&amp;msg-&gt;data[PI_CMP_OFFSET_FLGS]);</div>
<div class="line"><span class="lineno">  374</span>    data-&gt;version   = get_short(&amp;msg-&gt;data[PI_CMP_OFFSET_VERS]);</div>
<div class="line"><span class="lineno">  375</span>    data-&gt;baudrate  = get_long(&amp;msg-&gt;data[PI_CMP_OFFSET_BAUD]);</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  378</span>}</div>
<div class="ttc" id="acmp_8c_html_ae23bcd05a6108067dc8b3abff2ba7f41"><div class="ttname"><a href="#ae23bcd05a6108067dc8b3abff2ba7f41">cmp_dump</a></div><div class="ttdeci">void cmp_dump(const unsigned char *cmp, int rxtx)</div><div class="ttdef"><b>Definition</b> cmp.c:620</div></div>
<div class="ttc" id="anamespacepisock_html_a3b7d258b23459ad45fbbb65b43c14bb5"><div class="ttname"><a href="namespacepisock.html#a3b7d258b23459ad45fbbb65b43c14bb5">pisock.PI_ERR_PROT_ABORTED</a></div><div class="ttdeci">PI_ERR_PROT_ABORTED</div><div class="ttdef"><b>Definition</b> pisock.py:43</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00620">cmp_dump()</a>, <a class="el" href="#l00311">flags</a>, <a class="el" href="#l00659">pi_protocol()</a>, <a class="el" href="#l00672">pi_protocol_next()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00136">cmp_protocol()</a>, <a class="el" href="#l00185">cmp_rx_handshake()</a>, and <a class="el" href="#l00252">cmp_tx_handshake()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_acc715b624e23e1384e4b66c7c66ed93f_cgraph.png" border="0" usemap="#acmp_8c_acc715b624e23e1384e4b66c7c66ed93f_cgraph" alt=""/></div>
<map name="acmp_8c_acc715b624e23e1384e4b66c7c66ed93f_cgraph" id="acmp_8c_acc715b624e23e1384e4b66c7c66ed93f_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,70,106"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="133,5,218,31"/>
<area shape="poly" title=" " alt="" coords="56,77,116,40,126,35,128,40,119,44,59,82"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="134,55,218,80"/>
<area shape="poly" title=" " alt="" coords="70,84,118,75,119,81,71,90"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="118,153,234,179"/>
<area shape="poly" title=" " alt="" coords="60,104,119,140,128,144,126,149,116,145,57,109"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="131,104,220,130"/>
<area shape="poly" title=" " alt="" coords="71,96,117,104,116,109,70,101"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="314,104,419,130"/>
<area shape="poly" title=" " alt="" coords="219,76,300,97,299,102,218,81"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="298,55,435,80"/>
<area shape="poly" title=" " alt="" coords="218,65,282,65,282,70,218,70"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="506,55,612,80"/>
<area shape="poly" title=" " alt="" coords="419,101,491,82,492,87,420,106"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="499,104,619,130"/>
<area shape="poly" title=" " alt="" coords="420,114,484,114,484,120,420,120"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="515,153,603,179"/>
<area shape="poly" title=" " alt="" coords="420,128,501,149,500,154,419,133"/>
<area shape="poly" title=" " alt="" coords="228,150,299,132,300,137,229,155"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="282,153,451,179"/>
<area shape="poly" title=" " alt="" coords="235,164,266,164,266,169,235,169"/>
<area shape="poly" title=" " alt="" coords="221,114,298,114,298,120,221,120"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_acc715b624e23e1384e4b66c7c66ed93f_icgraph.png" border="0" usemap="#acmp_8c_acc715b624e23e1384e4b66c7c66ed93f_icgraph" alt=""/></div>
<map name="acmp_8c_acc715b624e23e1384e4b66c7c66ed93f_icgraph" id="acmp_8c_acc715b624e23e1384e4b66c7c66ed93f_icgraph">
<area shape="rect" title=" " alt="" coords="1875,180,1939,206"/>
<area shape="rect" href="cmp_8c.html#a46af9b9d2b4db141ed8b65871acc950e" title=" " alt="" coords="1728,129,1827,155"/>
<area shape="poly" title=" " alt="" coords="1859,177,1811,158,1813,153,1861,172"/>
<area shape="rect" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c" title=" " alt="" coords="1354,180,1488,206"/>
<area shape="poly" title=" " alt="" coords="1860,196,1489,196,1489,190,1860,190"/>
<area shape="rect" href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10" title=" " alt="" coords="1354,303,1488,328"/>
<area shape="poly" title=" " alt="" coords="1861,207,1476,305,1475,299,1859,202"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1536,105,1680,131"/>
<area shape="poly" title=" " alt="" coords="1712,136,1680,131,1680,126,1713,130"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,55,783,80"/>
<area shape="poly" title=" " alt="" coords="1535,104,1488,95,1362,76,1307,72,1235,70,1044,70,783,70,783,65,1044,65,1235,65,1307,66,1363,71,1489,90,1536,99"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1370,105,1472,131"/>
<area shape="poly" title=" " alt="" coords="1521,121,1472,121,1472,116,1521,116"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,55,651,80"/>
<area shape="poly" title=" " alt="" coords="683,70,651,70,651,65,683,65"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="685,88,613,112,612,107,683,83"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,5,612,31"/>
<area shape="poly" title=" " alt="" coords="683,52,612,28,613,23,685,47"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1165,105,1302,131"/>
<area shape="poly" title=" " alt="" coords="1355,121,1303,121,1303,116,1355,116"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,204,1114,230"/>
<area shape="poly" title=" " alt="" coords="1174,140,1163,145,1109,176,1066,206,1063,201,1106,171,1160,140,1172,135"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,253,929,279"/>
<area shape="poly" title=" " alt="" coords="986,237,927,255,925,250,984,232"/>
<area shape="poly" title=" " alt="" coords="859,242,749,82,754,79,864,239"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,253,772,279"/>
<area shape="poly" title=" " alt="" coords="815,269,772,269,772,264,815,264"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,204,640,230"/>
<area shape="poly" title=" " alt="" coords="694,254,629,233,630,228,696,249"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,253,637,279"/>
<area shape="poly" title=" " alt="" coords="694,269,637,269,637,264,694,264"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,303,637,328"/>
<area shape="poly" title=" " alt="" coords="696,283,630,305,629,300,694,278"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,405,633,431"/>
<area shape="poly" title=" " alt="" coords="717,292,604,407,600,403,714,289"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,155,625,180"/>
<area shape="poly" title=" " alt="" coords="714,244,684,218,649,194,625,182,627,177,652,189,687,214,717,240"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,242,476,282"/>
<area shape="poly" title=" " alt="" coords="524,300,473,286,474,281,526,295"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,405,436,431"/>
<area shape="poly" title=" " alt="" coords="526,421,437,421,437,416,526,416"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,455,450,480"/>
<area shape="poly" title=" " alt="" coords="527,437,451,457,450,452,526,431"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,504,435,530"/>
<area shape="poly" title=" " alt="" coords="559,443,522,470,477,495,437,510,435,505,475,490,519,465,556,439"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,553,424,579"/>
<area shape="poly" title=" " alt="" coords="572,446,533,496,507,522,478,544,452,557,426,565,424,559,450,552,475,540,503,518,529,492,567,443"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,307,424,332"/>
<area shape="poly" title=" " alt="" coords="556,398,519,371,475,346,424,328,426,323,477,341,522,367,559,393"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,356,424,382"/>
<area shape="poly" title=" " alt="" coords="526,405,424,378,425,373,528,400"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,405,273,431"/>
<area shape="poly" title=" " alt="" coords="336,453,272,434,274,429,338,447"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,455,275,480"/>
<area shape="poly" title=" " alt="" coords="333,470,275,470,275,465,333,465"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,431,127,456"/>
<area shape="poly" title=" " alt="" coords="162,431,128,436,127,431,161,426"/>
<area shape="poly" title=" " alt="" coords="159,460,126,455,127,450,160,455"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,504,250,530"/>
<area shape="poly" title=" " alt="" coords="348,520,250,520,250,514,348,514"/>
<area shape="poly" title=" " alt="" coords="1377,175,1305,145,1276,134,1278,129,1307,140,1379,171"/>
<area shape="rect" href="inet_8c.html#addba3dbe3eee187ecb6af12da94e12de" title=" " alt="" coords="1181,155,1286,180"/>
<area shape="poly" title=" " alt="" coords="1338,184,1287,177,1287,172,1339,179"/>
<area shape="rect" href="serial_8c.html#afd1f0015559a46379c5a5302589450fa" title=" " alt="" coords="1176,253,1292,279"/>
<area shape="poly" title=" " alt="" coords="1378,215,1307,245,1277,255,1276,250,1305,240,1376,210"/>
<area shape="rect" href="usb_8c.html#a22b05dc9bd4af901e301699fd78ca936" title=" " alt="" coords="1181,352,1286,378"/>
<area shape="poly" title=" " alt="" coords="1405,220,1356,289,1330,322,1308,343,1288,354,1286,349,1304,339,1326,318,1352,286,1401,217"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="993,253,1098,279"/>
<area shape="poly" title=" " alt="" coords="1171,189,1163,194,1149,206,1140,218,1130,231,1115,244,1094,255,1092,250,1112,240,1126,228,1135,215,1145,202,1160,189,1168,185"/>
<area shape="poly" title=" " alt="" coords="978,269,930,269,930,264,978,264"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="988,303,1103,328"/>
<area shape="poly" title=" " alt="" coords="1168,286,1098,305,1097,299,1166,281"/>
<area shape="poly" title=" " alt="" coords="984,300,925,282,927,277,986,295"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="993,352,1098,378"/>
<area shape="poly" title=" " alt="" coords="1166,368,1098,368,1098,362,1166,362"/>
<area shape="poly" title=" " alt="" coords="985,348,976,343,930,312,894,281,897,277,933,308,979,339,988,343"/>
<area shape="rect" href="bluetooth_8c.html#a15efa0484c8ec0d838f87e4e9b7e48a0" title=" " alt="" coords="1162,204,1306,230"/>
<area shape="poly" title=" " alt="" coords="1389,296,1350,269,1305,243,1279,233,1281,228,1307,238,1353,264,1392,291"/>
<area shape="rect" href="inet_8c.html#a11fa9878cd5a0b710987f3b3468fbbc8" title=" " alt="" coords="1178,303,1290,328"/>
<area shape="poly" title=" " alt="" coords="1338,318,1291,318,1291,313,1338,313"/>
<area shape="rect" href="serial_8c.html#a10ceb871749f334daf436760d389a238" title=" " alt="" coords="1173,401,1295,427"/>
<area shape="poly" title=" " alt="" coords="1392,340,1353,367,1307,393,1281,403,1279,398,1305,388,1350,362,1389,335"/>
<area shape="rect" href="usb_8c.html#a0589e9bb1b983864e59ba5d8cdca033f" title=" " alt="" coords="1178,451,1290,476"/>
<area shape="poly" title=" " alt="" coords="1405,343,1364,393,1337,419,1307,442,1287,452,1284,448,1305,437,1334,415,1360,389,1400,339"/>
<area shape="poly" title=" " alt="" coords="1146,220,1114,220,1114,214,1146,214"/>
<area shape="poly" title=" " alt="" coords="1166,301,1097,282,1098,277,1168,296"/>
<area shape="poly" title=" " alt="" coords="1168,397,1160,392,1145,379,1135,366,1126,354,1112,342,1092,331,1094,327,1115,337,1130,350,1140,363,1149,376,1163,388,1171,392"/>
<area shape="poly" title=" " alt="" coords="1172,447,1160,442,1106,411,1063,380,1066,376,1109,406,1163,437,1174,442"/>
</map>
</div>

</div>
</div>
<a id="a94b2861d069ea313208312a38d02644c" name="a94b2861d069ea313208312a38d02644c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94b2861d069ea313208312a38d02644c">&#9670;&#160;</a></span>cmp_rx_handshake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmp_rx_handshake </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>establishrate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>establishhighrate</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  187</span>{</div>
<div class="line"><span class="lineno">  188</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  189</span>    <span class="keyword">struct  </span>pi_cmp_data *data;</div>
<div class="line"><span class="lineno">  190</span>    pi_buffer_t *<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordtype">int</span> bytes;</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    data = (<span class="keyword">struct </span>pi_cmp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>    <span class="comment">/* Read the cmp packet */</span></div>
<div class="line"><span class="lineno">  200</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (PI_CMP_HEADER_LEN);</div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> == NULL) {</div>
<div class="line"><span class="lineno">  202</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  204</span>    }</div>
<div class="line"><span class="lineno">  205</span>    </div>
<div class="line"><span class="lineno">  206</span>    bytes = <a class="code hl_function" href="#acc715b624e23e1384e4b66c7c66ed93f">cmp_rx</a>(ps, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, PI_CMP_HEADER_LEN, 0);</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">if</span> (bytes &lt; 0)</div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">return</span> bytes;</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">if</span> ((data-&gt;version &amp; 0xFF00) == 0x0100) {</div>
<div class="line"><span class="lineno">  213</span>        <span class="keywordflow">if</span> (establishrate != -1) {</div>
<div class="line"><span class="lineno">  214</span>            <span class="keywordflow">if</span> (establishrate &gt; data-&gt;baudrate) {</div>
<div class="line"><span class="lineno">  215</span>                <span class="keywordflow">if</span> (establishhighrate) {</div>
<div class="line"><span class="lineno">  216</span>                    LOG((PI_DBG_CMP, PI_DBG_LVL_INFO, </div>
<div class="line"><span class="lineno">  217</span>                        <span class="stringliteral">&quot;CMP Establishing higher rate %ul (%ul)\n&quot;</span>,</div>
<div class="line"><span class="lineno">  218</span>                        establishrate, data-&gt;baudrate));</div>
<div class="line"><span class="lineno">  219</span>                    data-&gt;baudrate = establishrate;</div>
<div class="line"><span class="lineno">  220</span>                }</div>
<div class="line"><span class="lineno">  221</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  222</span>                data-&gt;baudrate = establishrate;</div>
<div class="line"><span class="lineno">  223</span>            }</div>
<div class="line"><span class="lineno">  224</span>        }</div>
<div class="line"><span class="lineno">  225</span>        </div>
<div class="line"><span class="lineno">  226</span>        <span class="keywordflow">if</span> ((bytes = <a class="code hl_function" href="#a11606925c41885b1bca65ab8c44adc30">cmp_init</a>(ps, data-&gt;baudrate)) &lt; 0)</div>
<div class="line"><span class="lineno">  227</span>            <span class="keywordflow">return</span> bytes;</div>
<div class="line"><span class="lineno">  228</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  229</span>        <span class="comment">/* 0x80 means the comm version wasn&#39;t compatible */</span></div>
<div class="line"><span class="lineno">  230</span>        LOG((PI_DBG_CMP, PI_DBG_LVL_ERR, <span class="stringliteral">&quot;CMP Incompatible Version\n&quot;</span>));</div>
<div class="line"><span class="lineno">  231</span>        <a class="code hl_function" href="#adc9c309853f9ac66577cf0966a372260">cmp_abort</a>(ps, 0x80);</div>
<div class="line"><span class="lineno">  232</span>        errno = ECONNREFUSED;</div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_PROT_INCOMPATIBLE);</div>
<div class="line"><span class="lineno">  234</span>    }</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  237</span>}</div>
<div class="ttc" id="acmp_8c_html_a11606925c41885b1bca65ab8c44adc30"><div class="ttname"><a href="#a11606925c41885b1bca65ab8c44adc30">cmp_init</a></div><div class="ttdeci">int cmp_init(pi_socket_t *ps, int baudrate)</div><div class="ttdef"><b>Definition</b> cmp.c:420</div></div>
<div class="ttc" id="acmp_8c_html_adc9c309853f9ac66577cf0966a372260"><div class="ttname"><a href="#adc9c309853f9ac66577cf0966a372260">cmp_abort</a></div><div class="ttdeci">int cmp_abort(pi_socket_t *ps, int reason)</div><div class="ttdef"><b>Definition</b> cmp.c:451</div></div>
<div class="ttc" id="api-buffer_8c_html_a6775d9fcdb4fb3e02ce032337e1d10dc"><div class="ttname"><a href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a></div><div class="ttdeci">pi_buffer_t * pi_buffer_new(size_t capacity)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:31</div></div>
<div class="ttc" id="api-buffer_8c_html_af440579d61c8649154b0f0512c285606"><div class="ttname"><a href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a></div><div class="ttdeci">void pi_buffer_free(pi_buffer_t *buf)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:103</div></div>
<div class="ttc" id="apitcl_8c_html_a0dea8f1af961c5e9eb4425acd7c95409"><div class="ttname"><a href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a></div><div class="ttdeci">char buf[0xffff]</div><div class="ttdef"><b>Definition</b> pitcl.c:34</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00451">cmp_abort()</a>, <a class="el" href="#l00420">cmp_init()</a>, <a class="el" href="#l00347">cmp_rx()</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l00659">pi_protocol()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00606">pi_bluetooth_accept()</a>, <a class="el" href="#l00329">pi_inet_accept()</a>, <a class="el" href="#l00469">pi_serial_accept()</a>, and <a class="el" href="#l00390">pi_usb_accept()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a94b2861d069ea313208312a38d02644c_cgraph.png" border="0" usemap="#acmp_8c_a94b2861d069ea313208312a38d02644c_cgraph" alt=""/></div>
<map name="acmp_8c_a94b2861d069ea313208312a38d02644c_cgraph" id="acmp_8c_a94b2861d069ea313208312a38d02644c_cgraph">
<area shape="rect" title=" " alt="" coords="5,323,140,349"/>
<area shape="rect" href="cmp_8c.html#adc9c309853f9ac66577cf0966a372260" title=" " alt="" coords="198,223,280,249"/>
<area shape="poly" title=" " alt="" coords="91,320,186,258,193,254,196,259,189,262,94,325"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="466,371,551,397"/>
<area shape="poly" title=" " alt="" coords="141,347,234,363,338,376,450,381,450,387,338,381,233,368,140,352"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="655,122,744,148"/>
<area shape="poly" title=" " alt="" coords="78,321,109,264,165,182,200,139,241,98,287,61,337,32,399,9,451,3,504,11,568,31,601,46,631,66,678,108,675,112,628,70,598,51,566,36,503,16,451,8,400,15,339,37,290,65,245,101,204,142,169,185,114,267,83,324"/>
<area shape="rect" href="cmp_8c.html#a11606925c41885b1bca65ab8c44adc30" title=" " alt="" coords="204,273,274,298"/>
<area shape="poly" title=" " alt="" coords="116,320,188,298,190,303,118,325"/>
<area shape="rect" href="cmp_8c.html#acc715b624e23e1384e4b66c7c66ed93f" title=" " alt="" coords="338,273,402,298"/>
<area shape="poly" title=" " alt="" coords="140,329,212,321,289,308,322,299,324,304,291,313,213,326,140,334"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="189,475,289,501"/>
<area shape="poly" title=" " alt="" coords="87,347,130,397,189,454,203,464,200,469,186,458,126,400,83,351"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="188,525,290,550"/>
<area shape="poly" title=" " alt="" coords="82,348,120,424,151,470,190,511,192,514,189,518,186,515,147,473,115,426,77,351"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="338,223,402,249"/>
<area shape="poly" title=" " alt="" coords="281,233,322,233,322,239,281,239"/>
<area shape="poly" title=" " alt="" coords="274,247,292,258,306,271,316,284,325,296,340,309,369,326,393,337,451,358,462,362,460,367,449,362,391,342,366,331,336,313,321,300,312,287,303,275,288,262,271,252"/>
<area shape="poly" title=" " alt="" coords="240,222,250,188,268,143,297,98,315,79,337,63,368,47,396,38,423,34,449,34,502,45,567,63,622,84,668,110,666,115,620,89,566,68,501,50,448,40,423,39,398,43,370,52,339,68,319,83,301,102,273,146,255,190,246,223"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="466,322,551,348"/>
<area shape="poly" title=" " alt="" coords="391,247,404,258,427,285,452,309,457,312,455,317,449,313,423,288,400,262,388,251"/>
<area shape="poly" title=" " alt="" coords="394,248,404,258,420,286,427,311,435,334,452,358,455,361,452,365,448,362,430,337,422,312,415,288,400,262,390,251"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="450,273,567,298"/>
<area shape="poly" title=" " alt="" coords="404,245,457,264,455,269,402,250"/>
<area shape="poly" title=" " alt="" coords="380,221,409,191,449,164,497,147,547,137,639,130,639,135,548,142,499,153,452,169,412,195,384,225"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="457,223,560,249"/>
<area shape="poly" title=" " alt="" coords="403,233,442,233,442,239,403,239"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="832,249,937,274"/>
<area shape="poly" title=" " alt="" coords="551,378,658,361,721,345,783,324,821,304,854,282,857,286,824,309,785,329,723,351,659,366,552,383"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="631,223,768,249"/>
<area shape="poly" title=" " alt="" coords="550,369,565,358,581,333,587,309,594,283,601,270,613,258,617,255,620,259,616,262,605,274,599,285,593,310,586,336,569,362,553,373"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="992,199,1098,225"/>
<area shape="poly" title=" " alt="" coords="928,245,985,228,987,233,930,250"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="985,249,1105,274"/>
<area shape="poly" title=" " alt="" coords="938,259,970,259,970,264,938,264"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1001,298,1089,324"/>
<area shape="poly" title=" " alt="" coords="930,272,988,290,986,296,928,277"/>
<area shape="poly" title=" " alt="" coords="556,296,615,308,700,318,737,317,783,308,818,296,849,280,852,285,820,301,785,313,737,322,700,323,614,313,555,301"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="615,273,784,298"/>
<area shape="poly" title=" " alt="" coords="567,283,599,283,599,288,567,288"/>
<area shape="poly" title=" " alt="" coords="746,145,785,164,830,199,865,235,861,239,826,203,783,169,743,150"/>
<area shape="poly" title=" " alt="" coords="556,220,604,210,661,202,723,200,785,208,821,221,853,238,850,242,819,226,783,213,723,205,662,207,605,215,557,225"/>
<area shape="poly" title=" " alt="" coords="560,233,615,233,615,239,560,239"/>
<area shape="poly" title=" " alt="" coords="534,220,565,202,589,183,613,164,640,151,643,156,616,169,592,187,568,206,537,225"/>
<area shape="poly" title=" " alt="" coords="274,270,322,251,324,256,276,275"/>
<area shape="poly" title=" " alt="" coords="256,296,292,325,339,352,396,369,451,378,450,383,394,374,337,357,289,330,253,300"/>
<area shape="poly" title=" " alt="" coords="271,270,288,259,313,235,336,209,388,163,414,146,450,132,499,122,549,118,639,123,639,128,549,123,499,127,451,137,416,151,391,167,340,213,316,239,292,263,274,274"/>
<area shape="poly" title=" " alt="" coords="404,294,457,313,455,318,402,299"/>
<area shape="poly" title=" " alt="" coords="386,297,421,331,452,358,458,362,455,366,449,362,417,335,383,301"/>
<area shape="poly" title=" " alt="" coords="403,283,435,283,435,288,403,288"/>
<area shape="poly" title=" " alt="" coords="388,270,400,259,423,233,433,221,449,208,483,193,532,176,639,146,640,152,534,181,485,197,452,213,437,224,427,236,404,263,391,274"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a94b2861d069ea313208312a38d02644c_icgraph.png" border="0" usemap="#acmp_8c_a94b2861d069ea313208312a38d02644c_icgraph" alt=""/></div>
<map name="acmp_8c_a94b2861d069ea313208312a38d02644c_icgraph" id="acmp_8c_a94b2861d069ea313208312a38d02644c_icgraph">
<area shape="rect" title=" " alt="" coords="1347,242,1481,268"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,168,1299,193"/>
<area shape="poly" title=" " alt="" coords="1370,238,1298,207,1270,196,1272,191,1300,202,1372,233"/>
<area shape="rect" href="inet_8c.html#addba3dbe3eee187ecb6af12da94e12de" title=" " alt="" coords="1178,217,1283,242"/>
<area shape="poly" title=" " alt="" coords="1331,246,1283,240,1284,234,1332,241"/>
<area shape="rect" href="serial_8c.html#afd1f0015559a46379c5a5302589450fa" title=" " alt="" coords="1173,266,1288,292"/>
<area shape="poly" title=" " alt="" coords="1332,268,1289,274,1288,269,1331,263"/>
<area shape="rect" href="usb_8c.html#a22b05dc9bd4af901e301699fd78ca936" title=" " alt="" coords="1178,316,1283,341"/>
<area shape="poly" title=" " alt="" coords="1371,277,1300,307,1272,317,1270,312,1298,302,1369,272"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,168,1114,193"/>
<area shape="poly" title=" " alt="" coords="1146,183,1114,183,1114,178,1146,178"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="991,202,978,207,906,244,903,239,976,202,989,197"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="993,217,1098,242"/>
<area shape="poly" title=" " alt="" coords="1162,232,1098,232,1098,227,1162,227"/>
<area shape="poly" title=" " alt="" coords="978,243,930,250,929,245,977,237"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="988,266,1103,292"/>
<area shape="poly" title=" " alt="" coords="1157,282,1103,282,1103,276,1157,276"/>
<area shape="poly" title=" " alt="" coords="972,271,929,265,930,259,973,266"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="993,316,1098,341"/>
<area shape="poly" title=" " alt="" coords="1162,331,1098,331,1098,326,1162,326"/>
<area shape="poly" title=" " alt="" coords="989,312,976,307,904,271,907,266,978,302,991,307"/>
</map>
</div>

</div>
</div>
<a id="a614fe86fa2227410d7271057a55bb043" name="a614fe86fa2227410d7271057a55bb043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a614fe86fa2227410d7271057a55bb043">&#9670;&#160;</a></span>cmp_setsockopt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cmp_setsockopt </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>option_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>option_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>option_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  581</span>{</div>
<div class="line"><span class="lineno">  582</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  583</span>    <span class="keyword">struct  </span>pi_padp_data *data;</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>    (void) level;</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_PADP);</div>
<div class="line"><span class="lineno">  588</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  589</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  590</span>    data = (<span class="keyword">struct </span>pi_padp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">if</span> (option_name == PI_PADP_TYPE) {</div>
<div class="line"><span class="lineno">  593</span>        <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;type))</div>
<div class="line"><span class="lineno">  594</span>            <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  595</span>        memcpy (&amp;data-&gt;type, option_value,</div>
<div class="line"><span class="lineno">  596</span>            sizeof (data-&gt;type));</div>
<div class="line"><span class="lineno">  597</span>        *option_len = <span class="keyword">sizeof</span> (data-&gt;type);</div>
<div class="line"><span class="lineno">  598</span>    }</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  601</span>    </div>
<div class="line"><span class="lineno">  602</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>:</div>
<div class="line"><span class="lineno">  603</span>    errno = EINVAL;</div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_ARGUMENT);</div>
<div class="line"><span class="lineno">  605</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00659">pi_protocol()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00136">cmp_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a614fe86fa2227410d7271057a55bb043_cgraph.png" border="0" usemap="#acmp_8c_a614fe86fa2227410d7271057a55bb043_cgraph" alt=""/></div>
<map name="acmp_8c_a614fe86fa2227410d7271057a55bb043_cgraph" id="acmp_8c_a614fe86fa2227410d7271057a55bb043_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,123,106"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="173,104,258,130"/>
<area shape="poly" title=" " alt="" coords="124,100,158,105,157,110,123,105"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="171,55,260,80"/>
<area shape="poly" title=" " alt="" coords="123,80,155,75,156,80,124,86"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="324,55,429,80"/>
<area shape="poly" title=" " alt="" coords="257,101,317,83,318,88,259,107"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="308,104,445,130"/>
<area shape="poly" title=" " alt="" coords="258,114,293,114,293,120,258,120"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="500,5,606,31"/>
<area shape="poly" title=" " alt="" coords="425,51,489,33,491,38,426,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="493,55,613,80"/>
<area shape="poly" title=" " alt="" coords="430,65,478,65,478,70,430,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="509,104,597,130"/>
<area shape="poly" title=" " alt="" coords="426,78,496,98,494,103,425,84"/>
<area shape="poly" title=" " alt="" coords="260,65,309,65,309,70,260,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a614fe86fa2227410d7271057a55bb043_icgraph.png" border="0" usemap="#acmp_8c_a614fe86fa2227410d7271057a55bb043_icgraph" alt=""/></div>
<map name="acmp_8c_a614fe86fa2227410d7271057a55bb043_icgraph" id="acmp_8c_a614fe86fa2227410d7271057a55bb043_icgraph">
<area shape="rect" title=" " alt="" coords="1835,105,1952,131"/>
<area shape="rect" href="cmp_8c.html#a46af9b9d2b4db141ed8b65871acc950e" title=" " alt="" coords="1688,105,1787,131"/>
<area shape="poly" title=" " alt="" coords="1820,121,1788,121,1788,116,1820,116"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="a323b204b884996c0557dc213c6ee4f43" name="a323b204b884996c0557dc213c6ee4f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323b204b884996c0557dc213c6ee4f43">&#9670;&#160;</a></span>cmp_tx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t cmp_tx </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  298</span>{</div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordtype">int</span>     bytes,</div>
<div class="line"><span class="lineno">  300</span>        type;</div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordtype">size_t</span>  <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  302</span>    pi_protocol_t   *prot,</div>
<div class="line"><span class="lineno">  303</span>            *next;</div>
<div class="line"><span class="lineno">  304</span>    <span class="keyword">struct  </span>pi_cmp_data *data;</div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cmp_buf[PI_CMP_HEADER_LEN];</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  308</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    data = (<span class="keyword">struct </span>pi_cmp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  312</span>    next = <a class="code hl_function" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368">pi_protocol_next</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">if</span> (next == NULL)</div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    type = padData;</div>
<div class="line"><span class="lineno">  317</span>    <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span>(type);</div>
<div class="line"><span class="lineno">  318</span>    <a class="code hl_function" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a>(ps-&gt;sd, PI_LEVEL_PADP, PI_PADP_TYPE, &amp;type, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    set_byte(&amp;cmp_buf[PI_CMP_OFFSET_TYPE], data-&gt;type);</div>
<div class="line"><span class="lineno">  321</span>    set_byte(&amp;cmp_buf[PI_CMP_OFFSET_FLGS], data-&gt;flags);</div>
<div class="line"><span class="lineno">  322</span>    set_short(&amp;cmp_buf[PI_CMP_OFFSET_VERS], data-&gt;version &gt; PI_CMP_VERSION ? PI_CMP_VERSION : data-&gt;version);</div>
<div class="line"><span class="lineno">  323</span>    set_short(&amp;cmp_buf[PI_CMP_OFFSET_RESV], 0);</div>
<div class="line"><span class="lineno">  324</span>    set_long(&amp;cmp_buf[PI_CMP_OFFSET_BAUD], data-&gt;baudrate);</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>    CHECK(PI_DBG_CMP, PI_DBG_LVL_INFO, <a class="code hl_function" href="#ae23bcd05a6108067dc8b3abff2ba7f41">cmp_dump</a>(cmp_buf, 1));</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>    bytes = next-&gt;write(ps, cmp_buf, PI_CMP_HEADER_LEN, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>);</div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">if</span> (bytes &lt; 10)</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">return</span> (bytes &lt; 0) ? bytes : <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_PROT_ABORTED);</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  333</span>}</div>
<div class="ttc" id="asocket_8c_html_ac046ff247e07d169f5445f2343a06da3"><div class="ttname"><a href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a></div><div class="ttdeci">int pi_setsockopt(int pi_sd, int level, int option_name, const void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> socket.c:1199</div></div>
<div class="ttc" id="avalidate_8cc_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> validate.cc:81</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00620">cmp_dump()</a>, <a class="el" href="#l00311">flags</a>, <a class="el" href="#l00659">pi_protocol()</a>, <a class="el" href="#l00672">pi_protocol_next()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01199">pi_setsockopt()</a>, and <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00451">cmp_abort()</a>, <a class="el" href="#l00420">cmp_init()</a>, <a class="el" href="#l00136">cmp_protocol()</a>, and <a class="el" href="#l00481">cmp_wakeup()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a323b204b884996c0557dc213c6ee4f43_cgraph.png" border="0" usemap="#acmp_8c_a323b204b884996c0557dc213c6ee4f43_cgraph" alt=""/></div>
<map name="acmp_8c_a323b204b884996c0557dc213c6ee4f43_cgraph" id="acmp_8c_a323b204b884996c0557dc213c6ee4f43_cgraph">
<area shape="rect" title=" " alt="" coords="5,129,70,155"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="133,5,218,31"/>
<area shape="poly" title=" " alt="" coords="44,127,72,85,93,61,116,40,121,37,124,41,119,44,97,65,77,88,49,130"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="134,129,218,155"/>
<area shape="poly" title=" " alt="" coords="70,140,118,140,118,145,70,145"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="118,55,234,80"/>
<area shape="poly" title=" " alt="" coords="62,126,136,86,138,91,64,131"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="322,244,411,270"/>
<area shape="poly" title=" " alt="" coords="50,153,79,185,98,201,119,214,166,233,215,245,306,254,306,260,214,250,164,238,116,219,95,206,75,189,46,157"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="125,179,227,204"/>
<area shape="poly" title=" " alt="" coords="71,151,124,170,122,175,69,156"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="499,143,605,168"/>
<area shape="poly" title=" " alt="" coords="218,133,324,124,388,123,452,128,493,136,492,141,451,133,388,128,324,129,218,139"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="298,143,435,168"/>
<area shape="poly" title=" " alt="" coords="219,142,283,147,282,152,218,148"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="660,93,765,119"/>
<area shape="poly" title=" " alt="" coords="596,139,653,122,654,127,597,145"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="653,143,772,168"/>
<area shape="poly" title=" " alt="" coords="605,153,637,153,637,158,605,158"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="669,192,756,218"/>
<area shape="poly" title=" " alt="" coords="597,166,655,185,654,190,596,172"/>
<area shape="poly" title=" " alt="" coords="209,51,281,26,369,9,407,10,453,26,482,47,507,73,541,127,536,130,503,77,479,51,450,31,406,16,369,14,283,31,211,57"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="282,41,451,67"/>
<area shape="poly" title=" " alt="" coords="234,61,266,59,266,64,235,66"/>
<area shape="poly" title=" " alt="" coords="408,241,450,222,488,200,521,176,524,180,490,204,453,227,410,246"/>
<area shape="poly" title=" " alt="" coords="227,190,331,189,451,178,491,170,493,175,452,183,331,194,228,195"/>
<area shape="poly" title=" " alt="" coords="227,179,282,169,283,174,228,184"/>
<area shape="poly" title=" " alt="" coords="217,202,313,236,312,241,215,207"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a323b204b884996c0557dc213c6ee4f43_icgraph.png" border="0" usemap="#acmp_8c_a323b204b884996c0557dc213c6ee4f43_icgraph" alt=""/></div>
<map name="acmp_8c_a323b204b884996c0557dc213c6ee4f43_icgraph" id="acmp_8c_a323b204b884996c0557dc213c6ee4f43_icgraph">
<area shape="rect" title=" " alt="" coords="1875,233,1939,259"/>
<area shape="rect" href="cmp_8c.html#adc9c309853f9ac66577cf0966a372260" title=" " alt="" coords="1567,259,1649,284"/>
<area shape="poly" title=" " alt="" coords="1860,253,1650,271,1649,265,1859,247"/>
<area shape="rect" href="cmp_8c.html#a11606925c41885b1bca65ab8c44adc30" title=" " alt="" coords="1742,309,1812,335"/>
<area shape="poly" title=" " alt="" coords="1872,269,1802,311,1800,307,1869,265"/>
<area shape="rect" href="cmp_8c.html#a46af9b9d2b4db141ed8b65871acc950e" title=" " alt="" coords="1728,135,1827,160"/>
<area shape="poly" title=" " alt="" coords="1875,226,1794,163,1798,159,1878,221"/>
<area shape="rect" href="cmp_8c.html#a9e820941b251af7a76e0d0962f5146a5" title=" " alt="" coords="1728,208,1826,234"/>
<area shape="poly" title=" " alt="" coords="1859,240,1827,233,1828,228,1860,234"/>
<area shape="rect" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c" title=" " alt="" coords="1354,308,1488,334"/>
<area shape="poly" title=" " alt="" coords="1552,289,1473,310,1472,305,1551,284"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1165,109,1302,135"/>
<area shape="poly" title=" " alt="" coords="1394,299,1352,248,1338,219,1331,194,1323,171,1304,148,1288,138,1291,133,1308,144,1328,168,1336,192,1343,217,1356,245,1398,295"/>
<area shape="rect" href="inet_8c.html#addba3dbe3eee187ecb6af12da94e12de" title=" " alt="" coords="1181,405,1286,431"/>
<area shape="poly" title=" " alt="" coords="1392,345,1352,371,1307,397,1281,407,1279,402,1305,392,1350,367,1389,341"/>
<area shape="rect" href="serial_8c.html#afd1f0015559a46379c5a5302589450fa" title=" " alt="" coords="1176,455,1292,480"/>
<area shape="poly" title=" " alt="" coords="1404,348,1364,397,1337,423,1307,446,1286,457,1284,452,1305,441,1333,419,1360,394,1400,345"/>
<area shape="rect" href="usb_8c.html#a22b05dc9bd4af901e301699fd78ca936" title=" " alt="" coords="1181,307,1286,332"/>
<area shape="poly" title=" " alt="" coords="1338,323,1287,323,1287,317,1339,318"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,159,1114,184"/>
<area shape="poly" title=" " alt="" coords="1168,142,1098,161,1097,155,1166,137"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,216,929,242"/>
<area shape="poly" title=" " alt="" coords="992,193,920,218,919,213,991,188"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,240,772,266"/>
<area shape="poly" title=" " alt="" coords="816,243,773,250,772,245,815,237"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,59,783,84"/>
<area shape="poly" title=" " alt="" coords="855,206,752,87,756,83,859,202"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,203,640,228"/>
<area shape="poly" title=" " alt="" coords="694,244,639,231,641,226,695,239"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,259,637,264,637,258,694,254"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,301,637,327"/>
<area shape="poly" title=" " alt="" coords="696,274,652,293,625,303,623,298,650,288,694,269"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,404,633,430"/>
<area shape="poly" title=" " alt="" coords="719,279,603,405,599,402,715,276"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,153,625,179"/>
<area shape="poly" title=" " alt="" coords="710,233,649,192,624,181,627,176,652,188,713,228"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,240,476,281"/>
<area shape="poly" title=" " alt="" coords="524,299,473,284,474,279,526,294"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,453,436,479"/>
<area shape="poly" title=" " alt="" coords="528,435,437,459,436,454,526,430"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,503,450,528"/>
<area shape="poly" title=" " alt="" coords="559,442,522,468,478,494,451,504,449,500,475,489,519,464,556,437"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,552,435,578"/>
<area shape="poly" title=" " alt="" coords="572,444,533,494,507,521,478,543,437,560,435,555,475,539,503,517,529,491,567,441"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,305,424,331"/>
<area shape="poly" title=" " alt="" coords="556,396,519,370,475,345,424,326,426,321,477,340,522,365,559,392"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,355,424,380"/>
<area shape="poly" title=" " alt="" coords="526,404,424,376,425,371,528,398"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,404,424,430"/>
<area shape="poly" title=" " alt="" coords="526,420,425,420,425,414,526,414"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,453,273,479"/>
<area shape="poly" title=" " alt="" coords="336,501,272,482,274,477,338,495"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,503,275,528"/>
<area shape="poly" title=" " alt="" coords="333,518,275,518,275,513,333,513"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,479,127,504"/>
<area shape="poly" title=" " alt="" coords="162,479,128,484,127,479,161,474"/>
<area shape="poly" title=" " alt="" coords="159,508,126,503,127,498,160,503"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,552,250,578"/>
<area shape="poly" title=" " alt="" coords="348,568,250,568,250,562,348,562"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="687,56,626,34,628,29,688,51"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,73,613,71,613,65,683,67"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="685,91,613,112,612,107,683,86"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="993,260,1098,286"/>
<area shape="poly" title=" " alt="" coords="1168,401,1160,396,1058,288,1061,284,1163,392,1171,396"/>
<area shape="poly" title=" " alt="" coords="979,258,929,244,930,239,981,253"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="988,356,1103,382"/>
<area shape="poly" title=" " alt="" coords="1172,451,1160,446,1106,415,1063,384,1066,380,1109,410,1163,441,1174,446"/>
<area shape="poly" title=" " alt="" coords="1015,348,895,244,899,240,1019,343"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="993,211,1098,236"/>
<area shape="poly" title=" " alt="" coords="1168,302,1160,298,1145,285,1136,273,1126,261,1112,250,1091,239,1094,235,1115,245,1130,258,1140,270,1149,282,1163,293,1171,298"/>
<area shape="poly" title=" " alt="" coords="978,228,930,230,930,225,978,223"/>
<area shape="poly" title=" " alt="" coords="1727,325,1489,324,1489,318,1727,319"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1536,109,1680,135"/>
<area shape="poly" title=" " alt="" coords="1712,140,1680,136,1680,130,1713,135"/>
<area shape="poly" title=" " alt="" coords="1535,108,1488,99,1362,80,1307,76,1235,74,1044,74,783,74,783,69,1044,69,1235,69,1307,70,1363,75,1489,94,1536,103"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1370,109,1472,135"/>
<area shape="poly" title=" " alt="" coords="1521,125,1472,125,1472,120,1521,120"/>
<area shape="poly" title=" " alt="" coords="1355,125,1303,125,1303,120,1355,120"/>
<area shape="rect" href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10" title=" " alt="" coords="1354,208,1488,234"/>
<area shape="poly" title=" " alt="" coords="1712,224,1489,224,1489,218,1712,218"/>
<area shape="rect" href="bluetooth_8c.html#a15efa0484c8ec0d838f87e4e9b7e48a0" title=" " alt="" coords="1162,159,1306,184"/>
<area shape="poly" title=" " alt="" coords="1354,206,1285,188,1286,182,1356,201"/>
<area shape="rect" href="inet_8c.html#a11fa9878cd5a0b710987f3b3468fbbc8" title=" " alt="" coords="1178,257,1290,283"/>
<area shape="poly" title=" " alt="" coords="1356,241,1286,259,1285,254,1354,236"/>
<area shape="rect" href="serial_8c.html#a10ceb871749f334daf436760d389a238" title=" " alt="" coords="1173,356,1295,382"/>
<area shape="poly" title=" " alt="" coords="1401,247,1347,307,1308,347,1287,358,1284,353,1304,343,1343,303,1397,244"/>
<area shape="rect" href="usb_8c.html#a0589e9bb1b983864e59ba5d8cdca033f" title=" " alt="" coords="1178,208,1290,234"/>
<area shape="poly" title=" " alt="" coords="1338,224,1291,224,1291,218,1338,218"/>
<area shape="poly" title=" " alt="" coords="1146,174,1114,174,1114,169,1146,169"/>
<area shape="poly" title=" " alt="" coords="1162,274,1098,275,1098,269,1162,269"/>
<area shape="poly" title=" " alt="" coords="1157,372,1103,372,1103,366,1157,366"/>
<area shape="poly" title=" " alt="" coords="1162,225,1098,225,1098,220,1162,219"/>
</map>
</div>

</div>
</div>
<a id="a5e3c72b736be2b8d827902975ce79d10" name="a5e3c72b736be2b8d827902975ce79d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e3c72b736be2b8d827902975ce79d10">&#9670;&#160;</a></span>cmp_tx_handshake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmp_tx_handshake </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  253</span>{</div>
<div class="line"><span class="lineno">  254</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  255</span>    <span class="keyword">struct  </span>pi_cmp_data *data;</div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>    data = (<span class="keyword">struct </span>pi_cmp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="#a9e820941b251af7a76e0d0962f5146a5">cmp_wakeup</a>(ps, 38400)) &lt; 0)   <span class="comment">/* Assume box can&#39;t go over 38400 */</span></div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="#acc715b624e23e1384e4b66c7c66ed93f">cmp_rx</a>(ps, NULL, 0, 0)) &lt; 0)</div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">return</span> result;                          <span class="comment">/* failed to read, errno already set */</span></div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">switch</span> (data-&gt;type) {</div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">case</span> PI_CMP_TYPE_INIT:</div>
<div class="line"><span class="lineno">  272</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">case</span> PI_CMP_TYPE_ABRT:</div>
<div class="line"><span class="lineno">  274</span>            LOG((PI_DBG_CMP, PI_DBG_LVL_NONE,</div>
<div class="line"><span class="lineno">  275</span>                <span class="stringliteral">&quot;CMP Aborted by other end\n&quot;</span>));</div>
<div class="line"><span class="lineno">  276</span>            errno = -EIO;</div>
<div class="line"><span class="lineno">  277</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_PROT_ABORTED);</div>
<div class="line"><span class="lineno">  278</span>    }</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#aff02b67912df0f17a60adcde8b049ae7">PI_ERR_PROT_INCOMPATIBLE</a>;</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>}</div>
<div class="ttc" id="acmp_8c_html_a9e820941b251af7a76e0d0962f5146a5"><div class="ttname"><a href="#a9e820941b251af7a76e0d0962f5146a5">cmp_wakeup</a></div><div class="ttdeci">int cmp_wakeup(pi_socket_t *ps, int maxbaud)</div><div class="ttdef"><b>Definition</b> cmp.c:481</div></div>
<div class="ttc" id="anamespacepisock_html_aff02b67912df0f17a60adcde8b049ae7"><div class="ttname"><a href="namespacepisock.html#aff02b67912df0f17a60adcde8b049ae7">pisock.PI_ERR_PROT_INCOMPATIBLE</a></div><div class="ttdeci">PI_ERR_PROT_INCOMPATIBLE</div><div class="ttdef"><b>Definition</b> pisock.py:44</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00347">cmp_rx()</a>, <a class="el" href="#l00481">cmp_wakeup()</a>, <a class="el" href="#l00659">pi_protocol()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00472">pi_bluetooth_connect()</a>, <a class="el" href="#l00239">pi_inet_connect()</a>, <a class="el" href="#l00266">pi_serial_connect()</a>, and <a class="el" href="#l00248">pi_usb_connect()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a5e3c72b736be2b8d827902975ce79d10_cgraph.png" border="0" usemap="#acmp_8c_a5e3c72b736be2b8d827902975ce79d10_cgraph" alt=""/></div>
<map name="acmp_8c_a5e3c72b736be2b8d827902975ce79d10_cgraph" id="acmp_8c_a5e3c72b736be2b8d827902975ce79d10_cgraph">
<area shape="rect" title=" " alt="" coords="5,148,140,173"/>
<area shape="rect" href="cmp_8c.html#acc715b624e23e1384e4b66c7c66ed93f" title=" " alt="" coords="334,122,398,148"/>
<area shape="poly" title=" " alt="" coords="140,152,318,136,319,142,140,157"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="462,274,547,300"/>
<area shape="poly" title=" " alt="" coords="102,171,189,209,257,230,327,249,448,275,447,280,326,254,256,236,187,214,100,176"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="651,48,740,73"/>
<area shape="poly" title=" " alt="" coords="97,145,156,114,241,75,341,37,446,10,504,3,563,10,610,22,653,38,651,43,609,27,562,15,504,8,447,15,343,43,243,80,159,119,99,149"/>
<area shape="rect" href="cmp_8c.html#a9e820941b251af7a76e0d0962f5146a5" title=" " alt="" coords="188,173,286,199"/>
<area shape="poly" title=" " alt="" coords="140,168,173,173,172,178,140,173"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="462,74,547,100"/>
<area shape="poly" title=" " alt="" coords="398,121,450,103,452,108,400,126"/>
<area shape="poly" title=" " alt="" coords="388,146,400,159,416,187,423,213,430,237,448,261,451,264,448,268,444,265,425,239,418,214,411,189,396,162,384,150"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="446,176,563,201"/>
<area shape="poly" title=" " alt="" coords="400,145,456,167,454,172,398,150"/>
<area shape="poly" title=" " alt="" coords="375,120,403,88,423,71,445,59,494,46,544,41,593,42,636,46,635,52,593,47,545,46,495,51,447,64,426,76,407,92,379,123"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="828,198,933,224"/>
<area shape="poly" title=" " alt="" coords="542,298,590,312,651,323,716,325,748,320,779,310,804,296,827,277,861,236,865,239,830,280,807,300,781,315,749,325,716,330,650,329,589,317,540,303"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="627,274,764,300"/>
<area shape="poly" title=" " alt="" coords="547,284,611,284,611,290,547,290"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="988,149,1094,175"/>
<area shape="poly" title=" " alt="" coords="924,195,981,177,983,182,926,200"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="981,198,1101,224"/>
<area shape="poly" title=" " alt="" coords="934,208,966,208,966,214,934,214"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="997,248,1085,273"/>
<area shape="poly" title=" " alt="" coords="926,222,984,240,982,245,924,227"/>
<area shape="poly" title=" " alt="" coords="563,189,813,204,812,210,563,195"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="611,122,780,148"/>
<area shape="poly" title=" " alt="" coords="553,172,631,150,633,155,554,177"/>
<area shape="poly" title=" " alt="" coords="725,72,782,108,825,147,860,185,856,188,821,151,778,112,722,76"/>
<area shape="poly" title=" " alt="" coords="274,197,455,266,453,271,272,202"/>
<area shape="poly" title=" " alt="" coords="248,171,279,139,325,100,382,61,413,45,446,32,496,23,548,24,598,31,640,40,639,46,597,36,548,29,497,29,447,38,415,50,385,65,328,104,283,143,252,174"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="334,173,398,199"/>
<area shape="poly" title=" " alt="" coords="286,183,318,183,318,188,286,188"/>
<area shape="poly" title=" " alt="" coords="382,170,397,158,420,137,445,117,463,105,465,110,448,121,424,141,400,162,386,174"/>
<area shape="poly" title=" " alt="" coords="382,197,448,261,454,265,451,269,445,265,378,201"/>
<area shape="poly" title=" " alt="" coords="399,184,431,184,431,190,399,189"/>
<area shape="poly" title=" " alt="" coords="398,172,562,110,645,77,647,82,564,115,400,177"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="453,225,556,251"/>
<area shape="poly" title=" " alt="" coords="400,195,455,216,453,221,398,200"/>
<area shape="poly" title=" " alt="" coords="556,231,812,213,813,218,556,237"/>
<area shape="poly" title=" " alt="" coords="557,248,629,267,627,272,556,254"/>
<area shape="poly" title=" " alt="" coords="546,222,561,212,578,187,585,162,591,136,609,108,627,92,647,79,649,83,630,96,613,111,596,138,590,163,583,189,565,216,549,226"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a5e3c72b736be2b8d827902975ce79d10_icgraph.png" border="0" usemap="#acmp_8c_a5e3c72b736be2b8d827902975ce79d10_icgraph" alt=""/></div>
<map name="acmp_8c_a5e3c72b736be2b8d827902975ce79d10_icgraph" id="acmp_8c_a5e3c72b736be2b8d827902975ce79d10_icgraph">
<area shape="rect" title=" " alt="" coords="1354,242,1488,268"/>
<area shape="rect" href="bluetooth_8c.html#a15efa0484c8ec0d838f87e4e9b7e48a0" title=" " alt="" coords="1162,168,1306,193"/>
<area shape="poly" title=" " alt="" coords="1377,238,1305,207,1276,196,1278,191,1307,202,1379,233"/>
<area shape="rect" href="inet_8c.html#a11fa9878cd5a0b710987f3b3468fbbc8" title=" " alt="" coords="1178,217,1290,242"/>
<area shape="poly" title=" " alt="" coords="1339,247,1290,240,1291,235,1339,241"/>
<area shape="rect" href="serial_8c.html#a10ceb871749f334daf436760d389a238" title=" " alt="" coords="1173,266,1295,292"/>
<area shape="poly" title=" " alt="" coords="1339,268,1296,274,1295,269,1338,263"/>
<area shape="rect" href="usb_8c.html#a0589e9bb1b983864e59ba5d8cdca033f" title=" " alt="" coords="1178,316,1290,341"/>
<area shape="poly" title=" " alt="" coords="1378,277,1307,307,1277,317,1276,312,1305,302,1376,272"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,168,1114,193"/>
<area shape="poly" title=" " alt="" coords="1146,183,1114,183,1114,178,1146,178"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="991,202,978,207,906,244,903,239,976,202,989,197"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="993,217,1098,242"/>
<area shape="poly" title=" " alt="" coords="1162,232,1098,232,1098,227,1162,227"/>
<area shape="poly" title=" " alt="" coords="978,243,930,250,929,245,977,237"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="988,266,1103,292"/>
<area shape="poly" title=" " alt="" coords="1157,282,1103,282,1103,276,1157,276"/>
<area shape="poly" title=" " alt="" coords="972,271,929,265,930,259,973,266"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="993,316,1098,341"/>
<area shape="poly" title=" " alt="" coords="1162,331,1098,331,1098,326,1162,326"/>
<area shape="poly" title=" " alt="" coords="989,312,976,307,904,271,907,266,978,302,991,307"/>
</map>
</div>

</div>
</div>
<a id="a9e820941b251af7a76e0d0962f5146a5" name="a9e820941b251af7a76e0d0962f5146a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e820941b251af7a76e0d0962f5146a5">&#9670;&#160;</a></span>cmp_wakeup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmp_wakeup </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>maxbaud</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  482</span>{</div>
<div class="line"><span class="lineno">  483</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  484</span>    <span class="keyword">struct  </span>pi_cmp_data *data;</div>
<div class="line"><span class="lineno">  485</span>    </div>
<div class="line"><span class="lineno">  486</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_CMP);</div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>    data = (<span class="keyword">struct </span>pi_cmp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  491</span>    data-&gt;type  = PI_CMP_TYPE_WAKE;</div>
<div class="line"><span class="lineno">  492</span>    data-&gt;flags     = 0;</div>
<div class="line"><span class="lineno">  493</span>    data-&gt;version   = PI_CMP_VERSION;</div>
<div class="line"><span class="lineno">  494</span>    data-&gt;baudrate  = maxbaud;</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a323b204b884996c0557dc213c6ee4f43">cmp_tx</a>(ps, NULL, 0, 0);</div>
<div class="line"><span class="lineno">  497</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00297">cmp_tx()</a>, <a class="el" href="#l00659">pi_protocol()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00252">cmp_tx_handshake()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a9e820941b251af7a76e0d0962f5146a5_cgraph.png" border="0" usemap="#acmp_8c_a9e820941b251af7a76e0d0962f5146a5_cgraph" alt=""/></div>
<map name="acmp_8c_a9e820941b251af7a76e0d0962f5146a5_cgraph" id="acmp_8c_a9e820941b251af7a76e0d0962f5146a5_cgraph">
<area shape="rect" title=" " alt="" coords="5,108,104,134"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="152,108,216,134"/>
<area shape="poly" title=" " alt="" coords="104,118,136,118,136,123,104,123"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="280,159,364,184"/>
<area shape="poly" title=" " alt="" coords="103,132,152,144,265,162,264,167,151,149,102,137"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="468,8,558,34"/>
<area shape="poly" title=" " alt="" coords="73,105,153,57,207,32,263,13,313,5,363,3,453,9,453,14,363,8,313,10,265,18,209,36,156,61,76,110"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="280,60,365,86"/>
<area shape="poly" title=" " alt="" coords="216,107,268,89,269,94,218,112"/>
<area shape="poly" title=" " alt="" coords="218,130,272,150,270,155,216,135"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="264,211,380,236"/>
<area shape="poly" title=" " alt="" coords="198,132,227,163,266,195,275,201,273,205,262,199,224,167,194,136"/>
<area shape="poly" title=" " alt="" coords="193,106,221,74,241,58,263,45,311,28,361,19,410,15,453,14,453,20,410,20,362,24,312,34,265,50,244,62,225,78,197,110"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="271,109,373,135"/>
<area shape="poly" title=" " alt="" coords="217,118,255,119,255,124,217,124"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="646,109,751,135"/>
<area shape="poly" title=" " alt="" coords="364,167,470,160,597,145,636,137,637,142,598,150,471,166,365,173"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="444,109,582,135"/>
<area shape="poly" title=" " alt="" coords="364,158,445,137,447,142,365,163"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="806,60,911,86"/>
<area shape="poly" title=" " alt="" coords="742,106,799,88,800,93,744,111"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="799,109,918,135"/>
<area shape="poly" title=" " alt="" coords="751,119,783,119,783,125,751,125"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="815,159,902,184"/>
<area shape="poly" title=" " alt="" coords="744,133,801,151,800,156,742,138"/>
<area shape="poly" title=" " alt="" coords="380,215,483,199,540,187,597,170,661,141,663,145,599,175,542,192,484,205,381,220"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="428,261,598,287"/>
<area shape="poly" title=" " alt="" coords="374,234,448,254,447,259,373,240"/>
<area shape="poly" title=" " alt="" coords="556,32,599,50,637,73,670,97,667,102,634,78,596,55,554,37"/>
<area shape="poly" title=" " alt="" coords="368,106,428,94,513,87,598,94,640,102,639,107,597,99,513,93,429,99,370,111"/>
<area shape="poly" title=" " alt="" coords="374,119,429,119,429,125,374,125"/>
<area shape="poly" title=" " alt="" coords="359,106,379,96,393,85,402,74,412,62,427,51,453,37,455,42,430,55,416,66,406,77,397,88,382,100,362,111"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cmp_8c_a9e820941b251af7a76e0d0962f5146a5_icgraph.png" border="0" usemap="#acmp_8c_a9e820941b251af7a76e0d0962f5146a5_icgraph" alt=""/></div>
<map name="acmp_8c_a9e820941b251af7a76e0d0962f5146a5_icgraph" id="acmp_8c_a9e820941b251af7a76e0d0962f5146a5_icgraph">
<area shape="rect" title=" " alt="" coords="1536,242,1635,268"/>
<area shape="rect" href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10" title=" " alt="" coords="1354,242,1488,268"/>
<area shape="poly" title=" " alt="" coords="1521,258,1489,258,1489,252,1521,252"/>
<area shape="rect" href="bluetooth_8c.html#a15efa0484c8ec0d838f87e4e9b7e48a0" title=" " alt="" coords="1162,168,1306,193"/>
<area shape="poly" title=" " alt="" coords="1377,238,1305,207,1276,196,1278,191,1307,202,1379,233"/>
<area shape="rect" href="inet_8c.html#a11fa9878cd5a0b710987f3b3468fbbc8" title=" " alt="" coords="1178,217,1290,242"/>
<area shape="poly" title=" " alt="" coords="1339,247,1290,240,1291,235,1339,241"/>
<area shape="rect" href="serial_8c.html#a10ceb871749f334daf436760d389a238" title=" " alt="" coords="1173,266,1295,292"/>
<area shape="poly" title=" " alt="" coords="1339,268,1296,274,1295,269,1338,263"/>
<area shape="rect" href="usb_8c.html#a0589e9bb1b983864e59ba5d8cdca033f" title=" " alt="" coords="1178,316,1290,341"/>
<area shape="poly" title=" " alt="" coords="1378,277,1307,307,1277,317,1276,312,1305,302,1376,272"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,168,1114,193"/>
<area shape="poly" title=" " alt="" coords="1146,183,1114,183,1114,178,1146,178"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="991,202,978,207,906,244,903,239,976,202,989,197"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="993,217,1098,242"/>
<area shape="poly" title=" " alt="" coords="1162,232,1098,232,1098,227,1162,227"/>
<area shape="poly" title=" " alt="" coords="978,243,930,250,929,245,977,237"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="988,266,1103,292"/>
<area shape="poly" title=" " alt="" coords="1157,282,1103,282,1103,276,1157,276"/>
<area shape="poly" title=" " alt="" coords="972,271,929,265,930,259,973,266"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="993,316,1098,341"/>
<area shape="poly" title=" " alt="" coords="1162,331,1098,331,1098,326,1162,326"/>
<area shape="poly" title=" " alt="" coords="989,312,976,307,904,271,907,266,978,302,991,307"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ef3825c9845ea6880aaea633307886b2.html">libpisock</a></li><li class="navelem"><a class="el" href="cmp_8c.html">cmp.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
