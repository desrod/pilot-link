<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: src/userland.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('userland_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">userland.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;pi-userland.h&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &quot;pi-header.h&quot;</code><br />
<code>#include &quot;pi-socket.h&quot;</code><br />
<code>#include &quot;pi-dlp.h&quot;</code><br />
<code>#include &quot;pi-source.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for userland.c:</div>
<div class="dyncontent">
<div class="center"><img src="userland_8c__incl.png" border="0" usemap="#asrc_2userland_8c" alt=""/></div>
<map name="asrc_2userland_8c" id="asrc_2userland_8c">
<area shape="rect" title=" " alt="" coords="364,5,467,31"/>
<area shape="rect" title=" " alt="" coords="5,79,101,105"/>
<area shape="poly" title=" " alt="" coords="364,32,116,81,115,76,363,27"/>
<area shape="rect" title=" " alt="" coords="124,79,184,105"/>
<area shape="poly" title=" " alt="" coords="371,34,200,81,199,75,370,29"/>
<area shape="rect" title=" " alt="" coords="208,79,271,105"/>
<area shape="poly" title=" " alt="" coords="387,34,284,75,283,70,385,29"/>
<area shape="rect" title=" " alt="" coords="296,79,360,105"/>
<area shape="poly" title=" " alt="" coords="402,34,356,71,353,67,399,29"/>
<area shape="rect" title=" " alt="" coords="384,79,448,105"/>
<area shape="poly" title=" " alt="" coords="418,31,418,63,413,63,413,31"/>
<area shape="rect" title=" " alt="" coords="472,79,556,105"/>
<area shape="poly" title=" " alt="" coords="434,29,487,68,484,72,431,34"/>
<area shape="rect" title=" " alt="" coords="581,79,666,105"/>
<area shape="poly" title=" " alt="" coords="452,29,575,71,573,76,450,34"/>
<area shape="rect" title=" " alt="" coords="691,79,754,105"/>
<area shape="poly" title=" " alt="" coords="468,28,676,76,675,81,467,33"/>
<area shape="rect" title=" " alt="" coords="778,79,864,105"/>
<area shape="poly" title=" " alt="" coords="468,25,764,76,763,81,467,30"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a21d841df63f1c93b1fc98b4b4a8b0bbc" id="r_a21d841df63f1c93b1fc98b4b4a8b0bbc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21d841df63f1c93b1fc98b4b4a8b0bbc">plu_connect</a> ()</td></tr>
<tr class="separator:a21d841df63f1c93b1fc98b4b4a8b0bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fbe6f157495a36157aa4b226cc01d99" id="r_a6fbe6f157495a36157aa4b226cc01d99"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6fbe6f157495a36157aa4b226cc01d99">plu_findcategory</a> (const struct CategoryAppInfo *info, const char *<a class="el" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, int <a class="el" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>)</td></tr>
<tr class="separator:a6fbe6f157495a36157aa4b226cc01d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82e14b07cad44d7f86d1a3bffd28472" id="r_ae82e14b07cad44d7f86d1a3bffd28472"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae82e14b07cad44d7f86d1a3bffd28472">plu_getromversion</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, plu_romversion_t *d)</td></tr>
<tr class="separator:ae82e14b07cad44d7f86d1a3bffd28472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7edcd640bc7750f5279f3351f02e43c9" id="r_a7edcd640bc7750f5279f3351f02e43c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7edcd640bc7750f5279f3351f02e43c9">plu_protect_files</a> (char *<a class="el" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const char *extension, const size_t namelength)</td></tr>
<tr class="separator:a7edcd640bc7750f5279f3351f02e43c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a249f898bf760eca180f49b984f2de360" id="r_a249f898bf760eca180f49b984f2de360"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a249f898bf760eca180f49b984f2de360">env_pilotport</a> = &quot;PILOTPORT&quot;</td></tr>
<tr class="separator:a249f898bf760eca180f49b984f2de360"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a21d841df63f1c93b1fc98b4b4a8b0bbc" name="a21d841df63f1c93b1fc98b4b4a8b0bbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21d841df63f1c93b1fc98b4b4a8b0bbc">&#9670;&#160;</a></span>plu_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int plu_connect </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   38</span>{</div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> = -1;</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <span class="keyword">struct  </span>SysInfo sys_info;</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    <span class="comment">/* Determine here for better user feedback on unset port */</span></div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a> == NULL)</div>
<div class="line"><span class="lineno">   46</span>        <a class="code hl_variable" href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a> = getenv(<a class="code hl_variable" href="#a249f898bf760eca180f49b984f2de360">env_pilotport</a>);</div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a> == NULL) {</div>
<div class="line"><span class="lineno">   48</span>        fprintf(stderr, <span class="stringliteral">&quot;\n   Unable to determine port to bind\n&quot;</span></div>
<div class="line"><span class="lineno">   49</span>                <span class="stringliteral">&quot;   Please use --help for more information\n\n&quot;</span>);</div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   51</span>    }</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> = <a class="code hl_function" href="socket_8c.html#aa2d1d1b59340099588ea7bc15508745b">pi_socket</a>(PI_AF_PILOT,</div>
<div class="line"><span class="lineno">   54</span>            PI_SOCK_STREAM, PI_PF_DLP)) &lt; 0) {</div>
<div class="line"><span class="lineno">   55</span>        fprintf(stderr, <span class="stringliteral">&quot;\n   Unable to create socket &#39;%s&#39;\n&quot;</span>, <a class="code hl_variable" href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a>);</div>
<div class="line"><span class="lineno">   56</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   57</span>    }</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    result = <a class="code hl_function" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d">pi_bind</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a>);</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno">   62</span>        fprintf(stderr, <span class="stringliteral">&quot;   Unable to bind to port: %s\n&quot;</span></div>
<div class="line"><span class="lineno">   63</span>                <span class="stringliteral">&quot;   Please use --help for more information\n\n&quot;</span>,</div>
<div class="line"><span class="lineno">   64</span>                <a class="code hl_variable" href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a>);</div>
<div class="line"><span class="lineno">   65</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">   66</span>    }</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="plu__args_8c.html#a1a6d0a9c086a2017365a2a0a182fe5e2">plu_quiet</a> &amp;&amp; isatty(fileno(stdout))) {</div>
<div class="line"><span class="lineno">   69</span>        printf(<span class="stringliteral">&quot;\n   Listening for incoming connection on %s... &quot;</span>,</div>
<div class="line"><span class="lineno">   70</span>            <a class="code hl_variable" href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a>);</div>
<div class="line"><span class="lineno">   71</span>        fflush(stdout);</div>
<div class="line"><span class="lineno">   72</span>    }</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="socket_8c.html#a251bfe75de5f2d1c4ff58701c887a4e0">pi_listen</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, 1) &lt; 0) {</div>
<div class="line"><span class="lineno">   75</span>        fprintf(stderr, <span class="stringliteral">&quot;\n   Error listening on %s\n&quot;</span>, <a class="code hl_variable" href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a>);</div>
<div class="line"><span class="lineno">   76</span>        <a class="code hl_function" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">   77</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   78</span>    }</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    <a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> = <a class="code hl_function" href="socket_8c.html#a822f6b3639c99cb43468b11ff7c41799">pi_accept_to</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, 0, 0, <a class="code hl_variable" href="plu__args_8c.html#ae757b141cd092ec3fd625514b81f5902">plu_timeout</a>);</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> &lt; 0) {</div>
<div class="line"><span class="lineno">   82</span>        fprintf(stderr, <span class="stringliteral">&quot;\n   Error accepting data on %s\n&quot;</span>, <a class="code hl_variable" href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a>);</div>
<div class="line"><span class="lineno">   83</span>        <a class="code hl_function" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   85</span>    }</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="plu__args_8c.html#a1a6d0a9c086a2017365a2a0a182fe5e2">plu_quiet</a> &amp;&amp; isatty(fileno(stdout))) {</div>
<div class="line"><span class="lineno">   88</span>        printf(<span class="stringliteral">&quot;connected!\n\n&quot;</span>);</div>
<div class="line"><span class="lineno">   89</span>    }</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="dlp_8c.html#a9f0c8f272d342b38d3c05c2e1906d08d">dlp_ReadSysInfo</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, &amp;sys_info) &lt; 0) {</div>
<div class="line"><span class="lineno">   92</span>        fprintf(stderr, <span class="stringliteral">&quot;\n   Error read system info on %s\n&quot;</span>, <a class="code hl_variable" href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a>);</div>
<div class="line"><span class="lineno">   93</span>        <a class="code hl_function" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   95</span>    }</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_function" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b">dlp_OpenConduit</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>;</div>
<div class="line"><span class="lineno">   99</span>}</div>
<div class="ttc" id="adlp_8c_html_a9f0c8f272d342b38d3c05c2e1906d08d"><div class="ttname"><a href="dlp_8c.html#a9f0c8f272d342b38d3c05c2e1906d08d">dlp_ReadSysInfo</a></div><div class="ttdeci">int dlp_ReadSysInfo(int sd, struct SysInfo *s)</div><div class="ttdef"><b>Definition</b> dlp.c:965</div></div>
<div class="ttc" id="adlp_8c_html_ae7892afecc1f271dac5596703412a63b"><div class="ttname"><a href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b">dlp_OpenConduit</a></div><div class="ttdeci">int dlp_OpenConduit(int sd)</div><div class="ttdef"><b>Definition</b> dlp.c:1880</div></div>
<div class="ttc" id="apilot-xfer_8c_html_a06b0afe769d54ae94259d8532bc878b0"><div class="ttname"><a href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a></div><div class="ttdeci">int sd</div><div class="ttdef"><b>Definition</b> pilot-xfer.c:107</div></div>
<div class="ttc" id="aplu__args_8c_html_a1a6d0a9c086a2017365a2a0a182fe5e2"><div class="ttname"><a href="plu__args_8c.html#a1a6d0a9c086a2017365a2a0a182fe5e2">plu_quiet</a></div><div class="ttdeci">int plu_quiet</div><div class="ttdef"><b>Definition</b> plu_args.c:33</div></div>
<div class="ttc" id="aplu__args_8c_html_ad28b252deb67612c715dbcd824899f01"><div class="ttname"><a href="plu__args_8c.html#ad28b252deb67612c715dbcd824899f01">plu_port</a></div><div class="ttdeci">char * plu_port</div><div class="ttdef"><b>Definition</b> plu_args.c:31</div></div>
<div class="ttc" id="aplu__args_8c_html_ae757b141cd092ec3fd625514b81f5902"><div class="ttname"><a href="plu__args_8c.html#ae757b141cd092ec3fd625514b81f5902">plu_timeout</a></div><div class="ttdeci">int plu_timeout</div><div class="ttdef"><b>Definition</b> plu_args.c:32</div></div>
<div class="ttc" id="asocket_8c_html_a251bfe75de5f2d1c4ff58701c887a4e0"><div class="ttname"><a href="socket_8c.html#a251bfe75de5f2d1c4ff58701c887a4e0">pi_listen</a></div><div class="ttdeci">int pi_listen(int pi_sd, int backlog)</div><div class="ttdef"><b>Definition</b> socket.c:1105</div></div>
<div class="ttc" id="asocket_8c_html_a822f6b3639c99cb43468b11ff7c41799"><div class="ttname"><a href="socket_8c.html#a822f6b3639c99cb43468b11ff7c41799">pi_accept_to</a></div><div class="ttdeci">int pi_accept_to(int pi_sd, struct sockaddr *addr, size_t *addrlen, int timeout)</div><div class="ttdef"><b>Definition</b> socket.c:1124</div></div>
<div class="ttc" id="asocket_8c_html_aa2d1d1b59340099588ea7bc15508745b"><div class="ttname"><a href="socket_8c.html#aa2d1d1b59340099588ea7bc15508745b">pi_socket</a></div><div class="ttdeci">int pi_socket(int domain, int type, int protocol)</div><div class="ttdef"><b>Definition</b> socket.c:898</div></div>
<div class="ttc" id="asocket_8c_html_acc90bbb82f9a58d3635166976e9f3484"><div class="ttname"><a href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a></div><div class="ttdeci">int pi_close(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1415</div></div>
<div class="ttc" id="asocket_8c_html_affbe18c8f2af556dffc3ac354fbf957d"><div class="ttname"><a href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d">pi_bind</a></div><div class="ttdeci">int pi_bind(int pi_sd, const char *port)</div><div class="ttdef"><b>Definition</b> socket.c:1084</div></div>
<div class="ttc" id="auserland_8c_html_a249f898bf760eca180f49b984f2de360"><div class="ttname"><a href="#a249f898bf760eca180f49b984f2de360">env_pilotport</a></div><div class="ttdeci">static const char * env_pilotport</div><div class="ttdef"><b>Definition</b> userland.c:35</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01880">dlp_OpenConduit()</a>, <a class="el" href="#l00965">dlp_ReadSysInfo()</a>, <a class="el" href="#l00035">env_pilotport</a>, <a class="el" href="#l01124">pi_accept_to()</a>, <a class="el" href="#l01084">pi_bind()</a>, <a class="el" href="#l01415">pi_close()</a>, <a class="el" href="#l01105">pi_listen()</a>, <a class="el" href="#l00898">pi_socket()</a>, <a class="el" href="#l00031">plu_port</a>, <a class="el" href="#l00033">plu_quiet</a>, <a class="el" href="#l00032">plu_timeout</a>, and <a class="el" href="#l00107">sd</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00961">bindCmd()</a>, <a class="el" href="#l00677">CreateSocket()</a>, <a class="el" href="#l00289">do_fetch()</a>, <a class="el" href="#l00148">main()</a>, <a class="el" href="#l00148">main()</a>, and <a class="el" href="#l00612">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="userland_8c_a21d841df63f1c93b1fc98b4b4a8b0bbc_cgraph.png" border="0" usemap="#auserland_8c_a21d841df63f1c93b1fc98b4b4a8b0bbc_cgraph" alt=""/></div>
<map name="auserland_8c_a21d841df63f1c93b1fc98b4b4a8b0bbc_cgraph" id="auserland_8c_a21d841df63f1c93b1fc98b4b4a8b0bbc_cgraph">
<area shape="rect" title=" " alt="" coords="5,408,97,434"/>
<area shape="rect" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b" title=" " alt="" coords="748,397,869,423"/>
<area shape="poly" title=" " alt="" coords="97,418,318,418,486,418,732,411,733,417,486,423,318,424,97,424"/>
<area shape="rect" href="dlp_8c.html#a9f0c8f272d342b38d3c05c2e1906d08d" title=" " alt="" coords="748,471,869,496"/>
<area shape="poly" title=" " alt="" coords="91,432,193,460,255,471,318,476,486,476,732,479,732,484,486,481,318,481,254,476,191,465,89,437"/>
<area shape="rect" href="socket_8c.html#a822f6b3639c99cb43468b11ff7c41799" title=" " alt="" coords="437,56,532,82"/>
<area shape="poly" title=" " alt="" coords="55,406,87,343,112,303,143,267,215,206,294,155,370,114,433,86,436,91,373,119,297,159,218,210,147,271,117,306,92,345,60,409"/>
<area shape="rect" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484" title=" " alt="" coords="606,1093,676,1119"/>
<area shape="poly" title=" " alt="" coords="66,432,620,1080,616,1083,62,436"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="152,319,214,344"/>
<area shape="poly" title=" " alt="" coords="70,405,149,351,152,355,73,410"/>
<area shape="rect" href="socket_8c.html#a251bfe75de5f2d1c4ff58701c887a4e0" title=" " alt="" coords="284,232,354,258"/>
<area shape="poly" title=" " alt="" coords="57,406,90,357,115,329,143,304,174,286,206,271,268,252,270,257,208,276,176,290,146,308,118,332,95,360,62,409"/>
<area shape="rect" href="socket_8c.html#aa2d1d1b59340099588ea7bc15508745b" title=" " alt="" coords="145,1345,222,1371"/>
<area shape="poly" title=" " alt="" coords="57,434,181,1329,175,1330,52,434"/>
<area shape="poly" title=" " alt="" coords="780,398,775,389,778,379,790,373,809,371,829,373,840,380,837,384,827,378,809,376,791,378,782,383,780,388,785,396"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="963,611,1037,636"/>
<area shape="poly" title=" " alt="" coords="871,420,890,432,911,460,920,486,925,514,939,546,978,598,974,601,934,549,920,516,914,488,907,462,887,436,868,425"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1635,615,1724,640"/>
<area shape="poly" title=" " alt="" coords="817,395,863,343,897,315,935,294,970,285,999,284,1064,294,1146,310,1250,336,1352,367,1430,398,1477,426,1510,452,1581,519,1659,601,1655,605,1577,523,1507,456,1474,430,1427,403,1351,372,1248,341,1145,315,1063,299,999,289,971,290,937,299,900,320,867,347,821,399"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="1319,312,1399,338"/>
<area shape="poly" title=" " alt="" coords="813,395,829,364,855,323,891,282,912,264,935,250,987,233,1041,226,1096,229,1150,238,1201,252,1248,269,1322,302,1320,307,1246,274,1199,257,1149,243,1095,234,1041,232,988,238,937,255,915,269,894,286,860,326,834,366,818,398"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="941,460,1059,486"/>
<area shape="poly" title=" " alt="" coords="856,421,889,432,948,452,946,457,887,437,854,426"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="940,509,1060,535"/>
<area shape="poly" title=" " alt="" coords="870,421,890,432,906,448,915,465,923,480,938,496,943,500,940,504,935,500,919,484,910,467,902,451,887,436,867,426"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="936,411,1064,436"/>
<area shape="poly" title=" " alt="" coords="870,412,921,415,921,421,870,417"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="946,309,1054,335"/>
<area shape="poly" title=" " alt="" coords="838,394,955,340,957,344,840,399"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="1115,813,1238,839"/>
<area shape="poly" title=" " alt="" coords="1015,635,1157,800,1152,803,1011,639"/>
<area shape="poly" title=" " alt="" coords="1006,636,1015,679,1034,738,1048,769,1066,800,1087,827,1113,849,1136,863,1156,870,1195,873,1238,868,1290,866,1376,874,1445,880,1477,877,1508,869,1541,853,1577,828,1596,810,1613,788,1640,741,1658,694,1670,655,1675,656,1663,696,1645,743,1618,791,1600,813,1580,832,1544,858,1510,874,1478,883,1445,885,1375,880,1290,871,1238,874,1196,878,1155,875,1134,868,1110,854,1083,830,1061,803,1043,772,1029,740,1010,680,1001,637"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="1112,613,1242,639"/>
<area shape="poly" title=" " alt="" coords="1037,621,1096,622,1096,628,1037,627"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="1290,515,1428,540"/>
<area shape="poly" title=" " alt="" coords="1036,611,1293,542,1294,547,1038,617"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="1316,764,1403,790"/>
<area shape="poly" title=" " alt="" coords="1227,810,1300,790,1301,795,1228,815"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1326,1016,1392,1042"/>
<area shape="poly" title=" " alt="" coords="1192,838,1338,1003,1334,1006,1188,841"/>
<area shape="poly" title=" " alt="" coords="1214,837,1258,850,1313,860,1371,861,1400,857,1427,849,1466,831,1503,808,1568,754,1621,697,1658,651,1662,655,1625,701,1572,758,1506,813,1468,836,1429,854,1401,862,1371,866,1312,865,1257,855,1213,842"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="1326,813,1392,839"/>
<area shape="poly" title=" " alt="" coords="1239,824,1311,824,1311,829,1239,829"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1798,388,1903,414"/>
<area shape="poly" title=" " alt="" coords="1393,1030,1434,1032,1482,1029,1532,1018,1556,1008,1577,995,1612,965,1644,932,1699,858,1743,777,1778,693,1804,612,1823,537,1843,429,1848,430,1828,539,1810,613,1783,695,1748,779,1703,861,1648,936,1616,969,1580,999,1558,1013,1534,1023,1483,1035,1434,1038,1393,1036"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1478,1067,1577,1092"/>
<area shape="poly" title=" " alt="" coords="1394,1036,1469,1059,1467,1064,1392,1041"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1975,1396,2081,1422"/>
<area shape="poly" title=" " alt="" coords="1855,414,1861,580,1880,858,1895,1009,1915,1150,1940,1270,1954,1318,1971,1356,1981,1371,1995,1384,1991,1388,1977,1375,1966,1358,1949,1319,1935,1271,1909,1151,1889,1009,1874,859,1856,580,1849,414"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1968,1319,2088,1344"/>
<area shape="poly" title=" " alt="" coords="1854,414,1856,575,1870,842,1884,985,1905,1119,1933,1230,1951,1273,1971,1306,1971,1307,1967,1310,1966,1309,1946,1275,1928,1231,1899,1120,1879,986,1864,843,1851,575,1849,414"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1984,388,2072,414"/>
<area shape="poly" title=" " alt="" coords="1903,398,1969,398,1969,404,1903,404"/>
<area shape="poly" title=" " alt="" coords="1688,613,1828,425,1832,428,1692,616"/>
<area shape="poly" title=" " alt="" coords="1194,637,1235,670,1262,686,1291,698,1338,708,1387,710,1436,706,1484,698,1571,672,1638,645,1640,650,1573,677,1485,703,1437,712,1387,716,1338,713,1289,703,1259,691,1232,675,1190,641"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="1312,413,1406,439"/>
<area shape="poly" title=" " alt="" coords="1188,611,1334,449,1338,453,1192,615"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="1294,663,1424,688"/>
<area shape="poly" title=" " alt="" coords="1228,637,1295,655,1293,661,1227,642"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="1309,564,1409,590"/>
<area shape="poly" title=" " alt="" coords="1227,610,1293,592,1295,597,1228,615"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="1308,613,1410,639"/>
<area shape="poly" title=" " alt="" coords="1243,624,1292,624,1292,629,1243,629"/>
<area shape="poly" title=" " alt="" coords="1208,610,1240,592,1264,570,1288,549,1297,545,1300,549,1292,554,1267,574,1244,596,1210,615"/>
<area shape="poly" title=" " alt="" coords="1181,612,1221,520,1252,459,1288,399,1331,347,1336,350,1292,402,1256,462,1225,523,1186,614"/>
<area shape="poly" title=" " alt="" coords="1412,511,1782,415,1783,421,1413,517"/>
<area shape="poly" title=" " alt="" coords="1400,325,1547,339,1640,351,1733,366,1792,381,1791,386,1731,371,1639,356,1546,344,1400,330"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="1476,363,1579,388"/>
<area shape="poly" title=" " alt="" coords="1401,334,1469,355,1467,360,1399,339"/>
<area shape="poly" title=" " alt="" coords="1579,377,1782,393,1782,398,1579,382"/>
<area shape="poly" title=" " alt="" coords="1539,388,1581,457,1665,600,1660,603,1576,460,1535,390"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="1131,411,1223,436"/>
<area shape="poly" title=" " alt="" coords="1048,457,1115,438,1116,443,1050,462"/>
<area shape="poly" title=" " alt="" coords="1051,506,1296,440,1298,445,1052,511"/>
<area shape="poly" title=" " alt="" coords="1041,506,1062,496,1086,475,1110,453,1130,442,1133,446,1113,458,1090,479,1065,500,1044,511"/>
<area shape="poly" title=" " alt="" coords="1064,421,1115,421,1115,426,1064,426"/>
<area shape="poly" title=" " alt="" coords="1031,306,1149,263,1233,239,1328,219,1429,206,1533,205,1585,210,1636,219,1685,234,1733,253,1769,277,1799,309,1822,343,1839,373,1834,375,1818,345,1795,312,1766,281,1731,258,1684,239,1635,225,1584,215,1533,210,1429,211,1329,224,1234,244,1151,268,1033,311"/>
<area shape="poly" title=" " alt="" coords="835,495,890,534,914,562,923,575,938,589,955,601,952,605,935,594,919,579,910,566,887,537,832,499"/>
<area shape="poly" title=" " alt="" coords="832,468,887,433,910,414,935,396,1010,366,1109,337,1210,312,1290,297,1415,284,1514,286,1612,304,1733,340,1777,357,1816,377,1813,382,1774,362,1731,345,1610,310,1513,291,1415,289,1290,302,1211,317,1111,342,1012,371,938,401,913,418,890,438,835,472"/>
<area shape="poly" title=" " alt="" coords="830,494,877,522,907,535,937,545,1010,555,1073,552,1129,540,1181,522,1234,505,1291,492,1355,489,1429,500,1493,520,1554,548,1648,604,1646,608,1551,553,1491,525,1428,505,1354,494,1292,498,1236,510,1183,528,1130,545,1074,557,1010,561,936,550,905,540,875,527,828,499"/>
<area shape="poly" title=" " alt="" coords="870,477,926,474,926,480,870,483"/>
<area shape="poly" title=" " alt="" coords="870,493,926,505,925,510,869,498"/>
<area shape="poly" title=" " alt="" coords="852,467,941,439,943,444,853,473"/>
<area shape="poly" title=" " alt="" coords="838,468,863,453,886,434,902,413,909,393,918,373,934,352,949,341,953,345,938,356,922,376,914,395,906,416,890,437,866,457,841,472"/>
<area shape="poly" title=" " alt="" coords="780,472,775,462,778,452,790,446,809,444,829,447,840,453,837,458,827,452,809,449,791,451,782,456,780,461,785,469"/>
<area shape="poly" title=" " alt="" coords="533,66,807,66,1529,66,1638,61,1661,63,1684,69,1708,81,1734,99,1763,128,1788,163,1807,200,1822,239,1841,314,1849,372,1844,373,1836,315,1817,241,1802,202,1783,165,1759,132,1730,103,1705,85,1682,74,1660,68,1638,66,1529,71,807,72,533,72"/>
<area shape="rect" href="socket_8c.html#a74cb1559592c8a983bfe0c9b0d04e689" title=" " alt="" coords="601,5,681,31"/>
<area shape="poly" title=" " alt="" coords="526,53,585,33,587,38,527,58"/>
<area shape="poly" title=" " alt="" coords="504,80,531,107,555,144,569,182,580,229,600,344,615,480,626,624,638,897,642,1078,637,1078,633,898,621,624,610,480,595,345,575,230,563,183,550,146,527,111,500,84"/>
<area shape="poly" title=" " alt="" coords="662,1117,693,1137,730,1153,803,1172,862,1179,999,1178,1529,1178,1594,1175,1644,1161,1666,1149,1687,1132,1730,1085,1744,1061,1757,1031,1781,955,1800,862,1815,761,1836,566,1845,429,1850,430,1841,567,1820,762,1805,863,1786,956,1762,1033,1749,1064,1734,1088,1691,1136,1669,1153,1646,1166,1595,1180,1529,1183,999,1183,862,1184,802,1177,728,1158,690,1141,659,1122"/>
<area shape="poly" title=" " alt="" coords="649,1118,677,1176,701,1208,731,1235,836,1298,931,1341,1019,1368,1106,1382,1195,1387,1292,1386,1526,1381,1681,1381,1831,1387,1960,1398,1960,1404,1831,1392,1681,1386,1526,1386,1292,1391,1195,1392,1105,1387,1018,1373,929,1346,834,1302,727,1239,697,1212,673,1179,645,1121"/>
<area shape="poly" title=" " alt="" coords="654,1117,685,1152,706,1170,730,1185,801,1214,859,1227,921,1229,999,1229,1681,1229,1805,1224,1858,1230,1922,1254,1938,1266,1947,1279,1956,1292,1970,1305,1976,1309,1973,1314,1967,1310,1952,1296,1943,1282,1934,1270,1919,1259,1857,1235,1805,1229,1681,1234,999,1234,921,1235,859,1232,799,1220,728,1190,703,1175,681,1156,650,1121"/>
<area shape="poly" title=" " alt="" coords="657,1091,689,1070,728,1053,773,1042,809,1036,846,1040,889,1053,905,1063,914,1075,923,1087,937,1096,1007,1116,1080,1128,1154,1132,1227,1131,1296,1125,1360,1115,1463,1094,1464,1099,1361,1121,1297,1130,1227,1136,1154,1138,1079,1133,1006,1122,935,1101,920,1091,910,1078,902,1067,887,1058,845,1045,810,1042,774,1047,730,1058,691,1075,660,1095"/>
<area shape="rect" href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43" title=" " alt="" coords="752,572,865,598"/>
<area shape="poly" title=" " alt="" coords="644,1092,796,612,801,613,649,1094"/>
<area shape="rect" href="socket_8c.html#ab636d5244f935701991791240583295a" title=" " alt="" coords="729,1068,888,1094"/>
<area shape="poly" title=" " alt="" coords="676,1098,713,1093,714,1098,676,1104"/>
<area shape="rect" href="socket_8c.html#af6e9a4a5aabc48480dbd6961d24819ec" title=" " alt="" coords="754,1117,863,1143"/>
<area shape="poly" title=" " alt="" coords="676,1108,739,1118,738,1123,676,1114"/>
<area shape="poly" title=" " alt="" coords="866,594,949,611,948,616,865,599"/>
<area shape="poly" title=" " alt="" coords="813,598,819,660,837,754,853,806,874,857,903,905,938,947,1015,1016,1090,1072,1162,1115,1236,1143,1312,1156,1393,1154,1481,1136,1578,1102,1632,1075,1670,1044,1699,1005,1730,950,1763,879,1789,805,1809,728,1824,654,1840,521,1846,429,1851,429,1846,521,1829,655,1814,730,1794,806,1768,882,1734,953,1703,1007,1673,1048,1635,1079,1580,1107,1483,1141,1394,1159,1312,1161,1235,1148,1160,1119,1087,1077,1012,1021,934,951,898,908,870,860,848,808,832,756,814,661,808,598"/>
<area shape="poly" title=" " alt="" coords="817,597,854,685,886,747,927,812,976,874,1004,902,1034,926,1067,947,1101,962,1137,972,1176,976,1360,976,1428,972,1481,958,1527,929,1577,883,1599,857,1617,827,1645,764,1662,704,1672,655,1677,656,1668,705,1650,766,1622,830,1603,860,1581,887,1530,934,1483,962,1429,977,1361,981,1175,981,1136,977,1099,967,1064,951,1031,931,1001,906,972,878,922,815,881,750,849,687,812,599"/>
<area shape="poly" title=" " alt="" coords="825,569,873,533,935,495,945,490,947,494,938,499,876,538,828,574"/>
<area shape="poly" title=" " alt="" coords="850,569,943,538,945,543,851,574"/>
<area shape="poly" title=" " alt="" coords="823,569,886,507,908,475,918,460,935,445,940,442,943,446,938,450,922,464,913,478,890,511,827,573"/>
<area shape="poly" title=" " alt="" coords="825,570,856,543,886,507,902,478,911,453,919,428,934,397,974,345,978,348,939,400,924,430,916,455,907,480,891,510,859,546,829,574"/>
<area shape="poly" title=" " alt="" coords="780,573,775,563,778,554,790,548,809,545,829,548,840,555,837,559,827,553,809,551,791,553,782,557,780,563,785,570"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="270,281,368,307"/>
<area shape="poly" title=" " alt="" coords="214,320,255,309,256,314,216,326"/>
<area shape="poly" title=" " alt="" coords="369,294,455,296,552,292,648,278,728,261,863,219,928,200,998,183,1079,172,1175,168,1529,168,1589,168,1637,173,1683,188,1734,219,1772,254,1802,296,1825,337,1841,373,1836,375,1821,340,1798,298,1768,257,1730,223,1680,193,1636,178,1589,173,1529,173,1176,173,1079,177,999,188,929,205,864,224,729,266,649,284,553,297,455,301,369,300"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="416,256,553,282"/>
<area shape="poly" title=" " alt="" coords="368,284,401,279,401,284,369,289"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="432,357,537,383"/>
<area shape="poly" title=" " alt="" coords="350,305,442,348,440,353,348,310"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="427,157,542,183"/>
<area shape="poly" title=" " alt="" coords="351,279,367,268,382,249,389,230,398,211,415,192,419,189,422,193,418,196,402,214,394,233,386,252,370,272,354,283"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="432,207,537,232"/>
<area shape="poly" title=" " alt="" coords="346,279,367,268,415,241,427,236,429,241,418,246,370,273,349,283"/>
<area shape="poly" title=" " alt="" coords="327,230,361,186,386,162,415,142,474,120,524,113,640,117,1529,117,1590,118,1639,125,1684,143,1734,177,1756,199,1776,223,1808,277,1830,329,1844,372,1839,374,1825,331,1803,279,1772,226,1752,203,1730,182,1681,147,1638,130,1590,123,1529,122,639,122,524,118,476,125,418,147,389,166,365,189,331,233"/>
<area shape="rect" href="socket_8c.html#aeb6cb5d5a1d0d9e5ed6222318ec7e2fe" title=" " alt="" coords="1627,1572,1732,1598"/>
<area shape="poly" title=" " alt="" coords="195,1369,233,1423,263,1458,298,1494,338,1528,383,1556,432,1575,483,1582,1360,1582,1611,1582,1611,1588,1360,1588,483,1587,430,1580,381,1561,335,1532,294,1498,259,1462,229,1426,190,1373"/>
<area shape="rect" href="socket_8c.html#adb4121505778ba4f07deb4ffd88a8a5e" title=" " alt="" coords="281,1371,357,1396"/>
<area shape="poly" title=" " alt="" coords="223,1363,266,1371,265,1376,222,1368"/>
<area shape="rect" href="socket_8c.html#aeb10f9e94747279130170a2e215372b2" title=" " alt="" coords="1780,1269,1920,1295"/>
<area shape="poly" title=" " alt="" coords="222,1350,338,1337,483,1330,810,1330,894,1328,964,1322,1084,1305,1203,1287,1274,1282,1358,1280,1529,1280,1765,1280,1765,1285,1529,1285,1358,1285,1274,1287,1204,1293,1084,1310,965,1328,894,1333,810,1335,483,1335,339,1343,223,1356"/>
<area shape="rect" href="debug_8c.html#abd03666d15449d894636a7ecfbcf65dd" title=" " alt="" coords="1789,1421,1911,1447"/>
<area shape="poly" title=" " alt="" coords="1685,1570,1720,1516,1747,1484,1778,1456,1784,1452,1787,1457,1782,1460,1751,1487,1725,1519,1690,1573"/>
<area shape="rect" href="debug_8c.html#a55d56e02de746d38beb2cba0dc738407" title=" " alt="" coords="1784,1471,1916,1496"/>
<area shape="poly" title=" " alt="" coords="1702,1569,1813,1502,1816,1507,1704,1574"/>
<area shape="rect" href="debug_8c.html#aed5adc39777c9433f1ed3d0ceb1fb6b6" title=" " alt="" coords="1782,1572,1919,1598"/>
<area shape="poly" title=" " alt="" coords="1732,1582,1766,1582,1766,1588,1732,1588"/>
<area shape="rect" href="utils_8c.html#a5ffaef3fc3f7ddb9856ccd4bcb79e9bc" title=" " alt="" coords="1822,1621,1879,1647"/>
<area shape="poly" title=" " alt="" coords="1727,1596,1807,1619,1806,1624,1726,1601"/>
<area shape="poly" title=" " alt="" coords="1911,1423,1960,1416,1961,1421,1912,1428"/>
<area shape="poly" title=" " alt="" coords="1873,1418,1990,1350,1992,1355,1876,1423"/>
<area shape="poly" title=" " alt="" coords="1892,1468,1919,1457,1986,1426,1988,1431,1921,1462,1893,1473"/>
<area shape="poly" title=" " alt="" coords="1901,1468,1919,1457,1935,1440,1944,1422,1952,1403,1966,1382,1996,1353,1999,1357,1970,1385,1957,1406,1949,1425,1940,1443,1922,1462,1904,1472"/>
<area shape="rect" href="socket_8c.html#a99c531b7eca6aacaf6a3c2fdac7cf5de" title=" " alt="" coords="456,1371,513,1396"/>
<area shape="poly" title=" " alt="" coords="358,1381,441,1381,441,1386,358,1386"/>
<area shape="poly" title=" " alt="" coords="503,1395,551,1432,624,1477,667,1498,712,1515,759,1527,807,1532,1681,1532,1804,1536,1856,1529,1919,1506,1945,1491,1969,1472,2006,1432,2010,1436,1973,1476,1948,1496,1921,1511,1857,1534,1804,1541,1681,1537,807,1537,759,1532,711,1520,665,1503,621,1482,548,1436,500,1399"/>
<area shape="poly" title=" " alt="" coords="513,1381,807,1381,1001,1381,1081,1379,1149,1373,1263,1356,1378,1338,1446,1332,1526,1330,1681,1330,1953,1329,1953,1335,1681,1335,1526,1335,1446,1338,1379,1343,1264,1361,1150,1378,1082,1384,1001,1386,807,1386,513,1386"/>
<area shape="poly" title=" " alt="" coords="491,1369,622,1131,627,1134,496,1371"/>
<area shape="poly" title=" " alt="" coords="1871,1293,1998,1385,1995,1389,1868,1297"/>
<area shape="poly" title=" " alt="" coords="1900,1293,1965,1311,1964,1317,1899,1298"/>
<area shape="rect" href="socket_8c.html#a42a997ae220c4f9cc036af1af32b03f6" title=" " alt="" coords="1974,1269,2082,1295"/>
<area shape="poly" title=" " alt="" coords="1921,1280,1958,1280,1958,1285,1921,1285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="userland_8c_a21d841df63f1c93b1fc98b4b4a8b0bbc_icgraph.png" border="0" usemap="#auserland_8c_a21d841df63f1c93b1fc98b4b4a8b0bbc_icgraph" alt=""/></div>
<map name="auserland_8c_a21d841df63f1c93b1fc98b4b4a8b0bbc_icgraph" id="auserland_8c_a21d841df63f1c93b1fc98b4b4a8b0bbc_icgraph">
<area shape="rect" title=" " alt="" coords="472,129,564,155"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="337,5,410,31"/>
<area shape="poly" title=" " alt="" coords="496,119,464,81,423,44,405,34,408,29,426,40,467,78,500,115"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="323,55,424,80"/>
<area shape="poly" title=" " alt="" coords="478,124,423,94,402,83,404,79,426,89,481,119"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="338,104,409,130"/>
<area shape="poly" title=" " alt="" coords="456,134,409,126,410,120,457,129"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="349,153,398,179"/>
<area shape="poly" title=" " alt="" coords="458,155,399,165,399,159,457,150"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="349,203,398,228"/>
<area shape="poly" title=" " alt="" coords="480,165,426,194,400,207,397,202,423,189,478,160"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="349,252,398,278"/>
<area shape="poly" title=" " alt="" coords="499,169,467,206,426,243,400,258,397,253,423,239,463,202,495,166"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,5,273,31"/>
<area shape="poly" title=" " alt="" coords="317,52,265,34,267,29,319,47"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,55,275,80"/>
<area shape="poly" title=" " alt="" coords="307,70,275,70,275,65,307,65"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,31,127,56"/>
<area shape="poly" title=" " alt="" coords="162,31,128,36,127,31,161,26"/>
<area shape="poly" title=" " alt="" coords="159,60,126,55,127,50,160,55"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,104,250,130"/>
<area shape="poly" title=" " alt="" coords="323,120,250,120,250,114,323,114"/>
</map>
</div>

</div>
</div>
<a id="a6fbe6f157495a36157aa4b226cc01d99" name="a6fbe6f157495a36157aa4b226cc01d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fbe6f157495a36157aa4b226cc01d99">&#9670;&#160;</a></span>plu_findcategory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int plu_findcategory </td>
          <td>(</td>
          <td class="paramtype">const struct CategoryAppInfo *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  103</span>{</div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordtype">int</span> cat_index, match_category;</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    match_category = -1;</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">for</span> (cat_index = 0; cat_index &lt; 16; cat_index += 1) {</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">if</span> (info-&gt;name[cat_index][0]) {</div>
<div class="line"><span class="lineno">  109</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> &amp; PLU_CAT_CASE_INSENSITIVE) {</div>
<div class="line"><span class="lineno">  110</span>                <span class="keywordflow">if</span> (strncasecmp(info-&gt;name[cat_index], <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, 15) == 0) {</div>
<div class="line"><span class="lineno">  111</span>                    match_category = cat_index;</div>
<div class="line"><span class="lineno">  112</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  113</span>                }</div>
<div class="line"><span class="lineno">  114</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  115</span>                <span class="keywordflow">if</span> (strncmp(info-&gt;name[cat_index],<a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,15) == 0) {</div>
<div class="line"><span class="lineno">  116</span>                    match_category = cat_index;</div>
<div class="line"><span class="lineno">  117</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  118</span>                }</div>
<div class="line"><span class="lineno">  119</span>            }</div>
<div class="line"><span class="lineno">  120</span>        }</div>
<div class="line"><span class="lineno">  121</span>    }</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">if</span> ((match_category == -1)  &amp;&amp; (<a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> &amp; PLU_CAT_MATCH_NUMBERS)) {</div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">while</span> (isspace(*<a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)) {</div>
<div class="line"><span class="lineno">  125</span>            <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>++;</div>
<div class="line"><span class="lineno">  126</span>        }</div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">if</span> (isdigit(*<a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)) {</div>
<div class="line"><span class="lineno">  128</span>            match_category = atoi(<a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>);</div>
<div class="line"><span class="lineno">  129</span>        }</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">if</span> ((match_category &lt; 0) || (match_category &gt; 15)) {</div>
<div class="line"><span class="lineno">  132</span>            match_category = -1;</div>
<div class="line"><span class="lineno">  133</span>        }</div>
<div class="line"><span class="lineno">  134</span>    }</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> &amp; PLU_CAT_WARN_UNKNOWN) {</div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">if</span> (match_category == -1) {</div>
<div class="line"><span class="lineno">  138</span>            fprintf(stderr,<span class="stringliteral">&quot;   WARNING: Unknown category &#39;%s&#39;%s.\n&quot;</span>,</div>
<div class="line"><span class="lineno">  139</span>                <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,</div>
<div class="line"><span class="lineno">  140</span>                (<a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> &amp; PLU_CAT_DEFAULT_UNFILED) ? <span class="stringliteral">&quot;, using &#39;Unfiled&#39;&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  141</span>        }</div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> &amp; PLU_CAT_DEFAULT_UNFILED) {</div>
<div class="line"><span class="lineno">  145</span>        <span class="keywordflow">if</span> (match_category == -1) {</div>
<div class="line"><span class="lineno">  146</span>            match_category = 0;</div>
<div class="line"><span class="lineno">  147</span>        }</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">return</span> match_category;</div>
<div class="line"><span class="lineno">  151</span>}</div>
<div class="ttc" id="adarwinusb_8c_html_a1cbb17ede73ea044a04a129bf4d86976"><div class="ttname"><a href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a></div><div class="ttdeci">unsigned short flags</div><div class="ttdef"><b>Definition</b> darwinusb.c:311</div></div>
<div class="ttc" id="apilot-debug_8c_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition</b> pilot-debug.c:1566</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00311">flags</a>, and <a class="el" href="#l01566">name</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00148">main()</a>, <a class="el" href="#l00612">main()</a>, and <a class="el" href="#l00332">read_file()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="userland_8c_a6fbe6f157495a36157aa4b226cc01d99_icgraph.png" border="0" usemap="#auserland_8c_a6fbe6f157495a36157aa4b226cc01d99_icgraph" alt=""/></div>
<map name="auserland_8c_a6fbe6f157495a36157aa4b226cc01d99_icgraph" id="auserland_8c_a6fbe6f157495a36157aa4b226cc01d99_icgraph">
<area shape="rect" title=" " alt="" coords="221,56,337,82"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="113,5,162,31"/>
<area shape="poly" title=" " alt="" coords="226,53,162,29,164,24,228,48"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,81,55,107"/>
<area shape="poly" title=" " alt="" coords="206,79,55,94,55,89,206,74"/>
<area shape="rect" href="pilot-addresses_8c.html#a583e3d8ca07f041caf9e6e628dcb9d00" title=" " alt="" coords="103,107,173,132"/>
<area shape="poly" title=" " alt="" coords="228,90,174,110,172,105,226,85"/>
<area shape="poly" title=" " alt="" coords="87,110,55,103,56,97,88,105"/>
</map>
</div>

</div>
</div>
<a id="ae82e14b07cad44d7f86d1a3bffd28472" name="ae82e14b07cad44d7f86d1a3bffd28472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae82e14b07cad44d7f86d1a3bffd28472">&#9670;&#160;</a></span>plu_getromversion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int plu_getromversion </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">plu_romversion_t *</td>          <td class="paramname"><span class="paramname"><em>d</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  191</span>{</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ROMversion;</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> &lt; 0)  || !d) {</div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  196</span>    }</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespacepisock.html#a1a5ea09b959563c812c6421a65185956">dlp_ReadFeature</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_function" href="utils_8c.html#ab6082d4f9037299df5eb93840d48393b">makelong</a>(<span class="stringliteral">&quot;psys&quot;</span>), 1, &amp;ROMversion) &lt; 0) {</div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  200</span>    }</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    d-&gt;major =</div>
<div class="line"><span class="lineno">  203</span>        (((ROMversion &gt;&gt; 28) &amp; 0xf) * 10) + ((ROMversion &gt;&gt; 24) &amp; 0xf);</div>
<div class="line"><span class="lineno">  204</span>    d-&gt;minor = ((ROMversion &gt;&gt; 20) &amp; 0xf);</div>
<div class="line"><span class="lineno">  205</span>    d-&gt;bugfix = ((ROMversion &gt;&gt; 16) &amp; 0xf);</div>
<div class="line"><span class="lineno">  206</span>    d-&gt;state = ((ROMversion &gt;&gt; 12) &amp; 0xf);</div>
<div class="line"><span class="lineno">  207</span>    d-&gt;build =</div>
<div class="line"><span class="lineno">  208</span>        (((ROMversion &gt;&gt; 8) &amp; 0xf) * 100) +</div>
<div class="line"><span class="lineno">  209</span>        (((ROMversion &gt;&gt; 4) &amp; 0xf) * 10) + (ROMversion &amp; 0xf);</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>    memset(d-&gt;name,0,<span class="keyword">sizeof</span>(d-&gt;name));</div>
<div class="line"><span class="lineno">  212</span>    snprintf(d-&gt;name, <span class="keyword">sizeof</span>(d-&gt;name),<span class="stringliteral">&quot;%d.%d.%d&quot;</span>, d-&gt;major, d-&gt;minor, d-&gt;bugfix);</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">if</span> (d-&gt;state != 3) {</div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordtype">int</span> len = strlen(d-&gt;name);</div>
<div class="line"><span class="lineno">  216</span>        snprintf(d-&gt;name + len, <span class="keyword">sizeof</span>(d-&gt;name) - len,<span class="stringliteral">&quot;-%s%d&quot;</span>, (</div>
<div class="line"><span class="lineno">  217</span>            (d-&gt;state == 0) ? <span class="stringliteral">&quot;d&quot;</span> :</div>
<div class="line"><span class="lineno">  218</span>            (d-&gt;<a class="code hl_variable" href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a> == 1) ? <span class="stringliteral">&quot;a&quot;</span> :</div>
<div class="line"><span class="lineno">  219</span>            (d-&gt;<a class="code hl_variable" href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a> == 2) ? <span class="stringliteral">&quot;b&quot;</span> : <span class="stringliteral">&quot;u&quot;</span>), d-&gt;build);</div>
<div class="line"><span class="lineno">  220</span>    }</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  223</span>}</div>
<div class="ttc" id="anamespacepisock_html_a1a5ea09b959563c812c6421a65185956"><div class="ttname"><a href="namespacepisock.html#a1a5ea09b959563c812c6421a65185956">pisock.dlp_ReadFeature</a></div><div class="ttdeci">dlp_ReadFeature</div><div class="ttdef"><b>Definition</b> pisock.py:849</div></div>
<div class="ttc" id="apilot-debug_8c_html_a6e33650395d3b674e45b587e0ceef97b"><div class="ttname"><a href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a></div><div class="ttdeci">struct Pilot_state state</div><div class="ttdef"><b>Definition</b> pilot-debug.c:72</div></div>
<div class="ttc" id="autils_8c_html_ab6082d4f9037299df5eb93840d48393b"><div class="ttname"><a href="utils_8c.html#ab6082d4f9037299df5eb93840d48393b">makelong</a></div><div class="ttdeci">unsigned long makelong(char *c)</div><div class="ttdef"><b>Definition</b> utils.c:298</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00298">makelong()</a>, and <a class="el" href="#l00107">sd</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00066">check_romversion()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="userland_8c_ae82e14b07cad44d7f86d1a3bffd28472_cgraph.png" border="0" usemap="#auserland_8c_ae82e14b07cad44d7f86d1a3bffd28472_cgraph" alt=""/></div>
<map name="auserland_8c_ae82e14b07cad44d7f86d1a3bffd28472_cgraph" id="auserland_8c_ae82e14b07cad44d7f86d1a3bffd28472_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,31"/>
<area shape="rect" href="utils_8c.html#ab6082d4f9037299df5eb93840d48393b" title=" " alt="" coords="181,5,258,31"/>
<area shape="poly" title=" " alt="" coords="133,16,165,16,165,21,133,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="userland_8c_ae82e14b07cad44d7f86d1a3bffd28472_icgraph.png" border="0" usemap="#auserland_8c_ae82e14b07cad44d7f86d1a3bffd28472_icgraph" alt=""/></div>
<map name="auserland_8c_ae82e14b07cad44d7f86d1a3bffd28472_icgraph" id="auserland_8c_ae82e14b07cad44d7f86d1a3bffd28472_icgraph">
<area shape="rect" title=" " alt="" coords="415,31,543,56"/>
<area shape="rect" href="pilot-getrom_8c.html#af9a73ae2eff1060ddfff730f812db4a2" title=" " alt="" coords="240,31,367,56"/>
<area shape="poly" title=" " alt="" coords="400,46,367,46,367,41,400,41"/>
<area shape="rect" href="pilot-getrom_8c.html#a16b6c113ebaaf096fa74c2e8949ea40c" title=" " alt="" coords="103,5,192,31"/>
<area shape="poly" title=" " alt="" coords="224,33,192,28,193,23,225,28"/>
<area shape="rect" href="pilot-getrom_8c.html#a1d8f79b16f99255230068f8d6d442136" title=" " alt="" coords="103,55,192,80"/>
<area shape="poly" title=" " alt="" coords="225,58,193,63,192,58,224,53"/>
<area shape="rect" href="pilot-getrom_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,31,55,56"/>
<area shape="poly" title=" " alt="" coords="88,34,55,41,54,36,87,28"/>
<area shape="poly" title=" " alt="" coords="87,58,54,51,55,46,88,53"/>
</map>
</div>

</div>
</div>
<a id="a7edcd640bc7750f5279f3351f02e43c9" name="a7edcd640bc7750f5279f3351f02e43c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7edcd640bc7750f5279f3351f02e43c9">&#9670;&#160;</a></span>plu_protect_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int plu_protect_files </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>extension</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>namelength</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  155</span>{</div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordtype">char</span> *save_name;</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordtype">char</span> c=1;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    save_name = <a class="code hl_function" href="utils_8c.html#a5ffaef3fc3f7ddb9856ccd4bcb79e9bc">strdup</a>( <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a> );</div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">if</span> (NULL == save_name) {</div>
<div class="line"><span class="lineno">  161</span>        fprintf(stderr,<span class="stringliteral">&quot;   ERROR: No memory for filename %s%s\n&quot;</span>,<a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,extension);</div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  163</span>    }</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">/* 4 byes = _%02d and terminating NUL */</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">if</span> (strlen(save_name) + strlen(extension) + 4 &gt; namelength) {</div>
<div class="line"><span class="lineno">  167</span>        fprintf(stderr,<span class="stringliteral">&quot;   ERROR: Buffer for filename too small.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  168</span>        free(save_name);</div>
<div class="line"><span class="lineno">  169</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  170</span>    }</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>    snprintf(<a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,namelength,<span class="stringliteral">&quot;%s%s&quot;</span>,save_name,extension);</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">while</span> ( access( <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, F_OK ) == 0) {</div>
<div class="line"><span class="lineno">  175</span>        snprintf( <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, namelength, <span class="stringliteral">&quot;%s_%02d%s&quot;</span>, save_name, c, extension);</div>
<div class="line"><span class="lineno">  176</span>        c++;</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordflow">if</span> (c &gt;= 100) {</div>
<div class="line"><span class="lineno">  179</span>            fprintf(stderr,<span class="stringliteral">&quot;   ERROR: Could not generate filename (tried 100 times).\n&quot;</span>);</div>
<div class="line"><span class="lineno">  180</span>            free(save_name);</div>
<div class="line"><span class="lineno">  181</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  182</span>        }</div>
<div class="line"><span class="lineno">  183</span>    }</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>    free(save_name);</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  187</span>}</div>
<div class="ttc" id="autils_8c_html_a5ffaef3fc3f7ddb9856ccd4bcb79e9bc"><div class="ttname"><a href="utils_8c.html#a5ffaef3fc3f7ddb9856ccd4bcb79e9bc">strdup</a></div><div class="ttdeci">char * strdup(const char *s)</div><div class="ttdef"><b>Definition</b> utils.c:98</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01566">name</a>, and <a class="el" href="#l00098">strdup()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00312">output_picture()</a>, <a class="el" href="#l00317">write_all()</a>, <a class="el" href="#l00942">WritePicture()</a>, and <a class="el" href="#l00189">WritePictures()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="userland_8c_a7edcd640bc7750f5279f3351f02e43c9_cgraph.png" border="0" usemap="#auserland_8c_a7edcd640bc7750f5279f3351f02e43c9_cgraph" alt=""/></div>
<map name="auserland_8c_a7edcd640bc7750f5279f3351f02e43c9_cgraph" id="auserland_8c_a7edcd640bc7750f5279f3351f02e43c9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,122,31"/>
<area shape="rect" href="utils_8c.html#a5ffaef3fc3f7ddb9856ccd4bcb79e9bc" title=" " alt="" coords="170,5,227,31"/>
<area shape="poly" title=" " alt="" coords="122,16,154,16,154,21,122,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="userland_8c_a7edcd640bc7750f5279f3351f02e43c9_icgraph.png" border="0" usemap="#auserland_8c_a7edcd640bc7750f5279f3351f02e43c9_icgraph" alt=""/></div>
<map name="auserland_8c_a7edcd640bc7750f5279f3351f02e43c9_icgraph" id="auserland_8c_a7edcd640bc7750f5279f3351f02e43c9_icgraph">
<area shape="rect" title=" " alt="" coords="254,80,370,106"/>
<area shape="rect" href="pilot-read-notepad_8c.html#a69a028340edba0a36e623549003ddd8f" title=" " alt="" coords="103,5,206,31"/>
<area shape="poly" title=" " alt="" coords="269,75,205,45,183,34,185,29,207,40,271,71"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0070a4bd7ecc9520a486baf6989da9f7" title=" " alt="" coords="120,55,189,80"/>
<area shape="poly" title=" " alt="" coords="238,84,189,76,190,70,239,78"/>
<area shape="rect" href="pilot-read-veo_8c.html#a5cb3bf537d5aa62494471acd30ae0986" title=" " alt="" coords="108,104,200,130"/>
<area shape="poly" title=" " alt="" coords="239,107,202,112,201,107,238,101"/>
<area shape="rect" href="pilot-read-screenshot_8c.html#a51b1cab7f4ae39f13766604e638f760d" title=" " alt="" coords="105,153,204,179"/>
<area shape="poly" title=" " alt="" coords="270,115,185,155,183,150,268,110"/>
<area shape="rect" href="pilot-read-notepad_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,55,55,80"/>
<area shape="poly" title=" " alt="" coords="104,70,55,70,55,65,104,65"/>
<area shape="rect" href="pilot-read-veo_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,104,55,130"/>
<area shape="poly" title=" " alt="" coords="93,120,55,120,55,114,93,114"/>
<area shape="rect" href="pilot-read-screenshot_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,153,55,179"/>
<area shape="poly" title=" " alt="" coords="89,169,55,169,55,164,89,164"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a249f898bf760eca180f49b984f2de360" name="a249f898bf760eca180f49b984f2de360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a249f898bf760eca180f49b984f2de360">&#9670;&#160;</a></span>env_pilotport</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* env_pilotport = &quot;PILOTPORT&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00037">plu_connect()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="userland_8c.html">userland.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
