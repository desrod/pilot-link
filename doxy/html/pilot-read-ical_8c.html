<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: src/pilot-read-ical.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('pilot-read-ical_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pilot-read-ical.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;pi-source.h&quot;</code><br />
<code>#include &quot;pi-todo.h&quot;</code><br />
<code>#include &quot;pi-datebook.h&quot;</code><br />
<code>#include &quot;pi-dlp.h&quot;</code><br />
<code>#include &quot;pi-header.h&quot;</code><br />
<code>#include &quot;pi-userland.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pilot-read-ical.c:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-read-ical_8c__incl.png" border="0" usemap="#asrc_2pilot-read-ical_8c" alt=""/></div>
<map name="asrc_2pilot-read-ical_8c" id="asrc_2pilot-read-ical_8c">
<area shape="rect" title=" " alt="" coords="383,5,514,31"/>
<area shape="rect" title=" " alt="" coords="5,79,66,105"/>
<area shape="poly" title=" " alt="" coords="383,30,247,50,81,81,80,76,247,45,382,25"/>
<area shape="rect" title=" " alt="" coords="89,79,152,105"/>
<area shape="poly" title=" " alt="" coords="387,34,168,81,167,76,386,29"/>
<area shape="rect" title=" " alt="" coords="176,79,244,105"/>
<area shape="poly" title=" " alt="" coords="409,34,260,79,258,73,408,29"/>
<area shape="rect" title=" " alt="" coords="267,79,332,105"/>
<area shape="poly" title=" " alt="" coords="425,34,340,74,337,70,422,29"/>
<area shape="rect" title=" " alt="" coords="356,79,441,105"/>
<area shape="poly" title=" " alt="" coords="443,33,418,68,413,65,438,30"/>
<area shape="rect" title=" " alt="" coords="465,79,536,105"/>
<area shape="poly" title=" " alt="" coords="460,30,485,65,481,68,455,33"/>
<area shape="rect" title=" " alt="" coords="560,79,660,105"/>
<area shape="poly" title=" " alt="" coords="477,29,570,70,568,75,475,34"/>
<area shape="rect" title=" " alt="" coords="684,79,747,105"/>
<area shape="poly" title=" " alt="" coords="495,29,670,76,668,81,493,34"/>
<area shape="rect" title=" " alt="" coords="771,79,855,105"/>
<area shape="poly" title=" " alt="" coords="515,29,756,76,755,81,514,34"/>
<area shape="rect" title=" " alt="" coords="878,79,974,105"/>
<area shape="poly" title=" " alt="" coords="515,25,670,46,864,76,863,81,670,51,515,30"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac0f2228420376f4db7e1274f2b41667c" id="r_ac0f2228420376f4db7e1274f2b41667c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0f2228420376f4db7e1274f2b41667c">main</a> (int argc, const char *argv[])</td></tr>
<tr class="separator:ac0f2228420376f4db7e1274f2b41667c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6f47303271c3100eb013dd5e007777" id="r_a6d6f47303271c3100eb013dd5e007777"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d6f47303271c3100eb013dd5e007777">tclquote</a> (char *in)</td></tr>
<tr class="separator:a6d6f47303271c3100eb013dd5e007777"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac0f2228420376f4db7e1274f2b41667c" name="ac0f2228420376f4db7e1274f2b41667c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0f2228420376f4db7e1274f2b41667c">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>[]&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   89</span>{</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordtype">int</span>     c,      <span class="comment">/* switch */</span></div>
<div class="line"><span class="lineno">   91</span>        <a class="code hl_struct" href="structdb.html">db</a>,</div>
<div class="line"><span class="lineno">   92</span>        <a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>      = -1,</div>
<div class="line"><span class="lineno">   93</span>        i,</div>
<div class="line"><span class="lineno">   94</span>        read_todos  = -1;</div>
<div class="line"><span class="lineno">   95</span>    FILE    *ical = NULL;</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordtype">char</span>    cmd[255],</div>
<div class="line"><span class="lineno">   97</span>        *ptext      = NULL,</div>
<div class="line"><span class="lineno">   98</span>        *icalfile   = NULL,</div>
<div class="line"><span class="lineno">   99</span>        *pubtext    = NULL;</div>
<div class="line"><span class="lineno">  100</span>    <span class="keyword">struct </span>ToDoAppInfo tai;</div>
<div class="line"><span class="lineno">  101</span>    pi_buffer_t *recbuf,</div>
<div class="line"><span class="lineno">  102</span>        *appblock;</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    poptContext pc;</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="keyword">struct </span>poptOption <a class="code hl_variable" href="pilot-install-user_8c.html#a145180624d42b5fa57bff49541e32c6a">options</a>[] = {</div>
<div class="line"><span class="lineno">  107</span>        USERLAND_RESERVED_OPTIONS</div>
<div class="line"><span class="lineno">  108</span>        {<span class="stringliteral">&quot;datebook&quot;</span>, <span class="charliteral">&#39;d&#39;</span>, POPT_ARG_VAL, &amp;read_todos, 0,</div>
<div class="line"><span class="lineno">  109</span>         <span class="stringliteral">&quot;Datebook only, no ToDos&quot;</span>, NULL},</div>
<div class="line"><span class="lineno">  110</span>        {<span class="stringliteral">&quot;pubtext&quot;</span>, <span class="charliteral">&#39;t&#39;</span>, POPT_ARG_STRING, &amp;ptext, 0,</div>
<div class="line"><span class="lineno">  111</span>         <span class="stringliteral">&quot;Replace text of items not started with a bullet with &lt;pubtext&gt;&quot;</span>,</div>
<div class="line"><span class="lineno">  112</span>         <span class="stringliteral">&quot;pubtext&quot;</span>},</div>
<div class="line"><span class="lineno">  113</span>        {<span class="stringliteral">&quot;file&quot;</span>, <span class="charliteral">&#39;f&#39;</span>, POPT_ARG_STRING, &amp;icalfile, 0,</div>
<div class="line"><span class="lineno">  114</span>         <span class="stringliteral">&quot;Write the ical formatted data to &lt;file&gt; (overwrites existing &lt;file&gt;)&quot;</span>,</div>
<div class="line"><span class="lineno">  115</span>         <span class="stringliteral">&quot;file&quot;</span>},</div>
<div class="line"><span class="lineno">  116</span>        POPT_TABLEEND</div>
<div class="line"><span class="lineno">  117</span>    };</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    pc = poptGetContext(<span class="stringliteral">&quot;read-ical&quot;</span>, argc, argv, <a class="code hl_variable" href="pilot-install-user_8c.html#a145180624d42b5fa57bff49541e32c6a">options</a>, 0);</div>
<div class="line"><span class="lineno">  120</span>    poptSetOtherOptionHelp(pc,<span class="stringliteral">&quot;\n\n&quot;</span></div>
<div class="line"><span class="lineno">  121</span>        <span class="stringliteral">&quot;   Dumps the DatebookDB and/or ToDo applications to ical format.\n&quot;</span></div>
<div class="line"><span class="lineno">  122</span>        <span class="stringliteral">&quot;   Requires the program &#39;ical&#39;.\n\n&quot;</span>);</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">if</span> (argc &lt; 2) {</div>
<div class="line"><span class="lineno">  125</span>        poptPrintUsage(pc,stderr,0);</div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  127</span>    }</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">while</span> ((c = poptGetNextOpt(pc)) &gt;= 0) {</div>
<div class="line"><span class="lineno">  130</span>        fprintf(stderr,<span class="stringliteral">&quot;   ERROR: Unhandled option %d.\n&quot;</span>,c);</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  132</span>    }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">if</span> (c &lt; -1) {</div>
<div class="line"><span class="lineno">  135</span>        <a class="code hl_function" href="plu__args_8c.html#a29735d17d05c84591f8b2a47fb3e3ef4">plu_badoption</a>(pc,c);</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  137</span>    }</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">if</span> (icalfile == NULL) {</div>
<div class="line"><span class="lineno">  141</span>        fprintf(stderr, <span class="stringliteral">&quot;   ERROR: ical filename not specified. Please use the -f option.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  143</span>    }</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>        <a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> = <a class="code hl_function" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc">plu_connect</a>();</div>
<div class="line"><span class="lineno">  146</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> &lt; 0)</div>
<div class="line"><span class="lineno">  147</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    unlink(icalfile);</div>
<div class="line"><span class="lineno">  150</span>    sprintf(cmd, <span class="stringliteral">&quot;ical -list -f - -calendar %s&quot;</span>, icalfile);</div>
<div class="line"><span class="lineno">  151</span>    ical = popen(cmd, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">if</span> (ical == NULL) {</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordtype">int</span> e = errno;</div>
<div class="line"><span class="lineno">  154</span>        fprintf(stderr,<span class="stringliteral">&quot;   ERROR: cannot start communication with ical.\n&quot;</span></div>
<div class="line"><span class="lineno">  155</span>            <span class="stringliteral">&quot;          %s\n&quot;</span>,strerror(e));</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  157</span>    }</div>
<div class="line"><span class="lineno">  158</span>    fprintf(ical, <span class="stringliteral">&quot;calendar cal $ical(calendar)\n&quot;</span>);</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b">dlp_OpenConduit</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>) &lt; 0)</div>
<div class="line"><span class="lineno">  161</span>                <span class="keywordflow">goto</span> error_close;</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">if</span> (read_todos) {</div>
<div class="line"><span class="lineno">  165</span>        <span class="comment">/* Open the ToDo database, store access handle in db */</span></div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a></div>
<div class="line"><span class="lineno">  167</span>            (<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, 0, 0x80 | 0x40, <span class="stringliteral">&quot;ToDoDB&quot;</span>, &amp;<a class="code hl_struct" href="structdb.html">db</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  168</span>            fprintf(stderr,<span class="stringliteral">&quot;   ERROR: Unable to open ToDoDB on Palm.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  169</span>            <a class="code hl_function" href="dlp_8c.html#a9cac32ae742584335d86a9fcec40631a">dlp_AddSyncLogEntry</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <span class="stringliteral">&quot;Unable to open ToDoDB.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  170</span>            <span class="keywordflow">goto</span> error_close;</div>
<div class="line"><span class="lineno">  171</span>        }</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>        appblock = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a>(0xffff);</div>
<div class="line"><span class="lineno">  174</span>        <a class="code hl_function" href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394">dlp_ReadAppBlock</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_struct" href="structdb.html">db</a>, 0, 0xffff, appblock);</div>
<div class="line"><span class="lineno">  175</span>        <a class="code hl_function" href="todo_8c.html#a91d0f4d344871c15300bb9e24fb063c6">unpack_ToDoAppInfo</a>(&amp;tai, appblock-&gt;data, appblock-&gt;used);</div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a>(appblock);</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>        recbuf = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (0xffff);</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">for</span> (i = 0;; i++) {</div>
<div class="line"><span class="lineno">  181</span>            <span class="keywordtype">int</span>     attr,</div>
<div class="line"><span class="lineno">  182</span>                category;</div>
<div class="line"><span class="lineno">  183</span>            <span class="keywordtype">char</span>    id_buf[255];</div>
<div class="line"><span class="lineno">  184</span>            <span class="keyword">struct  </span>ToDo t;</div>
<div class="line"><span class="lineno">  185</span>            recordid_t id_;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>            <span class="keywordtype">int</span> len = <a class="code hl_function" href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8">dlp_ReadRecordByIndex</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_struct" href="structdb.html">db</a>, i, recbuf, &amp;id_, &amp;attr, &amp;category);</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>            <span class="keywordflow">if</span> (len &lt; 0)</div>
<div class="line"><span class="lineno">  190</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>            <span class="comment">/* Skip deleted records */</span></div>
<div class="line"><span class="lineno">  193</span>            <span class="keywordflow">if</span> ((attr &amp; dlpRecAttrDeleted)</div>
<div class="line"><span class="lineno">  194</span>                || (attr &amp; dlpRecAttrArchived))</div>
<div class="line"><span class="lineno">  195</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>            <a class="code hl_function" href="todo_8c.html#aa5d59be86df9c6984e2b1e819edcbcba">unpack_ToDo</a>(&amp;t, recbuf, todo_v1);</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>            fprintf(ical, <span class="stringliteral">&quot;set n [notice]\n&quot;</span>);</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>            <span class="comment">/* &#39;\x95&#39; is the &quot;bullet&quot; chcter */</span></div>
<div class="line"><span class="lineno">  202</span>            fprintf(ical, <span class="stringliteral">&quot;$n text %s\n&quot;</span>, <a class="code hl_function" href="#a6d6f47303271c3100eb013dd5e007777">tclquote</a>((pubtext &amp;&amp; t.description[0] != <span class="stringliteral">&#39;\x95&#39;</span>) ? pubtext : t.description));</div>
<div class="line"><span class="lineno">  203</span>            fprintf(ical, <span class="stringliteral">&quot;$n date [date today]\n&quot;</span>);</div>
<div class="line"><span class="lineno">  204</span>            fprintf(ical, <span class="stringliteral">&quot;$n todo 1\n&quot;</span>);</div>
<div class="line"><span class="lineno">  205</span>            fprintf(ical, <span class="stringliteral">&quot;$n option Priority %d\n&quot;</span>, t.priority);</div>
<div class="line"><span class="lineno">  206</span>            sprintf(id_buf, <span class="stringliteral">&quot;%lx&quot;</span>, id_);</div>
<div class="line"><span class="lineno">  207</span>            fprintf(ical, <span class="stringliteral">&quot;$n option PilotRecordId %s\n&quot;</span>, id_buf);</div>
<div class="line"><span class="lineno">  208</span>            fprintf(ical, <span class="stringliteral">&quot;$n done %d\n&quot;</span>, t.complete ? 1 : 0);</div>
<div class="line"><span class="lineno">  209</span>            fprintf(ical, <span class="stringliteral">&quot;cal add $n\n&quot;</span>);</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>            <a class="code hl_function" href="todo_8c.html#ac1acd03055fee7099ba3f08a3e7b1ab6">free_ToDo</a>(&amp;t);</div>
<div class="line"><span class="lineno">  212</span>        }</div>
<div class="line"><span class="lineno">  213</span>        <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a>(recbuf);</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>        <span class="comment">/* Close the database */</span></div>
<div class="line"><span class="lineno">  216</span>        <a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>        <a class="code hl_function" href="dlp_8c.html#a9cac32ae742584335d86a9fcec40631a">dlp_AddSyncLogEntry</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <span class="stringliteral">&quot;Successfully read todos from Palm.\nThank you for using pilot-link.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  219</span>    }</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>    <span class="comment">/* Open the Datebook&#39;s database, store access handle in db */</span></div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a></div>
<div class="line"><span class="lineno">  223</span>        (<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, 0, 0x80 | 0x40, <span class="stringliteral">&quot;DatebookDB&quot;</span>, &amp;<a class="code hl_struct" href="structdb.html">db</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  224</span>        fprintf(stderr,<span class="stringliteral">&quot;   ERROR: Unable to open DatebookDB on Palm.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  225</span>        <a class="code hl_function" href="dlp_8c.html#a9cac32ae742584335d86a9fcec40631a">dlp_AddSyncLogEntry</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <span class="stringliteral">&quot;Unable to open DatebookDB.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  226</span>        <span class="keywordflow">goto</span> error_close;</div>
<div class="line"><span class="lineno">  227</span>    }</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    recbuf = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (0xffff);</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">for</span> (i = 0;; i++) {</div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordtype">int</span>     j,</div>
<div class="line"><span class="lineno">  233</span>            attr;</div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordtype">char</span>    id_buf[255];</div>
<div class="line"><span class="lineno">  235</span>        <span class="keyword">struct  </span>Appointment a;</div>
<div class="line"><span class="lineno">  236</span>        recordid_t id_;</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordtype">int</span> len =</div>
<div class="line"><span class="lineno">  239</span>            <a class="code hl_function" href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8">dlp_ReadRecordByIndex</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_struct" href="structdb.html">db</a>, i, recbuf, &amp;id_, &amp;attr, 0);</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">if</span> (len &lt; 0)</div>
<div class="line"><span class="lineno">  242</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>        <span class="comment">/* Skip deleted records */</span></div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordflow">if</span> ((attr &amp; dlpRecAttrDeleted)</div>
<div class="line"><span class="lineno">  246</span>            || (attr &amp; dlpRecAttrArchived))</div>
<div class="line"><span class="lineno">  247</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>        <a class="code hl_function" href="datebook_8c.html#af3957360f80455c488b057cac1180e2c">unpack_Appointment</a>(&amp;a, recbuf, datebook_v1);</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">if</span> (a.event) {</div>
<div class="line"><span class="lineno">  252</span>            fprintf(ical, <span class="stringliteral">&quot;set i [notice]\n&quot;</span>);</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  255</span>            <span class="keywordtype">int</span>     start,</div>
<div class="line"><span class="lineno">  256</span>                end;</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>            fprintf(ical, <span class="stringliteral">&quot;set i [appointment]\n&quot;</span>);</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>            start =</div>
<div class="line"><span class="lineno">  261</span>                a.begin.tm_hour * 60 +</div>
<div class="line"><span class="lineno">  262</span>                a.begin.tm_min;</div>
<div class="line"><span class="lineno">  263</span>            end =</div>
<div class="line"><span class="lineno">  264</span>                a.end.tm_hour * 60 +</div>
<div class="line"><span class="lineno">  265</span>                a.end.tm_min;</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>            fprintf(ical, <span class="stringliteral">&quot;$i starttime %d\n&quot;</span>, start);</div>
<div class="line"><span class="lineno">  268</span>            fprintf(ical, <span class="stringliteral">&quot;$i length %d\n&quot;</span>, end - start);</div>
<div class="line"><span class="lineno">  269</span>        }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>        <span class="comment">/* Don&#39;t hilight private (secret) records */</span></div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">if</span> (attr &amp; dlpRecAttrSecret) {</div>
<div class="line"><span class="lineno">  273</span>            fprintf(ical, <span class="stringliteral">&quot;$i hilite never\n&quot;</span>);</div>
<div class="line"><span class="lineno">  274</span>        }</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>        <span class="comment">/* Handle alarms */</span></div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">if</span> (a.alarm) {</div>
<div class="line"><span class="lineno">  278</span>            <span class="keywordflow">if</span> (a.event) {</div>
<div class="line"><span class="lineno">  279</span>                <span class="keywordflow">if</span> (a.advanceUnits == 2) {</div>
<div class="line"><span class="lineno">  280</span>                    fprintf(ical, <span class="stringliteral">&quot;$i earlywarning %d\n&quot;</span>, a.advance);</div>
<div class="line"><span class="lineno">  281</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  282</span>                    printf(<span class="stringliteral">&quot;Minute or hour alarm on untimed event ignored: %s\n&quot;</span>, a.description);</div>
<div class="line"><span class="lineno">  283</span>                }</div>
<div class="line"><span class="lineno">  284</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  285</span>                <span class="keywordflow">switch</span> (a.advanceUnits) {</div>
<div class="line"><span class="lineno">  286</span>                  <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  287</span>                      fprintf(ical, <span class="stringliteral">&quot;$i alarms { %d }\n&quot;</span>, a.advance);</div>
<div class="line"><span class="lineno">  288</span>                      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  289</span>                  <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  290</span>                      fprintf(ical, <span class="stringliteral">&quot;$i alarms { %d }\n&quot;</span>, a.advance * 60);</div>
<div class="line"><span class="lineno">  291</span>                      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  292</span>                  <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  293</span>                      fprintf(ical, <span class="stringliteral">&quot;$i earlywarning %d\n&quot;</span>, a.advance);</div>
<div class="line"><span class="lineno">  294</span>                      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  295</span>                }</div>
<div class="line"><span class="lineno">  296</span>            }</div>
<div class="line"><span class="lineno">  297</span>        }</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>        <span class="comment">/* &#39;\x95&#39; is the &quot;bullet&quot; chcter */</span></div>
<div class="line"><span class="lineno">  300</span>        fprintf(ical, <span class="stringliteral">&quot;$i text %s\n&quot;</span>,</div>
<div class="line"><span class="lineno">  301</span>            <a class="code hl_function" href="#a6d6f47303271c3100eb013dd5e007777">tclquote</a>((pubtext</div>
<div class="line"><span class="lineno">  302</span>                  &amp;&amp; a.description[0] !=</div>
<div class="line"><span class="lineno">  303</span>                  <span class="stringliteral">&#39;\x95&#39;</span>) ? pubtext : a.</div>
<div class="line"><span class="lineno">  304</span>                 description));</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>        fprintf(ical,</div>
<div class="line"><span class="lineno">  307</span>            <span class="stringliteral">&quot;set begin [date make %d %d %d]\n&quot;</span>,</div>
<div class="line"><span class="lineno">  308</span>            a.begin.tm_mday,</div>
<div class="line"><span class="lineno">  309</span>            a.begin.tm_mon + 1,</div>
<div class="line"><span class="lineno">  310</span>            a.begin.tm_year + 1900);</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">if</span> (a.repeatFrequency) {</div>
<div class="line"><span class="lineno">  313</span>            <span class="keywordflow">if</span> (a.repeatType == repeatDaily) {</div>
<div class="line"><span class="lineno">  314</span>                fprintf(ical,</div>
<div class="line"><span class="lineno">  315</span>                    <span class="stringliteral">&quot;$i dayrepeat %d $begin\n&quot;</span>, a.repeatFrequency);</div>
<div class="line"><span class="lineno">  316</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.repeatType == repeatMonthlyByDate) {</div>
<div class="line"><span class="lineno">  317</span>                fprintf(ical, <span class="stringliteral">&quot;$i month_day %d $begin %d\n&quot;</span>, a.begin.tm_mon + 1, a.repeatFrequency);</div>
<div class="line"><span class="lineno">  318</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.repeatType == repeatMonthlyByDay) {</div>
<div class="line"><span class="lineno">  319</span>                <span class="keywordflow">if</span> (a.repeatDay &gt;= domLastSun) {</div>
<div class="line"><span class="lineno">  320</span>                    fprintf(ical, <span class="stringliteral">&quot;$i month_last_week_day %d 1 $begin %d\n&quot;</span>, a.repeatDay % 7 + 1, a.repeatFrequency);</div>
<div class="line"><span class="lineno">  321</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  322</span>                    fprintf(ical, <span class="stringliteral">&quot;$i month_week_day %d %d $begin %d\n&quot;</span>, a.repeatDay % 7 + 1, a.repeatDay / 7 + 1, a.repeatFrequency);</div>
<div class="line"><span class="lineno">  323</span>                }</div>
<div class="line"><span class="lineno">  324</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.repeatType == repeatWeekly) {</div>
<div class="line"><span class="lineno">  325</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  326</span><span class="comment">                 * Handle the case where the user said weekly repeat, but</span></div>
<div class="line"><span class="lineno">  327</span><span class="comment">                 * really meant daily repeat every n*7 days.  Note: We can&#39;t</span></div>
<div class="line"><span class="lineno">  328</span><span class="comment">                 * do days of the week and a repeat-frequency &gt; 1, so do the</span></div>
<div class="line"><span class="lineno">  329</span><span class="comment">                 * best we can and go on.</span></div>
<div class="line"><span class="lineno">  330</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  331</span>                <span class="keywordflow">if</span> (a.repeatFrequency &gt; 1) {</div>
<div class="line"><span class="lineno">  332</span>                    <span class="keywordtype">int</span> ii, found;</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>                    <span class="keywordflow">for</span> (ii = 0, found = 0; ii &lt; 7; ii++) {</div>
<div class="line"><span class="lineno">  335</span>                        <span class="keywordflow">if</span> (a.repeatDays [ii])</div>
<div class="line"><span class="lineno">  336</span>                            found++;</div>
<div class="line"><span class="lineno">  337</span>                    }</div>
<div class="line"><span class="lineno">  338</span>                    <span class="keywordflow">if</span> (found &gt; 1) {</div>
<div class="line"><span class="lineno">  339</span>                        fprintf(stderr,<span class="stringliteral">&quot;   WARNING: Incomplete translation of %s\n&quot;</span>, a.description);</div>
<div class="line"><span class="lineno">  340</span>                    }</div>
<div class="line"><span class="lineno">  341</span>                    fprintf(ical, <span class="stringliteral">&quot;$i dayrepeat %d $begin\n&quot;</span>, a.repeatFrequency * 7);</div>
<div class="line"><span class="lineno">  342</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  343</span>                    <span class="keywordtype">int</span> ii;</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>                    fprintf(ical, <span class="stringliteral">&quot;$i weekdays &quot;</span>);</div>
<div class="line"><span class="lineno">  346</span>                    <span class="keywordflow">for</span> (ii = 0; ii &lt; 7; ii++)</div>
<div class="line"><span class="lineno">  347</span>                        <span class="keywordflow">if</span> (a.repeatDays [ii])</div>
<div class="line"><span class="lineno">  348</span>                            fprintf(ical, <span class="stringliteral">&quot;%d &quot;</span>, ii + 1);</div>
<div class="line"><span class="lineno">  349</span>                    fprintf(ical, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  350</span>                }</div>
<div class="line"><span class="lineno">  351</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a.repeatType == repeatYearly) {</div>
<div class="line"><span class="lineno">  352</span>                fprintf(ical, <span class="stringliteral">&quot;$i monthrepeat %d $begin\n&quot;</span>, 12 * a.repeatFrequency);</div>
<div class="line"><span class="lineno">  353</span>            }</div>
<div class="line"><span class="lineno">  354</span>            fprintf(ical, <span class="stringliteral">&quot;$i start $begin\n&quot;</span>);</div>
<div class="line"><span class="lineno">  355</span>            <span class="keywordflow">if</span> (!a.repeatForever)</div>
<div class="line"><span class="lineno">  356</span>                fprintf(ical,</div>
<div class="line"><span class="lineno">  357</span>                    <span class="stringliteral">&quot;$i finish [date make %d %d %d]\n&quot;</span>,</div>
<div class="line"><span class="lineno">  358</span>                    a.repeatEnd.tm_mday, a.repeatEnd.tm_mon + 1, a.repeatEnd.tm_year + 1900);</div>
<div class="line"><span class="lineno">  359</span>            <span class="keywordflow">if</span> (a.exceptions)</div>
<div class="line"><span class="lineno">  360</span>                <span class="keywordflow">for</span> (j = 0; j &lt; a.exceptions; j++)</div>
<div class="line"><span class="lineno">  361</span>                    fprintf(ical, <span class="stringliteral">&quot;$i deletion [date make %d %d %d]\n&quot;</span>, a.exception[j].tm_mday, a.exception[j].tm_mon + 1, a.exception[j].tm_year + 1900);</div>
<div class="line"><span class="lineno">  362</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  363</span>            fprintf(ical, <span class="stringliteral">&quot;$i date $begin\n&quot;</span>);</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>        sprintf(id_buf, <span class="stringliteral">&quot;%lx&quot;</span>, id_);</div>
<div class="line"><span class="lineno">  366</span>        fprintf(ical, <span class="stringliteral">&quot;$i option PilotRecordId %s\n&quot;</span>, id_buf);</div>
<div class="line"><span class="lineno">  367</span>        fprintf(ical, <span class="stringliteral">&quot;cal add $i\n&quot;</span>);</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>        <a class="code hl_function" href="datebook_8c.html#a5dc8b19fdc1ebcdc60e086b39cc92741">free_Appointment</a>(&amp;a);</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    }</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (recbuf);</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>    fprintf(ical, <span class="stringliteral">&quot;cal save [cal main]\n&quot;</span>);</div>
<div class="line"><span class="lineno">  376</span>    fprintf(ical, <span class="stringliteral">&quot;exit\n&quot;</span>);</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>    pclose(ical);</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    <span class="comment">/* Close the database */</span></div>
<div class="line"><span class="lineno">  381</span>    <a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    <a class="code hl_function" href="dlp_8c.html#a9cac32ae742584335d86a9fcec40631a">dlp_AddSyncLogEntry</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <span class="stringliteral">&quot;read-ical successfully read Datebook from Palm.\n&quot;</span></div>
<div class="line"><span class="lineno">  384</span>                <span class="stringliteral">&quot;Thank you for using pilot-link.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  385</span>    <a class="code hl_function" href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43">dlp_EndOfSync</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, 0);</div>
<div class="line"><span class="lineno">  386</span>    <a class="code hl_function" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">  387</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>error_close:</div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">if</span> (ical) {</div>
<div class="line"><span class="lineno">  391</span>        <span class="comment">/* explicitly do NOT save on failure. since we&#39;ve already unlinked</span></div>
<div class="line"><span class="lineno">  392</span><span class="comment">           the original ical file, we&#39;ve still destroyed something. */</span></div>
<div class="line"><span class="lineno">  393</span>        fprintf(ical, <span class="stringliteral">&quot;exit\n&quot;</span>);</div>
<div class="line"><span class="lineno">  394</span>        pclose(ical);</div>
<div class="line"><span class="lineno">  395</span>    }</div>
<div class="line"><span class="lineno">  396</span>        <a class="code hl_function" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span><a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>:</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  400</span>}</div>
<div class="ttc" id="adatebook_8c_html_a5dc8b19fdc1ebcdc60e086b39cc92741"><div class="ttname"><a href="datebook_8c.html#a5dc8b19fdc1ebcdc60e086b39cc92741">free_Appointment</a></div><div class="ttdeci">void free_Appointment(Appointment_t *a)</div><div class="ttdef"><b>Definition</b> datebook.c:71</div></div>
<div class="ttc" id="adatebook_8c_html_af3957360f80455c488b057cac1180e2c"><div class="ttname"><a href="datebook_8c.html#af3957360f80455c488b057cac1180e2c">unpack_Appointment</a></div><div class="ttdeci">int unpack_Appointment(Appointment_t *a, const pi_buffer_t *buf, datebookType type)</div><div class="ttdef"><b>Definition</b> datebook.c:102</div></div>
<div class="ttc" id="adlp_8c_html_a27617d8e73e875c7df186ee02fd96b43"><div class="ttname"><a href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43">dlp_EndOfSync</a></div><div class="ttdeci">int dlp_EndOfSync(int sd, int status)</div><div class="ttdef"><b>Definition</b> dlp.c:1908</div></div>
<div class="ttc" id="adlp_8c_html_a4d91eaed276eea5b726f5e4434594394"><div class="ttname"><a href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394">dlp_ReadAppBlock</a></div><div class="ttdeci">int dlp_ReadAppBlock(int sd, int dbhandle, int offset, int reqbytes, pi_buffer_t *retbuf)</div><div class="ttdef"><b>Definition</b> dlp.c:2926</div></div>
<div class="ttc" id="adlp_8c_html_a65b92f7bcde2de3c34eba289c6780a57"><div class="ttname"><a href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a></div><div class="ttdeci">int dlp_OpenDB(int sd, int cardno, int mode, PI_CONST char *name, int *dbhandle)</div><div class="ttdef"><b>Definition</b> dlp.c:1445</div></div>
<div class="ttc" id="adlp_8c_html_a9cac32ae742584335d86a9fcec40631a"><div class="ttname"><a href="dlp_8c.html#a9cac32ae742584335d86a9fcec40631a">dlp_AddSyncLogEntry</a></div><div class="ttdeci">int dlp_AddSyncLogEntry(int sd, char *entry)</div><div class="ttdef"><b>Definition</b> dlp.c:1746</div></div>
<div class="ttc" id="adlp_8c_html_ac1cecb25a1c31a4cddf17dbbc7b41991"><div class="ttname"><a href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a></div><div class="ttdeci">int dlp_CloseDB(int sd, int dbhandle)</div><div class="ttdef"><b>Definition</b> dlp.c:1545</div></div>
<div class="ttc" id="adlp_8c_html_ae7892afecc1f271dac5596703412a63b"><div class="ttname"><a href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b">dlp_OpenConduit</a></div><div class="ttdeci">int dlp_OpenConduit(int sd)</div><div class="ttdef"><b>Definition</b> dlp.c:1880</div></div>
<div class="ttc" id="adlp_8c_html_afb39659f8e12d53b9c431e8cf4ccd1e8"><div class="ttname"><a href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8">dlp_ReadRecordByIndex</a></div><div class="ttdeci">int dlp_ReadRecordByIndex(int sd, int dbhandle, int recindex, pi_buffer_t *buffer, recordid_t *recuid, int *attr, int *category)</div><div class="ttdef"><b>Definition</b> dlp.c:3672</div></div>
<div class="ttc" id="anamespacepisock_html_af10dacfa214e2575bb2e0ee407c242e0"><div class="ttname"><a href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">pisock.error</a></div><div class="ttdeci">error</div><div class="ttdef"><b>Definition</b> pisock.py:41</div></div>
<div class="ttc" id="api-buffer_8c_html_a6775d9fcdb4fb3e02ce032337e1d10dc"><div class="ttname"><a href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a></div><div class="ttdeci">pi_buffer_t * pi_buffer_new(size_t capacity)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:31</div></div>
<div class="ttc" id="api-buffer_8c_html_af440579d61c8649154b0f0512c285606"><div class="ttname"><a href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a></div><div class="ttdeci">void pi_buffer_free(pi_buffer_t *buf)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:103</div></div>
<div class="ttc" id="apilot-install-user_8c_html_a145180624d42b5fa57bff49541e32c6a"><div class="ttname"><a href="pilot-install-user_8c.html#a145180624d42b5fa57bff49541e32c6a">options</a></div><div class="ttdeci">const struct poptOption options[]</div><div class="ttdef"><b>Definition</b> pilot-install-user.c:33</div></div>
<div class="ttc" id="apilot-read-ical_8c_html_a6d6f47303271c3100eb013dd5e007777"><div class="ttname"><a href="#a6d6f47303271c3100eb013dd5e007777">tclquote</a></div><div class="ttdeci">char * tclquote(char *in)</div><div class="ttdef"><b>Definition</b> pilot-read-ical.c:37</div></div>
<div class="ttc" id="apilot-xfer_8c_html_a06b0afe769d54ae94259d8532bc878b0"><div class="ttname"><a href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a></div><div class="ttdeci">int sd</div><div class="ttdef"><b>Definition</b> pilot-xfer.c:107</div></div>
<div class="ttc" id="aplu__args_8c_html_a29735d17d05c84591f8b2a47fb3e3ef4"><div class="ttname"><a href="plu__args_8c.html#a29735d17d05c84591f8b2a47fb3e3ef4">plu_badoption</a></div><div class="ttdeci">void plu_badoption(poptContext pc, int optc)</div><div class="ttdef"><b>Definition</b> plu_args.c:72</div></div>
<div class="ttc" id="asocket_8c_html_acc90bbb82f9a58d3635166976e9f3484"><div class="ttname"><a href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a></div><div class="ttdeci">int pi_close(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1415</div></div>
<div class="ttc" id="astructdb_html"><div class="ttname"><a href="structdb.html">db</a></div><div class="ttdef"><b>Definition</b> pilot-xfer.c:926</div></div>
<div class="ttc" id="atodo_8c_html_a91d0f4d344871c15300bb9e24fb063c6"><div class="ttname"><a href="todo_8c.html#a91d0f4d344871c15300bb9e24fb063c6">unpack_ToDoAppInfo</a></div><div class="ttdeci">int unpack_ToDoAppInfo(ToDoAppInfo_t *appinfo, const unsigned char *record, size_t len)</div><div class="ttdef"><b>Definition</b> todo.c:232</div></div>
<div class="ttc" id="atodo_8c_html_aa5d59be86df9c6984e2b1e819edcbcba"><div class="ttname"><a href="todo_8c.html#aa5d59be86df9c6984e2b1e819edcbcba">unpack_ToDo</a></div><div class="ttdeci">int unpack_ToDo(ToDo_t *todo, const pi_buffer_t *buf, todoType type)</div><div class="ttdef"><b>Definition</b> todo.c:86</div></div>
<div class="ttc" id="atodo_8c_html_ac1acd03055fee7099ba3f08a3e7b1ab6"><div class="ttname"><a href="todo_8c.html#ac1acd03055fee7099ba3f08a3e7b1ab6">free_ToDo</a></div><div class="ttdeci">void free_ToDo(ToDo_t *todo)</div><div class="ttdef"><b>Definition</b> todo.c:58</div></div>
<div class="ttc" id="auserland_8c_html_a21d841df63f1c93b1fc98b4b4a8b0bbc"><div class="ttname"><a href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc">plu_connect</a></div><div class="ttdeci">int plu_connect()</div><div class="ttdef"><b>Definition</b> userland.c:37</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01746">dlp_AddSyncLogEntry()</a>, <a class="el" href="#l01545">dlp_CloseDB()</a>, <a class="el" href="#l01908">dlp_EndOfSync()</a>, <a class="el" href="#l01880">dlp_OpenConduit()</a>, <a class="el" href="#l01445">dlp_OpenDB()</a>, <a class="el" href="#l02926">dlp_ReadAppBlock()</a>, <a class="el" href="#l03672">dlp_ReadRecordByIndex()</a>, <a class="el" href="#l00071">free_Appointment()</a>, <a class="el" href="#l00058">free_ToDo()</a>, <a class="el" href="#l00033">options</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01415">pi_close()</a>, <a class="el" href="#l00072">plu_badoption()</a>, <a class="el" href="#l00037">plu_connect()</a>, <a class="el" href="#l00107">sd</a>, <a class="el" href="#l00037">tclquote()</a>, <a class="el" href="#l00102">unpack_Appointment()</a>, <a class="el" href="#l00086">unpack_ToDo()</a>, and <a class="el" href="#l00232">unpack_ToDoAppInfo()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-read-ical_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph.png" border="0" usemap="#apilot-read-ical_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph" alt=""/></div>
<map name="apilot-read-ical_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph" id="apilot-read-ical_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph">
<area shape="rect" title=" " alt="" coords="5,1064,55,1090"/>
<area shape="rect" href="dlp_8c.html#a9cac32ae742584335d86a9fcec40631a" title=" " alt="" coords="639,1016,789,1042"/>
<area shape="poly" title=" " alt="" coords="54,1067,102,1056,244,1039,387,1030,623,1025,623,1031,387,1035,245,1045,103,1061,55,1072"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="1241,511,1341,537"/>
<area shape="poly" title=" " alt="" coords="29,1064,31,926,40,700,49,579,61,464,78,366,100,295,150,181,173,131,200,88,231,52,270,26,319,9,380,3,549,3,624,5,686,13,741,27,791,47,838,73,886,106,997,191,1224,446,1269,497,1265,501,1220,450,994,195,883,110,835,78,788,52,740,32,685,19,623,11,549,8,380,8,320,14,273,30,235,56,204,91,178,134,154,183,105,297,83,368,66,465,54,579,45,701,36,927,34,1064"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="1240,560,1342,586"/>
<area shape="poly" title=" " alt="" coords="29,1064,36,955,49,783,71,605,84,531,100,477,126,406,147,338,167,275,190,219,220,172,238,152,259,136,283,122,311,112,343,106,380,104,715,104,768,107,813,117,852,132,886,152,915,177,941,205,986,270,1029,342,1078,415,1107,451,1140,485,1178,517,1223,547,1231,551,1229,556,1220,552,1175,522,1136,489,1103,454,1074,418,1025,344,982,273,937,209,911,181,883,157,850,137,811,122,767,113,715,109,380,109,344,111,313,117,286,127,262,140,242,156,224,175,195,222,172,277,152,340,131,407,105,478,90,532,76,606,55,784,41,955,35,1064"/>
<area shape="rect" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991" title=" " alt="" coords="665,1090,763,1116"/>
<area shape="poly" title=" " alt="" coords="55,1074,249,1075,469,1084,649,1095,649,1101,469,1090,249,1080,55,1080"/>
<area shape="rect" href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43" title=" " alt="" coords="658,1236,770,1262"/>
<area shape="poly" title=" " alt="" coords="34,1091,36,1129,46,1181,55,1208,67,1234,83,1258,104,1276,122,1286,145,1294,203,1303,273,1304,351,1301,510,1282,642,1261,643,1266,511,1288,352,1306,274,1310,203,1308,144,1299,120,1291,101,1281,79,1261,63,1237,50,1210,41,1183,31,1130,29,1091"/>
<area shape="rect" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b" title=" " alt="" coords="653,722,774,748"/>
<area shape="poly" title=" " alt="" coords="30,1063,53,905,74,812,86,774,100,748,143,702,185,675,234,659,296,644,376,627,441,622,505,631,584,654,609,667,632,684,678,711,675,716,629,689,606,672,582,658,504,636,441,627,377,632,298,649,236,664,188,680,146,706,105,751,91,776,79,813,58,906,35,1064"/>
<area shape="rect" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57" title=" " alt="" coords="666,1163,762,1189"/>
<area shape="poly" title=" " alt="" coords="38,1089,62,1134,80,1157,104,1175,175,1204,250,1221,326,1229,403,1229,476,1223,544,1214,652,1191,653,1196,544,1219,477,1228,403,1234,326,1234,249,1226,173,1209,101,1180,77,1161,57,1137,34,1092"/>
<area shape="rect" href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394" title=" " alt="" coords="648,648,780,674"/>
<area shape="poly" title=" " alt="" coords="29,1064,35,987,47,873,68,760,83,715,101,684,129,655,161,633,195,615,232,601,310,587,391,585,471,593,546,607,664,640,662,646,544,612,470,598,391,590,310,592,233,607,197,620,163,637,132,659,105,687,88,717,73,761,52,874,40,987,35,1064"/>
<area shape="rect" href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8" title=" " alt="" coords="631,498,797,524"/>
<area shape="poly" title=" " alt="" coords="28,1064,28,994,35,883,43,819,56,752,75,687,100,624,179,468,216,405,257,351,304,303,360,260,428,220,512,180,549,169,566,171,584,180,619,211,648,248,670,289,686,333,706,417,714,482,709,483,701,418,681,335,665,292,643,251,615,215,581,185,564,176,549,174,514,185,431,225,363,265,307,307,261,355,221,408,183,470,105,626,80,688,62,754,49,820,40,883,33,994,33,1064"/>
<area shape="rect" href="datebook_8c.html#a5dc8b19fdc1ebcdc60e086b39cc92741" title=" " alt="" coords="114,1090,238,1116"/>
<area shape="poly" title=" " alt="" coords="55,1079,100,1087,99,1092,55,1084"/>
<area shape="rect" href="todo_8c.html#ac1acd03055fee7099ba3f08a3e7b1ab6" title=" " alt="" coords="135,1139,216,1165"/>
<area shape="poly" title=" " alt="" coords="48,1088,74,1107,104,1126,121,1133,119,1138,101,1130,71,1112,45,1093"/>
<area shape="rect" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484" title=" " alt="" coords="513,868,583,894"/>
<area shape="poly" title=" " alt="" coords="35,1063,59,1021,78,999,101,980,151,956,196,943,238,939,279,939,363,942,411,937,464,923,513,900,515,905,466,928,412,942,363,947,278,945,238,944,197,948,153,961,104,985,82,1003,64,1024,40,1065"/>
<area shape="rect" href="plu__args_8c.html#a29735d17d05c84591f8b2a47fb3e3ef4" title=" " alt="" coords="125,1240,226,1266"/>
<area shape="poly" title=" " alt="" coords="37,1090,59,1151,79,1187,105,1219,120,1231,117,1235,101,1223,74,1190,54,1153,32,1092"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="130,762,222,788"/>
<area shape="poly" title=" " alt="" coords="35,1063,159,801,164,803,40,1065"/>
<area shape="rect" href="pilot-read-ical_8c.html#a6d6f47303271c3100eb013dd5e007777" title=" " alt="" coords="142,1342,210,1368"/>
<area shape="poly" title=" " alt="" coords="34,1090,37,1133,47,1194,68,1261,84,1293,105,1321,130,1339,126,1343,101,1325,80,1295,63,1263,42,1195,32,1134,29,1090"/>
<area shape="rect" href="datebook_8c.html#af3957360f80455c488b057cac1180e2c" title=" " alt="" coords="104,1391,248,1417"/>
<area shape="poly" title=" " alt="" coords="35,1090,43,1151,57,1238,78,1323,91,1356,105,1378,106,1380,102,1383,101,1382,86,1358,73,1324,52,1239,38,1152,30,1091"/>
<area shape="rect" href="todo_8c.html#aa5d59be86df9c6984e2b1e819edcbcba" title=" " alt="" coords="125,1440,226,1466"/>
<area shape="poly" title=" " alt="" coords="35,1091,41,1161,54,1262,75,1362,89,1401,105,1428,113,1435,110,1439,101,1431,84,1403,70,1363,49,1263,36,1161,30,1091"/>
<area shape="rect" href="todo_8c.html#a91d0f4d344871c15300bb9e24fb063c6" title=" " alt="" coords="103,1490,249,1516"/>
<area shape="poly" title=" " alt="" coords="35,1090,40,1169,51,1285,73,1401,87,1446,105,1477,106,1478,102,1482,101,1480,82,1448,67,1402,46,1286,34,1169,29,1091"/>
<area shape="poly" title=" " alt="" coords="686,1017,680,1008,683,998,695,992,714,990,734,992,745,999,742,1004,732,997,714,995,697,997,687,1002,685,1007,690,1015"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="884,916,957,942"/>
<area shape="poly" title=" " alt="" coords="737,1014,844,951,868,942,870,946,846,956,739,1018"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1246,891,1336,917"/>
<area shape="poly" title=" " alt="" coords="782,1041,799,1051,810,1064,817,1078,822,1104,828,1129,835,1140,847,1150,891,1174,933,1190,972,1197,1011,1196,1049,1188,1088,1172,1129,1149,1172,1121,1195,1101,1215,1078,1246,1026,1268,974,1281,931,1286,932,1273,976,1251,1028,1219,1081,1199,1105,1175,1125,1132,1154,1091,1177,1051,1193,1012,1201,972,1202,931,1195,889,1179,843,1154,831,1143,823,1131,817,1105,812,1079,806,1067,795,1055,779,1045"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="862,966,979,992"/>
<area shape="poly" title=" " alt="" coords="769,1013,850,993,851,998,770,1018"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="860,1114,980,1140"/>
<area shape="poly" title=" " alt="" coords="776,1040,798,1051,814,1064,823,1076,832,1089,847,1100,854,1105,851,1109,843,1105,828,1092,819,1079,810,1067,796,1056,773,1045"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="856,1015,984,1041"/>
<area shape="poly" title=" " alt="" coords="789,1026,841,1026,841,1031,789,1032"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="866,1064,974,1090"/>
<area shape="poly" title=" " alt="" coords="773,1040,852,1059,851,1064,772,1045"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="1047,916,1170,942"/>
<area shape="poly" title=" " alt="" coords="957,927,1031,927,1031,932,957,932"/>
<area shape="poly" title=" " alt="" coords="958,937,1002,947,1056,955,1115,958,1173,952,1215,939,1252,922,1254,927,1216,944,1174,957,1115,964,1055,961,1001,952,957,942"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="1043,562,1174,588"/>
<area shape="poly" title=" " alt="" coords="924,915,979,786,1013,710,1041,656,1083,598,1088,601,1046,659,1018,713,984,788,929,917"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="1222,659,1360,685"/>
<area shape="poly" title=" " alt="" coords="934,914,1049,818,1132,757,1220,699,1239,689,1242,694,1223,704,1135,761,1052,823,938,918"/>
<area shape="poly" title=" " alt="" coords="1170,918,1230,910,1231,915,1171,923"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1408,435,1513,461"/>
<area shape="poly" title=" " alt="" coords="1296,890,1324,830,1358,751,1412,596,1449,475,1454,476,1417,597,1362,753,1329,832,1301,892"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1568,963,1674,989"/>
<area shape="poly" title=" " alt="" coords="1468,460,1614,948,1609,949,1463,462"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1561,183,1681,209"/>
<area shape="poly" title=" " alt="" coords="1468,433,1601,220,1606,223,1473,436"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1577,435,1665,461"/>
<area shape="poly" title=" " alt="" coords="1514,445,1562,445,1562,451,1514,451"/>
<area shape="poly" title=" " alt="" coords="1150,586,1176,605,1199,641,1208,674,1213,709,1224,751,1279,876,1274,878,1219,753,1207,710,1203,675,1194,643,1172,608,1147,590"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="1244,714,1338,740"/>
<area shape="poly" title=" " alt="" coords="1148,586,1176,605,1193,629,1200,652,1207,673,1224,695,1235,704,1231,708,1220,699,1202,676,1195,653,1188,631,1172,609,1145,590"/>
<area shape="poly" title=" " alt="" coords="1157,559,1227,539,1228,544,1158,564"/>
<area shape="poly" title=" " alt="" coords="1174,572,1224,571,1224,576,1174,577"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="1243,610,1338,636"/>
<area shape="poly" title=" " alt="" coords="1161,586,1229,604,1228,609,1160,591"/>
<area shape="poly" title=" " alt="" coords="1141,586,1175,604,1199,626,1223,646,1231,650,1229,655,1220,650,1196,630,1172,609,1139,590"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="1251,410,1331,436"/>
<area shape="poly" title=" " alt="" coords="1124,559,1260,444,1264,448,1127,563"/>
<area shape="poly" title=" " alt="" coords="1342,656,1358,646,1393,606,1420,559,1438,513,1450,475,1455,476,1443,515,1424,561,1398,609,1362,650,1345,661"/>
<area shape="poly" title=" " alt="" coords="1332,426,1393,435,1392,441,1331,431"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="1062,1018,1155,1044"/>
<area shape="poly" title=" " alt="" coords="970,989,1048,1011,1047,1016,969,995"/>
<area shape="poly" title=" " alt="" coords="980,1123,1027,1118,1078,1106,1129,1086,1151,1071,1172,1054,1189,1033,1199,1014,1206,974,1208,930,1211,905,1219,878,1247,809,1274,752,1278,755,1252,812,1224,880,1217,907,1213,931,1212,975,1204,1016,1193,1036,1176,1058,1155,1076,1131,1091,1080,1111,1028,1123,981,1129"/>
<area shape="poly" title=" " alt="" coords="968,1111,994,1100,1038,1076,1076,1051,1079,1055,1040,1081,996,1105,970,1116"/>
<area shape="poly" title=" " alt="" coords="984,1026,1047,1027,1047,1032,984,1032"/>
<area shape="poly" title=" " alt="" coords="974,1078,1069,1075,1122,1067,1173,1053,1234,1031,1280,1009,1319,978,1358,928,1376,891,1392,839,1421,708,1441,574,1454,476,1459,477,1447,575,1426,709,1398,840,1381,893,1362,931,1323,981,1283,1014,1236,1036,1174,1059,1123,1072,1069,1080,974,1083"/>
<area shape="poly" title=" " alt="" coords="746,1087,772,1072,795,1053,811,1027,817,1002,824,977,843,951,867,937,870,942,847,955,829,979,822,1003,816,1029,799,1056,775,1077,749,1092"/>
<area shape="poly" title=" " alt="" coords="765,1108,799,1125,816,1146,822,1168,829,1188,846,1204,876,1216,915,1224,1011,1229,1060,1226,1106,1219,1144,1209,1172,1195,1202,1168,1226,1136,1245,1100,1260,1062,1278,989,1285,931,1291,932,1283,990,1265,1064,1250,1102,1230,1139,1206,1172,1175,1200,1146,1214,1107,1224,1061,1231,1011,1234,915,1229,874,1221,844,1209,825,1191,817,1169,811,1148,795,1129,762,1113"/>
<area shape="poly" title=" " alt="" coords="741,1087,795,1053,809,1039,818,1026,828,1013,843,1000,851,996,854,1001,847,1005,832,1017,822,1029,813,1042,799,1057,744,1091"/>
<area shape="poly" title=" " alt="" coords="764,1106,845,1115,845,1121,763,1111"/>
<area shape="poly" title=" " alt="" coords="747,1087,844,1049,861,1044,863,1049,846,1055,749,1092"/>
<area shape="poly" title=" " alt="" coords="763,1094,851,1083,851,1088,764,1099"/>
<area shape="poly" title=" " alt="" coords="686,1091,680,1081,683,1072,695,1065,714,1063,734,1066,745,1072,742,1077,732,1071,714,1068,697,1070,687,1075,685,1081,690,1088"/>
<area shape="poly" title=" " alt="" coords="751,1234,775,1219,795,1200,812,1167,819,1135,818,1105,815,1075,812,1045,813,1014,822,983,843,951,867,935,870,940,847,955,827,986,818,1015,817,1045,820,1074,824,1105,824,1136,817,1169,799,1203,778,1224,753,1238"/>
<area shape="poly" title=" " alt="" coords="755,1260,838,1282,891,1291,948,1297,1007,1297,1065,1289,1121,1273,1172,1245,1206,1213,1233,1174,1253,1131,1268,1087,1283,1000,1287,932,1293,933,1289,1000,1273,1088,1258,1133,1238,1177,1210,1216,1175,1249,1123,1278,1066,1295,1007,1302,948,1302,890,1297,837,1287,753,1265"/>
<area shape="poly" title=" " alt="" coords="739,1260,787,1284,846,1304,888,1313,921,1317,954,1315,995,1304,1117,1261,1165,1239,1208,1214,1247,1184,1283,1146,1320,1100,1358,1043,1379,995,1397,928,1413,848,1426,762,1445,595,1455,476,1460,476,1450,595,1431,763,1418,849,1402,929,1384,997,1362,1045,1324,1103,1287,1150,1250,1187,1211,1218,1168,1244,1119,1266,996,1309,955,1320,921,1322,887,1318,844,1309,785,1289,736,1265"/>
<area shape="poly" title=" " alt="" coords="750,1234,774,1219,795,1200,810,1174,816,1149,816,1100,814,1076,816,1051,825,1026,843,1001,847,997,850,1001,847,1004,830,1029,822,1052,820,1076,821,1100,821,1149,815,1176,799,1203,777,1224,753,1238"/>
<area shape="poly" title=" " alt="" coords="737,1234,796,1199,883,1146,886,1150,798,1204,740,1238"/>
<area shape="poly" title=" " alt="" coords="749,1234,773,1219,795,1200,807,1180,813,1161,816,1125,820,1088,828,1069,843,1050,845,1048,849,1052,847,1054,833,1072,825,1089,822,1125,819,1163,812,1182,799,1203,777,1224,751,1238"/>
<area shape="poly" title=" " alt="" coords="746,1234,772,1219,795,1200,811,1174,817,1149,824,1124,843,1099,851,1093,855,1098,847,1103,829,1127,822,1151,816,1176,799,1203,775,1223,749,1238"/>
<area shape="poly" title=" " alt="" coords="686,1237,680,1228,683,1218,695,1212,714,1210,734,1212,745,1219,742,1224,732,1217,714,1215,697,1217,687,1222,685,1227,690,1235"/>
<area shape="poly" title=" " alt="" coords="776,744,799,757,818,778,827,799,834,820,847,845,897,903,893,907,843,848,829,823,822,800,813,781,795,761,774,749"/>
<area shape="poly" title=" " alt="" coords="772,746,798,756,823,776,832,785,846,794,893,813,934,826,1006,840,1081,848,1174,867,1234,884,1232,889,1173,872,1080,854,1005,845,932,832,891,818,844,798,829,789,819,780,796,761,770,751"/>
<area shape="poly" title=" " alt="" coords="746,719,772,704,795,685,811,661,817,638,825,615,843,591,863,577,882,568,919,561,956,555,974,547,993,534,1009,514,1016,493,1023,472,1042,453,1089,430,1140,418,1190,413,1235,414,1235,419,1191,419,1141,423,1091,435,1045,457,1028,475,1021,495,1014,516,997,538,977,552,957,560,920,567,884,573,866,581,847,595,830,618,823,640,816,663,799,688,775,709,749,723"/>
<area shape="poly" title=" " alt="" coords="776,742,799,757,817,782,825,807,826,832,824,857,822,881,823,905,830,929,847,953,850,956,847,960,843,956,826,931,818,906,817,881,819,856,821,832,819,808,812,784,795,761,773,746"/>
<area shape="poly" title=" " alt="" coords="777,741,799,757,815,779,826,801,836,845,833,888,824,931,815,973,813,1015,821,1058,832,1079,847,1101,850,1104,846,1108,843,1104,827,1082,816,1060,807,1016,810,972,819,930,828,887,830,845,821,803,811,782,795,761,773,746"/>
<area shape="poly" title=" " alt="" coords="777,742,799,757,820,788,828,820,828,851,824,881,820,912,820,942,827,972,847,1002,848,1003,844,1007,843,1006,822,974,814,942,815,911,819,881,823,850,823,820,815,790,795,761,774,746"/>
<area shape="poly" title=" " alt="" coords="776,741,799,757,823,795,832,832,831,869,824,906,818,942,816,979,824,1015,847,1052,855,1059,852,1063,843,1055,819,1017,811,979,812,942,819,905,825,869,827,833,818,797,795,761,773,746"/>
<area shape="poly" title=" " alt="" coords="686,723,680,713,683,704,695,697,714,695,734,698,745,704,742,709,732,703,714,700,697,702,687,707,685,713,690,720"/>
<area shape="poly" title=" " alt="" coords="749,1160,774,1146,795,1126,808,1103,815,1082,816,1038,818,996,827,974,843,951,868,936,870,940,847,955,831,976,824,997,821,1039,820,1082,813,1106,799,1130,777,1150,752,1165"/>
<area shape="poly" title=" " alt="" coords="763,1184,798,1198,813,1208,822,1218,832,1227,846,1235,903,1238,1013,1238,1173,1234,1205,1203,1232,1166,1252,1125,1266,1082,1282,998,1287,932,1292,933,1288,998,1271,1083,1256,1127,1236,1169,1209,1207,1175,1238,1013,1243,903,1243,844,1240,829,1232,819,1222,809,1212,796,1202,761,1189"/>
<area shape="poly" title=" " alt="" coords="748,1160,773,1146,795,1126,806,1110,812,1094,817,1063,822,1032,830,1017,843,1001,846,998,850,1002,847,1005,834,1019,827,1034,822,1064,817,1096,811,1112,799,1130,776,1150,750,1165"/>
<area shape="poly" title=" " alt="" coords="761,1162,848,1141,849,1146,763,1167"/>
<area shape="poly" title=" " alt="" coords="744,1160,770,1145,795,1126,810,1107,817,1088,826,1069,843,1050,848,1046,851,1051,847,1054,830,1072,822,1090,814,1109,799,1130,773,1150,747,1165"/>
<area shape="poly" title=" " alt="" coords="736,1160,844,1099,857,1093,859,1098,846,1104,739,1165"/>
<area shape="poly" title=" " alt="" coords="686,1164,680,1155,683,1145,695,1139,714,1137,734,1139,745,1146,742,1150,732,1144,714,1142,697,1144,687,1148,685,1154,690,1161"/>
<area shape="poly" title=" " alt="" coords="782,672,799,683,820,710,830,735,836,763,847,795,906,902,901,904,843,797,831,764,825,737,816,712,795,687,779,677"/>
<area shape="poly" title=" " alt="" coords="779,672,799,683,815,700,823,718,831,734,847,750,875,764,913,777,1007,799,1102,818,1175,837,1218,858,1257,880,1255,885,1216,863,1173,843,1101,823,1006,804,912,782,873,769,843,754,827,737,818,720,811,703,795,687,776,677"/>
<area shape="poly" title=" " alt="" coords="743,646,871,594,955,567,1043,547,1110,535,1139,536,1175,547,1191,558,1201,571,1209,584,1223,597,1231,601,1228,605,1220,601,1205,587,1196,574,1188,562,1173,552,1138,541,1110,540,1044,552,957,572,872,599,745,650"/>
<area shape="poly" title=" " alt="" coords="782,671,799,684,822,718,830,752,829,786,824,820,819,853,818,886,826,919,847,953,850,956,847,960,843,956,821,922,813,887,813,853,819,819,824,786,825,753,817,720,795,687,779,675"/>
<area shape="poly" title=" " alt="" coords="782,670,799,683,818,711,831,737,839,764,841,790,837,842,824,894,812,945,807,997,810,1022,816,1048,829,1074,847,1101,850,1104,846,1108,843,1104,824,1077,811,1050,804,1023,802,997,807,944,819,893,831,842,836,790,833,765,826,739,814,713,795,687,779,674"/>
<area shape="poly" title=" " alt="" coords="782,671,799,683,814,704,825,725,834,765,832,805,824,845,817,884,814,923,823,962,833,982,847,1002,848,1003,844,1007,843,1006,828,985,818,964,809,923,811,883,819,844,827,804,829,766,820,726,810,707,795,687,779,675"/>
<area shape="poly" title=" " alt="" coords="782,670,799,683,816,707,828,731,835,754,838,778,834,824,824,869,814,915,811,960,813,982,820,1005,831,1028,847,1052,855,1059,851,1063,843,1055,826,1031,815,1007,808,983,805,960,809,914,819,868,829,823,832,778,830,755,823,733,812,710,795,687,779,675"/>
<area shape="poly" title=" " alt="" coords="686,649,680,640,683,630,695,624,714,622,734,624,745,631,742,636,732,629,714,627,697,629,687,634,685,639,690,647"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="860,448,980,474"/>
<area shape="poly" title=" " alt="" coords="721,647,779,560,814,514,843,483,849,479,852,484,847,487,818,517,783,563,726,650"/>
<area shape="rect" href="pi-buffer_8c.html#a8211b352afee03bf34db668018f029c2" title=" " alt="" coords="867,498,973,524"/>
<area shape="poly" title=" " alt="" coords="725,646,774,596,807,567,844,540,866,528,869,533,846,545,811,571,778,600,729,650"/>
<area shape="poly" title=" " alt="" coords="730,522,764,560,799,611,817,649,827,680,848,751,909,901,904,903,842,753,822,681,812,650,795,613,760,563,727,526"/>
<area shape="poly" title=" " alt="" coords="730,495,779,462,848,428,886,416,925,411,963,417,997,434,1016,452,1026,470,1031,490,1032,510,1032,552,1036,575,1046,599,1099,685,1161,765,1220,831,1267,879,1263,883,1216,835,1157,768,1095,688,1041,601,1031,576,1027,553,1026,510,1025,491,1021,472,1011,455,994,438,961,422,925,417,888,421,850,433,782,467,733,500"/>
<area shape="poly" title=" " alt="" coords="722,496,769,441,804,412,844,390,896,374,950,366,1005,364,1058,367,1158,382,1237,402,1235,407,1157,387,1058,372,1004,369,950,371,897,379,846,394,807,416,773,445,726,499"/>
<area shape="poly" title=" " alt="" coords="732,522,767,560,785,584,799,611,815,662,819,708,816,752,810,792,805,832,807,871,819,911,847,953,851,957,847,961,843,956,815,913,802,872,800,832,804,792,810,751,814,708,810,663,795,613,780,587,763,563,728,526"/>
<area shape="poly" title=" " alt="" coords="732,522,767,559,785,584,799,611,817,669,820,722,815,772,807,818,801,863,803,908,816,954,847,1002,848,1003,844,1007,843,1006,811,956,797,909,796,863,802,817,810,771,815,722,812,670,795,613,781,587,763,563,728,526"/>
<area shape="poly" title=" " alt="" coords="732,522,767,559,785,584,799,611,810,654,814,709,815,838,815,904,819,965,829,1015,837,1036,847,1052,855,1059,851,1063,843,1055,832,1038,824,1017,814,965,810,904,809,838,809,709,805,654,795,613,781,587,763,563,728,526"/>
<area shape="poly" title=" " alt="" coords="770,495,848,476,849,481,771,500"/>
<area shape="poly" title=" " alt="" coords="797,508,852,508,852,513,797,513"/>
<area shape="poly" title=" " alt="" coords="686,499,680,489,683,480,695,473,714,471,734,474,745,480,742,485,732,479,714,476,697,478,687,483,685,489,690,496"/>
<area shape="rect" href="dlp_8c.html#afe306b7b3888367eebf1222196b1b815" title=" " alt="" coords="845,700,995,740"/>
<area shape="poly" title=" " alt="" coords="730,522,890,686,886,690,726,526"/>
<area shape="rect" href="socket_8c.html#ac8ea1ffc8384bcf6719daabbf4cee496" title=" " alt="" coords="1056,207,1161,233"/>
<area shape="poly" title=" " alt="" coords="720,496,766,423,801,379,843,339,882,315,916,302,951,292,994,275,1068,238,1070,243,996,280,953,297,918,307,885,319,847,343,805,382,770,426,724,499"/>
<area shape="poly" title=" " alt="" coords="996,719,1228,723,1228,728,996,724"/>
<area shape="poly" title=" " alt="" coords="933,740,978,834,1010,894,1046,953,1087,1005,1082,1008,1041,956,1005,897,973,837,928,742"/>
<area shape="poly" title=" " alt="" coords="1139,231,1175,250,1320,344,1431,423,1428,428,1317,348,1172,254,1137,236"/>
<area shape="poly" title=" " alt="" coords="1146,231,1175,250,1220,310,1275,395,1271,398,1215,313,1172,254,1143,236"/>
<area shape="poly" title=" " alt="" coords="546,868,546,801,554,697,564,637,579,576,600,516,628,460,652,425,674,398,721,358,775,327,844,288,885,267,919,255,953,244,994,224,1017,207,1027,199,1042,192,1093,180,1138,177,1178,183,1215,196,1251,215,1286,241,1362,309,1411,366,1447,420,1442,423,1407,369,1358,313,1283,245,1248,220,1213,200,1177,188,1138,183,1094,186,1044,197,1030,203,1020,211,997,229,955,248,920,260,887,272,846,293,778,331,724,363,678,401,656,428,633,463,605,518,584,577,569,638,560,697,551,802,551,868"/>
<area shape="poly" title=" " alt="" coords="551,894,552,958,560,1056,570,1111,585,1167,605,1222,633,1273,692,1361,720,1396,750,1426,782,1448,820,1465,865,1475,919,1479,1292,1479,1333,1475,1370,1463,1404,1444,1435,1420,1464,1390,1489,1357,1531,1281,1564,1200,1588,1122,1613,1003,1618,1004,1593,1123,1569,1202,1536,1283,1493,1359,1468,1393,1439,1423,1407,1449,1372,1468,1334,1480,1292,1484,919,1484,864,1481,819,1470,780,1453,746,1430,716,1400,688,1364,628,1276,601,1225,580,1169,565,1112,555,1056,546,958,546,895"/>
<area shape="poly" title=" " alt="" coords="547,868,553,772,568,625,592,475,609,414,628,371,683,297,738,240,796,198,858,168,925,149,999,140,1081,138,1174,141,1376,160,1546,182,1546,187,1376,165,1173,147,1081,143,999,145,926,155,860,173,799,202,742,244,687,301,633,373,614,416,597,476,573,625,559,772,553,868"/>
<area shape="poly" title=" " alt="" coords="552,894,554,948,565,1028,575,1072,589,1117,608,1160,633,1200,647,1215,665,1226,661,1231,644,1219,629,1203,603,1163,584,1119,570,1074,559,1029,549,948,547,895"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="665,844,763,870"/>
<area shape="poly" title=" " alt="" coords="583,874,650,864,650,869,584,879"/>
<area shape="rect" href="socket_8c.html#ab636d5244f935701991791240583295a" title=" " alt="" coords="634,894,794,920"/>
<area shape="poly" title=" " alt="" coords="584,884,619,889,618,895,583,889"/>
<area shape="rect" href="socket_8c.html#af6e9a4a5aabc48480dbd6961d24819ec" title=" " alt="" coords="659,943,768,969"/>
<area shape="poly" title=" " alt="" coords="569,892,598,911,632,930,646,935,644,940,630,934,595,916,566,897"/>
<area shape="poly" title=" " alt="" coords="185,760,229,713,261,689,296,671,347,657,400,653,453,654,505,662,599,686,672,713,670,718,598,691,504,667,452,660,400,658,348,663,298,676,263,694,233,717,189,763"/>
<area shape="poly" title=" " alt="" coords="222,774,335,787,402,802,466,823,496,838,521,856,518,861,493,843,464,828,400,807,334,792,221,779"/>
<area shape="rect" href="dlp_8c.html#a9f0c8f272d342b38d3c05c2e1906d08d" title=" " alt="" coords="653,795,774,821"/>
<area shape="poly" title=" " alt="" coords="222,773,466,784,638,798,638,803,465,789,222,779"/>
<area shape="rect" href="socket_8c.html#a822f6b3639c99cb43468b11ff7c41799" title=" " alt="" coords="334,686,429,712"/>
<area shape="poly" title=" " alt="" coords="212,759,329,715,331,720,214,764"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="350,838,412,864"/>
<area shape="poly" title=" " alt="" coords="214,786,336,832,334,837,212,791"/>
<area shape="rect" href="socket_8c.html#a251bfe75de5f2d1c4ff58701c887a4e0" title=" " alt="" coords="513,195,583,221"/>
<area shape="poly" title=" " alt="" coords="182,760,225,679,300,548,398,392,454,313,511,238,518,230,522,234,515,242,458,316,403,395,304,551,229,682,186,763"/>
<area shape="rect" href="socket_8c.html#aa2d1d1b59340099588ea7bc15508745b" title=" " alt="" coords="342,887,420,913"/>
<area shape="poly" title=" " alt="" coords="191,786,236,829,266,853,298,874,328,886,326,891,296,878,263,857,232,833,187,790"/>
<area shape="poly" title=" " alt="" coords="776,818,799,830,815,846,824,863,832,879,847,895,871,910,868,915,843,899,828,882,819,865,811,849,795,834,774,823"/>
<area shape="poly" title=" " alt="" coords="762,819,798,829,846,844,951,864,1057,879,1231,897,1230,902,1056,884,950,869,844,849,796,835,761,824"/>
<area shape="poly" title=" " alt="" coords="744,792,770,777,795,758,810,740,819,723,828,705,843,686,882,654,917,636,952,618,994,591,1017,568,1027,558,1042,547,1089,525,1129,514,1221,496,1392,458,1393,464,1222,501,1130,519,1091,530,1045,552,1030,562,1020,572,997,595,955,623,919,640,885,659,847,690,832,708,824,725,815,743,799,762,773,782,746,797"/>
<area shape="poly" title=" " alt="" coords="776,816,799,830,812,846,819,861,824,893,828,923,835,938,847,953,850,955,846,959,843,957,830,941,823,925,819,893,814,863,807,848,795,834,774,821"/>
<area shape="poly" title=" " alt="" coords="776,815,799,830,822,865,830,899,830,934,824,967,819,1001,818,1034,826,1067,847,1101,850,1104,846,1108,843,1104,821,1069,812,1035,813,1000,819,966,824,933,825,900,817,867,795,834,773,819"/>
<area shape="poly" title=" " alt="" coords="777,815,799,830,815,852,823,874,824,918,825,960,832,981,847,1002,849,1004,845,1008,843,1006,827,984,820,961,819,918,818,875,810,855,795,834,774,820"/>
<area shape="poly" title=" " alt="" coords="776,815,799,830,818,858,827,887,827,915,824,943,821,970,821,997,829,1024,847,1052,854,1058,851,1062,843,1055,824,1027,816,998,816,970,819,942,822,915,821,888,814,861,795,834,773,819"/>
<area shape="poly" title=" " alt="" coords="686,796,680,787,683,777,695,771,714,769,734,771,745,778,742,782,732,776,714,774,697,776,687,780,685,786,690,793"/>
<area shape="poly" title=" " alt="" coords="388,684,421,630,476,548,547,456,587,412,629,370,729,285,773,254,817,230,863,210,915,194,1043,167,1138,153,1178,152,1216,156,1251,165,1287,181,1323,205,1362,237,1398,280,1425,330,1444,379,1456,419,1451,421,1439,381,1421,332,1394,283,1358,241,1320,209,1284,186,1250,170,1215,161,1178,157,1138,159,1044,172,916,199,865,215,819,235,776,259,732,289,632,374,591,415,551,460,480,552,425,633,392,687"/>
<area shape="poly" title=" " alt="" coords="398,710,467,780,529,854,525,858,463,783,395,714"/>
<area shape="poly" title=" " alt="" coords="571,192,624,163,702,125,799,86,909,51,967,37,1026,27,1085,22,1144,23,1202,30,1258,44,1312,66,1362,98,1381,120,1398,155,1426,246,1446,343,1458,419,1453,420,1441,344,1421,247,1393,157,1376,123,1358,102,1309,71,1257,49,1201,35,1144,28,1085,28,1026,33,968,42,910,56,800,91,704,130,626,168,573,197"/>
<area shape="rect" href="utils_8c.html#a5ffaef3fc3f7ddb9856ccd4bcb79e9bc" title=" " alt="" coords="352,1415,410,1441"/>
<area shape="poly" title=" " alt="" coords="248,1410,337,1420,337,1426,248,1415"/>
<area shape="poly" title=" " alt="" coords="226,1444,336,1431,337,1436,227,1450"/>
<area shape="rect" href="appinfo_8c.html#a343c77a1bd3b0cf5c2fb8cbc56df8f20" title=" " alt="" coords="297,1490,465,1516"/>
<area shape="poly" title=" " alt="" coords="249,1500,281,1500,281,1505,249,1505"/>
</map>
</div>

</div>
</div>
<a id="a6d6f47303271c3100eb013dd5e007777" name="a6d6f47303271c3100eb013dd5e007777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d6f47303271c3100eb013dd5e007777">&#9670;&#160;</a></span>tclquote()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * tclquote </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>in</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   38</span>{</div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordtype">int</span>     len;</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordtype">char</span>    *out,</div>
<div class="line"><span class="lineno">   41</span>        *pos;</div>
<div class="line"><span class="lineno">   42</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> = 0;</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">if</span> (in == NULL) {</div>
<div class="line"><span class="lineno">   45</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>;</div>
<div class="line"><span class="lineno">   46</span>    }</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>    <span class="comment">/* Skip leading bullet (and any whitespace after) */</span></div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">if</span> (in[0] == <span class="stringliteral">&#39;\x95&#39;</span>) {</div>
<div class="line"><span class="lineno">   50</span>        ++in;</div>
<div class="line"><span class="lineno">   51</span>        <span class="keywordflow">while</span> (in[0] == <span class="charliteral">&#39; &#39;</span> || in[0] == <span class="charliteral">&#39;\t&#39;</span>) {</div>
<div class="line"><span class="lineno">   52</span>            ++in;</div>
<div class="line"><span class="lineno">   53</span>        }</div>
<div class="line"><span class="lineno">   54</span>    }</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    len = 3;</div>
<div class="line"><span class="lineno">   57</span>    pos = in;</div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">while</span> (*pos) {</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordflow">if</span> ((*pos == <span class="charliteral">&#39;\\&#39;</span>) || (*pos == <span class="charliteral">&#39;&quot;&#39;</span>) || (*pos == <span class="charliteral">&#39;[&#39;</span>)</div>
<div class="line"><span class="lineno">   60</span>            || (*pos == <span class="charliteral">&#39;{&#39;</span>)</div>
<div class="line"><span class="lineno">   61</span>            || (*pos == <span class="charliteral">&#39;$&#39;</span>))</div>
<div class="line"><span class="lineno">   62</span>            len++;</div>
<div class="line"><span class="lineno">   63</span>        len++;</div>
<div class="line"><span class="lineno">   64</span>        pos++;</div>
<div class="line"><span class="lineno">   65</span>    }</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>)</div>
<div class="line"><span class="lineno">   68</span>        free(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno">   69</span>    <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> = (<span class="keywordtype">char</span> *) malloc(len);</div>
<div class="line"><span class="lineno">   70</span>    out = <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>;</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>    pos = in;</div>
<div class="line"><span class="lineno">   73</span>    *out++ = <span class="charliteral">&#39;&quot;&#39;</span>;</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">while</span> (*pos) {</div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">if</span> ((*pos == <span class="charliteral">&#39;\\&#39;</span>) || (*pos == <span class="charliteral">&#39;&quot;&#39;</span>) || (*pos == <span class="charliteral">&#39;[&#39;</span>)</div>
<div class="line"><span class="lineno">   76</span>            || (*pos == <span class="charliteral">&#39;{&#39;</span>)</div>
<div class="line"><span class="lineno">   77</span>            || (*pos == <span class="charliteral">&#39;$&#39;</span>))</div>
<div class="line"><span class="lineno">   78</span>            *out++ = <span class="charliteral">&#39;\\&#39;</span>;</div>
<div class="line"><span class="lineno">   79</span>        *out++ = *pos++;</div>
<div class="line"><span class="lineno">   80</span>    }</div>
<div class="line"><span class="lineno">   81</span>    *out++ = <span class="charliteral">&#39;&quot;&#39;</span>;</div>
<div class="line"><span class="lineno">   82</span>    *out++ = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>;</div>
<div class="line"><span class="lineno">   85</span>}</div>
<div class="ttc" id="apilot-debug_8c_html_a0ab27356885000c0b9430ce5f9b4a4ec"><div class="ttname"><a href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a></div><div class="ttdeci">unsigned char buffer[0xffff]</div><div class="ttdef"><b>Definition</b> pilot-debug.c:767</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00088">main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-read-ical_8c_a6d6f47303271c3100eb013dd5e007777_icgraph.png" border="0" usemap="#apilot-read-ical_8c_a6d6f47303271c3100eb013dd5e007777_icgraph" alt=""/></div>
<map name="apilot-read-ical_8c_a6d6f47303271c3100eb013dd5e007777_icgraph" id="apilot-read-ical_8c_a6d6f47303271c3100eb013dd5e007777_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,170,31"/>
<area shape="rect" href="pilot-read-ical_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="pilot-read-ical_8c.html">pilot-read-ical.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
