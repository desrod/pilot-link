<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: libpisock/usb.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('usb_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">usb.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &quot;pi-debug.h&quot;</code><br />
<code>#include &quot;pi-source.h&quot;</code><br />
<code>#include &quot;pi-usb.h&quot;</code><br />
<code>#include &quot;pi-net.h&quot;</code><br />
<code>#include &quot;pi-cmp.h&quot;</code><br />
<code>#include &quot;pi-error.h&quot;</code><br />
<code>#include &quot;pi-util.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for usb.c:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c__incl.png" border="0" usemap="#alibpisock_2usb_8c" alt=""/></div>
<map name="alibpisock_2usb_8c" id="alibpisock_2usb_8c">
<area shape="rect" title=" " alt="" coords="743,5,851,31"/>
<area shape="rect" title=" " alt="" coords="5,79,69,105"/>
<area shape="poly" title=" " alt="" coords="743,23,625,28,464,37,277,55,84,81,84,76,276,49,463,32,625,22,742,18"/>
<area shape="rect" title=" " alt="" coords="92,79,152,105"/>
<area shape="poly" title=" " alt="" coords="743,24,498,40,336,57,168,82,168,76,335,52,497,35,742,19"/>
<area shape="rect" title=" " alt="" coords="177,79,244,105"/>
<area shape="poly" title=" " alt="" coords="743,25,534,43,399,59,259,81,258,76,398,54,533,38,742,20"/>
<area shape="rect" title=" " alt="" coords="267,79,324,105"/>
<area shape="poly" title=" " alt="" coords="743,27,567,46,456,61,340,81,339,76,455,56,567,40,742,21"/>
<area shape="rect" title=" " alt="" coords="349,79,413,105"/>
<area shape="poly" title=" " alt="" coords="743,29,604,49,429,81,428,76,604,44,742,24"/>
<area shape="rect" title=" " alt="" coords="437,79,498,105"/>
<area shape="poly" title=" " alt="" coords="743,32,514,81,513,76,742,27"/>
<area shape="rect" title=" " alt="" coords="523,79,612,105"/>
<area shape="poly" title=" " alt="" coords="759,34,622,77,620,71,757,29"/>
<area shape="rect" title=" " alt="" coords="637,79,733,105"/>
<area shape="poly" title=" " alt="" coords="779,34,718,73,715,68,777,29"/>
<area shape="rect" title=" " alt="" coords="757,79,837,105"/>
<area shape="poly" title=" " alt="" coords="800,31,800,63,794,63,794,31"/>
<area shape="rect" title=" " alt="" coords="861,79,944,105"/>
<area shape="poly" title=" " alt="" coords="816,29,873,68,870,72,813,34"/>
<area shape="rect" title=" " alt="" coords="967,79,1048,105"/>
<area shape="poly" title=" " alt="" coords="834,29,958,71,956,76,832,34"/>
<area shape="rect" title=" " alt="" coords="1073,79,1158,105"/>
<area shape="poly" title=" " alt="" coords="852,29,1058,75,1057,80,851,34"/>
<area shape="rect" title=" " alt="" coords="1182,79,1249,105"/>
<area shape="poly" title=" " alt="" coords="852,24,991,44,1167,76,1166,81,990,50,851,29"/>
<area shape="rect" title=" " alt="" coords="1273,79,1337,105"/>
<area shape="poly" title=" " alt="" coords="852,22,1029,41,1141,56,1258,76,1257,81,1141,62,1028,46,851,27"/>
<area shape="rect" title=" " alt="" coords="1361,79,1433,105"/>
<area shape="poly" title=" " alt="" coords="852,20,1065,39,1203,55,1347,76,1346,81,1203,60,1064,44,852,26"/>
<area shape="rect" title=" " alt="" coords="1457,79,1529,105"/>
<area shape="poly" title=" " alt="" coords="852,19,1103,36,1270,53,1442,76,1442,81,1269,58,1103,41,851,25"/>
<area shape="rect" title=" " alt="" coords="1553,79,1617,105"/>
<area shape="poly" title=" " alt="" coords="852,18,973,22,1141,32,1337,49,1538,76,1538,82,1336,54,1141,37,973,28,851,23"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af67584512ce1964be95668c7a37d7c34" id="r_af67584512ce1964be95668c7a37d7c34"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af67584512ce1964be95668c7a37d7c34">pi_socket_init</a> (pi_socket_t *ps)</td></tr>
<tr class="separator:af67584512ce1964be95668c7a37d7c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b05dc9bd4af901e301699fd78ca936" id="r_a22b05dc9bd4af901e301699fd78ca936"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22b05dc9bd4af901e301699fd78ca936">pi_usb_accept</a> (pi_socket_t *ps, struct sockaddr *addr, size_t *addrlen)</td></tr>
<tr class="separator:a22b05dc9bd4af901e301699fd78ca936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12205af52d497ef4d403db67fbd89e4e" id="r_a12205af52d497ef4d403db67fbd89e4e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12205af52d497ef4d403db67fbd89e4e">pi_usb_bind</a> (pi_socket_t *ps, struct sockaddr *addr, size_t addrlen)</td></tr>
<tr class="separator:a12205af52d497ef4d403db67fbd89e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c1ad1d1189c425a737a4ef6ca60c43" id="r_a16c1ad1d1189c425a737a4ef6ca60c43"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16c1ad1d1189c425a737a4ef6ca60c43">pi_usb_close</a> (pi_socket_t *ps)</td></tr>
<tr class="separator:a16c1ad1d1189c425a737a4ef6ca60c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0589e9bb1b983864e59ba5d8cdca033f" id="r_a0589e9bb1b983864e59ba5d8cdca033f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0589e9bb1b983864e59ba5d8cdca033f">pi_usb_connect</a> (pi_socket_t *ps, struct sockaddr *addr, size_t addrlen)</td></tr>
<tr class="separator:a0589e9bb1b983864e59ba5d8cdca033f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c518ca08dac477013ed3b56ee8c174" id="r_a68c518ca08dac477013ed3b56ee8c174"><td class="memItemLeft" align="right" valign="top">pi_device_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68c518ca08dac477013ed3b56ee8c174">pi_usb_device</a> (int type)</td></tr>
<tr class="separator:a68c518ca08dac477013ed3b56ee8c174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491b9ef69db62d0f7f9327b0f9d28cab" id="r_a491b9ef69db62d0f7f9327b0f9d28cab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a491b9ef69db62d0f7f9327b0f9d28cab">pi_usb_device_free</a> (pi_device_t *dev)</td></tr>
<tr class="separator:a491b9ef69db62d0f7f9327b0f9d28cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64528aca8631671c5c77a83e708d465f" id="r_a64528aca8631671c5c77a83e708d465f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64528aca8631671c5c77a83e708d465f">pi_usb_getsockopt</a> (pi_socket_t *ps, int level, int option_name, void *option_value, size_t *option_len)</td></tr>
<tr class="separator:a64528aca8631671c5c77a83e708d465f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89289c21867b368a515b864aeafc3973" id="r_a89289c21867b368a515b864aeafc3973"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89289c21867b368a515b864aeafc3973">pi_usb_listen</a> (pi_socket_t *ps, int backlog)</td></tr>
<tr class="separator:a89289c21867b368a515b864aeafc3973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83ccb5c0de7b1dc317ccc523614c4022" id="r_a83ccb5c0de7b1dc317ccc523614c4022"><td class="memItemLeft" align="right" valign="top">static pi_protocol_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83ccb5c0de7b1dc317ccc523614c4022">pi_usb_protocol</a> (pi_device_t *dev)</td></tr>
<tr class="separator:a83ccb5c0de7b1dc317ccc523614c4022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470267a34402645ffa55f66393f01a0c" id="r_a470267a34402645ffa55f66393f01a0c"><td class="memItemLeft" align="right" valign="top">pi_protocol_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a470267a34402645ffa55f66393f01a0c">pi_usb_protocol_dup</a> (pi_protocol_t *prot)</td></tr>
<tr class="separator:a470267a34402645ffa55f66393f01a0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111d017a3682ded12d1c710af0c7a1a7" id="r_a111d017a3682ded12d1c710af0c7a1a7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a111d017a3682ded12d1c710af0c7a1a7">pi_usb_protocol_free</a> (pi_protocol_t *prot)</td></tr>
<tr class="separator:a111d017a3682ded12d1c710af0c7a1a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48251b09b739c1818ec4673882ea408b" id="r_a48251b09b739c1818ec4673882ea408b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48251b09b739c1818ec4673882ea408b">pi_usb_setsockopt</a> (pi_socket_t *ps, int level, int option_name, const void *option_value, size_t *option_len)</td></tr>
<tr class="separator:a48251b09b739c1818ec4673882ea408b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a583159599f13b3acde7c069e03a2e43b" id="r_a583159599f13b3acde7c069e03a2e43b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a583159599f13b3acde7c069e03a2e43b">USB_check_device</a> (pi_usb_data_t *dev, u_int16_t vendor, u_int16_t product)</td></tr>
<tr class="separator:a583159599f13b3acde7c069e03a2e43b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a24b6836e4ed45e12d7355fba32f9cd" id="r_a2a24b6836e4ed45e12d7355fba32f9cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a24b6836e4ed45e12d7355fba32f9cd">USB_configure_device</a> (pi_usb_data_t *dev, u_int8_t *input_pipe, u_int8_t *output_pipe)</td></tr>
<tr class="separator:a2a24b6836e4ed45e12d7355fba32f9cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1cb6ff0bde9621ce55136945a97ca13" id="r_aa1cb6ff0bde9621ce55136945a97ca13"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1cb6ff0bde9621ce55136945a97ca13">USB_configure_generic</a> (pi_usb_data_t *dev, u_int8_t *input_pipe, u_int8_t *output_pipe)</td></tr>
<tr class="separator:aa1cb6ff0bde9621ce55136945a97ca13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6654f0635e3510f0304fbf663b47f14b" id="r_a6654f0635e3510f0304fbf663b47f14b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6654f0635e3510f0304fbf663b47f14b">USB_configure_visor</a> (pi_usb_data_t *dev, u_int8_t *input_pipe, u_int8_t *output_pipe)</td></tr>
<tr class="separator:a6654f0635e3510f0304fbf663b47f14b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4f1fd631a9244eb12721c28c2c30be4c" id="r_a4f1fd631a9244eb12721c28c2c30be4c"><td class="memItemLeft" align="right" valign="top">pi_usb_dev_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4f1fd631a9244eb12721c28c2c30be4c">known_devices</a> []</td></tr>
<tr class="separator:a4f1fd631a9244eb12721c28c2c30be4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af67584512ce1964be95668c7a37d7c34" name="af67584512ce1964be95668c7a37d7c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67584512ce1964be95668c7a37d7c34">&#9670;&#160;</a></span>pi_socket_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_socket_init </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  982</span>{</div>
<div class="line"><span class="lineno">  983</span>    <a class="code hl_function" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b">protocol_queue_build</a> (ps, 1);</div>
<div class="line"><span class="lineno">  984</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  985</span>}</div>
<div class="ttc" id="asocket_8c_html_abbc33d60b040a4ed0667fba946921f9b"><div class="ttname"><a href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b">protocol_queue_build</a></div><div class="ttdeci">static void protocol_queue_build(pi_socket_t *ps, int autodetect)</div><div class="ttdef"><b>Definition</b> socket.c:431</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00390">pi_usb_accept()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_af67584512ce1964be95668c7a37d7c34_icgraph.png" border="0" usemap="#ausb_8c_af67584512ce1964be95668c7a37d7c34_icgraph" alt=""/></div>
<map name="ausb_8c_af67584512ce1964be95668c7a37d7c34_icgraph" id="ausb_8c_af67584512ce1964be95668c7a37d7c34_icgraph">
<area shape="rect" title=" " alt="" coords="1283,242,1384,268"/>
<area shape="rect" href="usb_8c.html#a22b05dc9bd4af901e301699fd78ca936" title=" " alt="" coords="1130,242,1235,268"/>
<area shape="poly" title=" " alt="" coords="1267,258,1235,258,1235,252,1267,252"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a22b05dc9bd4af901e301699fd78ca936" name="a22b05dc9bd4af901e301699fd78ca936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b05dc9bd4af901e301699fd78ca936">&#9670;&#160;</a></span>pi_usb_accept()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_usb_accept </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>addrlen</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  391</span>{</div>
<div class="line"><span class="lineno">  392</span>    <span class="keyword">struct  </span>pi_usb_data *data = (pi_usb_data_t *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordtype">int</span> result,</div>
<div class="line"><span class="lineno">  394</span>        timeout;</div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordtype">size_t</span>  <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>    data-&gt;timeout = timeout = ps-&gt;accept_to * 1000;</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">if</span> (data-&gt;impl.wait_for_device) {</div>
<div class="line"><span class="lineno">  400</span>        result = data-&gt;impl.wait_for_device (ps, &amp;timeout);</div>
<div class="line"><span class="lineno">  401</span>        <span class="keywordflow">if</span> (result &lt;= 0)</div>
<div class="line"><span class="lineno">  402</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  403</span>    }</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>    <span class="comment">/* Wait for data */</span></div>
<div class="line"><span class="lineno">  406</span><span class="preprocessor">#ifdef LINUX</span></div>
<div class="line"><span class="lineno">  407</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  408</span><span class="comment">     * Evilish kluge, some palm devices won&#39;t send the initial</span></div>
<div class="line"><span class="lineno">  409</span><span class="comment">     * packets if we don&#39;t try and get them fairly quickly.</span></div>
<div class="line"><span class="lineno">  410</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  411</span><span class="comment">     * Sending a 0 byte NET packet can get them talking again</span></div>
<div class="line"><span class="lineno">  412</span><span class="comment">     * in some cases though.</span></div>
<div class="line"><span class="lineno">  413</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  414</span>    result = data-&gt;impl.poll(ps, 1000);</div>
<div class="line"><span class="lineno">  415</span>    LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;%s: %d, poll result: %d.\n&quot;</span>, __FILE__, __LINE__, result));</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordflow">if</span> (result &lt;= 0) {</div>
<div class="line"><span class="lineno">  418</span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[] = { 0x01, 0x00, 0x00, 0x00, 0x00, 0x00 };</div>
<div class="line"><span class="lineno">  419</span>        data-&gt;impl.write(ps, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>), 1000);</div>
<div class="line"><span class="lineno">  420</span>    }</div>
<div class="line"><span class="lineno">  421</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>    result = data-&gt;impl.poll(ps, timeout);</div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordflow">if</span> (result &lt;= 0) {</div>
<div class="line"><span class="lineno">  425</span>        <span class="keywordflow">if</span> (result == 0) {</div>
<div class="line"><span class="lineno">  426</span>            <span class="keywordflow">return</span>(PI_ERR_SOCK_LISTENER);</div>
<div class="line"><span class="lineno">  427</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  428</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  429</span>        }</div>
<div class="line"><span class="lineno">  430</span>    }</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <a class="code hl_function" href="#af67584512ce1964be95668c7a37d7c34">pi_socket_init</a>(ps);</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>    LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;%s: %d, prot: 0x%x, type: 0x%x, cmd: 0x%x.\n&quot;</span>, __FILE__, __LINE__, ps-&gt;protocol, ps-&gt;type, ps-&gt;cmd));</div>
<div class="line"><span class="lineno">  435</span>    <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_STREAM) {</div>
<div class="line"><span class="lineno">  436</span>        <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno">  437</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cmp_flags;</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>        <span class="keywordflow">switch</span> (ps-&gt;cmd) {</div>
<div class="line"><span class="lineno">  440</span>            <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#ab798fd804bcbcac8aa988c4c28e62a5c">PI_CMD_CMP</a>:</div>
<div class="line"><span class="lineno">  441</span>                LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;%s: %d, cmp rx.\n&quot;</span>, __FILE__, __LINE__));</div>
<div class="line"><span class="lineno">  442</span>                <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c">cmp_rx_handshake</a>(ps, data-&gt;establishrate, data-&gt;establishhighrate)) &lt; 0)</div>
<div class="line"><span class="lineno">  443</span>                {</div>
<div class="line"><span class="lineno">  444</span>                    LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;usb.c: cmp_rx_handshake returned %d\n&quot;</span>, result));</div>
<div class="line"><span class="lineno">  445</span>                    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  446</span>                }</div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>                <span class="comment">/* propagate the long packet format flag to both command and non-command stacks */</span></div>
<div class="line"><span class="lineno">  449</span>                <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span>(cmp_flags);</div>
<div class="line"><span class="lineno">  450</span>                <a class="code hl_function" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5">pi_getsockopt</a>(ps-&gt;sd, PI_LEVEL_CMP, PI_CMP_FLAGS, &amp;cmp_flags, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);   </div>
<div class="line"><span class="lineno">  451</span>                <span class="keywordflow">if</span> (cmp_flags &amp; CMP_FL_LONG_PACKET_SUPPORT) {</div>
<div class="line"><span class="lineno">  452</span>                    <span class="keywordtype">int</span> use_long_format = 1;</div>
<div class="line"><span class="lineno">  453</span>                    <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span>(int);</div>
<div class="line"><span class="lineno">  454</span>                    <a class="code hl_function" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a>(ps-&gt;sd, PI_LEVEL_PADP, PI_PADP_USE_LONG_FORMAT,</div>
<div class="line"><span class="lineno">  455</span>                              &amp;use_long_format, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  456</span>                    ps-&gt;command ^= 1;</div>
<div class="line"><span class="lineno">  457</span>                    <a class="code hl_function" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a>(ps-&gt;sd, PI_LEVEL_PADP, PI_PADP_USE_LONG_FORMAT,</div>
<div class="line"><span class="lineno">  458</span>                              &amp;use_long_format, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  459</span>                    ps-&gt;command ^= 1;</div>
<div class="line"><span class="lineno">  460</span>                }</div>
<div class="line"><span class="lineno">  461</span>                </div>
<div class="line"><span class="lineno">  462</span>                    <span class="comment">/* reconfigure the port to match the negotiated speed */</span></div>
<div class="line"><span class="lineno">  463</span>                <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span>(data-&gt;rate);</div>
<div class="line"><span class="lineno">  464</span>                <a class="code hl_function" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5">pi_getsockopt</a>(ps-&gt;sd, PI_LEVEL_CMP, PI_CMP_BAUD, &amp;data-&gt;rate, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  465</span>                <span class="keywordflow">if</span> (data-&gt;impl.changebaud != NULL) {</div>
<div class="line"><span class="lineno">  466</span>                    <span class="keywordflow">if</span> ((result = data-&gt;impl.changebaud(ps)) &lt; 0)</div>
<div class="line"><span class="lineno">  467</span>                        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>                    <span class="comment">/* handheld needs some time to reconfigure its port */</span></div>
<div class="line"><span class="lineno">  470</span>                    tv.tv_sec   = 0;</div>
<div class="line"><span class="lineno">  471</span>                    tv.tv_usec  = 50000;</div>
<div class="line"><span class="lineno">  472</span>                    select(0, 0, 0, 0, &amp;tv);</div>
<div class="line"><span class="lineno">  473</span>                }</div>
<div class="line"><span class="lineno">  474</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>            <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#ad2643f2a338ea48319d16bed48fbc5d4">PI_CMD_NET</a>:</div>
<div class="line"><span class="lineno">  477</span>                LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;%s: %d, net rx.\n&quot;</span>, __FILE__, __LINE__));</div>
<div class="line"><span class="lineno">  478</span>                <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="net_8c.html#a228af3513fa40c477512b1d69eea2112">net_rx_handshake</a>(ps)) &lt; 0)</div>
<div class="line"><span class="lineno">  479</span>                {</div>
<div class="line"><span class="lineno">  480</span>                    LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;usb.c: cmp_rx_handshake returned %d\n&quot;</span>, result));</div>
<div class="line"><span class="lineno">  481</span>                    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  482</span>                }</div>
<div class="line"><span class="lineno">  483</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  486</span>                LOG((PI_DBG_DEV, PI_DBG_LVL_ERR, <span class="stringliteral">&quot;%s: %d, unknown rx %x.\n&quot;</span>, __FILE__, __LINE__,ps-&gt;cmd));</div>
<div class="line"><span class="lineno">  487</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  488</span>        }</div>
<div class="line"><span class="lineno">  489</span>        ps-&gt;dlprecord = 0;</div>
<div class="line"><span class="lineno">  490</span>    }</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>    data-&gt;timeout = 0;</div>
<div class="line"><span class="lineno">  493</span>    ps-&gt;command = 0;</div>
<div class="line"><span class="lineno">  494</span>    ps-&gt;state = PI_SOCK_CONN_ACCEPT;</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordflow">return</span> ps-&gt;sd;</div>
<div class="line"><span class="lineno">  496</span>}</div>
<div class="ttc" id="acmp_8c_html_a94b2861d069ea313208312a38d02644c"><div class="ttname"><a href="cmp_8c.html#a94b2861d069ea313208312a38d02644c">cmp_rx_handshake</a></div><div class="ttdeci">int cmp_rx_handshake(pi_socket_t *ps, int establishrate, int establishhighrate)</div><div class="ttdef"><b>Definition</b> cmp.c:185</div></div>
<div class="ttc" id="anamespacepisock_html_ab798fd804bcbcac8aa988c4c28e62a5c"><div class="ttname"><a href="namespacepisock.html#ab798fd804bcbcac8aa988c4c28e62a5c">pisock.PI_CMD_CMP</a></div><div class="ttdeci">PI_CMD_CMP</div><div class="ttdef"><b>Definition</b> pisock.py:69</div></div>
<div class="ttc" id="anamespacepisock_html_ad2643f2a338ea48319d16bed48fbc5d4"><div class="ttname"><a href="namespacepisock.html#ad2643f2a338ea48319d16bed48fbc5d4">pisock.PI_CMD_NET</a></div><div class="ttdeci">PI_CMD_NET</div><div class="ttdef"><b>Definition</b> pisock.py:70</div></div>
<div class="ttc" id="anet_8c_html_a228af3513fa40c477512b1d69eea2112"><div class="ttname"><a href="net_8c.html#a228af3513fa40c477512b1d69eea2112">net_rx_handshake</a></div><div class="ttdeci">int net_rx_handshake(pi_socket_t *ps)</div><div class="ttdef"><b>Definition</b> net.c:182</div></div>
<div class="ttc" id="apitcl_8c_html_a0dea8f1af961c5e9eb4425acd7c95409"><div class="ttname"><a href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a></div><div class="ttdeci">char buf[0xffff]</div><div class="ttdef"><b>Definition</b> pitcl.c:34</div></div>
<div class="ttc" id="asocket_8c_html_a082db14a855d890be5f3e23b2ebb12e5"><div class="ttname"><a href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5">pi_getsockopt</a></div><div class="ttdeci">int pi_getsockopt(int pi_sd, int level, int option_name, void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> socket.c:1151</div></div>
<div class="ttc" id="asocket_8c_html_ac046ff247e07d169f5445f2343a06da3"><div class="ttname"><a href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a></div><div class="ttdeci">int pi_setsockopt(int pi_sd, int level, int option_name, const void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> socket.c:1199</div></div>
<div class="ttc" id="ausb_8c_html_af67584512ce1964be95668c7a37d7c34"><div class="ttname"><a href="#af67584512ce1964be95668c7a37d7c34">pi_socket_init</a></div><div class="ttdeci">int pi_socket_init(pi_socket_t *ps)</div><div class="ttdef"><b>Definition</b> socket.c:981</div></div>
<div class="ttc" id="avalidate_8cc_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> validate.cc:81</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00185">cmp_rx_handshake()</a>, <a class="el" href="#l00182">net_rx_handshake()</a>, <a class="el" href="#l01151">pi_getsockopt()</a>, <a class="el" href="#l01199">pi_setsockopt()</a>, <a class="el" href="#l00981">pi_socket_init()</a>, and <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00203">pi_usb_device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a22b05dc9bd4af901e301699fd78ca936_cgraph.png" border="0" usemap="#ausb_8c_a22b05dc9bd4af901e301699fd78ca936_cgraph" alt=""/></div>
<map name="ausb_8c_a22b05dc9bd4af901e301699fd78ca936_cgraph" id="ausb_8c_a22b05dc9bd4af901e301699fd78ca936_cgraph">
<area shape="rect" title=" " alt="" coords="5,259,111,284"/>
<area shape="rect" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c" title=" " alt="" coords="159,259,293,284"/>
<area shape="poly" title=" " alt="" coords="111,269,143,269,143,274,111,274"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="640,5,742,31"/>
<area shape="poly" title=" " alt="" coords="70,256,107,220,157,184,218,153,282,126,411,81,530,48,624,27,625,32,531,53,412,86,284,131,220,158,160,188,110,225,73,260"/>
<area shape="rect" href="net_8c.html#a228af3513fa40c477512b1d69eea2112" title=" " alt="" coords="341,624,468,650"/>
<area shape="poly" title=" " alt="" coords="109,282,220,316,268,332,295,346,317,386,345,459,397,608,392,610,340,461,312,388,291,349,266,337,219,321,107,287"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="640,156,742,182"/>
<area shape="poly" title=" " alt="" coords="86,256,196,210,267,186,341,169,416,160,493,156,624,160,624,166,493,162,417,165,341,174,268,192,197,215,88,260"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="175,360,276,386"/>
<area shape="poly" title=" " alt="" coords="78,283,160,339,182,351,180,355,157,343,75,287"/>
<area shape="rect" href="cmp_8c.html#adc9c309853f9ac66577cf0966a372260" title=" " alt="" coords="364,184,446,210"/>
<area shape="poly" title=" " alt="" coords="255,256,340,218,352,213,354,218,342,223,257,261"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="649,107,733,132"/>
<area shape="poly" title=" " alt="" coords="236,256,279,213,308,190,340,169,377,152,415,139,495,122,570,115,633,114,633,119,571,121,496,128,417,144,378,157,342,174,311,194,282,217,240,260"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="841,257,930,283"/>
<area shape="poly" title=" " alt="" coords="256,283,341,318,399,338,465,356,535,369,608,376,681,373,752,358,783,346,812,328,859,292,862,296,815,333,785,350,754,363,682,378,608,381,534,375,463,361,397,343,339,323,254,287"/>
<area shape="rect" href="cmp_8c.html#a11606925c41885b1bca65ab8c44adc30" title=" " alt="" coords="370,233,440,259"/>
<area shape="poly" title=" " alt="" coords="293,259,354,251,354,256,294,265"/>
<area shape="rect" href="cmp_8c.html#acc715b624e23e1384e4b66c7c66ed93f" title=" " alt="" coords="516,309,581,335"/>
<area shape="poly" title=" " alt="" coords="294,279,501,312,500,317,293,285"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="641,913,741,939"/>
<area shape="poly" title=" " alt="" coords="245,283,272,310,295,346,308,379,315,411,320,470,314,524,305,575,297,625,297,676,311,728,324,755,343,783,371,814,404,840,441,862,479,879,557,904,626,917,625,922,556,909,478,884,438,866,401,845,368,818,339,786,320,757,306,730,292,676,292,625,300,574,309,523,314,469,310,412,303,381,291,349,268,313,241,287"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="640,864,742,890"/>
<area shape="poly" title=" " alt="" coords="245,283,272,310,295,346,312,392,317,434,317,472,313,509,311,544,312,580,322,619,343,661,372,698,405,732,443,761,482,787,562,829,631,856,629,861,560,833,480,792,440,766,402,736,368,702,339,664,317,621,307,581,305,544,308,508,312,472,312,434,306,394,291,349,267,314,241,287"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="516,208,581,234"/>
<area shape="poly" title=" " alt="" coords="447,201,501,210,500,216,446,206"/>
<area shape="poly" title=" " alt="" coords="433,181,516,149,576,134,633,124,634,130,577,140,517,154,435,186"/>
<area shape="poly" title=" " alt="" coords="421,181,478,140,518,117,563,95,611,79,660,71,708,74,732,81,754,92,775,111,784,132,790,155,803,181,832,215,860,244,857,248,828,219,799,184,785,157,779,134,771,114,752,96,730,86,707,79,660,76,612,84,565,100,521,121,481,145,424,186"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="648,308,734,334"/>
<area shape="poly" title=" " alt="" coords="570,232,660,296,657,301,567,236"/>
<area shape="poly" title=" " alt="" coords="561,206,627,141,634,137,637,142,630,146,564,210"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="633,561,749,587"/>
<area shape="poly" title=" " alt="" coords="558,233,583,296,681,546,676,548,578,298,553,235"/>
<area shape="poly" title=" " alt="" coords="582,223,826,259,825,264,581,228"/>
<area shape="poly" title=" " alt="" coords="555,206,585,156,626,93,666,41,671,44,631,96,590,158,560,209"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1018,195,1124,220"/>
<area shape="poly" title=" " alt="" coords="733,111,782,107,843,107,908,113,971,129,1014,153,1049,181,1045,186,1011,157,969,134,907,118,843,112,783,113,733,116"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="817,144,954,170"/>
<area shape="poly" title=" " alt="" coords="734,125,802,138,801,143,733,130"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1179,145,1284,171"/>
<area shape="poly" title=" " alt="" coords="1115,191,1172,174,1173,179,1116,197"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1172,195,1291,220"/>
<area shape="poly" title=" " alt="" coords="1124,205,1156,205,1156,210,1124,210"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1188,244,1275,270"/>
<area shape="poly" title=" " alt="" coords="1116,218,1174,237,1173,242,1115,224"/>
<area shape="poly" title=" " alt="" coords="739,559,752,552,803,515,851,473,938,382,1006,296,1051,232,1055,235,1010,299,942,386,855,477,806,519,754,556,742,563"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="801,561,970,587"/>
<area shape="poly" title=" " alt="" coords="749,572,785,572,785,577,749,577"/>
<area shape="poly" title=" " alt="" coords="925,254,1015,223,1017,228,927,259"/>
<area shape="poly" title=" " alt="" coords="743,23,793,33,852,48,914,70,972,100,996,118,1019,139,1054,180,1050,183,1015,143,993,122,969,104,911,75,851,53,792,38,742,28"/>
<area shape="poly" title=" " alt="" coords="721,29,754,48,813,91,861,132,857,136,809,95,752,52,719,34"/>
<area shape="poly" title=" " alt="" coords="730,29,755,48,776,82,783,113,788,145,803,181,830,216,859,245,855,249,826,219,799,184,783,147,777,114,771,84,751,52,726,34"/>
<area shape="poly" title=" " alt="" coords="440,237,500,227,501,232,441,243"/>
<area shape="poly" title=" " alt="" coords="439,232,467,220,515,193,628,141,640,136,642,141,630,146,518,198,469,225,441,237"/>
<area shape="poly" title=" " alt="" coords="441,245,825,265,825,270,440,251"/>
<area shape="poly" title=" " alt="" coords="581,319,633,319,633,324,581,325"/>
<area shape="poly" title=" " alt="" coords="553,308,594,212,627,142,634,136,637,140,631,145,598,214,558,310"/>
<area shape="poly" title=" " alt="" coords="559,334,677,547,673,549,555,337"/>
<area shape="poly" title=" " alt="" coords="582,331,629,344,691,352,718,351,752,344,781,334,808,320,854,290,857,295,811,325,783,338,754,349,719,356,691,357,628,349,581,337"/>
<area shape="poly" title=" " alt="" coords="425,621,512,567,627,500,663,483,692,473,720,460,751,439,788,404,820,365,867,295,872,298,824,368,792,407,755,443,722,465,694,478,665,488,630,505,515,571,428,626"/>
<area shape="poly" title=" " alt="" coords="416,648,445,695,494,762,556,835,592,869,630,900,636,904,633,908,627,904,589,873,553,839,489,765,441,698,411,651"/>
<area shape="poly" title=" " alt="" coords="431,648,503,694,545,727,583,764,598,788,606,810,614,830,631,851,634,853,630,858,627,855,609,833,601,812,593,791,579,768,541,731,500,699,429,652"/>
<area shape="rect" href="net_8c.html#a6c20ece547e720eec693b02b39774c8b" title=" " alt="" coords="520,663,577,688"/>
<area shape="poly" title=" " alt="" coords="456,648,505,661,504,666,454,653"/>
<area shape="rect" href="net_8c.html#a1670601987b6494055bea1a75938955e" title=" " alt="" coords="520,587,577,612"/>
<area shape="poly" title=" " alt="" coords="456,621,504,608,505,613,458,626"/>
<area shape="poly" title=" " alt="" coords="558,661,578,624,587,578,591,519,590,378,591,306,596,240,607,184,615,161,627,142,634,135,637,138,631,145,620,163,612,185,601,241,597,307,596,378,596,519,593,579,583,626,563,663"/>
<area shape="poly" title=" " alt="" coords="567,660,658,594,661,598,570,664"/>
<area shape="poly" title=" " alt="" coords="576,687,614,702,660,715,684,717,708,716,731,710,751,699,874,297,879,298,755,703,733,715,709,721,684,722,659,720,612,707,574,691"/>
<area shape="poly" title=" " alt="" coords="558,661,578,624,598,546,604,478,602,416,597,358,592,299,592,238,602,170,626,93,642,65,662,41,666,44,647,68,631,95,607,171,597,238,597,299,602,357,608,416,610,478,603,547,583,626,563,663"/>
<area shape="poly" title=" " alt="" coords="557,688,631,901,633,902,629,906,626,904,552,690"/>
<area shape="poly" title=" " alt="" coords="566,687,583,709,593,730,598,750,603,785,609,817,617,834,631,851,633,853,629,857,627,855,612,837,604,819,597,785,593,751,588,732,578,712,562,691"/>
<area shape="rect" href="net_8c.html#aa1aa11043c32d2b6ea7a60cadadccb94" title=" " alt="" coords="652,815,730,840"/>
<area shape="poly" title=" " alt="" coords="565,687,583,709,597,733,605,754,614,773,631,794,644,805,641,809,627,797,609,776,600,756,592,735,578,712,560,690"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="838,764,933,790"/>
<area shape="poly" title=" " alt="" coords="564,686,599,719,630,742,678,759,729,770,822,776,822,782,728,775,677,764,627,747,595,723,561,690"/>
<area shape="rect" href="net_8c.html#a8bd2d98d388794603edc8c3ba56e7f85" title=" " alt="" coords="629,663,753,688"/>
<area shape="poly" title=" " alt="" coords="578,673,613,673,613,678,578,678"/>
<area shape="poly" title=" " alt="" coords="558,661,578,624,593,576,601,534,605,461,607,387,614,344,626,295,648,240,671,194,676,197,653,242,631,296,619,345,613,387,610,461,606,535,598,577,583,626,562,663"/>
<area shape="poly" title=" " alt="" coords="730,815,822,791,823,796,731,820"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="1026,764,1116,790"/>
<area shape="poly" title=" " alt="" coords="934,774,1010,774,1010,780,934,780"/>
<area shape="poly" title=" " alt="" coords="743,173,801,180,1003,199,1003,204,801,185,742,178"/>
<area shape="poly" title=" " alt="" coords="742,163,801,159,802,165,743,168"/>
<area shape="poly" title=" " alt="" coords="719,180,754,198,847,247,844,252,752,203,716,185"/>
<area shape="poly" title=" " alt="" coords="549,586,580,351,603,217,615,169,626,142,634,135,638,138,631,145,620,171,608,218,585,352,554,586"/>
<area shape="poly" title=" " alt="" coords="577,592,617,585,618,590,578,597"/>
<area shape="poly" title=" " alt="" coords="567,584,627,546,663,531,693,522,721,512,751,490,769,469,778,449,786,428,799,402,865,295,870,298,803,405,791,430,783,452,773,472,755,493,724,516,695,527,665,536,630,551,570,588"/>
<area shape="poly" title=" " alt="" coords="578,599,660,613,708,627,754,648,789,671,820,698,867,750,863,753,816,702,785,675,752,653,706,632,659,618,577,604"/>
<area shape="poly" title=" " alt="" coords="575,611,630,641,652,653,649,658,627,646,572,615"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a22b05dc9bd4af901e301699fd78ca936_icgraph.png" border="0" usemap="#ausb_8c_a22b05dc9bd4af901e301699fd78ca936_icgraph" alt=""/></div>
<map name="ausb_8c_a22b05dc9bd4af901e301699fd78ca936_icgraph" id="ausb_8c_a22b05dc9bd4af901e301699fd78ca936_icgraph">
<area shape="rect" title=" " alt="" coords="1130,242,1235,268"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a12205af52d497ef4d403db67fbd89e4e" name="a12205af52d497ef4d403db67fbd89e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12205af52d497ef4d403db67fbd89e4e">&#9670;&#160;</a></span>pi_usb_bind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_usb_bind </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>addrlen</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  327</span>{</div>
<div class="line"><span class="lineno">  328</span>    <span class="keyword">struct  </span>pi_usb_data *data = (pi_usb_data_t *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  329</span>    <span class="keyword">struct  </span>pi_sockaddr *pa = (<span class="keyword">struct </span>pi_sockaddr *) addr;</div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="comment">/* this rate stuff is only useful on platforms where USB-serial adapters</span></div>
<div class="line"><span class="lineno">  333</span><span class="comment">     * connect through the USB layer, not through a serial tty</span></div>
<div class="line"><span class="lineno">  334</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_STREAM) {</div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">if</span> (data-&gt;establishrate == -1)</div>
<div class="line"><span class="lineno">  337</span>            <a class="code hl_function" href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f">get_pilot_rate</a>(&amp;data-&gt;establishrate, &amp;data-&gt;establishhighrate);</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>        <span class="comment">/* Mandatory CMP connection rate */</span></div>
<div class="line"><span class="lineno">  340</span>        data-&gt;rate = 9600;</div>
<div class="line"><span class="lineno">  341</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_RAW) {</div>
<div class="line"><span class="lineno">  342</span>        <span class="comment">/* Mandatory SysPkt connection rate */</span></div>
<div class="line"><span class="lineno">  343</span>        data-&gt;establishrate = data-&gt;rate = 57600;</div>
<div class="line"><span class="lineno">  344</span>    }</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>    result = data-&gt;impl.open(ps, pa, addrlen);</div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordflow">if</span> (result &lt; 0)</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    ps-&gt;raddr   = malloc(addrlen);</div>
<div class="line"><span class="lineno">  351</span>    memcpy(ps-&gt;raddr, addr, addrlen);</div>
<div class="line"><span class="lineno">  352</span>    ps-&gt;raddrlen    = addrlen;</div>
<div class="line"><span class="lineno">  353</span>    ps-&gt;laddr   = malloc(addrlen);</div>
<div class="line"><span class="lineno">  354</span>    memcpy(ps-&gt;laddr, addr, addrlen);</div>
<div class="line"><span class="lineno">  355</span>    ps-&gt;laddrlen    = addrlen;</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  358</span>}</div>
<div class="ttc" id="autils_8c_html_a8ecab12c818c7bc5f3a89a33b68eef5f"><div class="ttname"><a href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f">get_pilot_rate</a></div><div class="ttdeci">void get_pilot_rate(int *establishrate, int *establishhighrate)</div><div class="ttdef"><b>Definition</b> utils.c:78</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00078">get_pilot_rate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00203">pi_usb_device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a12205af52d497ef4d403db67fbd89e4e_cgraph.png" border="0" usemap="#ausb_8c_a12205af52d497ef4d403db67fbd89e4e_cgraph" alt=""/></div>
<map name="ausb_8c_a12205af52d497ef4d403db67fbd89e4e_cgraph" id="ausb_8c_a12205af52d497ef4d403db67fbd89e4e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,96,31"/>
<area shape="rect" href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f" title=" " alt="" coords="144,5,243,31"/>
<area shape="poly" title=" " alt="" coords="96,16,128,16,128,21,96,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a12205af52d497ef4d403db67fbd89e4e_icgraph.png" border="0" usemap="#ausb_8c_a12205af52d497ef4d403db67fbd89e4e_icgraph" alt=""/></div>
<map name="ausb_8c_a12205af52d497ef4d403db67fbd89e4e_icgraph" id="ausb_8c_a12205af52d497ef4d403db67fbd89e4e_icgraph">
<area shape="rect" title=" " alt="" coords="1130,242,1220,268"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a16c1ad1d1189c425a737a4ef6ca60c43" name="a16c1ad1d1189c425a737a4ef6ca60c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c1ad1d1189c425a737a4ef6ca60c43">&#9670;&#160;</a></span>pi_usb_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_usb_close </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  612</span>{</div>
<div class="line"><span class="lineno">  613</span>    pi_usb_data_t *data = (pi_usb_data_t *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">if</span> (ps-&gt;sd != 0)  {</div>
<div class="line"><span class="lineno">  616</span>        data-&gt;impl.close (ps);</div>
<div class="line"><span class="lineno">  617</span>        ps-&gt;sd = 0;</div>
<div class="line"><span class="lineno">  618</span>    }</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>    <span class="keywordflow">if</span> (ps-&gt;laddr != NULL) {</div>
<div class="line"><span class="lineno">  621</span>        free(ps-&gt;laddr);</div>
<div class="line"><span class="lineno">  622</span>        ps-&gt;laddr = NULL;</div>
<div class="line"><span class="lineno">  623</span>    }</div>
<div class="line"><span class="lineno">  624</span>    <span class="keywordflow">if</span> (ps-&gt;raddr != NULL) {</div>
<div class="line"><span class="lineno">  625</span>        free(ps-&gt;raddr);</div>
<div class="line"><span class="lineno">  626</span>        ps-&gt;raddr = NULL;</div>
<div class="line"><span class="lineno">  627</span>    }</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  630</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00203">pi_usb_device()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a16c1ad1d1189c425a737a4ef6ca60c43_icgraph.png" border="0" usemap="#ausb_8c_a16c1ad1d1189c425a737a4ef6ca60c43_icgraph" alt=""/></div>
<map name="ausb_8c_a16c1ad1d1189c425a737a4ef6ca60c43_icgraph" id="ausb_8c_a16c1ad1d1189c425a737a4ef6ca60c43_icgraph">
<area shape="rect" title=" " alt="" coords="1130,242,1227,268"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a0589e9bb1b983864e59ba5d8cdca033f" name="a0589e9bb1b983864e59ba5d8cdca033f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0589e9bb1b983864e59ba5d8cdca033f">&#9670;&#160;</a></span>pi_usb_connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_usb_connect </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>addrlen</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  249</span>{</div>
<div class="line"><span class="lineno">  250</span>    <span class="keyword">struct  </span>pi_usb_data *data = (pi_usb_data_t *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  251</span>    <span class="keyword">struct  </span>pi_sockaddr *pa = (<span class="keyword">struct </span>pi_sockaddr *) addr;</div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordtype">int</span> result, timeout;</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordtype">size_t</span>  <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_STREAM) {</div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">if</span> (ps-&gt;protocol == PI_PF_SYS) {</div>
<div class="line"><span class="lineno">  257</span>            data-&gt;establishrate = data-&gt;rate = 57600;</div>
<div class="line"><span class="lineno">  258</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  259</span>            <span class="keywordflow">if</span> (data-&gt;establishrate == -1)</div>
<div class="line"><span class="lineno">  260</span>                <a class="code hl_function" href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f">get_pilot_rate</a>(&amp;data-&gt;establishrate, &amp;data-&gt;establishhighrate);</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>            <span class="comment">/* Mandatory CMP connection rate */</span></div>
<div class="line"><span class="lineno">  263</span>            data-&gt;rate = 9600;</div>
<div class="line"><span class="lineno">  264</span>        }</div>
<div class="line"><span class="lineno">  265</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_RAW) {</div>
<div class="line"><span class="lineno">  266</span>        <span class="comment">/* Mandatory SysPkt connection rate */</span></div>
<div class="line"><span class="lineno">  267</span>        data-&gt;establishrate = data-&gt;rate = 57600;</div>
<div class="line"><span class="lineno">  268</span>    }</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>    result = data-&gt;impl.open(ps, pa, addrlen);</div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">if</span> (result &lt; 0)</div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    data-&gt;timeout = timeout = ps-&gt;accept_to * 1000;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordflow">if</span> (data-&gt;impl.wait_for_device) {</div>
<div class="line"><span class="lineno">  277</span>        result = data-&gt;impl.wait_for_device (ps, &amp;timeout);</div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">if</span> (result &lt;= 0)</div>
<div class="line"><span class="lineno">  279</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  280</span>    }</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    ps-&gt;raddr   = malloc(addrlen);</div>
<div class="line"><span class="lineno">  283</span>    memcpy(ps-&gt;raddr, addr, addrlen);</div>
<div class="line"><span class="lineno">  284</span>    ps-&gt;raddrlen    = addrlen;</div>
<div class="line"><span class="lineno">  285</span>    ps-&gt;laddr   = malloc(addrlen);</div>
<div class="line"><span class="lineno">  286</span>    memcpy(ps-&gt;laddr, addr, addrlen);</div>
<div class="line"><span class="lineno">  287</span>    ps-&gt;laddrlen    = addrlen;</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_STREAM) {</div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">switch</span> (ps-&gt;cmd) {</div>
<div class="line"><span class="lineno">  291</span>            <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#ab798fd804bcbcac8aa988c4c28e62a5c">PI_CMD_CMP</a>:</div>
<div class="line"><span class="lineno">  292</span>                <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10">cmp_tx_handshake</a>(ps)) &lt; 0)</div>
<div class="line"><span class="lineno">  293</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  294</span>                <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span>(data-&gt;rate);</div>
<div class="line"><span class="lineno">  295</span>                <a class="code hl_function" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5">pi_getsockopt</a>(ps-&gt;sd, PI_LEVEL_CMP, PI_CMP_BAUD,</div>
<div class="line"><span class="lineno">  296</span>                              &amp;data-&gt;rate, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  297</span>                <span class="keywordflow">if</span> ((result = data-&gt;impl.changebaud(ps)) &lt; 0)</div>
<div class="line"><span class="lineno">  298</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  299</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>            <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#ad2643f2a338ea48319d16bed48fbc5d4">PI_CMD_NET</a>:</div>
<div class="line"><span class="lineno">  302</span>                <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="net_8c.html#a6a024f8bd13770fb4b83bd6994aa0e93">net_tx_handshake</a>(ps)) &lt; 0)</div>
<div class="line"><span class="lineno">  303</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  304</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  305</span>        }</div>
<div class="line"><span class="lineno">  306</span>    }</div>
<div class="line"><span class="lineno">  307</span>    ps-&gt;state = PI_SOCK_CONN_INIT;</div>
<div class="line"><span class="lineno">  308</span>    ps-&gt;command = 0;</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span><a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>:</div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">return</span> (result &lt; 0) ? result : 0;</div>
<div class="line"><span class="lineno">  312</span>}</div>
<div class="ttc" id="acmp_8c_html_a5e3c72b736be2b8d827902975ce79d10"><div class="ttname"><a href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10">cmp_tx_handshake</a></div><div class="ttdeci">int cmp_tx_handshake(pi_socket_t *ps)</div><div class="ttdef"><b>Definition</b> cmp.c:252</div></div>
<div class="ttc" id="anet_8c_html_a6a024f8bd13770fb4b83bd6994aa0e93"><div class="ttname"><a href="net_8c.html#a6a024f8bd13770fb4b83bd6994aa0e93">net_tx_handshake</a></div><div class="ttdeci">int net_tx_handshake(pi_socket_t *ps)</div><div class="ttdef"><b>Definition</b> net.c:230</div></div>
<div class="ttc" id="apilot-read-palmpix_8c_html_a0d1b4ddc8dbaeec0961a8c824afd9ebd"><div class="ttname"><a href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a></div><div class="ttdeci">static int fail(const char *func)</div><div class="ttdef"><b>Definition</b> pilot-read-palmpix.c:435</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00252">cmp_tx_handshake()</a>, <a class="el" href="#l00435">fail()</a>, <a class="el" href="#l00078">get_pilot_rate()</a>, <a class="el" href="#l00230">net_tx_handshake()</a>, <a class="el" href="#l01151">pi_getsockopt()</a>, and <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00203">pi_usb_device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a0589e9bb1b983864e59ba5d8cdca033f_cgraph.png" border="0" usemap="#ausb_8c_a0589e9bb1b983864e59ba5d8cdca033f_cgraph" alt=""/></div>
<map name="ausb_8c_a0589e9bb1b983864e59ba5d8cdca033f_cgraph" id="ausb_8c_a0589e9bb1b983864e59ba5d8cdca033f_cgraph">
<area shape="rect" title=" " alt="" coords="5,485,118,510"/>
<area shape="rect" href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10" title=" " alt="" coords="166,282,300,308"/>
<area shape="poly" title=" " alt="" coords="72,482,209,318,213,321,76,486"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="214,535,252,561"/>
<area shape="poly" title=" " alt="" coords="108,508,199,536,198,541,107,513"/>
<area shape="rect" href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f" title=" " alt="" coords="183,585,282,610"/>
<area shape="poly" title=" " alt="" coords="80,509,118,539,167,571,176,576,174,580,164,576,115,544,76,513"/>
<area shape="rect" href="net_8c.html#a6a024f8bd13770fb4b83bd6994aa0e93" title=" " alt="" coords="348,569,475,594"/>
<area shape="poly" title=" " alt="" coords="118,495,205,501,254,509,301,520,343,537,379,558,377,562,340,542,299,525,252,514,204,506,118,500"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="647,433,749,458"/>
<area shape="poly" title=" " alt="" coords="118,490,631,448,631,454,118,496"/>
<area shape="rect" href="cmp_8c.html#acc715b624e23e1384e4b66c7c66ed93f" title=" " alt="" coords="523,231,588,257"/>
<area shape="poly" title=" " alt="" coords="289,279,348,267,508,246,508,251,348,272,290,284"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="656,383,740,409"/>
<area shape="poly" title=" " alt="" coords="293,306,524,358,641,382,640,387,523,363,292,311"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="848,231,937,257"/>
<area shape="poly" title=" " alt="" coords="242,280,281,231,344,163,383,127,426,93,473,63,522,39,588,15,644,3,671,4,699,9,728,19,761,35,786,52,809,73,844,122,870,173,886,215,881,217,865,175,840,125,805,77,783,56,759,40,726,24,697,14,670,9,644,9,589,20,524,44,476,67,430,97,387,131,348,167,285,234,246,283"/>
<area shape="rect" href="cmp_8c.html#a9e820941b251af7a76e0d0962f5146a5" title=" " alt="" coords="362,282,461,308"/>
<area shape="poly" title=" " alt="" coords="300,292,347,292,347,297,300,297"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="655,182,740,208"/>
<area shape="poly" title=" " alt="" coords="587,231,643,211,645,216,589,236"/>
<area shape="poly" title=" " alt="" coords="578,256,590,268,606,296,612,322,619,346,638,370,644,376,641,380,634,374,615,348,607,324,601,298,586,271,574,259"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="640,482,756,508"/>
<area shape="poly" title=" " alt="" coords="579,256,590,268,604,297,610,324,610,373,610,397,612,420,621,444,638,469,639,471,635,474,634,472,616,447,607,422,604,397,605,373,605,324,599,299,585,271,575,259"/>
<area shape="poly" title=" " alt="" coords="564,229,592,196,612,180,635,167,669,156,697,154,726,158,761,167,817,190,864,220,861,224,815,195,759,172,725,163,697,159,670,161,637,172,615,184,596,200,568,233"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1025,333,1131,358"/>
<area shape="poly" title=" " alt="" coords="740,383,808,368,914,355,1010,347,1010,352,914,360,808,373,741,388"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="824,383,961,409"/>
<area shape="poly" title=" " alt="" coords="740,393,808,393,808,399,740,399"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1186,283,1291,309"/>
<area shape="poly" title=" " alt="" coords="1122,329,1179,312,1180,317,1123,335"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1179,333,1298,358"/>
<area shape="poly" title=" " alt="" coords="1131,343,1163,343,1163,348,1131,348"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1195,382,1282,408"/>
<area shape="poly" title=" " alt="" coords="1123,356,1181,375,1180,380,1122,362"/>
<area shape="poly" title=" " alt="" coords="756,495,806,494,862,489,921,476,976,454,1002,436,1025,415,1059,370,1063,373,1029,418,1005,440,979,459,923,481,863,494,806,500,757,501"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="808,535,977,561"/>
<area shape="poly" title=" " alt="" coords="748,506,829,528,828,533,747,511"/>
<area shape="poly" title=" " alt="" coords="936,255,979,274,1016,297,1050,321,1047,325,1014,301,976,279,934,260"/>
<area shape="poly" title=" " alt="" coords="452,306,646,375,644,380,450,311"/>
<area shape="poly" title=" " alt="" coords="412,281,421,239,440,180,454,149,473,120,495,94,522,73,554,55,584,42,612,36,640,34,668,37,697,45,761,72,803,102,838,140,864,181,882,215,877,218,859,183,833,144,800,106,759,77,695,50,667,43,640,39,613,41,586,48,556,59,525,77,499,98,477,123,459,152,445,182,426,240,417,282"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="523,282,588,308"/>
<area shape="poly" title=" " alt="" coords="461,292,508,292,508,297,461,297"/>
<area shape="poly" title=" " alt="" coords="572,279,586,268,609,245,634,225,653,213,656,217,637,229,613,249,589,271,575,284"/>
<area shape="poly" title=" " alt="" coords="571,306,637,370,644,374,641,378,634,374,568,310"/>
<area shape="poly" title=" " alt="" coords="562,308,570,340,584,383,606,429,638,469,640,471,636,475,634,473,602,432,579,385,564,341,557,309"/>
<area shape="poly" title=" " alt="" coords="588,285,635,275,832,248,833,253,636,280,589,290"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="647,334,749,360"/>
<area shape="poly" title=" " alt="" coords="589,304,647,326,645,331,587,309"/>
<area shape="poly" title=" " alt="" coords="749,333,808,324,893,319,978,324,1010,329,1009,334,977,329,893,324,808,329,750,338"/>
<area shape="poly" title=" " alt="" coords="750,357,825,376,823,381,749,362"/>
<area shape="poly" title=" " alt="" coords="726,331,758,313,782,293,807,274,833,261,836,266,809,278,785,297,762,317,728,336"/>
<area shape="poly" title=" " alt="" coords="413,568,455,393,487,289,504,247,521,217,546,187,572,163,598,145,626,134,656,127,688,127,723,132,761,143,793,158,824,177,871,218,867,222,820,181,791,162,759,148,722,138,688,133,657,133,628,139,601,150,575,167,550,191,526,220,509,250,492,291,460,395,418,569"/>
<area shape="rect" href="net_8c.html#a6c20ece547e720eec693b02b39774c8b" title=" " alt="" coords="527,531,584,557"/>
<area shape="poly" title=" " alt="" coords="463,565,511,553,512,558,465,571"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="648,682,748,708"/>
<area shape="poly" title=" " alt="" coords="434,592,475,617,524,642,580,662,633,677,632,682,578,667,522,647,473,622,432,597"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="647,783,749,809"/>
<area shape="poly" title=" " alt="" coords="429,593,514,668,574,716,637,762,657,774,654,778,634,766,570,721,510,672,425,597"/>
<area shape="rect" href="net_8c.html#a1670601987b6494055bea1a75938955e" title=" " alt="" coords="527,606,584,632"/>
<area shape="poly" title=" " alt="" coords="465,592,512,605,511,610,463,598"/>
<area shape="poly" title=" " alt="" coords="560,530,586,477,608,446,634,418,640,413,644,418,637,422,612,449,591,479,564,532"/>
<area shape="poly" title=" " alt="" coords="584,532,643,511,645,516,586,537"/>
<area shape="poly" title=" " alt="" coords="555,531,559,490,572,433,595,373,612,344,634,319,662,306,712,289,832,256,834,261,714,294,664,311,637,324,617,348,600,375,577,435,565,491,560,531"/>
<area shape="poly" title=" " alt="" coords="557,530,565,498,579,455,602,409,634,369,636,367,640,371,638,373,606,412,584,457,570,500,562,532"/>
<area shape="rect" href="net_8c.html#aa1aa11043c32d2b6ea7a60cadadccb94" title=" " alt="" coords="659,531,737,557"/>
<area shape="poly" title=" " alt="" coords="585,541,643,541,643,547,585,547"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="845,585,940,610"/>
<area shape="poly" title=" " alt="" coords="585,552,636,567,738,583,830,592,829,597,737,588,635,572,584,557"/>
<area shape="rect" href="net_8c.html#a8bd2d98d388794603edc8c3ba56e7f85" title=" " alt="" coords="636,633,760,658"/>
<area shape="poly" title=" " alt="" coords="572,556,601,583,637,611,656,623,653,627,634,616,597,587,568,559"/>
<area shape="poly" title=" " alt="" coords="567,556,590,592,610,634,620,651,637,669,641,672,638,676,634,673,616,654,606,637,585,595,563,559"/>
<area shape="poly" title=" " alt="" coords="569,556,590,592,605,628,613,657,622,685,638,719,676,770,672,773,633,722,617,687,608,658,600,630,585,595,564,559"/>
<area shape="poly" title=" " alt="" coords="566,529,595,499,634,467,641,463,644,468,637,472,599,503,570,533"/>
<area shape="poly" title=" " alt="" coords="738,552,831,578,829,583,737,557"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="1033,585,1123,610"/>
<area shape="poly" title=" " alt="" coords="941,595,1017,595,1017,600,941,600"/>
<area shape="poly" title=" " alt="" coords="749,447,798,448,856,445,917,436,976,419,1018,396,1052,367,1055,371,1021,400,978,424,918,441,857,450,798,453,749,452"/>
<area shape="poly" title=" " alt="" coords="749,430,823,411,825,416,750,435"/>
<area shape="poly" title=" " alt="" coords="741,430,758,419,784,393,815,352,873,268,877,271,820,355,788,396,762,424,743,434"/>
<area shape="poly" title=" " alt="" coords="564,604,585,568,598,526,602,490,610,455,619,437,634,418,641,412,644,416,638,422,623,440,615,457,607,491,603,527,590,571,569,607"/>
<area shape="poly" title=" " alt="" coords="562,604,590,562,610,538,634,517,640,513,643,517,637,521,614,542,594,565,566,607"/>
<area shape="poly" title=" " alt="" coords="565,631,591,676,612,700,637,718,671,733,701,740,729,736,758,718,775,692,786,654,791,606,793,554,795,449,798,404,805,370,835,313,868,267,872,270,840,316,811,372,803,405,800,449,798,554,797,607,791,655,780,694,762,722,731,741,701,746,669,738,634,722,608,704,587,679,560,634"/>
<area shape="poly" title=" " alt="" coords="560,632,564,671,575,724,585,751,598,777,616,800,637,819,668,836,697,841,726,835,759,819,784,801,807,778,843,725,867,670,882,625,887,626,872,672,847,728,811,782,788,805,761,824,728,840,697,846,667,841,634,824,612,804,594,780,580,753,570,725,559,672,555,633"/>
<area shape="poly" title=" " alt="" coords="585,622,621,628,620,634,584,627"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a0589e9bb1b983864e59ba5d8cdca033f_icgraph.png" border="0" usemap="#ausb_8c_a0589e9bb1b983864e59ba5d8cdca033f_icgraph" alt=""/></div>
<map name="ausb_8c_a0589e9bb1b983864e59ba5d8cdca033f_icgraph" id="ausb_8c_a0589e9bb1b983864e59ba5d8cdca033f_icgraph">
<area shape="rect" title=" " alt="" coords="1130,242,1242,268"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a68c518ca08dac477013ed3b56ee8c174" name="a68c518ca08dac477013ed3b56ee8c174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68c518ca08dac477013ed3b56ee8c174">&#9670;&#160;</a></span>pi_usb_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pi_device_t * pi_usb_device </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  204</span>{</div>
<div class="line"><span class="lineno">  205</span>    pi_device_t *dev;</div>
<div class="line"><span class="lineno">  206</span>    pi_usb_data_t *data;</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    dev = (pi_device_t *)malloc (<span class="keyword">sizeof</span> (pi_device_t));</div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">if</span> (dev != NULL) {</div>
<div class="line"><span class="lineno">  210</span>        data = (pi_usb_data_t *)malloc (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> pi_usb_data));</div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">if</span> (data == NULL) {</div>
<div class="line"><span class="lineno">  212</span>            free(dev);</div>
<div class="line"><span class="lineno">  213</span>            dev = NULL;</div>
<div class="line"><span class="lineno">  214</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  215</span>            dev-&gt;free       = <a class="code hl_function" href="#a491b9ef69db62d0f7f9327b0f9d28cab">pi_usb_device_free</a>;</div>
<div class="line"><span class="lineno">  216</span>            dev-&gt;protocol       = <a class="code hl_function" href="#a83ccb5c0de7b1dc317ccc523614c4022">pi_usb_protocol</a>;</div>
<div class="line"><span class="lineno">  217</span>            dev-&gt;bind       = <a class="code hl_function" href="#a12205af52d497ef4d403db67fbd89e4e">pi_usb_bind</a>;</div>
<div class="line"><span class="lineno">  218</span>            dev-&gt;listen         = <a class="code hl_function" href="#a89289c21867b368a515b864aeafc3973">pi_usb_listen</a>;</div>
<div class="line"><span class="lineno">  219</span>            dev-&gt;accept         = <a class="code hl_function" href="#a22b05dc9bd4af901e301699fd78ca936">pi_usb_accept</a>;</div>
<div class="line"><span class="lineno">  220</span>            dev-&gt;connect        = <a class="code hl_function" href="#a0589e9bb1b983864e59ba5d8cdca033f">pi_usb_connect</a>;</div>
<div class="line"><span class="lineno">  221</span>            dev-&gt;close      = <a class="code hl_function" href="#a16c1ad1d1189c425a737a4ef6ca60c43">pi_usb_close</a>;</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>            memset(data, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> pi_usb_data));</div>
<div class="line"><span class="lineno">  224</span>            data-&gt;rate      = -1;</div>
<div class="line"><span class="lineno">  225</span>            data-&gt;establishrate     = -1;</div>
<div class="line"><span class="lineno">  226</span>            data-&gt;establishhighrate = 0;</div>
<div class="line"><span class="lineno">  227</span>            <a class="code hl_function" href="darwinusb_8c.html#a21b4c9d5b57f1d4a8f6b08b170b1d29f">pi_usb_impl_init</a> (&amp;data-&gt;impl);</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>            dev-&gt;data       = data;</div>
<div class="line"><span class="lineno">  230</span>        }</div>
<div class="line"><span class="lineno">  231</span>    }</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">return</span> dev;</div>
<div class="line"><span class="lineno">  234</span>}</div>
<div class="ttc" id="adarwinusb_8c_html_a21b4c9d5b57f1d4a8f6b08b170b1d29f"><div class="ttname"><a href="darwinusb_8c.html#a21b4c9d5b57f1d4a8f6b08b170b1d29f">pi_usb_impl_init</a></div><div class="ttdeci">void pi_usb_impl_init(struct pi_usb_impl *impl)</div><div class="ttdef"><b>Definition</b> darwinusb.c:1950</div></div>
<div class="ttc" id="ausb_8c_html_a0589e9bb1b983864e59ba5d8cdca033f"><div class="ttname"><a href="#a0589e9bb1b983864e59ba5d8cdca033f">pi_usb_connect</a></div><div class="ttdeci">static int pi_usb_connect(pi_socket_t *ps, struct sockaddr *addr, size_t addrlen)</div><div class="ttdef"><b>Definition</b> usb.c:248</div></div>
<div class="ttc" id="ausb_8c_html_a12205af52d497ef4d403db67fbd89e4e"><div class="ttname"><a href="#a12205af52d497ef4d403db67fbd89e4e">pi_usb_bind</a></div><div class="ttdeci">static int pi_usb_bind(pi_socket_t *ps, struct sockaddr *addr, size_t addrlen)</div><div class="ttdef"><b>Definition</b> usb.c:326</div></div>
<div class="ttc" id="ausb_8c_html_a16c1ad1d1189c425a737a4ef6ca60c43"><div class="ttname"><a href="#a16c1ad1d1189c425a737a4ef6ca60c43">pi_usb_close</a></div><div class="ttdeci">static int pi_usb_close(pi_socket_t *ps)</div><div class="ttdef"><b>Definition</b> usb.c:611</div></div>
<div class="ttc" id="ausb_8c_html_a22b05dc9bd4af901e301699fd78ca936"><div class="ttname"><a href="#a22b05dc9bd4af901e301699fd78ca936">pi_usb_accept</a></div><div class="ttdeci">static int pi_usb_accept(pi_socket_t *ps, struct sockaddr *addr, size_t *addrlen)</div><div class="ttdef"><b>Definition</b> usb.c:390</div></div>
<div class="ttc" id="ausb_8c_html_a491b9ef69db62d0f7f9327b0f9d28cab"><div class="ttname"><a href="#a491b9ef69db62d0f7f9327b0f9d28cab">pi_usb_device_free</a></div><div class="ttdeci">static void pi_usb_device_free(pi_device_t *dev)</div><div class="ttdef"><b>Definition</b> usb.c:178</div></div>
<div class="ttc" id="ausb_8c_html_a83ccb5c0de7b1dc317ccc523614c4022"><div class="ttname"><a href="#a83ccb5c0de7b1dc317ccc523614c4022">pi_usb_protocol</a></div><div class="ttdeci">static pi_protocol_t * pi_usb_protocol(pi_device_t *dev)</div><div class="ttdef"><b>Definition</b> usb.c:140</div></div>
<div class="ttc" id="ausb_8c_html_a89289c21867b368a515b864aeafc3973"><div class="ttname"><a href="#a89289c21867b368a515b864aeafc3973">pi_usb_listen</a></div><div class="ttdeci">static int pi_usb_listen(pi_socket_t *ps, int backlog)</div><div class="ttdef"><b>Definition</b> usb.c:372</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00390">pi_usb_accept()</a>, <a class="el" href="#l00326">pi_usb_bind()</a>, <a class="el" href="#l00611">pi_usb_close()</a>, <a class="el" href="#l00248">pi_usb_connect()</a>, <a class="el" href="#l00178">pi_usb_device_free()</a>, <a class="el" href="#l01950">pi_usb_impl_init()</a>, <a class="el" href="#l00372">pi_usb_listen()</a>, and <a class="el" href="#l00140">pi_usb_protocol()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01021">pi_devsocket()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a68c518ca08dac477013ed3b56ee8c174_cgraph.png" border="0" usemap="#ausb_8c_a68c518ca08dac477013ed3b56ee8c174_cgraph" alt=""/></div>
<map name="ausb_8c_a68c518ca08dac477013ed3b56ee8c174_cgraph" id="ausb_8c_a68c518ca08dac477013ed3b56ee8c174_cgraph">
<area shape="rect" title=" " alt="" coords="5,1089,110,1115"/>
<area shape="rect" href="usb_8c.html#a22b05dc9bd4af901e301699fd78ca936" title=" " alt="" coords="172,233,277,259"/>
<area shape="poly" title=" " alt="" coords="58,1089,94,871,155,535,214,274,219,275,160,536,99,872,64,1089"/>
<area shape="rect" href="usb_8c.html#a12205af52d497ef4d403db67fbd89e4e" title=" " alt="" coords="179,548,270,574"/>
<area shape="poly" title=" " alt="" coords="56,1089,57,1013,68,892,80,822,98,750,123,680,155,614,169,596,186,581,190,585,173,600,160,617,127,682,103,752,85,823,73,893,62,1013,61,1089"/>
<area shape="rect" href="usb_8c.html#a16c1ad1d1189c425a737a4ef6ca60c43" title=" " alt="" coords="176,1165,273,1191"/>
<area shape="poly" title=" " alt="" coords="89,1113,182,1156,179,1161,87,1118"/>
<area shape="rect" href="usb_8c.html#a0589e9bb1b983864e59ba5d8cdca033f" title=" " alt="" coords="168,628,280,654"/>
<area shape="poly" title=" " alt="" coords="61,1088,211,667,216,669,66,1090"/>
<area shape="rect" href="usb_8c.html#a491b9ef69db62d0f7f9327b0f9d28cab" title=" " alt="" coords="158,1215,291,1240"/>
<area shape="poly" title=" " alt="" coords="71,1114,107,1156,132,1180,159,1201,166,1205,163,1210,156,1206,128,1184,103,1160,67,1117"/>
<area shape="rect" href="darwinusb_8c.html#a21b4c9d5b57f1d4a8f6b08b170b1d29f" title=" " alt="" coords="538,1217,653,1243"/>
<area shape="poly" title=" " alt="" coords="111,1110,292,1150,530,1210,528,1215,290,1155,110,1115"/>
<area shape="rect" href="usb_8c.html#a89289c21867b368a515b864aeafc3973" title=" " alt="" coords="176,1264,273,1290"/>
<area shape="poly" title=" " alt="" coords="66,1114,99,1179,126,1217,159,1251,164,1254,161,1258,156,1255,122,1221,95,1182,62,1117"/>
<area shape="rect" href="usb_8c.html#a83ccb5c0de7b1dc317ccc523614c4022" title=" " alt="" coords="168,1040,280,1066"/>
<area shape="poly" title=" " alt="" coords="103,1086,163,1068,164,1073,104,1091"/>
<area shape="rect" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c" title=" " alt="" coords="528,461,663,487"/>
<area shape="poly" title=" " alt="" coords="237,258,278,312,307,343,341,371,386,398,435,421,527,454,525,459,433,426,384,403,337,375,304,347,274,315,232,261"/>
<area shape="rect" href="net_8c.html#a228af3513fa40c477512b1d69eea2112" title=" " alt="" coords="346,335,473,360"/>
<area shape="poly" title=" " alt="" coords="251,257,372,325,370,329,249,262"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="723,57,825,83"/>
<area shape="poly" title=" " alt="" coords="229,232,243,203,267,166,298,128,338,99,384,78,433,64,483,54,534,49,629,49,708,56,707,62,629,55,534,55,484,60,434,69,386,83,340,103,302,132,271,169,248,205,234,234"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="723,107,825,132"/>
<area shape="poly" title=" " alt="" coords="277,232,707,132,708,137,278,237"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="359,5,460,31"/>
<area shape="poly" title=" " alt="" coords="228,232,241,196,264,148,296,95,337,48,353,36,356,41,341,52,301,98,269,150,246,199,233,234"/>
<area shape="rect" href="cmp_8c.html#adc9c309853f9ac66577cf0966a372260" title=" " alt="" coords="733,460,815,486"/>
<area shape="poly" title=" " alt="" coords="663,471,717,471,717,476,663,476"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="922,435,1007,460"/>
<area shape="poly" title=" " alt="" coords="626,459,661,440,684,419,694,409,710,401,738,394,767,391,825,396,879,409,923,426,922,431,877,414,824,401,767,396,739,399,712,406,697,413,687,423,664,444,629,463"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="920,712,1009,738"/>
<area shape="poly" title=" " alt="" coords="643,485,664,496,679,509,689,521,698,533,712,545,745,562,774,570,804,578,838,596,870,620,900,647,946,698,942,702,896,651,867,624,836,600,802,583,773,576,744,567,709,550,694,537,685,524,676,512,661,500,641,490"/>
<area shape="rect" href="cmp_8c.html#a11606925c41885b1bca65ab8c44adc30" title=" " alt="" coords="739,509,809,535"/>
<area shape="poly" title=" " alt="" coords="647,485,724,506,723,511,646,490"/>
<area shape="rect" href="cmp_8c.html#acc715b624e23e1384e4b66c7c66ed93f" title=" " alt="" coords="742,611,806,636"/>
<area shape="poly" title=" " alt="" coords="648,485,664,496,683,520,690,543,697,566,713,590,730,603,726,607,709,593,692,568,685,545,678,522,661,500,645,490"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="724,259,824,284"/>
<area shape="poly" title=" " alt="" coords="599,460,614,427,637,382,669,335,709,294,714,290,717,294,712,297,673,339,642,385,619,429,604,462"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="723,308,825,334"/>
<area shape="poly" title=" " alt="" coords="633,459,661,440,677,418,684,397,692,375,709,351,723,339,727,344,713,355,697,377,689,399,682,421,665,444,636,463"/>
<area shape="poly" title=" " alt="" coords="815,465,907,452,908,458,816,470"/>
<area shape="poly" title=" " alt="" coords="817,481,839,495,882,543,916,599,941,652,957,696,952,698,936,654,912,601,878,547,835,499,814,486"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1108,379,1214,404"/>
<area shape="poly" title=" " alt="" coords="1006,433,1098,407,1099,412,1008,438"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1092,108,1230,134"/>
<area shape="poly" title=" " alt="" coords="972,433,1142,146,1146,149,976,436"/>
<area shape="poly" title=" " alt="" coords="972,710,1142,416,1147,419,976,713"/>
<area shape="poly" title=" " alt="" coords="808,507,836,496,915,464,917,469,838,501,810,512"/>
<area shape="poly" title=" " alt="" coords="809,533,839,552,875,588,906,627,951,697,947,700,902,630,871,591,835,556,806,538"/>
<area shape="poly" title=" " alt="" coords="787,608,936,469,940,473,791,612"/>
<area shape="poly" title=" " alt="" coords="802,634,838,653,927,702,925,706,836,658,800,639"/>
<area shape="poly" title=" " alt="" coords="422,359,452,409,483,475,493,517,497,554,493,621,492,652,496,683,508,715,530,749,564,784,597,810,631,828,667,839,704,842,745,839,788,830,836,816,866,802,894,785,939,747,942,751,897,789,869,807,838,821,790,835,745,844,704,847,666,844,629,833,594,815,560,788,526,752,503,717,491,684,486,652,487,621,491,554,488,517,478,476,448,411,418,362"/>
<area shape="poly" title=" " alt="" coords="440,332,481,315,528,301,622,283,708,273,709,279,623,288,529,306,483,320,442,337"/>
<area shape="poly" title=" " alt="" coords="474,340,707,323,707,328,474,346"/>
<area shape="rect" href="net_8c.html#a6c20ece547e720eec693b02b39774c8b" title=" " alt="" coords="567,208,624,234"/>
<area shape="poly" title=" " alt="" coords="424,332,468,294,527,251,552,237,554,241,530,255,472,298,427,336"/>
<area shape="rect" href="net_8c.html#a1670601987b6494055bea1a75938955e" title=" " alt="" coords="567,511,624,536"/>
<area shape="poly" title=" " alt="" coords="420,360,461,425,493,464,530,497,553,510,550,514,527,502,489,467,457,428,416,362"/>
<area shape="poly" title=" " alt="" coords="624,206,668,190,725,177,754,176,784,178,813,186,839,200,856,216,866,234,872,270,874,309,878,330,887,352,913,390,941,422,937,425,909,393,883,354,873,331,869,309,867,270,861,235,852,220,835,204,811,191,783,183,754,181,725,183,670,195,625,211"/>
<area shape="poly" title=" " alt="" coords="624,212,670,205,727,204,757,207,787,215,814,227,839,244,862,270,876,296,882,322,883,348,880,405,881,437,888,472,924,598,957,697,951,699,919,600,882,473,876,438,875,405,877,348,876,322,871,298,858,273,835,248,812,231,785,220,756,213,727,209,671,210,625,217"/>
<area shape="poly" title=" " alt="" coords="625,226,712,251,711,256,624,231"/>
<area shape="poly" title=" " alt="" coords="616,232,659,262,712,294,721,299,719,304,709,299,656,267,613,236"/>
<area shape="poly" title=" " alt="" coords="605,206,657,145,686,113,709,92,715,88,718,93,712,96,689,117,661,148,609,209"/>
<area shape="poly" title=" " alt="" coords="623,207,661,187,685,168,709,149,729,138,732,142,712,154,688,172,664,191,626,211"/>
<area shape="poly" title=" " alt="" coords="816,81,838,92,887,123,935,159,1022,236,1093,309,1141,365,1137,368,1089,312,1018,240,932,163,884,128,836,96,814,86"/>
<area shape="poly" title=" " alt="" coords="826,73,1045,100,1078,104,1077,110,1044,105,825,78"/>
<area shape="poly" title=" " alt="" coords="826,81,839,93,856,125,867,169,877,277,880,388,888,472,922,598,956,696,951,698,917,600,882,473,875,388,871,278,861,170,851,127,835,96,823,85"/>
<area shape="poly" title=" " alt="" coords="794,131,839,171,862,199,887,226,946,270,1009,310,1119,369,1116,374,1007,315,943,275,883,229,858,203,835,175,790,135"/>
<area shape="poly" title=" " alt="" coords="825,117,1077,118,1077,123,825,122"/>
<area shape="poly" title=" " alt="" coords="790,131,816,161,839,201,854,240,864,275,871,335,875,396,888,472,923,598,956,696,951,698,918,600,882,473,870,397,866,335,858,276,849,242,835,203,811,165,786,135"/>
<area shape="poly" title=" " alt="" coords="623,514,661,497,675,484,683,470,693,457,710,445,760,430,812,425,863,427,907,432,907,438,863,432,813,430,761,435,712,450,697,460,688,473,679,487,664,502,626,519"/>
<area shape="poly" title=" " alt="" coords="607,535,648,589,678,620,712,647,760,672,811,691,905,714,904,719,809,696,758,676,709,651,674,624,644,593,603,538"/>
<area shape="rect" href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f" title=" " alt="" coords="360,488,459,514"/>
<area shape="poly" title=" " alt="" coords="266,545,352,516,354,522,267,550"/>
<area shape="poly" title=" " alt="" coords="247,625,270,608,289,585,305,548,312,515,313,484,310,453,308,422,310,391,318,357,337,321,374,273,418,232,467,195,518,164,620,116,707,85,709,90,622,121,521,169,470,200,421,236,378,277,341,324,323,359,315,391,314,422,316,453,318,484,317,516,310,550,293,588,273,612,250,630"/>
<area shape="poly" title=" " alt="" coords="242,625,289,584,302,567,311,552,321,538,337,523,345,518,348,522,341,527,325,541,316,555,307,570,293,588,245,629"/>
<area shape="rect" href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10" title=" " alt="" coords="528,712,663,738"/>
<area shape="poly" title=" " alt="" coords="281,651,521,705,520,711,280,656"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="576,1016,615,1042"/>
<area shape="poly" title=" " alt="" coords="240,652,573,1003,569,1006,236,656"/>
<area shape="rect" href="net_8c.html#a6a024f8bd13770fb4b83bd6994aa0e93" title=" " alt="" coords="346,537,473,563"/>
<area shape="poly" title=" " alt="" coords="251,625,367,568,369,573,254,630"/>
<area shape="poly" title=" " alt="" coords="663,714,704,705,750,691,795,672,835,647,876,606,909,559,934,512,951,473,956,475,939,514,914,562,880,610,839,651,797,677,751,696,706,710,664,719"/>
<area shape="poly" title=" " alt="" coords="612,736,655,770,682,786,712,798,746,807,774,810,802,807,836,798,864,788,890,775,935,745,938,749,893,779,866,793,838,803,802,812,774,815,745,812,710,803,680,791,652,774,609,740"/>
<area shape="poly" title=" " alt="" coords="619,709,735,642,738,646,621,714"/>
<area shape="rect" href="cmp_8c.html#a9e820941b251af7a76e0d0962f5146a5" title=" " alt="" coords="725,763,823,788"/>
<area shape="poly" title=" " alt="" coords="644,736,713,755,711,761,643,741"/>
<area shape="poly" title=" " alt="" coords="809,760,835,742,861,710,883,674,919,600,942,529,955,475,961,476,947,531,923,602,888,677,865,713,839,745,812,764"/>
<area shape="poly" title=" " alt="" coords="823,760,904,738,905,743,824,765"/>
<area shape="poly" title=" " alt="" coords="417,563,469,744,503,843,518,876,530,894,570,919,607,935,643,944,678,946,714,941,752,930,836,893,876,864,909,826,933,786,950,751,955,753,938,788,913,829,880,868,838,898,754,935,715,946,679,951,642,950,606,940,567,923,526,897,514,879,498,844,464,746,412,564"/>
<area shape="poly" title=" " alt="" coords="464,535,478,524,492,508,499,492,503,458,507,424,514,406,526,387,560,362,610,335,721,288,723,293,613,340,563,366,530,391,518,408,512,425,508,459,504,493,496,511,482,528,467,539"/>
<area shape="poly" title=" " alt="" coords="461,534,479,524,495,506,503,487,510,468,526,447,573,411,623,380,717,337,720,342,626,385,576,415,530,451,515,470,508,489,499,509,482,528,464,539"/>
<area shape="poly" title=" " alt="" coords="466,535,478,524,498,497,507,472,511,446,511,421,509,366,514,336,526,302,545,270,568,243,572,247,550,274,531,305,519,337,515,366,516,421,516,447,513,473,502,500,482,528,469,539"/>
<area shape="poly" title=" " alt="" coords="473,538,551,527,552,532,474,544"/>
<area shape="rect" href="darwinusb_8c.html#a18148cdc8c3dbba549e8a762a791bc0e" title=" " alt="" coords="721,1417,826,1443"/>
<area shape="poly" title=" " alt="" coords="610,1242,753,1404,749,1407,606,1245"/>
<area shape="rect" href="darwinusb_8c.html#ad04208dd4d06c0f62d2ba47da8269257" title=" " alt="" coords="932,1165,998,1191"/>
<area shape="poly" title=" " alt="" coords="652,1217,710,1208,916,1181,917,1186,711,1213,653,1222"/>
<area shape="rect" href="darwinusb_8c.html#ab042613c0c2ec32c60dbc9b0c5f03b75" title=" " alt="" coords="933,1215,996,1240"/>
<area shape="poly" title=" " alt="" coords="653,1227,917,1225,917,1231,653,1232"/>
<area shape="rect" href="darwinusb_8c.html#aad2542bd9cbedf6534bc2443fea26657" title=" " alt="" coords="742,1116,806,1142"/>
<area shape="poly" title=" " alt="" coords="617,1214,709,1159,731,1147,734,1151,712,1163,619,1219"/>
<area shape="rect" href="darwinusb_8c.html#a20220d60460da3af89e8e25bec84a595" title=" " alt="" coords="746,1268,802,1294"/>
<area shape="poly" title=" " alt="" coords="644,1241,732,1266,731,1272,643,1246"/>
<area shape="rect" href="darwinusb_8c.html#a8c4b6061f971ce2de3b2f581a87f3751" title=" " alt="" coords="744,1317,804,1343"/>
<area shape="poly" title=" " alt="" coords="616,1241,659,1272,712,1304,731,1313,729,1317,709,1309,656,1276,613,1246"/>
<area shape="rect" href="darwinusb_8c.html#a392c406126a2b42d4c9279a1664111ef" title=" " alt="" coords="711,1517,837,1543"/>
<area shape="poly" title=" " alt="" coords="605,1242,646,1333,677,1394,713,1454,752,1504,748,1508,708,1457,673,1397,641,1336,600,1245"/>
<area shape="rect" href="darwinusb_8c.html#a62be9dca709b9fa802954d73d21ab332" title=" " alt="" coords="742,1067,806,1092"/>
<area shape="poly" title=" " alt="" coords="603,1215,645,1161,675,1129,709,1101,726,1092,729,1096,712,1106,679,1133,649,1165,608,1218"/>
<area shape="rect" href="darwinusb_8c.html#a75b8e770479707f2ca65619e5e15248b" title=" " alt="" coords="900,1517,1030,1543"/>
<area shape="poly" title=" " alt="" coords="796,1441,837,1468,886,1496,914,1509,912,1514,884,1501,834,1472,793,1446"/>
<area shape="rect" href="darwinusb_8c.html#a6b11be685f613bf98fd2492cd26c7ce6" title=" " alt="" coords="1102,1240,1220,1266"/>
<area shape="poly" title=" " alt="" coords="999,1185,1045,1200,1119,1231,1117,1236,1043,1205,997,1190"/>
<area shape="poly" title=" " alt="" coords="997,1229,1087,1241,1086,1246,996,1234"/>
<area shape="poly" title=" " alt="" coords="805,1120,821,1113,835,1103,868,1062,895,1015,915,966,931,916,951,823,959,753,965,754,957,824,937,918,920,968,899,1018,872,1065,839,1107,824,1118,807,1125"/>
<area shape="rect" href="darwinusb_8c.html#ae063014a517d3d5d8b74a3b7348349f3" title=" " alt="" coords="910,1116,1020,1142"/>
<area shape="poly" title=" " alt="" coords="806,1126,894,1126,894,1132,806,1132"/>
<area shape="poly" title=" " alt="" coords="801,1276,1087,1255,1087,1261,802,1282"/>
<area shape="rect" href="darwinusb_8c.html#a7ae745d90757c279ff496b669e7dfff4" title=" " alt="" coords="888,1367,1041,1392"/>
<area shape="poly" title=" " alt="" coords="803,1288,838,1302,931,1356,929,1360,836,1307,801,1293"/>
<area shape="poly" title=" " alt="" coords="1004,1364,1043,1345,1092,1310,1133,1275,1137,1279,1096,1314,1046,1350,1007,1368"/>
<area shape="poly" title=" " alt="" coords="804,1323,821,1316,835,1305,854,1231,889,1068,955,752,960,753,895,1069,859,1232,839,1308,823,1320,806,1328"/>
<area shape="poly" title=" " alt="" coords="804,1322,1044,1274,1087,1265,1088,1271,1045,1279,805,1327"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="904,1416,1025,1442"/>
<area shape="poly" title=" " alt="" coords="793,1341,834,1372,886,1402,898,1408,896,1413,884,1407,831,1376,790,1346"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="1102,1441,1220,1467"/>
<area shape="poly" title=" " alt="" coords="788,1342,842,1406,886,1452,936,1467,989,1473,1040,1472,1087,1467,1088,1472,1041,1478,988,1479,935,1473,884,1456,838,1410,784,1345"/>
<area shape="poly" title=" " alt="" coords="1026,1434,1088,1442,1087,1447,1025,1439"/>
<area shape="poly" title=" " alt="" coords="837,1528,884,1528,884,1533,837,1533"/>
<area shape="poly" title=" " alt="" coords="784,1515,838,1450,883,1401,891,1397,894,1401,887,1406,842,1453,788,1518"/>
<area shape="rect" href="utils_8c.html#a4559cac87d5ac7bbcb747ccf727888fb" title=" " alt="" coords="885,1616,1044,1642"/>
<area shape="poly" title=" " alt="" coords="793,1541,834,1572,886,1602,898,1608,896,1613,884,1607,831,1576,790,1546"/>
<area shape="rect" href="utils_8c.html#ae9c540cf47354917fa685d6b010d94f7" title=" " alt="" coords="885,1567,1044,1592"/>
<area shape="poly" title=" " alt="" coords="827,1541,898,1560,897,1565,826,1546"/>
<area shape="poly" title=" " alt="" coords="804,1067,821,1058,835,1046,863,1010,886,971,922,889,944,812,957,753,962,754,950,813,927,891,891,974,867,1013,839,1049,824,1062,807,1071"/>
<area shape="poly" title=" " alt="" coords="806,1072,855,1068,916,1068,983,1078,1015,1087,1046,1101,1081,1127,1110,1160,1133,1194,1150,1224,1145,1227,1129,1197,1106,1163,1077,1131,1043,1106,1013,1092,981,1083,916,1073,855,1073,806,1077"/>
<area shape="rect" href="usb_8c.html#a64528aca8631671c5c77a83e708d465f" title=" " alt="" coords="344,941,475,967"/>
<area shape="poly" title=" " alt="" coords="241,1037,284,1007,338,976,349,971,351,976,340,981,287,1012,244,1042"/>
<area shape="rect" href="usb_8c.html#a470267a34402645ffa55f66393f01a0c" title=" " alt="" coords="340,1089,480,1115"/>
<area shape="poly" title=" " alt="" coords="276,1064,345,1082,343,1087,275,1069"/>
<area shape="rect" href="usb_8c.html#a111d017a3682ded12d1c710af0c7a1a7" title=" " alt="" coords="339,991,480,1016"/>
<area shape="poly" title=" " alt="" coords="275,1037,343,1018,345,1023,276,1042"/>
<area shape="rect" href="usb_8c.html#a48251b09b739c1818ec4673882ea408b" title=" " alt="" coords="344,1040,475,1066"/>
<area shape="poly" title=" " alt="" coords="281,1050,329,1050,329,1056,281,1056"/>
<area shape="poly" title=" " alt="" coords="457,965,534,982,632,992,685,991,737,984,788,970,836,948,861,929,883,906,917,853,941,798,955,752,960,754,946,800,922,855,887,909,864,933,838,952,790,975,739,989,685,996,632,997,533,987,455,970"/>
<area shape="poly" title=" " alt="" coords="452,965,481,976,563,1011,561,1016,479,981,451,970"/>
<area shape="poly" title=" " alt="" coords="475,1051,528,1052,596,1055,625,1056,662,1052,757,1038,794,1024,835,995,861,968,884,937,919,869,942,804,955,752,961,753,947,805,924,871,888,939,865,971,839,999,797,1029,758,1044,663,1057,625,1061,596,1061,528,1057,475,1056"/>
<area shape="poly" title=" " alt="" coords="475,1042,561,1031,561,1036,475,1047"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a68c518ca08dac477013ed3b56ee8c174_icgraph.png" border="0" usemap="#ausb_8c_a68c518ca08dac477013ed3b56ee8c174_icgraph" alt=""/></div>
<map name="ausb_8c_a68c518ca08dac477013ed3b56ee8c174_icgraph" id="ausb_8c_a68c518ca08dac477013ed3b56ee8c174_icgraph">
<area shape="rect" title=" " alt="" coords="977,242,1082,268"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a491b9ef69db62d0f7f9327b0f9d28cab" name="a491b9ef69db62d0f7f9327b0f9d28cab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491b9ef69db62d0f7f9327b0f9d28cab">&#9670;&#160;</a></span>pi_usb_device_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pi_usb_device_free </td>
          <td>(</td>
          <td class="paramtype">pi_device_t *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  179</span>{</div>
<div class="line"><span class="lineno">  180</span>    pi_usb_data_t *data = (pi_usb_data_t *)dev-&gt;data;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    ASSERT(dev != NULL);</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    <span class="keywordflow">if</span> (data != NULL)</div>
<div class="line"><span class="lineno">  185</span>        free(data);</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span> (dev != NULL)</div>
<div class="line"><span class="lineno">  187</span>        free(dev);</div>
<div class="line"><span class="lineno">  188</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00203">pi_usb_device()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a491b9ef69db62d0f7f9327b0f9d28cab_icgraph.png" border="0" usemap="#ausb_8c_a491b9ef69db62d0f7f9327b0f9d28cab_icgraph" alt=""/></div>
<map name="ausb_8c_a491b9ef69db62d0f7f9327b0f9d28cab_icgraph" id="ausb_8c_a491b9ef69db62d0f7f9327b0f9d28cab_icgraph">
<area shape="rect" title=" " alt="" coords="1130,242,1263,268"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a64528aca8631671c5c77a83e708d465f" name="a64528aca8631671c5c77a83e708d465f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64528aca8631671c5c77a83e708d465f">&#9670;&#160;</a></span>pi_usb_getsockopt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_usb_getsockopt </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>option_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>option_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>option_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  512</span>{</div>
<div class="line"><span class="lineno">  513</span>    pi_usb_data_t *data = (pi_usb_data_t *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">switch</span> (option_name) {</div>
<div class="line"><span class="lineno">  516</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#aef1c6a9364b46addf81c70042abc097a">PI_DEV_RATE</a>:</div>
<div class="line"><span class="lineno">  517</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;rate))</div>
<div class="line"><span class="lineno">  518</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  519</span>            memcpy (option_value, &amp;data-&gt;rate, sizeof (data-&gt;rate));</div>
<div class="line"><span class="lineno">  520</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a904ef211991b6d09779dd7a37d1cb3eb">PI_DEV_ESTRATE</a>:</div>
<div class="line"><span class="lineno">  523</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;establishrate))</div>
<div class="line"><span class="lineno">  524</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  525</span>            memcpy (option_value, &amp;data-&gt;establishrate, </div>
<div class="line"><span class="lineno">  526</span>                    sizeof (data-&gt;establishrate));</div>
<div class="line"><span class="lineno">  527</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a27f77c813182e7dda5f8747dc8b1e136">PI_DEV_HIGHRATE</a>:</div>
<div class="line"><span class="lineno">  530</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;establishhighrate))</div>
<div class="line"><span class="lineno">  531</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  532</span>            memcpy (option_value, &amp;data-&gt;establishhighrate,</div>
<div class="line"><span class="lineno">  533</span>                    sizeof (data-&gt;establishhighrate));</div>
<div class="line"><span class="lineno">  534</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#aa3c28674694b0215bdb27d44df11421c">PI_DEV_TIMEOUT</a>:</div>
<div class="line"><span class="lineno">  537</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;timeout))</div>
<div class="line"><span class="lineno">  538</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  539</span>            memcpy (option_value, &amp;data-&gt;timeout,</div>
<div class="line"><span class="lineno">  540</span>                sizeof (data-&gt;timeout));</div>
<div class="line"><span class="lineno">  541</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  542</span>    }</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span><a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>:</div>
<div class="line"><span class="lineno">  547</span>    errno = EINVAL;</div>
<div class="line"><span class="lineno">  548</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_ARGUMENT);</div>
<div class="line"><span class="lineno">  549</span>}</div>
<div class="ttc" id="anamespacepisock_html_a27f77c813182e7dda5f8747dc8b1e136"><div class="ttname"><a href="namespacepisock.html#a27f77c813182e7dda5f8747dc8b1e136">pisock.PI_DEV_HIGHRATE</a></div><div class="ttdeci">PI_DEV_HIGHRATE</div><div class="ttdef"><b>Definition</b> pisock.py:89</div></div>
<div class="ttc" id="anamespacepisock_html_a904ef211991b6d09779dd7a37d1cb3eb"><div class="ttname"><a href="namespacepisock.html#a904ef211991b6d09779dd7a37d1cb3eb">pisock.PI_DEV_ESTRATE</a></div><div class="ttdeci">PI_DEV_ESTRATE</div><div class="ttdef"><b>Definition</b> pisock.py:88</div></div>
<div class="ttc" id="anamespacepisock_html_aa3c28674694b0215bdb27d44df11421c"><div class="ttname"><a href="namespacepisock.html#aa3c28674694b0215bdb27d44df11421c">pisock.PI_DEV_TIMEOUT</a></div><div class="ttdeci">PI_DEV_TIMEOUT</div><div class="ttdef"><b>Definition</b> pisock.py:90</div></div>
<div class="ttc" id="anamespacepisock_html_aef1c6a9364b46addf81c70042abc097a"><div class="ttname"><a href="namespacepisock.html#aef1c6a9364b46addf81c70042abc097a">pisock.PI_DEV_RATE</a></div><div class="ttdeci">PI_DEV_RATE</div><div class="ttdef"><b>Definition</b> pisock.py:87</div></div>
<div class="ttc" id="asocket_8c_html_a415df518818c6813556c5607b29e833e"><div class="ttname"><a href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a></div><div class="ttdeci">int pi_set_error(int pi_sd, int error_code)</div><div class="ttdef"><b>Definition</b> socket.c:1625</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00435">fail()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00140">pi_usb_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a64528aca8631671c5c77a83e708d465f_cgraph.png" border="0" usemap="#ausb_8c_a64528aca8631671c5c77a83e708d465f_cgraph" alt=""/></div>
<map name="ausb_8c_a64528aca8631671c5c77a83e708d465f_cgraph" id="ausb_8c_a64528aca8631671c5c77a83e708d465f_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,136,56"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="209,5,248,31"/>
<area shape="poly" title=" " alt="" coords="136,30,193,21,194,26,137,36"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="184,55,273,80"/>
<area shape="poly" title=" " alt="" coords="137,51,169,56,168,61,136,56"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="321,55,426,80"/>
<area shape="poly" title=" " alt="" coords="274,65,306,65,306,70,274,70"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="481,5,587,31"/>
<area shape="poly" title=" " alt="" coords="417,51,474,34,476,39,419,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="474,55,594,80"/>
<area shape="poly" title=" " alt="" coords="427,65,459,65,459,70,427,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="490,104,578,130"/>
<area shape="poly" title=" " alt="" coords="419,78,477,97,475,102,417,84"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a64528aca8631671c5c77a83e708d465f_icgraph.png" border="0" usemap="#ausb_8c_a64528aca8631671c5c77a83e708d465f_icgraph" alt=""/></div>
<map name="ausb_8c_a64528aca8631671c5c77a83e708d465f_icgraph" id="ausb_8c_a64528aca8631671c5c77a83e708d465f_icgraph">
<area shape="rect" title=" " alt="" coords="1290,242,1420,268"/>
<area shape="rect" href="usb_8c.html#a83ccb5c0de7b1dc317ccc523614c4022" title=" " alt="" coords="1130,242,1242,268"/>
<area shape="poly" title=" " alt="" coords="1274,258,1242,258,1242,252,1274,252"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a89289c21867b368a515b864aeafc3973" name="a89289c21867b368a515b864aeafc3973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89289c21867b368a515b864aeafc3973">&#9670;&#160;</a></span>pi_usb_listen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_usb_listen </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>backlog</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  373</span>{</div>
<div class="line"><span class="lineno">  374</span>    ps-&gt;state = PI_SOCK_LISTEN;</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  376</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00203">pi_usb_device()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a89289c21867b368a515b864aeafc3973_icgraph.png" border="0" usemap="#ausb_8c_a89289c21867b368a515b864aeafc3973_icgraph" alt=""/></div>
<map name="ausb_8c_a89289c21867b368a515b864aeafc3973_icgraph" id="ausb_8c_a89289c21867b368a515b864aeafc3973_icgraph">
<area shape="rect" title=" " alt="" coords="1130,242,1227,268"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a83ccb5c0de7b1dc317ccc523614c4022" name="a83ccb5c0de7b1dc317ccc523614c4022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83ccb5c0de7b1dc317ccc523614c4022">&#9670;&#160;</a></span>pi_usb_protocol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pi_protocol_t * pi_usb_protocol </td>
          <td>(</td>
          <td class="paramtype">pi_device_t *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  141</span>{</div>
<div class="line"><span class="lineno">  142</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  143</span>    pi_usb_data_t *data;</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    ASSERT(dev != NULL);</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    data = dev-&gt;data;</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    prot    = (pi_protocol_t *)malloc (<span class="keyword">sizeof</span> (pi_protocol_t));</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordflow">if</span> (prot != NULL) {</div>
<div class="line"><span class="lineno">  152</span>        prot-&gt;level         = <a class="code hl_variable" href="namespacepisock.html#a27c5884926087c8b237832c724d880ec">PI_LEVEL_DEV</a>;</div>
<div class="line"><span class="lineno">  153</span>        prot-&gt;dup       = <a class="code hl_function" href="#a470267a34402645ffa55f66393f01a0c">pi_usb_protocol_dup</a>;</div>
<div class="line"><span class="lineno">  154</span>        prot-&gt;free      = <a class="code hl_function" href="#a111d017a3682ded12d1c710af0c7a1a7">pi_usb_protocol_free</a>;</div>
<div class="line"><span class="lineno">  155</span>        prot-&gt;read      = data-&gt;impl.read;</div>
<div class="line"><span class="lineno">  156</span>        prot-&gt;write         = data-&gt;impl.write;</div>
<div class="line"><span class="lineno">  157</span>        prot-&gt;flush     = data-&gt;impl.flush;</div>
<div class="line"><span class="lineno">  158</span>        prot-&gt;getsockopt    = <a class="code hl_function" href="#a64528aca8631671c5c77a83e708d465f">pi_usb_getsockopt</a>;</div>
<div class="line"><span class="lineno">  159</span>        prot-&gt;setsockopt    = <a class="code hl_function" href="#a48251b09b739c1818ec4673882ea408b">pi_usb_setsockopt</a>;</div>
<div class="line"><span class="lineno">  160</span>        prot-&gt;data      = NULL;</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">return</span> prot;</div>
<div class="line"><span class="lineno">  164</span>}</div>
<div class="ttc" id="anamespacepisock_html_a27c5884926087c8b237832c724d880ec"><div class="ttname"><a href="namespacepisock.html#a27c5884926087c8b237832c724d880ec">pisock.PI_LEVEL_DEV</a></div><div class="ttdeci">PI_LEVEL_DEV</div><div class="ttdef"><b>Definition</b> pisock.py:79</div></div>
<div class="ttc" id="ausb_8c_html_a111d017a3682ded12d1c710af0c7a1a7"><div class="ttname"><a href="#a111d017a3682ded12d1c710af0c7a1a7">pi_usb_protocol_free</a></div><div class="ttdeci">static void pi_usb_protocol_free(pi_protocol_t *prot)</div><div class="ttdef"><b>Definition</b> usb.c:119</div></div>
<div class="ttc" id="ausb_8c_html_a470267a34402645ffa55f66393f01a0c"><div class="ttname"><a href="#a470267a34402645ffa55f66393f01a0c">pi_usb_protocol_dup</a></div><div class="ttdeci">pi_protocol_t * pi_usb_protocol_dup(pi_protocol_t *prot)</div><div class="ttdef"><b>Definition</b> usb.c:83</div></div>
<div class="ttc" id="ausb_8c_html_a48251b09b739c1818ec4673882ea408b"><div class="ttname"><a href="#a48251b09b739c1818ec4673882ea408b">pi_usb_setsockopt</a></div><div class="ttdeci">static int pi_usb_setsockopt(pi_socket_t *ps, int level, int option_name, const void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> usb.c:563</div></div>
<div class="ttc" id="ausb_8c_html_a64528aca8631671c5c77a83e708d465f"><div class="ttname"><a href="#a64528aca8631671c5c77a83e708d465f">pi_usb_getsockopt</a></div><div class="ttdeci">static int pi_usb_getsockopt(pi_socket_t *ps, int level, int option_name, void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> usb.c:510</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00510">pi_usb_getsockopt()</a>, <a class="el" href="#l00083">pi_usb_protocol_dup()</a>, <a class="el" href="#l00119">pi_usb_protocol_free()</a>, and <a class="el" href="#l00563">pi_usb_setsockopt()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00203">pi_usb_device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a83ccb5c0de7b1dc317ccc523614c4022_cgraph.png" border="0" usemap="#ausb_8c_a83ccb5c0de7b1dc317ccc523614c4022_cgraph" alt=""/></div>
<map name="ausb_8c_a83ccb5c0de7b1dc317ccc523614c4022_cgraph" id="ausb_8c_a83ccb5c0de7b1dc317ccc523614c4022_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,118,106"/>
<area shape="rect" href="usb_8c.html#a64528aca8631671c5c77a83e708d465f" title=" " alt="" coords="171,5,302,31"/>
<area shape="poly" title=" " alt="" coords="87,77,165,40,179,34,180,39,167,45,89,82"/>
<area shape="rect" href="usb_8c.html#a470267a34402645ffa55f66393f01a0c" title=" " alt="" coords="166,104,306,130"/>
<area shape="poly" title=" " alt="" coords="119,98,151,102,150,108,118,103"/>
<area shape="rect" href="usb_8c.html#a111d017a3682ded12d1c710af0c7a1a7" title=" " alt="" coords="166,153,307,179"/>
<area shape="poly" title=" " alt="" coords="90,104,167,140,181,145,179,150,165,145,88,109"/>
<area shape="rect" href="usb_8c.html#a48251b09b739c1818ec4673882ea408b" title=" " alt="" coords="171,55,302,80"/>
<area shape="poly" title=" " alt="" coords="118,82,156,76,156,82,119,87"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="380,5,419,31"/>
<area shape="poly" title=" " alt="" coords="302,16,365,16,365,21,302,21"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="355,55,444,80"/>
<area shape="poly" title=" " alt="" coords="282,29,341,47,339,52,281,34"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="492,55,598,80"/>
<area shape="poly" title=" " alt="" coords="445,65,477,65,477,70,445,70"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="653,5,758,31"/>
<area shape="poly" title=" " alt="" coords="589,51,646,34,647,39,590,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="646,55,765,80"/>
<area shape="poly" title=" " alt="" coords="598,65,630,65,630,70,598,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="662,104,749,130"/>
<area shape="poly" title=" " alt="" coords="590,78,648,97,647,102,589,84"/>
<area shape="poly" title=" " alt="" coords="281,51,365,26,366,31,282,57"/>
<area shape="poly" title=" " alt="" coords="302,65,340,65,340,70,302,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a83ccb5c0de7b1dc317ccc523614c4022_icgraph.png" border="0" usemap="#ausb_8c_a83ccb5c0de7b1dc317ccc523614c4022_icgraph" alt=""/></div>
<map name="ausb_8c_a83ccb5c0de7b1dc317ccc523614c4022_icgraph" id="ausb_8c_a83ccb5c0de7b1dc317ccc523614c4022_icgraph">
<area shape="rect" title=" " alt="" coords="1130,242,1242,268"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a470267a34402645ffa55f66393f01a0c" name="a470267a34402645ffa55f66393f01a0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a470267a34402645ffa55f66393f01a0c">&#9670;&#160;</a></span>pi_usb_protocol_dup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pi_protocol_t * pi_usb_protocol_dup </td>
          <td>(</td>
          <td class="paramtype">pi_protocol_t *</td>          <td class="paramname"><span class="paramname"><em>prot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   84</span>{</div>
<div class="line"><span class="lineno">   85</span>    pi_protocol_t *new_prot;</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    ASSERT(prot != NULL);</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    new_prot = (pi_protocol_t *)malloc (<span class="keyword">sizeof</span> (pi_protocol_t));</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">if</span> (new_prot != NULL) {</div>
<div class="line"><span class="lineno">   92</span>        new_prot-&gt;level     = prot-&gt;level;</div>
<div class="line"><span class="lineno">   93</span>        new_prot-&gt;dup       = prot-&gt;dup;</div>
<div class="line"><span class="lineno">   94</span>        new_prot-&gt;free      = prot-&gt;free;</div>
<div class="line"><span class="lineno">   95</span>        new_prot-&gt;read      = prot-&gt;read;</div>
<div class="line"><span class="lineno">   96</span>        new_prot-&gt;write     = prot-&gt;write;</div>
<div class="line"><span class="lineno">   97</span>        new_prot-&gt;flush     = prot-&gt;flush;</div>
<div class="line"><span class="lineno">   98</span>        new_prot-&gt;getsockopt    = prot-&gt;getsockopt;</div>
<div class="line"><span class="lineno">   99</span>        new_prot-&gt;setsockopt    = prot-&gt;setsockopt;</div>
<div class="line"><span class="lineno">  100</span>        new_prot-&gt;data      = NULL;</div>
<div class="line"><span class="lineno">  101</span>    }</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">return</span> new_prot;</div>
<div class="line"><span class="lineno">  104</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00140">pi_usb_protocol()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a470267a34402645ffa55f66393f01a0c_icgraph.png" border="0" usemap="#ausb_8c_a470267a34402645ffa55f66393f01a0c_icgraph" alt=""/></div>
<map name="ausb_8c_a470267a34402645ffa55f66393f01a0c_icgraph" id="ausb_8c_a470267a34402645ffa55f66393f01a0c_icgraph">
<area shape="rect" title=" " alt="" coords="1290,242,1430,268"/>
<area shape="rect" href="usb_8c.html#a83ccb5c0de7b1dc317ccc523614c4022" title=" " alt="" coords="1130,242,1242,268"/>
<area shape="poly" title=" " alt="" coords="1274,258,1243,258,1243,252,1274,252"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a111d017a3682ded12d1c710af0c7a1a7" name="a111d017a3682ded12d1c710af0c7a1a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111d017a3682ded12d1c710af0c7a1a7">&#9670;&#160;</a></span>pi_usb_protocol_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pi_usb_protocol_free </td>
          <td>(</td>
          <td class="paramtype">pi_protocol_t *</td>          <td class="paramname"><span class="paramname"><em>prot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  120</span>{</div>
<div class="line"><span class="lineno">  121</span>    ASSERT(prot != NULL);</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">if</span> (prot != NULL)</div>
<div class="line"><span class="lineno">  124</span>        free(prot);</div>
<div class="line"><span class="lineno">  125</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00140">pi_usb_protocol()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a111d017a3682ded12d1c710af0c7a1a7_icgraph.png" border="0" usemap="#ausb_8c_a111d017a3682ded12d1c710af0c7a1a7_icgraph" alt=""/></div>
<map name="ausb_8c_a111d017a3682ded12d1c710af0c7a1a7_icgraph" id="ausb_8c_a111d017a3682ded12d1c710af0c7a1a7_icgraph">
<area shape="rect" title=" " alt="" coords="1290,242,1431,268"/>
<area shape="rect" href="usb_8c.html#a83ccb5c0de7b1dc317ccc523614c4022" title=" " alt="" coords="1130,242,1242,268"/>
<area shape="poly" title=" " alt="" coords="1275,258,1242,258,1242,252,1275,252"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a48251b09b739c1818ec4673882ea408b" name="a48251b09b739c1818ec4673882ea408b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48251b09b739c1818ec4673882ea408b">&#9670;&#160;</a></span>pi_usb_setsockopt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_usb_setsockopt </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>option_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>option_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>option_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  565</span>{</div>
<div class="line"><span class="lineno">  566</span>    pi_usb_data_t *data = (pi_usb_data_t *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordflow">switch</span> (option_name) {</div>
<div class="line"><span class="lineno">  569</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a904ef211991b6d09779dd7a37d1cb3eb">PI_DEV_ESTRATE</a>:</div>
<div class="line"><span class="lineno">  570</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;establishrate))</div>
<div class="line"><span class="lineno">  571</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  572</span>            memcpy (&amp;data-&gt;establishrate, option_value,</div>
<div class="line"><span class="lineno">  573</span>                    sizeof (data-&gt;establishrate));</div>
<div class="line"><span class="lineno">  574</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a27f77c813182e7dda5f8747dc8b1e136">PI_DEV_HIGHRATE</a>:</div>
<div class="line"><span class="lineno">  577</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;establishhighrate))</div>
<div class="line"><span class="lineno">  578</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  579</span>            memcpy (&amp;data-&gt;establishhighrate, option_value,</div>
<div class="line"><span class="lineno">  580</span>                    sizeof (data-&gt;establishhighrate));</div>
<div class="line"><span class="lineno">  581</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#aa3c28674694b0215bdb27d44df11421c">PI_DEV_TIMEOUT</a>:</div>
<div class="line"><span class="lineno">  584</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;timeout))</div>
<div class="line"><span class="lineno">  585</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  586</span>            memcpy (&amp;data-&gt;timeout, option_value,</div>
<div class="line"><span class="lineno">  587</span>                sizeof (data-&gt;timeout));</div>
<div class="line"><span class="lineno">  588</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  589</span>    }</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span><a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>:</div>
<div class="line"><span class="lineno">  594</span>    errno = EINVAL;</div>
<div class="line"><span class="lineno">  595</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_ARGUMENT);</div>
<div class="line"><span class="lineno">  596</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00435">fail()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00140">pi_usb_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a48251b09b739c1818ec4673882ea408b_cgraph.png" border="0" usemap="#ausb_8c_a48251b09b739c1818ec4673882ea408b_cgraph" alt=""/></div>
<map name="ausb_8c_a48251b09b739c1818ec4673882ea408b_cgraph" id="ausb_8c_a48251b09b739c1818ec4673882ea408b_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,136,56"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="209,5,248,31"/>
<area shape="poly" title=" " alt="" coords="136,30,193,21,194,26,137,36"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="184,55,273,80"/>
<area shape="poly" title=" " alt="" coords="137,51,169,56,168,61,136,56"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="321,55,426,80"/>
<area shape="poly" title=" " alt="" coords="274,65,306,65,306,70,274,70"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="481,5,587,31"/>
<area shape="poly" title=" " alt="" coords="417,51,474,34,476,39,419,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="474,55,594,80"/>
<area shape="poly" title=" " alt="" coords="427,65,459,65,459,70,427,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="490,104,578,130"/>
<area shape="poly" title=" " alt="" coords="419,78,477,97,475,102,417,84"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a48251b09b739c1818ec4673882ea408b_icgraph.png" border="0" usemap="#ausb_8c_a48251b09b739c1818ec4673882ea408b_icgraph" alt=""/></div>
<map name="ausb_8c_a48251b09b739c1818ec4673882ea408b_icgraph" id="ausb_8c_a48251b09b739c1818ec4673882ea408b_icgraph">
<area shape="rect" title=" " alt="" coords="1290,242,1420,268"/>
<area shape="rect" href="usb_8c.html#a83ccb5c0de7b1dc317ccc523614c4022" title=" " alt="" coords="1130,242,1242,268"/>
<area shape="poly" title=" " alt="" coords="1274,258,1242,258,1242,252,1274,252"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="977,242,1082,268"/>
<area shape="poly" title=" " alt="" coords="1114,258,1082,258,1082,252,1114,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a583159599f13b3acde7c069e03a2e43b" name="a583159599f13b3acde7c069e03a2e43b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a583159599f13b3acde7c069e03a2e43b">&#9670;&#160;</a></span>USB_check_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USB_check_device </td>
          <td>(</td>
          <td class="paramtype">pi_usb_data_t *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int16_t</td>          <td class="paramname"><span class="paramname"><em>vendor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int16_t</td>          <td class="paramname"><span class="paramname"><em>product</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  901</span>{</div>
<div class="line"><span class="lineno">  902</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span>    <span class="keywordflow">for</span> (i = 0; i &lt; (<span class="keyword">sizeof</span> (<a class="code hl_variable" href="#a4f1fd631a9244eb12721c28c2c30be4c">known_devices</a>) / <span class="keyword">sizeof</span> (<a class="code hl_variable" href="#a4f1fd631a9244eb12721c28c2c30be4c">known_devices</a>[0])); i++) {</div>
<div class="line"><span class="lineno">  905</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a4f1fd631a9244eb12721c28c2c30be4c">known_devices</a>[i].vendor == vendor) {</div>
<div class="line"><span class="lineno">  906</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a4f1fd631a9244eb12721c28c2c30be4c">known_devices</a>[i].product ||</div>
<div class="line"><span class="lineno">  907</span>                    <a class="code hl_variable" href="#a4f1fd631a9244eb12721c28c2c30be4c">known_devices</a>[i].product == product) {</div>
<div class="line"><span class="lineno">  908</span>                dev-&gt;dev.flags |= <a class="code hl_variable" href="#a4f1fd631a9244eb12721c28c2c30be4c">known_devices</a>[i].flags;</div>
<div class="line"><span class="lineno">  909</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  910</span>            }</div>
<div class="line"><span class="lineno">  911</span>        }</div>
<div class="line"><span class="lineno">  912</span>    }</div>
<div class="line"><span class="lineno">  913</span> </div>
<div class="line"><span class="lineno">  914</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  915</span>}</div>
<div class="ttc" id="ausb_8c_html_a4f1fd631a9244eb12721c28c2c30be4c"><div class="ttname"><a href="#a4f1fd631a9244eb12721c28c2c30be4c">known_devices</a></div><div class="ttdeci">pi_usb_dev_t known_devices[]</div><div class="ttdef"><b>Definition</b> usb.c:645</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00645">known_devices</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00100">USB_poll()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a583159599f13b3acde7c069e03a2e43b_icgraph.png" border="0" usemap="#ausb_8c_a583159599f13b3acde7c069e03a2e43b_icgraph" alt=""/></div>
<map name="ausb_8c_a583159599f13b3acde7c069e03a2e43b_icgraph" id="ausb_8c_a583159599f13b3acde7c069e03a2e43b_icgraph">
<area shape="rect" title=" " alt="" coords="466,5,603,31"/>
<area shape="rect" href="libusb_8c.html#ada347782acb9ddcca0118385f2baa51c" title=" " alt="" coords="342,5,418,31"/>
<area shape="poly" title=" " alt="" coords="451,21,419,21,419,16,451,16"/>
<area shape="rect" href="libusb_8c.html#a392c406126a2b42d4c9279a1664111ef" title=" " alt="" coords="168,5,294,31"/>
<area shape="poly" title=" " alt="" coords="326,21,295,21,295,16,326,16"/>
<area shape="rect" href="libusb_8c.html#a21b4c9d5b57f1d4a8f6b08b170b1d29f" title=" " alt="" coords="5,5,120,31"/>
<area shape="poly" title=" " alt="" coords="152,21,120,21,120,16,152,16"/>
</map>
</div>

</div>
</div>
<a id="a2a24b6836e4ed45e12d7355fba32f9cd" name="a2a24b6836e4ed45e12d7355fba32f9cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a24b6836e4ed45e12d7355fba32f9cd">&#9670;&#160;</a></span>USB_configure_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USB_configure_device </td>
          <td>(</td>
          <td class="paramtype">pi_usb_data_t *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t *</td>          <td class="paramname"><span class="paramname"><em>input_pipe</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t *</td>          <td class="paramname"><span class="paramname"><em>output_pipe</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  924</span>{</div>
<div class="line"><span class="lineno">  925</span>    <span class="keywordtype">int</span> ret;</div>
<div class="line"><span class="lineno">  926</span>    u_int32_t <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> = dev-&gt;dev.flags;</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>    *input_pipe = 0xff;</div>
<div class="line"><span class="lineno">  929</span>    *output_pipe = 0xff;</div>
<div class="line"><span class="lineno">  930</span> </div>
<div class="line"><span class="lineno">  931</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  932</span><span class="comment">     * Device specific magic incantations</span></div>
<div class="line"><span class="lineno">  933</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  934</span><span class="comment">     * Many devices agree on talking only if you say the &quot;magic&quot; incantation first.</span></div>
<div class="line"><span class="lineno">  935</span><span class="comment">     * Usually, it&#39;s a control request or a sequence of control requests</span></div>
<div class="line"><span class="lineno">  936</span><span class="comment">     *</span></div>
<div class="line"><span class="lineno">  937</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> &amp; USB_INIT_NONE)</div>
<div class="line"><span class="lineno">  940</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  941</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> &amp; USB_INIT_VISOR)</div>
<div class="line"><span class="lineno">  942</span>        ret = <a class="code hl_function" href="#a6654f0635e3510f0304fbf663b47f14b">USB_configure_visor</a> (dev, input_pipe, output_pipe);</div>
<div class="line"><span class="lineno">  943</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> &amp; USB_INIT_SONY_CLIE) {</div>
<div class="line"><span class="lineno">  944</span>        <span class="comment">/* according to linux code, PEG S-300 awaits these two requests */</span></div>
<div class="line"><span class="lineno">  945</span>        <span class="comment">/* USB_REQ_GET_CONFIGURATION */</span></div>
<div class="line"><span class="lineno">  946</span>        ret = dev-&gt;impl.control_request (dev, 0x80, 0x08, 0, 0, NULL, 1, 0);</div>
<div class="line"><span class="lineno">  947</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  948</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_ERR, <span class="stringliteral">&quot;usb: Sony USB_REQ_GET_CONFIGURATION failed (err=%08x)\n&quot;</span>, ret));</div>
<div class="line"><span class="lineno">  949</span>        }</div>
<div class="line"><span class="lineno">  950</span>        <span class="comment">/* USB_REQ_GET_INTERFACE */</span></div>
<div class="line"><span class="lineno">  951</span>        ret = dev-&gt;impl.control_request (dev, 0x80, 0x0A, 0, 0, NULL, 1, 0);</div>
<div class="line"><span class="lineno">  952</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  953</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_ERR, <span class="stringliteral">&quot;usb: Sony USB_REQ_GET_INTERFACE failed (err=%08x)\n&quot;</span>, ret));</div>
<div class="line"><span class="lineno">  954</span>        }</div>
<div class="line"><span class="lineno">  955</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  956</span>        <span class="comment">/* other devices will either accept or deny this generic call */</span></div>
<div class="line"><span class="lineno">  957</span>        ret = <a class="code hl_function" href="#aa1cb6ff0bde9621ce55136945a97ca13">USB_configure_generic</a> (dev, input_pipe, output_pipe);</div>
<div class="line"><span class="lineno">  958</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  959</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  960</span>        }</div>
<div class="line"><span class="lineno">  961</span>    }</div>
<div class="line"><span class="lineno">  962</span> </div>
<div class="line"><span class="lineno">  963</span>    <span class="comment">/* query bytes available. Not that we really care,</span></div>
<div class="line"><span class="lineno">  964</span><span class="comment">       but most devices expect to receive this before</span></div>
<div class="line"><span class="lineno">  965</span><span class="comment">       they agree on talking to us. */</span></div>
<div class="line"><span class="lineno">  966</span>    <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> &amp; USB_INIT_TAPWAVE)) {</div>
<div class="line"><span class="lineno">  967</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ba[2] = { 0 };</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>        ret = dev-&gt;impl.control_request (dev, 0xc2, <a class="code hl_define" href="darwinusb_8c.html#a999d97afe6c8af0e9f6e6592e5dddf2f">GENERIC_REQUEST_BYTES_AVAILABLE</a>, 0, 0, &amp;ba[0], 2, 0);</div>
<div class="line"><span class="lineno">  970</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  971</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_ERR, <span class="stringliteral">&quot;usb: GENERIC_REQUEST_BYTES_AVAILABLE failed (err=%08x)\n&quot;</span>, ret));</div>
<div class="line"><span class="lineno">  972</span>            <span class="comment">/* configuration have to fail to skip this device - or LifeDrive(?) devices will hang */</span></div>
<div class="line"><span class="lineno">  973</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  974</span>        }</div>
<div class="line"><span class="lineno">  975</span>        LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;GENERIC_REQUEST_BYTES_AVAILABLE returns 0x%02x%02x\n&quot;</span>, ba[0], ba[1]));</div>
<div class="line"><span class="lineno">  976</span>    }</div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  979</span>}</div>
<div class="ttc" id="adarwinusb_8c_html_a1cbb17ede73ea044a04a129bf4d86976"><div class="ttname"><a href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a></div><div class="ttdeci">unsigned short flags</div><div class="ttdef"><b>Definition</b> darwinusb.c:311</div></div>
<div class="ttc" id="adarwinusb_8c_html_a999d97afe6c8af0e9f6e6592e5dddf2f"><div class="ttname"><a href="darwinusb_8c.html#a999d97afe6c8af0e9f6e6592e5dddf2f">GENERIC_REQUEST_BYTES_AVAILABLE</a></div><div class="ttdeci">#define GENERIC_REQUEST_BYTES_AVAILABLE</div><div class="ttdef"><b>Definition</b> darwinusb.c:183</div></div>
<div class="ttc" id="ausb_8c_html_a6654f0635e3510f0304fbf663b47f14b"><div class="ttname"><a href="#a6654f0635e3510f0304fbf663b47f14b">USB_configure_visor</a></div><div class="ttdeci">static int USB_configure_visor(pi_usb_data_t *dev, u_int8_t *input_pipe, u_int8_t *output_pipe)</div><div class="ttdef"><b>Definition</b> usb.c:982</div></div>
<div class="ttc" id="ausb_8c_html_aa1cb6ff0bde9621ce55136945a97ca13"><div class="ttname"><a href="#aa1cb6ff0bde9621ce55136945a97ca13">USB_configure_generic</a></div><div class="ttdeci">static int USB_configure_generic(pi_usb_data_t *dev, u_int8_t *input_pipe, u_int8_t *output_pipe)</div><div class="ttdef"><b>Definition</b> usb.c:1030</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00311">flags</a>, <a class="el" href="#l00183">GENERIC_REQUEST_BYTES_AVAILABLE</a>, <a class="el" href="#l01030">USB_configure_generic()</a>, and <a class="el" href="#l00982">USB_configure_visor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00100">USB_poll()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a2a24b6836e4ed45e12d7355fba32f9cd_cgraph.png" border="0" usemap="#ausb_8c_a2a24b6836e4ed45e12d7355fba32f9cd_cgraph" alt=""/></div>
<map name="ausb_8c_a2a24b6836e4ed45e12d7355fba32f9cd_cgraph" id="ausb_8c_a2a24b6836e4ed45e12d7355fba32f9cd_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,160,56"/>
<area shape="rect" href="usb_8c.html#aa1cb6ff0bde9621ce55136945a97ca13" title=" " alt="" coords="208,5,366,31"/>
<area shape="poly" title=" " alt="" coords="160,31,192,27,192,33,160,37"/>
<area shape="rect" href="usb_8c.html#a6654f0635e3510f0304fbf663b47f14b" title=" " alt="" coords="215,55,359,80"/>
<area shape="poly" title=" " alt="" coords="160,50,200,55,199,60,160,55"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a2a24b6836e4ed45e12d7355fba32f9cd_icgraph.png" border="0" usemap="#ausb_8c_a2a24b6836e4ed45e12d7355fba32f9cd_icgraph" alt=""/></div>
<map name="ausb_8c_a2a24b6836e4ed45e12d7355fba32f9cd_icgraph" id="ausb_8c_a2a24b6836e4ed45e12d7355fba32f9cd_icgraph">
<area shape="rect" title=" " alt="" coords="466,5,621,31"/>
<area shape="rect" href="libusb_8c.html#ada347782acb9ddcca0118385f2baa51c" title=" " alt="" coords="342,5,418,31"/>
<area shape="poly" title=" " alt="" coords="451,21,419,21,419,16,451,16"/>
<area shape="rect" href="libusb_8c.html#a392c406126a2b42d4c9279a1664111ef" title=" " alt="" coords="168,5,294,31"/>
<area shape="poly" title=" " alt="" coords="326,21,295,21,295,16,326,16"/>
<area shape="rect" href="libusb_8c.html#a21b4c9d5b57f1d4a8f6b08b170b1d29f" title=" " alt="" coords="5,5,120,31"/>
<area shape="poly" title=" " alt="" coords="152,21,120,21,120,16,152,16"/>
</map>
</div>

</div>
</div>
<a id="aa1cb6ff0bde9621ce55136945a97ca13" name="aa1cb6ff0bde9621ce55136945a97ca13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1cb6ff0bde9621ce55136945a97ca13">&#9670;&#160;</a></span>USB_configure_generic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int USB_configure_generic </td>
          <td>(</td>
          <td class="paramtype">pi_usb_data_t *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t *</td>          <td class="paramname"><span class="paramname"><em>input_pipe</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t *</td>          <td class="paramname"><span class="paramname"><em>output_pipe</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1031</span>{</div>
<div class="line"><span class="lineno"> 1032</span>    <span class="keywordtype">int</span> i, ret;</div>
<div class="line"><span class="lineno"> 1033</span>    <span class="keywordtype">int</span> hotsync = 0;</div>
<div class="line"><span class="lineno"> 1034</span>    palm_ext_connection_info_t ci;</div>
<div class="line"><span class="lineno"> 1035</span>    u_int32_t <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> = dev-&gt;dev.flags;</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>    ret = dev-&gt;impl.control_request (dev, 0xc2, <a class="code hl_define" href="darwinusb_8c.html#a22b08ff484c0cfd3cc9536dd3aee44db">PALM_GET_EXT_CONNECTION_INFORMATION</a>, 0, 0, &amp;ci, <span class="keyword">sizeof</span> (ci), 0);</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno"> 1039</span>        LOG((PI_DBG_DEV, PI_DBG_LVL_ERR, <span class="stringliteral">&quot;usb: PALM_GET_EXT_CONNECTION_INFORMATION failed (err=%08x)\n&quot;</span>, ret));</div>
<div class="line"><span class="lineno"> 1040</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1041</span>        LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;usb: PALM_GET_EXT_CONNECTION_INFORMATION, num_ports=%d, endpoint_numbers_different=%d\n&quot;</span>, </div>
<div class="line"><span class="lineno"> 1042</span>            ci.num_ports, </div>
<div class="line"><span class="lineno"> 1043</span>            ci.endpoint_numbers_different));</div>
<div class="line"><span class="lineno"> 1044</span>        <span class="keywordflow">for</span> (i=0; i &lt; ci.num_ports; i++) {</div>
<div class="line"><span class="lineno"> 1045</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;\t[%d] port_function_id=&#39;%c%c%c%c&#39;\n&quot;</span>, i, </div>
<div class="line"><span class="lineno"> 1046</span>                ci.connections[i].port_function_id[0], </div>
<div class="line"><span class="lineno"> 1047</span>                ci.connections[i].port_function_id[1], </div>
<div class="line"><span class="lineno"> 1048</span>                ci.connections[i].port_function_id[2], </div>
<div class="line"><span class="lineno"> 1049</span>                ci.connections[i].port_function_id[3]));</div>
<div class="line"><span class="lineno"> 1050</span> </div>
<div class="line"><span class="lineno"> 1051</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;\t[%d] port=%d\n&quot;</span>, i, </div>
<div class="line"><span class="lineno"> 1052</span>                ci.connections[i].port));</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;\t[%d] endpoint_info=%d\n&quot;</span>, i, </div>
<div class="line"><span class="lineno"> 1055</span>                ci.connections[i].endpoint_info));</div>
<div class="line"><span class="lineno"> 1056</span>            <span class="keywordflow">if</span> (!memcmp(ci.connections[i].port_function_id, <span class="stringliteral">&quot;cnys&quot;</span>, 4)) {</div>
<div class="line"><span class="lineno"> 1057</span> </div>
<div class="line"><span class="lineno"> 1058</span>                <span class="comment">/* found hotsync port */</span></div>
<div class="line"><span class="lineno"> 1059</span>                hotsync = 1;</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>                <span class="comment">/* &#39;sync&#39;: we found the pipes to use for synchronization force</span></div>
<div class="line"><span class="lineno"> 1062</span><span class="comment">                   find_interfaces to select this one rather than another one */</span></div>
<div class="line"><span class="lineno"> 1063</span>                <span class="keywordflow">if</span> (ci.endpoint_numbers_different) {</div>
<div class="line"><span class="lineno"> 1064</span>                    <span class="keywordflow">if</span> (input_pipe)</div>
<div class="line"><span class="lineno"> 1065</span>                        *input_pipe = ci.connections[i].endpoint_info &gt;&gt; 4;</div>
<div class="line"><span class="lineno"> 1066</span>                    <span class="keywordflow">if</span> (output_pipe)</div>
<div class="line"><span class="lineno"> 1067</span>                        *output_pipe = ci.connections[i].endpoint_info &amp; 0x0f;</div>
<div class="line"><span class="lineno"> 1068</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1069</span>                    <span class="keywordflow">if</span> (input_pipe)</div>
<div class="line"><span class="lineno"> 1070</span>                        *input_pipe = ci.connections[i].port;</div>
<div class="line"><span class="lineno"> 1071</span>                    <span class="keywordflow">if</span> (output_pipe)</div>
<div class="line"><span class="lineno"> 1072</span>                        *output_pipe = ci.connections[i].port;</div>
<div class="line"><span class="lineno"> 1073</span>                }</div>
<div class="line"><span class="lineno"> 1074</span>            }</div>
<div class="line"><span class="lineno"> 1075</span>        }</div>
<div class="line"><span class="lineno"> 1076</span> </div>
<div class="line"><span class="lineno"> 1077</span>        <span class="keywordflow">if</span> (!hotsync) {</div>
<div class="line"><span class="lineno"> 1078</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_ERR, <span class="stringliteral">&quot;usb: PALM_GET_EXT_CONNECTION_INFORMATION - no hotsync port found.\n&quot;</span>, ret));</div>
<div class="line"><span class="lineno"> 1079</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1080</span>        }</div>
<div class="line"><span class="lineno"> 1081</span>    }</div>
<div class="line"><span class="lineno"> 1082</span> </div>
<div class="line"><span class="lineno"> 1083</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> &amp; USB_INIT_TAPWAVE) {</div>
<div class="line"><span class="lineno"> 1084</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1085</span><span class="comment">         * Tapwave: for Zodiac, the TwUSBD.sys driver on Windows sends</span></div>
<div class="line"><span class="lineno"> 1086</span><span class="comment">         * the ext-connection-info packet two additional times.</span></div>
<div class="line"><span class="lineno"> 1087</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1088</span>        ret = dev-&gt;impl.control_request (dev, 0xc2, <a class="code hl_define" href="darwinusb_8c.html#a22b08ff484c0cfd3cc9536dd3aee44db">PALM_GET_EXT_CONNECTION_INFORMATION</a>, 0, 0, &amp;ci, <span class="keyword">sizeof</span> (ci), 0);</div>
<div class="line"><span class="lineno"> 1089</span>        ret = dev-&gt;impl.control_request (dev, 0xc2, <a class="code hl_define" href="darwinusb_8c.html#a22b08ff484c0cfd3cc9536dd3aee44db">PALM_GET_EXT_CONNECTION_INFORMATION</a>, 0, 0, &amp;ci, <span class="keyword">sizeof</span> (ci), 0);</div>
<div class="line"><span class="lineno"> 1090</span>    }</div>
<div class="line"><span class="lineno"> 1091</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1092</span>}</div>
<div class="ttc" id="adarwinusb_8c_html_a22b08ff484c0cfd3cc9536dd3aee44db"><div class="ttname"><a href="darwinusb_8c.html#a22b08ff484c0cfd3cc9536dd3aee44db">PALM_GET_EXT_CONNECTION_INFORMATION</a></div><div class="ttdeci">#define PALM_GET_EXT_CONNECTION_INFORMATION</div><div class="ttdef"><b>Definition</b> darwinusb.c:186</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00311">flags</a>, and <a class="el" href="#l00186">PALM_GET_EXT_CONNECTION_INFORMATION</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00923">USB_configure_device()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_aa1cb6ff0bde9621ce55136945a97ca13_icgraph.png" border="0" usemap="#ausb_8c_aa1cb6ff0bde9621ce55136945a97ca13_icgraph" alt=""/></div>
<map name="ausb_8c_aa1cb6ff0bde9621ce55136945a97ca13_icgraph" id="ausb_8c_aa1cb6ff0bde9621ce55136945a97ca13_icgraph">
<area shape="rect" title=" " alt="" coords="669,5,827,31"/>
<area shape="rect" href="usb_8c.html#a2a24b6836e4ed45e12d7355fba32f9cd" title=" " alt="" coords="466,5,621,31"/>
<area shape="poly" title=" " alt="" coords="653,21,621,21,621,16,653,16"/>
<area shape="rect" href="libusb_8c.html#ada347782acb9ddcca0118385f2baa51c" title=" " alt="" coords="342,5,418,31"/>
<area shape="poly" title=" " alt="" coords="451,21,419,21,419,16,451,16"/>
<area shape="rect" href="libusb_8c.html#a392c406126a2b42d4c9279a1664111ef" title=" " alt="" coords="168,5,294,31"/>
<area shape="poly" title=" " alt="" coords="326,21,295,21,295,16,326,16"/>
<area shape="rect" href="libusb_8c.html#a21b4c9d5b57f1d4a8f6b08b170b1d29f" title=" " alt="" coords="5,5,120,31"/>
<area shape="poly" title=" " alt="" coords="152,21,120,21,120,16,152,16"/>
</map>
</div>

</div>
</div>
<a id="a6654f0635e3510f0304fbf663b47f14b" name="a6654f0635e3510f0304fbf663b47f14b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6654f0635e3510f0304fbf663b47f14b">&#9670;&#160;</a></span>USB_configure_visor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int USB_configure_visor </td>
          <td>(</td>
          <td class="paramtype">pi_usb_data_t *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t *</td>          <td class="paramname"><span class="paramname"><em>input_pipe</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t *</td>          <td class="paramname"><span class="paramname"><em>output_pipe</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  983</span>{</div>
<div class="line"><span class="lineno">  984</span>    <span class="keywordtype">int</span> i, ret;</div>
<div class="line"><span class="lineno">  985</span>    visor_connection_info_t ci;</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span>    ret = dev-&gt;impl.control_request (dev, 0xc2, <a class="code hl_define" href="darwinusb_8c.html#ad3b8ec3afa8751af3cb8d549ab49cdec">VISOR_GET_CONNECTION_INFORMATION</a>, 0, 0, &amp;ci, <span class="keyword">sizeof</span> (ci), 0);</div>
<div class="line"><span class="lineno">  988</span>    <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  989</span>        LOG((PI_DBG_DEV, PI_DBG_LVL_ERR, <span class="stringliteral">&quot;usb: VISOR_GET_CONNECTION_INFORMATION failed (err=%08x)\n&quot;</span>, ret));</div>
<div class="line"><span class="lineno">  990</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  991</span>        LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;usb: VISOR_GET_CONNECTION_INFORMATION, num_ports=%d\n&quot;</span>, ci.num_ports));</div>
<div class="line"><span class="lineno">  992</span>        <span class="keywordflow">if</span> (ci.num_ports &gt; 2)</div>
<div class="line"><span class="lineno">  993</span>            ci.num_ports = 2;</div>
<div class="line"><span class="lineno">  994</span>        <span class="keywordflow">for</span> (i=0; i &lt; ci.num_ports; i++)</div>
<div class="line"><span class="lineno">  995</span>        {</div>
<div class="line"><span class="lineno">  996</span>            <span class="keywordtype">char</span> *function_str;</div>
<div class="line"><span class="lineno">  997</span>            <span class="keywordflow">switch</span> (ci.connections[i].port_function_id)</div>
<div class="line"><span class="lineno">  998</span>            {</div>
<div class="line"><span class="lineno">  999</span>                <span class="keywordflow">case</span> <a class="code hl_define" href="darwinusb_8c.html#a0987f64d971059f38d9c02f205de0605">VISOR_FUNCTION_GENERIC</a>:</div>
<div class="line"><span class="lineno"> 1000</span>                    function_str=<span class="stringliteral">&quot;GENERIC&quot;</span>;</div>
<div class="line"><span class="lineno"> 1001</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1002</span>                <span class="keywordflow">case</span> <a class="code hl_define" href="darwinusb_8c.html#adde5c16f3a4a6496d40f0ec545da7056">VISOR_FUNCTION_DEBUGGER</a>:</div>
<div class="line"><span class="lineno"> 1003</span>                    function_str=<span class="stringliteral">&quot;DEBUGGER&quot;</span>;</div>
<div class="line"><span class="lineno"> 1004</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1005</span>                <span class="keywordflow">case</span> <a class="code hl_define" href="darwinusb_8c.html#ad438829a5b519c892325847ed3d7daa4">VISOR_FUNCTION_HOTSYNC</a>:</div>
<div class="line"><span class="lineno"> 1006</span>                    function_str=<span class="stringliteral">&quot;HOTSYNC&quot;</span>;</div>
<div class="line"><span class="lineno"> 1007</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1008</span>                <span class="keywordflow">case</span> <a class="code hl_define" href="darwinusb_8c.html#a4b54f2a9722be80f664e5ec9433a64ae">VISOR_FUNCTION_CONSOLE</a>:</div>
<div class="line"><span class="lineno"> 1009</span>                    function_str=<span class="stringliteral">&quot;CONSOLE&quot;</span>;</div>
<div class="line"><span class="lineno"> 1010</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1011</span>                <span class="keywordflow">case</span> <a class="code hl_define" href="darwinusb_8c.html#a727e8ebd40a8aab9603d264c3ddaf193">VISOR_FUNCTION_REMOTE_FILE_SYS</a>:</div>
<div class="line"><span class="lineno"> 1012</span>                    function_str=<span class="stringliteral">&quot;REMOTE_FILE_SYSTEM&quot;</span>;</div>
<div class="line"><span class="lineno"> 1013</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1014</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1015</span>                    function_str=<span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div>
<div class="line"><span class="lineno"> 1016</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1017</span>            }</div>
<div class="line"><span class="lineno"> 1018</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;\t[%d] port_function_id=0x%02x (%s)\n&quot;</span>, i, </div>
<div class="line"><span class="lineno"> 1019</span>                ci.connections[i].port_function_id, </div>
<div class="line"><span class="lineno"> 1020</span>                function_str));</div>
<div class="line"><span class="lineno"> 1021</span> </div>
<div class="line"><span class="lineno"> 1022</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;\t[%d] port=%d\n&quot;</span>, i, </div>
<div class="line"><span class="lineno"> 1023</span>                ci.connections[i].port));</div>
<div class="line"><span class="lineno"> 1024</span>        }</div>
<div class="line"><span class="lineno"> 1025</span>    }</div>
<div class="line"><span class="lineno"> 1026</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1027</span>}</div>
<div class="ttc" id="adarwinusb_8c_html_a0987f64d971059f38d9c02f205de0605"><div class="ttname"><a href="darwinusb_8c.html#a0987f64d971059f38d9c02f205de0605">VISOR_FUNCTION_GENERIC</a></div><div class="ttdeci">#define VISOR_FUNCTION_GENERIC</div><div class="ttdef"><b>Definition</b> darwinusb.c:206</div></div>
<div class="ttc" id="adarwinusb_8c_html_a4b54f2a9722be80f664e5ec9433a64ae"><div class="ttname"><a href="darwinusb_8c.html#a4b54f2a9722be80f664e5ec9433a64ae">VISOR_FUNCTION_CONSOLE</a></div><div class="ttdeci">#define VISOR_FUNCTION_CONSOLE</div><div class="ttdef"><b>Definition</b> darwinusb.c:209</div></div>
<div class="ttc" id="adarwinusb_8c_html_a727e8ebd40a8aab9603d264c3ddaf193"><div class="ttname"><a href="darwinusb_8c.html#a727e8ebd40a8aab9603d264c3ddaf193">VISOR_FUNCTION_REMOTE_FILE_SYS</a></div><div class="ttdeci">#define VISOR_FUNCTION_REMOTE_FILE_SYS</div><div class="ttdef"><b>Definition</b> darwinusb.c:210</div></div>
<div class="ttc" id="adarwinusb_8c_html_ad3b8ec3afa8751af3cb8d549ab49cdec"><div class="ttname"><a href="darwinusb_8c.html#ad3b8ec3afa8751af3cb8d549ab49cdec">VISOR_GET_CONNECTION_INFORMATION</a></div><div class="ttdeci">#define VISOR_GET_CONNECTION_INFORMATION</div><div class="ttdef"><b>Definition</b> darwinusb.c:185</div></div>
<div class="ttc" id="adarwinusb_8c_html_ad438829a5b519c892325847ed3d7daa4"><div class="ttname"><a href="darwinusb_8c.html#ad438829a5b519c892325847ed3d7daa4">VISOR_FUNCTION_HOTSYNC</a></div><div class="ttdeci">#define VISOR_FUNCTION_HOTSYNC</div><div class="ttdef"><b>Definition</b> darwinusb.c:208</div></div>
<div class="ttc" id="adarwinusb_8c_html_adde5c16f3a4a6496d40f0ec545da7056"><div class="ttname"><a href="darwinusb_8c.html#adde5c16f3a4a6496d40f0ec545da7056">VISOR_FUNCTION_DEBUGGER</a></div><div class="ttdeci">#define VISOR_FUNCTION_DEBUGGER</div><div class="ttdef"><b>Definition</b> darwinusb.c:207</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00209">VISOR_FUNCTION_CONSOLE</a>, <a class="el" href="#l00207">VISOR_FUNCTION_DEBUGGER</a>, <a class="el" href="#l00206">VISOR_FUNCTION_GENERIC</a>, <a class="el" href="#l00208">VISOR_FUNCTION_HOTSYNC</a>, <a class="el" href="#l00210">VISOR_FUNCTION_REMOTE_FILE_SYS</a>, and <a class="el" href="#l00185">VISOR_GET_CONNECTION_INFORMATION</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00923">USB_configure_device()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb_8c_a6654f0635e3510f0304fbf663b47f14b_icgraph.png" border="0" usemap="#ausb_8c_a6654f0635e3510f0304fbf663b47f14b_icgraph" alt=""/></div>
<map name="ausb_8c_a6654f0635e3510f0304fbf663b47f14b_icgraph" id="ausb_8c_a6654f0635e3510f0304fbf663b47f14b_icgraph">
<area shape="rect" title=" " alt="" coords="669,5,813,31"/>
<area shape="rect" href="usb_8c.html#a2a24b6836e4ed45e12d7355fba32f9cd" title=" " alt="" coords="466,5,621,31"/>
<area shape="poly" title=" " alt="" coords="653,21,621,21,621,16,653,16"/>
<area shape="rect" href="libusb_8c.html#ada347782acb9ddcca0118385f2baa51c" title=" " alt="" coords="342,5,418,31"/>
<area shape="poly" title=" " alt="" coords="451,21,419,21,419,16,451,16"/>
<area shape="rect" href="libusb_8c.html#a392c406126a2b42d4c9279a1664111ef" title=" " alt="" coords="168,5,294,31"/>
<area shape="poly" title=" " alt="" coords="326,21,295,21,295,16,326,16"/>
<area shape="rect" href="libusb_8c.html#a21b4c9d5b57f1d4a8f6b08b170b1d29f" title=" " alt="" coords="5,5,120,31"/>
<area shape="poly" title=" " alt="" coords="152,21,120,21,120,16,152,16"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4f1fd631a9244eb12721c28c2c30be4c" name="a4f1fd631a9244eb12721c28c2c30be4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f1fd631a9244eb12721c28c2c30be4c">&#9670;&#160;</a></span>known_devices</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pi_usb_dev_t known_devices[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  645</span>                               {</div>
<div class="line"><span class="lineno">  646</span>    <span class="comment">/* Sony */</span></div>
<div class="line"><span class="lineno">  647</span>    {</div>
<div class="line"><span class="lineno">  648</span>        .vendor     = 0x054c,</div>
<div class="line"><span class="lineno">  649</span>        .product    = 0x0038,</div>
<div class="line"><span class="lineno">  650</span>        .idstr      = <span class="stringliteral">&quot;Sony S S320 and other Palm OS 3.5 devices&quot;</span>,</div>
<div class="line"><span class="lineno">  651</span>        .flags      = USB_INIT_SONY_CLIE,</div>
<div class="line"><span class="lineno">  652</span>    },</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    {</div>
<div class="line"><span class="lineno">  655</span>        .vendor     = 0x054c,</div>
<div class="line"><span class="lineno">  656</span>        .product    = 0x0066,</div>
<div class="line"><span class="lineno">  657</span>        .idstr      = <span class="stringliteral">&quot;Sony T, SJ series, and other Palm OS 4.0 devices&quot;</span>,</div>
<div class="line"><span class="lineno">  658</span>    },</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    {</div>
<div class="line"><span class="lineno">  661</span>        .vendor     = 0x054c,</div>
<div class="line"><span class="lineno">  662</span>        .product    = 0x0095,</div>
<div class="line"><span class="lineno">  663</span>        .idstr      = <span class="stringliteral">&quot;Sony S360&quot;</span>,</div>
<div class="line"><span class="lineno">  664</span>    },</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>    {</div>
<div class="line"><span class="lineno">  667</span>        .vendor     = 0x054c,</div>
<div class="line"><span class="lineno">  668</span>        .product    = 0x000a,</div>
<div class="line"><span class="lineno">  669</span>        .idstr      = <span class="stringliteral">&quot;Sony NR and other Palm OS 4.1 devices&quot;</span>,</div>
<div class="line"><span class="lineno">  670</span>    },</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>    {</div>
<div class="line"><span class="lineno">  673</span>        .vendor     = 0x054c,</div>
<div class="line"><span class="lineno">  674</span>        .product    = 0x009a,</div>
<div class="line"><span class="lineno">  675</span>        .idstr      = <span class="stringliteral">&quot;Sony NR70V/U&quot;</span>,</div>
<div class="line"><span class="lineno">  676</span>                .flags      = USB_INIT_SONY_CLIE,</div>
<div class="line"><span class="lineno">  677</span>    },</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>    {</div>
<div class="line"><span class="lineno">  680</span>        .vendor     = 0x054c,</div>
<div class="line"><span class="lineno">  681</span>        .product    = 0x00da,</div>
<div class="line"><span class="lineno">  682</span>        .idstr      = <span class="stringliteral">&quot;Sony NX&quot;</span>,</div>
<div class="line"><span class="lineno">  683</span>    },</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>    {</div>
<div class="line"><span class="lineno">  686</span>        .vendor     = 0x054c,</div>
<div class="line"><span class="lineno">  687</span>        .product    = 0x00e9,</div>
<div class="line"><span class="lineno">  688</span>        .idstr      = <span class="stringliteral">&quot;Sony NZ&quot;</span>,</div>
<div class="line"><span class="lineno">  689</span>    },</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>    {</div>
<div class="line"><span class="lineno">  692</span>        .vendor     = 0x054c,</div>
<div class="line"><span class="lineno">  693</span>        .product    = 0x0144,</div>
<div class="line"><span class="lineno">  694</span>        .idstr      = <span class="stringliteral">&quot;Sony UX&quot;</span>,</div>
<div class="line"><span class="lineno">  695</span>    },</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>    {</div>
<div class="line"><span class="lineno">  698</span>        .vendor     = 0x054c,</div>
<div class="line"><span class="lineno">  699</span>        .product    = 0x0169,</div>
<div class="line"><span class="lineno">  700</span>        .idstr      = <span class="stringliteral">&quot;Sony TJ&quot;</span>,</div>
<div class="line"><span class="lineno">  701</span>        .flags      = USB_INIT_SONY_CLIE,</div>
<div class="line"><span class="lineno">  702</span>    },</div>
<div class="line"><span class="lineno">  703</span> </div>
<div class="line"><span class="lineno">  704</span>    <span class="comment">/* AlphaSmart */</span></div>
<div class="line"><span class="lineno">  705</span>    {</div>
<div class="line"><span class="lineno">  706</span>        .vendor     = 0x081e,</div>
<div class="line"><span class="lineno">  707</span>        .product    = 0xdf00,</div>
<div class="line"><span class="lineno">  708</span>        .idstr      = <span class="stringliteral">&quot;Alphasmart Dana&quot;</span>,</div>
<div class="line"><span class="lineno">  709</span>    },</div>
<div class="line"><span class="lineno">  710</span> </div>
<div class="line"><span class="lineno">  711</span>    <span class="comment">/* HANDSPRING (vendor 0x082d) */</span></div>
<div class="line"><span class="lineno">  712</span>    {</div>
<div class="line"><span class="lineno">  713</span>        .vendor     = 0x082d,</div>
<div class="line"><span class="lineno">  714</span>        .product    = 0x0100,</div>
<div class="line"><span class="lineno">  715</span>        .idstr      = <span class="stringliteral">&quot;Visor, Treo 300&quot;</span>,</div>
<div class="line"><span class="lineno">  716</span>        .flags      = USB_INIT_VISOR,</div>
<div class="line"><span class="lineno">  717</span>    },</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>    {</div>
<div class="line"><span class="lineno">  720</span>        .vendor     = 0x082d,</div>
<div class="line"><span class="lineno">  721</span>        .product    = 0x0200,</div>
<div class="line"><span class="lineno">  722</span>        .idstr      = <span class="stringliteral">&quot;Treo&quot;</span>,</div>
<div class="line"><span class="lineno">  723</span>    },</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>    {</div>
<div class="line"><span class="lineno">  726</span>        .vendor     = 0x082d,</div>
<div class="line"><span class="lineno">  727</span>        .product    = 0x0300,</div>
<div class="line"><span class="lineno">  728</span>        .idstr      = <span class="stringliteral">&quot;Treo 600&quot;</span>,</div>
<div class="line"><span class="lineno">  729</span>    },</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>    <span class="comment">/* PalmOne, Palm Inc */</span></div>
<div class="line"><span class="lineno">  732</span>    {</div>
<div class="line"><span class="lineno">  733</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  734</span>        .product    = 0x0001,</div>
<div class="line"><span class="lineno">  735</span>        .idstr      = <span class="stringliteral">&quot;m500&quot;</span>,</div>
<div class="line"><span class="lineno">  736</span>    },</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>    {</div>
<div class="line"><span class="lineno">  739</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  740</span>        .product    = 0x0002,</div>
<div class="line"><span class="lineno">  741</span>        .idstr      = <span class="stringliteral">&quot;m505&quot;</span>,</div>
<div class="line"><span class="lineno">  742</span>    },</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>    {</div>
<div class="line"><span class="lineno">  745</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  746</span>        .product    = 0x0003,</div>
<div class="line"><span class="lineno">  747</span>        .idstr      = <span class="stringliteral">&quot;m515&quot;</span>,</div>
<div class="line"><span class="lineno">  748</span>    },</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>    {</div>
<div class="line"><span class="lineno">  751</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  752</span>        .product    = 0x0010,</div>
<div class="line"><span class="lineno">  753</span>    },</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>    {</div>
<div class="line"><span class="lineno">  756</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  757</span>        .product    = 0x0011,</div>
<div class="line"><span class="lineno">  758</span>    },</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>    {</div>
<div class="line"><span class="lineno">  761</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  762</span>        .product    = 0x0020,</div>
<div class="line"><span class="lineno">  763</span>        .idstr      = <span class="stringliteral">&quot;i705&quot;</span>,</div>
<div class="line"><span class="lineno">  764</span>    },</div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>    {</div>
<div class="line"><span class="lineno">  767</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  768</span>        .product    = 0x0030,</div>
<div class="line"><span class="lineno">  769</span>        .idstr      = <span class="stringliteral">&quot;Tungsten|Z&quot;</span>,</div>
<div class="line"><span class="lineno">  770</span>    },</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span>    {</div>
<div class="line"><span class="lineno">  773</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  774</span>        .product    = 0x0031,</div>
<div class="line"><span class="lineno">  775</span>        .idstr      = <span class="stringliteral">&quot;Tungsten|W&quot;</span>,</div>
<div class="line"><span class="lineno">  776</span>    },</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>    {</div>
<div class="line"><span class="lineno">  779</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  780</span>        .product    = 0x0040,</div>
<div class="line"><span class="lineno">  781</span>        .idstr      = <span class="stringliteral">&quot;m125&quot;</span>,</div>
<div class="line"><span class="lineno">  782</span>    },</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>    {</div>
<div class="line"><span class="lineno">  785</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  786</span>        .product    = 0x0050,</div>
<div class="line"><span class="lineno">  787</span>        .idstr      = <span class="stringliteral">&quot;m130&quot;</span>,</div>
<div class="line"><span class="lineno">  788</span>    },</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>    {</div>
<div class="line"><span class="lineno">  791</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  792</span>        .product    = 0x0051,</div>
<div class="line"><span class="lineno">  793</span>    },</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>    {</div>
<div class="line"><span class="lineno">  796</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  797</span>        .product    = 0x0052,</div>
<div class="line"><span class="lineno">  798</span>    },</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>    {</div>
<div class="line"><span class="lineno">  801</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  802</span>        .product    = 0x0053,</div>
<div class="line"><span class="lineno">  803</span>    },</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>    {</div>
<div class="line"><span class="lineno">  806</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  807</span>        .product    = 0x0060,</div>
<div class="line"><span class="lineno">  808</span>        .idstr      = <span class="stringliteral">&quot;Tungsten series, Zire 71&quot;</span>,</div>
<div class="line"><span class="lineno">  809</span>    },</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>    {</div>
<div class="line"><span class="lineno">  812</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  813</span>        .product    = 0x0061,</div>
<div class="line"><span class="lineno">  814</span>        .idstr      = <span class="stringliteral">&quot;Zire 31, 72, Z22&quot;</span>,</div>
<div class="line"><span class="lineno">  815</span>        .flags      = USB_INIT_TAPWAVE,</div>
<div class="line"><span class="lineno">  816</span>    },</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>    {</div>
<div class="line"><span class="lineno">  819</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  820</span>        .product    = 0x0062,</div>
<div class="line"><span class="lineno">  821</span>    },</div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>    {</div>
<div class="line"><span class="lineno">  824</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  825</span>        .product    = 0x0063,</div>
<div class="line"><span class="lineno">  826</span>    },</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>    {</div>
<div class="line"><span class="lineno">  829</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  830</span>        .product    = 0x0070,</div>
<div class="line"><span class="lineno">  831</span>        .idstr      = <span class="stringliteral">&quot;Zire&quot;</span>,</div>
<div class="line"><span class="lineno">  832</span>    },</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>    {</div>
<div class="line"><span class="lineno">  835</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  836</span>        .product    = 0x0071,</div>
<div class="line"><span class="lineno">  837</span>    },</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>    {</div>
<div class="line"><span class="lineno">  840</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  841</span>        .product    = 0x0080,</div>
<div class="line"><span class="lineno">  842</span>        .idstr      = <span class="stringliteral">&quot;m100&quot;</span>,</div>
<div class="line"><span class="lineno">  843</span>        .flags      = USB_INIT_NONE,</div>
<div class="line"><span class="lineno">  844</span>    },</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>    {</div>
<div class="line"><span class="lineno">  847</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  848</span>        .product    = 0x0099,</div>
<div class="line"><span class="lineno">  849</span>    },</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>    {</div>
<div class="line"><span class="lineno">  852</span>        .vendor     = 0x0830,</div>
<div class="line"><span class="lineno">  853</span>        .product    = 0x0100,</div>
<div class="line"><span class="lineno">  854</span>    },</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>    <span class="comment">/* GARMIN */</span></div>
<div class="line"><span class="lineno">  857</span>    {</div>
<div class="line"><span class="lineno">  858</span>        .vendor     = 0x091e,</div>
<div class="line"><span class="lineno">  859</span>        .product    = 0x0004,</div>
<div class="line"><span class="lineno">  860</span>        .idstr      = <span class="stringliteral">&quot;IQUE 3600&quot;</span>,</div>
<div class="line"><span class="lineno">  861</span>    },</div>
<div class="line"><span class="lineno">  862</span> </div>
<div class="line"><span class="lineno">  863</span>    <span class="comment">/* Kyocera */</span></div>
<div class="line"><span class="lineno">  864</span>    {</div>
<div class="line"><span class="lineno">  865</span>        .vendor     = 0x0c88,</div>
<div class="line"><span class="lineno">  866</span>        .product    = 0x0021,</div>
<div class="line"><span class="lineno">  867</span>        .idstr      = <span class="stringliteral">&quot;7135 Smartphone&quot;</span>,</div>
<div class="line"><span class="lineno">  868</span>    },</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>    {</div>
<div class="line"><span class="lineno">  871</span>        .vendor     = 0x0c88,</div>
<div class="line"><span class="lineno">  872</span>        .product    = 0xa226,</div>
<div class="line"><span class="lineno">  873</span>        .idstr      = <span class="stringliteral">&quot;6035 Smartphone&quot;</span>,</div>
<div class="line"><span class="lineno">  874</span>    },</div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span>    <span class="comment">/* Tapwave */</span></div>
<div class="line"><span class="lineno">  877</span>    {</div>
<div class="line"><span class="lineno">  878</span>        .vendor     = 0x12ef,</div>
<div class="line"><span class="lineno">  879</span>        .product    = 0x0100,</div>
<div class="line"><span class="lineno">  880</span>        .idstr      = <span class="stringliteral">&quot;Zodiac, Zodiac2&quot;</span>,</div>
<div class="line"><span class="lineno">  881</span>        .flags      = USB_INIT_TAPWAVE,</div>
<div class="line"><span class="lineno">  882</span>    },</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>    <span class="comment">/* ACEECA */</span></div>
<div class="line"><span class="lineno">  885</span>    {</div>
<div class="line"><span class="lineno">  886</span>        .vendor     = 0x4766,</div>
<div class="line"><span class="lineno">  887</span>        .product    = 0x0001,</div>
<div class="line"><span class="lineno">  888</span>        .idstr      = <span class="stringliteral">&quot;MEZ1000&quot;</span>,</div>
<div class="line"><span class="lineno">  889</span>    },</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>    <span class="comment">/* Samsung */</span></div>
<div class="line"><span class="lineno">  892</span>    {</div>
<div class="line"><span class="lineno">  893</span>        .vendor     = 0x04e8,</div>
<div class="line"><span class="lineno">  894</span>        .product    = 0x8001,</div>
<div class="line"><span class="lineno">  895</span>        .idstr      = <span class="stringliteral">&quot;i330&quot;</span>,</div>
<div class="line"><span class="lineno">  896</span>    },</div>
<div class="line"><span class="lineno">  897</span>};</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00900">USB_check_device()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ef3825c9845ea6880aaea633307886b2.html">libpisock</a></li><li class="navelem"><a class="el" href="usb_8c.html">usb.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
