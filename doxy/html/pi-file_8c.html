<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: libpisock/pi-file.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('pi-file_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pi-file.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;pi-debug.h&quot;</code><br />
<code>#include &quot;pi-source.h&quot;</code><br />
<code>#include &quot;pi-file.h&quot;</code><br />
<code>#include &quot;pi-error.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pi-file.c:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c__incl.png" border="0" usemap="#alibpisock_2pi-file_8c" alt=""/></div>
<map name="alibpisock_2pi-file_8c" id="alibpisock_2pi-file_8c">
<area shape="rect" title=" " alt="" coords="404,5,523,31"/>
<area shape="rect" title=" " alt="" coords="5,79,66,105"/>
<area shape="poly" title=" " alt="" coords="405,29,261,49,81,81,80,76,260,44,404,24"/>
<area shape="rect" title=" " alt="" coords="89,79,152,105"/>
<area shape="poly" title=" " alt="" coords="404,33,168,81,167,76,403,28"/>
<area shape="rect" title=" " alt="" coords="177,79,241,105"/>
<area shape="poly" title=" " alt="" coords="421,34,256,80,255,75,420,29"/>
<area shape="rect" title=" " alt="" coords="265,79,344,105"/>
<area shape="poly" title=" " alt="" coords="438,34,347,75,344,70,435,29"/>
<area shape="rect" title=" " alt="" coords="368,79,458,105"/>
<area shape="poly" title=" " alt="" coords="457,33,432,68,428,65,453,30"/>
<area shape="rect" title=" " alt="" coords="482,79,549,105"/>
<area shape="poly" title=" " alt="" coords="474,30,500,65,496,68,470,33"/>
<area shape="rect" title=" " alt="" coords="574,79,655,105"/>
<area shape="poly" title=" " alt="" coords="490,29,576,70,574,74,488,34"/>
<area shape="rect" title=" " alt="" coords="680,79,765,105"/>
<area shape="poly" title=" " alt="" coords="508,29,665,72,664,77,507,34"/>
<area shape="rect" title=" " alt="" coords="789,79,852,105"/>
<area shape="poly" title=" " alt="" coords="524,27,775,76,774,81,523,32"/>
<area shape="rect" title=" " alt="" coords="877,79,948,105"/>
<area shape="poly" title=" " alt="" coords="524,24,673,44,862,76,862,81,673,50,523,29"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:abaaa1b2ec997861b74b1f0573929c630" id="r_abaaa1b2ec997861b74b1f0573929c630"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abaaa1b2ec997861b74b1f0573929c630">PI_HDR_SIZE</a>&#160;&#160;&#160;78</td></tr>
<tr class="separator:abaaa1b2ec997861b74b1f0573929c630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f4cab6c835364ae1eefcce920b32f6" id="r_a56f4cab6c835364ae1eefcce920b32f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56f4cab6c835364ae1eefcce920b32f6">pi_mktag</a>(c1,  c2,  c3,  c4)&#160;&#160;&#160;(((c1)&lt;&lt;24)|((c2)&lt;&lt;16)|((c3)&lt;&lt;8)|(c4))</td></tr>
<tr class="separator:a56f4cab6c835364ae1eefcce920b32f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6eb338e2ca63ba9fcc6081c792b03b3" id="r_aa6eb338e2ca63ba9fcc6081c792b03b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6eb338e2ca63ba9fcc6081c792b03b3">PI_RECORD_ENT_SIZE</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:aa6eb338e2ca63ba9fcc6081c792b03b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb72315a3070c6adfbaa60bcb8f28d00" id="r_afb72315a3070c6adfbaa60bcb8f28d00"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb72315a3070c6adfbaa60bcb8f28d00">PI_RESOURCE_ENT_SIZE</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:afb72315a3070c6adfbaa60bcb8f28d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1bddf78f2f2c12aa47b8de64516f928" id="r_ad1bddf78f2f2c12aa47b8de64516f928"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1bddf78f2f2c12aa47b8de64516f928">PILOT_TIME_DELTA</a>&#160;&#160;&#160;(unsigned)(2082844800)</td></tr>
<tr class="separator:ad1bddf78f2f2c12aa47b8de64516f928"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7291b49febdc78bb21a4cc9483a9923e" id="r_a7291b49febdc78bb21a4cc9483a9923e"><td class="memItemLeft" align="right" valign="top">static pi_file_entry_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7291b49febdc78bb21a4cc9483a9923e">pi_file_append_entry</a> (pi_file_t *pf)</td></tr>
<tr class="separator:a7291b49febdc78bb21a4cc9483a9923e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13af628fb02eb3f6238e58c14e5cdc3b" id="r_a13af628fb02eb3f6238e58c14e5cdc3b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13af628fb02eb3f6238e58c14e5cdc3b">pi_file_append_record</a> (pi_file_t *pf, void *data, size_t <a class="el" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, int recattrs, int category, recordid_t recuid)</td></tr>
<tr class="separator:a13af628fb02eb3f6238e58c14e5cdc3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad583ac4501b59a412cf22e5d36b2f55d" id="r_ad583ac4501b59a412cf22e5d36b2f55d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad583ac4501b59a412cf22e5d36b2f55d">pi_file_append_resource</a> (pi_file_t *pf, void *data, size_t <a class="el" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, unsigned long restype, int resid)</td></tr>
<tr class="separator:ad583ac4501b59a412cf22e5d36b2f55d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917a7629f465050a293350e2e63f2272" id="r_a917a7629f465050a293350e2e63f2272"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a917a7629f465050a293350e2e63f2272">pi_file_close</a> (pi_file_t *pf)</td></tr>
<tr class="separator:a917a7629f465050a293350e2e63f2272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85c52c17928a7cb3dd4829ea6373fc8" id="r_aa85c52c17928a7cb3dd4829ea6373fc8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa85c52c17928a7cb3dd4829ea6373fc8">pi_file_close_for_write</a> (pi_file_t *pf)</td></tr>
<tr class="separator:aa85c52c17928a7cb3dd4829ea6373fc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8afc8069739c8a7de6e2446224e5606e" id="r_a8afc8069739c8a7de6e2446224e5606e"><td class="memItemLeft" align="right" valign="top">pi_file_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8afc8069739c8a7de6e2446224e5606e">pi_file_create</a> (const char *<a class="el" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, const struct DBInfo *info)</td></tr>
<tr class="separator:a8afc8069739c8a7de6e2446224e5606e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2d391cae42e7ed33bef52807e05ef3" id="r_aee2d391cae42e7ed33bef52807e05ef3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee2d391cae42e7ed33bef52807e05ef3">pi_file_find_resource_by_type_id</a> (const pi_file_t *pf, unsigned long restype, int resid, int *resindex)</td></tr>
<tr class="separator:aee2d391cae42e7ed33bef52807e05ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d48ce60b0eb3b173c93b7902c670a7" id="r_a08d48ce60b0eb3b173c93b7902c670a7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08d48ce60b0eb3b173c93b7902c670a7">pi_file_free</a> (pi_file_t *pf)</td></tr>
<tr class="separator:a08d48ce60b0eb3b173c93b7902c670a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a1101a452ad0cf683effedda7a879ca" id="r_a7a1101a452ad0cf683effedda7a879ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a1101a452ad0cf683effedda7a879ca">pi_file_get_app_info</a> (pi_file_t *pf, void **datap, size_t *sizep)</td></tr>
<tr class="separator:a7a1101a452ad0cf683effedda7a879ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111c55b4371d74c320962afa0fea731b" id="r_a111c55b4371d74c320962afa0fea731b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a111c55b4371d74c320962afa0fea731b">pi_file_get_entries</a> (pi_file_t *pf, int *entries)</td></tr>
<tr class="separator:a111c55b4371d74c320962afa0fea731b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5620f73e8c0b55dae6a68e098070e2d8" id="r_a5620f73e8c0b55dae6a68e098070e2d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5620f73e8c0b55dae6a68e098070e2d8">pi_file_get_info</a> (const pi_file_t *pf, struct DBInfo *infop)</td></tr>
<tr class="separator:a5620f73e8c0b55dae6a68e098070e2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36245b7843a120297984e99d3b0d4e84" id="r_a36245b7843a120297984e99d3b0d4e84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36245b7843a120297984e99d3b0d4e84">pi_file_get_sort_info</a> (pi_file_t *pf, void **datap, size_t *sizep)</td></tr>
<tr class="separator:a36245b7843a120297984e99d3b0d4e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f926acd26ad664e0f2b06b2ab5edec5" id="r_a2f926acd26ad664e0f2b06b2ab5edec5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f926acd26ad664e0f2b06b2ab5edec5">pi_file_id_used</a> (const pi_file_t *pf, recordid_t uid)</td></tr>
<tr class="separator:a2f926acd26ad664e0f2b06b2ab5edec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1bd10e17e43080aab539bafd44bf9f" id="r_a2b1bd10e17e43080aab539bafd44bf9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b1bd10e17e43080aab539bafd44bf9f">pi_file_install</a> (pi_file_t *pf, int socket, int cardno, progress_func report_progress)</td></tr>
<tr class="separator:a2b1bd10e17e43080aab539bafd44bf9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98cc34b189094419f679b3860e0c8ec3" id="r_a98cc34b189094419f679b3860e0c8ec3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98cc34b189094419f679b3860e0c8ec3">pi_file_merge</a> (pi_file_t *pf, int socket, int cardno, progress_func report_progress)</td></tr>
<tr class="separator:a98cc34b189094419f679b3860e0c8ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac653337883ed6afb08f14a7816c439d3" id="r_ac653337883ed6afb08f14a7816c439d3"><td class="memItemLeft" align="right" valign="top">pi_file_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac653337883ed6afb08f14a7816c439d3">pi_file_open</a> (const char *<a class="el" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)</td></tr>
<tr class="separator:ac653337883ed6afb08f14a7816c439d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1228cfb3af65abf3eaf90c5eb9260ad" id="r_ab1228cfb3af65abf3eaf90c5eb9260ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1228cfb3af65abf3eaf90c5eb9260ad">pi_file_read_record</a> (pi_file_t *pf, int recindex, void **bufp, size_t *sizep, int *recattrs, int *category, recordid_t *recuid)</td></tr>
<tr class="separator:ab1228cfb3af65abf3eaf90c5eb9260ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ed3e43b193fe55597d4362eccd961f" id="r_a00ed3e43b193fe55597d4362eccd961f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00ed3e43b193fe55597d4362eccd961f">pi_file_read_record_by_id</a> (pi_file_t *pf, recordid_t uid, void **bufp, size_t *sizep, int *idxp, int *attrp, int *catp)</td></tr>
<tr class="separator:a00ed3e43b193fe55597d4362eccd961f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f6d17f2f6043fddce5f6fc4eabc646c" id="r_a9f6d17f2f6043fddce5f6fc4eabc646c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f6d17f2f6043fddce5f6fc4eabc646c">pi_file_read_resource</a> (pi_file_t *pf, int i, void **bufp, size_t *sizep, unsigned long *type, int *idp)</td></tr>
<tr class="separator:a9f6d17f2f6043fddce5f6fc4eabc646c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab7f7120e1a05e9625f619c94cee900" id="r_a0ab7f7120e1a05e9625f619c94cee900"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ab7f7120e1a05e9625f619c94cee900">pi_file_read_resource_by_type_id</a> (pi_file_t *pf, unsigned long restype, int resid, void **bufp, size_t *sizep, int *resindex)</td></tr>
<tr class="separator:a0ab7f7120e1a05e9625f619c94cee900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197024e7749af84e776eb5b98932bb17" id="r_a197024e7749af84e776eb5b98932bb17"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a197024e7749af84e776eb5b98932bb17">pi_file_retrieve</a> (pi_file_t *pf, int socket, int cardno, progress_func report_progress)</td></tr>
<tr class="separator:a197024e7749af84e776eb5b98932bb17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d062291f9e9c2f88b76674231e10f0e" id="r_a4d062291f9e9c2f88b76674231e10f0e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d062291f9e9c2f88b76674231e10f0e">pi_file_set_app_info</a> (pi_file_t *pf, void *data, size_t <a class="el" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr class="separator:a4d062291f9e9c2f88b76674231e10f0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52ff1b8f68cdf629dc0b1051cbfb0ab" id="r_ae52ff1b8f68cdf629dc0b1051cbfb0ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae52ff1b8f68cdf629dc0b1051cbfb0ab">pi_file_set_info</a> (pi_file_t *pf, const struct DBInfo *ip)</td></tr>
<tr class="separator:ae52ff1b8f68cdf629dc0b1051cbfb0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae61f7cf14c3c66627059dd6a2c285554" id="r_ae61f7cf14c3c66627059dd6a2c285554"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae61f7cf14c3c66627059dd6a2c285554">pi_file_set_rbuf_size</a> (pi_file_t *pf, size_t <a class="el" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr class="separator:ae61f7cf14c3c66627059dd6a2c285554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0222d3b196c9e29d1e1f9b35d09b1f6" id="r_ad0222d3b196c9e29d1e1f9b35d09b1f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0222d3b196c9e29d1e1f9b35d09b1f6">pi_file_set_sort_info</a> (pi_file_t *pf, void *data, size_t <a class="el" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)</td></tr>
<tr class="separator:ad0222d3b196c9e29d1e1f9b35d09b1f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ceb74345d19b60cb15bcc3636b92b4" id="r_af6ceb74345d19b60cb15bcc3636b92b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6ceb74345d19b60cb15bcc3636b92b4">pi_file_type_id_used</a> (const pi_file_t *pf, unsigned long restype, int resid)</td></tr>
<tr class="separator:af6ceb74345d19b60cb15bcc3636b92b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525c887a4341a2229e82bede810318d0" id="r_a525c887a4341a2229e82bede810318d0"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a525c887a4341a2229e82bede810318d0">pilot_time_to_unix_time</a> (unsigned long raw_time)</td></tr>
<tr class="separator:a525c887a4341a2229e82bede810318d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8ab2a876d4c9ca6049f5dea0d44f033" id="r_aa8ab2a876d4c9ca6049f5dea0d44f033"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8ab2a876d4c9ca6049f5dea0d44f033">unix_time_to_pilot_time</a> (time_t t)</td></tr>
<tr class="separator:aa8ab2a876d4c9ca6049f5dea0d44f033"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="abaaa1b2ec997861b74b1f0573929c630" name="abaaa1b2ec997861b74b1f0573929c630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaaa1b2ec997861b74b1f0573929c630">&#9670;&#160;</a></span>PI_HDR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PI_HDR_SIZE&#160;&#160;&#160;78</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l01271">pi_file_close_for_write()</a>, <a class="el" href="#l00853">pi_file_install()</a>, <a class="el" href="#l01109">pi_file_merge()</a>, and <a class="el" href="#l00143">pi_file_open()</a>.</p>

</div>
</div>
<a id="a56f4cab6c835364ae1eefcce920b32f6" name="a56f4cab6c835364ae1eefcce920b32f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f4cab6c835364ae1eefcce920b32f6">&#9670;&#160;</a></span>pi_mktag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pi_mktag</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c3</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c4</em></span>&#160;)&#160;&#160;&#160;(((c1)&lt;&lt;24)|((c2)&lt;&lt;16)|((c3)&lt;&lt;8)|(c4))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00853">pi_file_install()</a>, and <a class="el" href="#l01109">pi_file_merge()</a>.</p>

</div>
</div>
<a id="aa6eb338e2ca63ba9fcc6081c792b03b3" name="aa6eb338e2ca63ba9fcc6081c792b03b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6eb338e2ca63ba9fcc6081c792b03b3">&#9670;&#160;</a></span>PI_RECORD_ENT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PI_RECORD_ENT_SIZE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00523">pi_file_create()</a>, and <a class="el" href="#l00143">pi_file_open()</a>.</p>

</div>
</div>
<a id="afb72315a3070c6adfbaa60bcb8f28d00" name="afb72315a3070c6adfbaa60bcb8f28d00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb72315a3070c6adfbaa60bcb8f28d00">&#9670;&#160;</a></span>PI_RESOURCE_ENT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PI_RESOURCE_ENT_SIZE&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00523">pi_file_create()</a>, and <a class="el" href="#l00143">pi_file_open()</a>.</p>

</div>
</div>
<a id="ad1bddf78f2f2c12aa47b8de64516f928" name="ad1bddf78f2f2c12aa47b8de64516f928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1bddf78f2f2c12aa47b8de64516f928">&#9670;&#160;</a></span>PILOT_TIME_DELTA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PILOT_TIME_DELTA&#160;&#160;&#160;(unsigned)(2082844800)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00131">pilot_time_to_unix_time()</a>, and <a class="el" href="#l00137">unix_time_to_pilot_time()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7291b49febdc78bb21a4cc9483a9923e" name="a7291b49febdc78bb21a4cc9483a9923e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7291b49febdc78bb21a4cc9483a9923e">&#9670;&#160;</a></span>pi_file_append_entry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pi_file_entry_t * pi_file_append_entry </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1474</span>{</div>
<div class="line"><span class="lineno"> 1475</span>    <span class="keywordtype">int</span>     new_count;</div>
<div class="line"><span class="lineno"> 1476</span>    <span class="keywordtype">size_t</span>  new_size;</div>
<div class="line"><span class="lineno"> 1477</span>    <span class="keyword">struct  </span>pi_file_entry *new_entries;</div>
<div class="line"><span class="lineno"> 1478</span>    <span class="keyword">struct  </span>pi_file_entry *entp;</div>
<div class="line"><span class="lineno"> 1479</span> </div>
<div class="line"><span class="lineno"> 1480</span>    <span class="keywordflow">if</span> (pf-&gt;num_entries &gt;= pf-&gt;num_entries_allocated) {</div>
<div class="line"><span class="lineno"> 1481</span>        <span class="keywordflow">if</span> (pf-&gt;num_entries_allocated == 0)</div>
<div class="line"><span class="lineno"> 1482</span>            new_count = 100;</div>
<div class="line"><span class="lineno"> 1483</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1484</span>            new_count = pf-&gt;num_entries_allocated * 3 / 2;</div>
<div class="line"><span class="lineno"> 1485</span>        new_size = new_count * <span class="keyword">sizeof</span> *pf-&gt;entries;</div>
<div class="line"><span class="lineno"> 1486</span> </div>
<div class="line"><span class="lineno"> 1487</span>        <span class="keywordflow">if</span> (pf-&gt;entries == NULL)</div>
<div class="line"><span class="lineno"> 1488</span>            new_entries = malloc(new_size);</div>
<div class="line"><span class="lineno"> 1489</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1490</span>            new_entries = realloc(pf-&gt;entries, new_size);</div>
<div class="line"><span class="lineno"> 1491</span> </div>
<div class="line"><span class="lineno"> 1492</span>        <span class="keywordflow">if</span> (new_entries == NULL)</div>
<div class="line"><span class="lineno"> 1493</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1494</span> </div>
<div class="line"><span class="lineno"> 1495</span>        pf-&gt;num_entries_allocated = new_count;</div>
<div class="line"><span class="lineno"> 1496</span>        pf-&gt;entries = new_entries;</div>
<div class="line"><span class="lineno"> 1497</span>    }</div>
<div class="line"><span class="lineno"> 1498</span> </div>
<div class="line"><span class="lineno"> 1499</span>    entp = &amp;pf-&gt;entries[pf-&gt;num_entries++];</div>
<div class="line"><span class="lineno"> 1500</span>    memset(entp, 0, <span class="keyword">sizeof</span> *entp);</div>
<div class="line"><span class="lineno"> 1501</span>    <span class="keywordflow">return</span> entp;</div>
<div class="line"><span class="lineno"> 1502</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00650">pi_file_append_record()</a>, and <a class="el" href="#l00623">pi_file_append_resource()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a7291b49febdc78bb21a4cc9483a9923e_icgraph.png" border="0" usemap="#api-file_8c_a7291b49febdc78bb21a4cc9483a9923e_icgraph" alt=""/></div>
<map name="api-file_8c_a7291b49febdc78bb21a4cc9483a9923e_icgraph" id="api-file_8c_a7291b49febdc78bb21a4cc9483a9923e_icgraph">
<area shape="rect" title=" " alt="" coords="807,80,947,106"/>
<area shape="rect" href="pi-file_8c.html#a13af628fb02eb3f6238e58c14e5cdc3b" title=" " alt="" coords="605,55,752,80"/>
<area shape="poly" title=" " alt="" coords="791,85,752,80,753,74,792,79"/>
<area shape="rect" href="pi-file_8c.html#ad583ac4501b59a412cf22e5d36b2f55d" title=" " alt="" coords="598,104,759,130"/>
<area shape="poly" title=" " alt="" coords="792,106,760,110,759,104,791,100"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="459,31,535,56"/>
<area shape="poly" title=" " alt="" coords="589,58,535,51,536,46,590,53"/>
<area shape="rect" href="pi-file_8c.html#a197024e7749af84e776eb5b98932bb17" title=" " alt="" coords="444,104,550,130"/>
<area shape="poly" title=" " alt="" coords="614,88,548,106,546,101,613,82"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="298,5,347,31"/>
<area shape="poly" title=" " alt="" coords="443,38,348,24,348,19,444,33"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="249,55,396,80"/>
<area shape="poly" title=" " alt="" coords="433,102,370,84,372,78,435,97"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="262,104,383,130"/>
<area shape="poly" title=" " alt="" coords="429,120,384,120,384,114,429,114"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,155,201,180"/>
<area shape="poly" title=" " alt="" coords="435,137,397,145,293,159,202,167,201,162,292,154,396,140,434,131"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="256,205,390,231"/>
<area shape="poly" title=" " alt="" coords="468,142,398,188,359,207,357,202,395,184,465,137"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,104,176,130"/>
<area shape="poly" title=" " alt="" coords="247,120,177,120,177,114,247,114"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,180,55,206"/>
<area shape="poly" title=" " alt="" coords="88,184,56,190,54,185,87,178"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,204,194,230"/>
<area shape="poly" title=" " alt="" coords="240,220,195,220,195,214,240,215"/>
<area shape="poly" title=" " alt="" coords="94,208,55,200,56,195,95,203"/>
<area shape="poly" title=" " alt="" coords="582,120,550,120,550,114,582,114"/>
</map>
</div>

</div>
</div>
<a id="a13af628fb02eb3f6238e58c14e5cdc3b" name="a13af628fb02eb3f6238e58c14e5cdc3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13af628fb02eb3f6238e58c14e5cdc3b">&#9670;&#160;</a></span>pi_file_append_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_append_record </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>recattrs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>category</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">recordid_t</td>          <td class="paramname"><span class="paramname"><em>recuid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  652</span>{</div>
<div class="line"><span class="lineno">  653</span>    pi_file_entry_t *entp;</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">if</span> (!pf-&gt;for_writing || pf-&gt;resource_flag)</div>
<div class="line"><span class="lineno">  656</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a49baf93be5c26dff75cb9e6eb96b31ef">PI_ERR_FILE_INVALID</a>;</div>
<div class="line"><span class="lineno">  657</span>    <span class="keywordflow">if</span> (recuid &amp;&amp; <a class="code hl_function" href="#a2f926acd26ad664e0f2b06b2ab5edec5">pi_file_id_used</a>(pf, recuid))</div>
<div class="line"><span class="lineno">  658</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a85f2dbf55819452f01aaf15c9143c364">PI_ERR_FILE_ALREADY_EXISTS</a>;</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    entp = <a class="code hl_function" href="#a7291b49febdc78bb21a4cc9483a9923e">pi_file_append_entry</a>(pf);</div>
<div class="line"><span class="lineno">  661</span>    <span class="keywordflow">if</span> (entp == NULL)</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a0c740877bdcf47ecca66ecd6b6352651">PI_ERR_GENERIC_MEMORY</a>;</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> &amp;&amp; <a class="code hl_function" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4">pi_buffer_append</a>(pf-&gt;tmpbuf, data, <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>) == NULL) {</div>
<div class="line"><span class="lineno">  665</span>        pf-&gt;err = 1;</div>
<div class="line"><span class="lineno">  666</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a0c740877bdcf47ecca66ecd6b6352651">PI_ERR_GENERIC_MEMORY</a>;</div>
<div class="line"><span class="lineno">  667</span>    }</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    entp-&gt;size  = <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  670</span>    entp-&gt;attrs     = (recattrs &amp; 0xf0) | (category &amp; 0xf);</div>
<div class="line"><span class="lineno">  671</span>    entp-&gt;uid   = recuid;</div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  674</span>}</div>
<div class="ttc" id="anamespacepisock_html_a0c740877bdcf47ecca66ecd6b6352651"><div class="ttname"><a href="namespacepisock.html#a0c740877bdcf47ecca66ecd6b6352651">pisock.PI_ERR_GENERIC_MEMORY</a></div><div class="ttdeci">PI_ERR_GENERIC_MEMORY</div><div class="ttdef"><b>Definition</b> pisock.py:63</div></div>
<div class="ttc" id="anamespacepisock_html_a49baf93be5c26dff75cb9e6eb96b31ef"><div class="ttname"><a href="namespacepisock.html#a49baf93be5c26dff75cb9e6eb96b31ef">pisock.PI_ERR_FILE_INVALID</a></div><div class="ttdeci">PI_ERR_FILE_INVALID</div><div class="ttdef"><b>Definition</b> pisock.py:58</div></div>
<div class="ttc" id="anamespacepisock_html_a85f2dbf55819452f01aaf15c9143c364"><div class="ttname"><a href="namespacepisock.html#a85f2dbf55819452f01aaf15c9143c364">pisock.PI_ERR_FILE_ALREADY_EXISTS</a></div><div class="ttdeci">PI_ERR_FILE_ALREADY_EXISTS</div><div class="ttdef"><b>Definition</b> pisock.py:62</div></div>
<div class="ttc" id="api-buffer_8c_html_aed67e3ff08313fa288837c0d685adaa4"><div class="ttname"><a href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4">pi_buffer_append</a></div><div class="ttdeci">pi_buffer_t * pi_buffer_append(pi_buffer_t *buf, const void *data, size_t len)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:74</div></div>
<div class="ttc" id="api-file_8c_html_a2f926acd26ad664e0f2b06b2ab5edec5"><div class="ttname"><a href="#a2f926acd26ad664e0f2b06b2ab5edec5">pi_file_id_used</a></div><div class="ttdeci">int pi_file_id_used(const pi_file_t *pf, recordid_t uid)</div><div class="ttdef"><b>Definition</b> pi-file.c:510</div></div>
<div class="ttc" id="api-file_8c_html_a7291b49febdc78bb21a4cc9483a9923e"><div class="ttname"><a href="#a7291b49febdc78bb21a4cc9483a9923e">pi_file_append_entry</a></div><div class="ttdeci">static pi_file_entry_t * pi_file_append_entry(pi_file_t *pf)</div><div class="ttdef"><b>Definition</b> pi-file.c:1473</div></div>
<div class="ttc" id="avalidate_8cc_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> validate.cc:81</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00074">pi_buffer_append()</a>, <a class="el" href="#l01473">pi_file_append_entry()</a>, <a class="el" href="#l00510">pi_file_id_used()</a>, and <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00538">do_install()</a>, and <a class="el" href="#l00683">pi_file_retrieve()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a13af628fb02eb3f6238e58c14e5cdc3b_cgraph.png" border="0" usemap="#api-file_8c_a13af628fb02eb3f6238e58c14e5cdc3b_cgraph" alt=""/></div>
<map name="api-file_8c_a13af628fb02eb3f6238e58c14e5cdc3b_cgraph" id="api-file_8c_a13af628fb02eb3f6238e58c14e5cdc3b_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,153,80"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="211,5,331,31"/>
<area shape="poly" title=" " alt="" coords="131,51,203,33,204,38,133,57"/>
<area shape="rect" href="pi-file_8c.html#a7291b49febdc78bb21a4cc9483a9923e" title=" " alt="" coords="201,55,341,80"/>
<area shape="poly" title=" " alt="" coords="153,65,185,65,185,70,153,70"/>
<area shape="rect" href="pi-file_8c.html#a2f926acd26ad664e0f2b06b2ab5edec5" title=" " alt="" coords="217,104,324,130"/>
<area shape="poly" title=" " alt="" coords="133,78,204,97,203,102,131,84"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="389,5,506,31"/>
<area shape="poly" title=" " alt="" coords="332,16,374,16,374,21,332,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a13af628fb02eb3f6238e58c14e5cdc3b_icgraph.png" border="0" usemap="#api-file_8c_a13af628fb02eb3f6238e58c14e5cdc3b_icgraph" alt=""/></div>
<map name="api-file_8c_a13af628fb02eb3f6238e58c14e5cdc3b_icgraph" id="api-file_8c_a13af628fb02eb3f6238e58c14e5cdc3b_icgraph">
<area shape="rect" title=" " alt="" coords="598,80,745,106"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="459,31,535,56"/>
<area shape="poly" title=" " alt="" coords="608,78,535,57,536,52,609,73"/>
<area shape="rect" href="pi-file_8c.html#a197024e7749af84e776eb5b98932bb17" title=" " alt="" coords="444,104,550,130"/>
<area shape="poly" title=" " alt="" coords="583,108,550,112,550,107,582,102"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="298,5,347,31"/>
<area shape="poly" title=" " alt="" coords="443,38,348,24,348,19,444,33"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="249,55,396,80"/>
<area shape="poly" title=" " alt="" coords="433,102,370,84,372,78,435,97"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="262,104,383,130"/>
<area shape="poly" title=" " alt="" coords="429,120,384,120,384,114,429,114"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,155,201,180"/>
<area shape="poly" title=" " alt="" coords="435,137,397,145,293,159,202,167,201,162,292,154,396,140,434,131"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="256,205,390,231"/>
<area shape="poly" title=" " alt="" coords="468,142,398,188,359,207,357,202,395,184,465,137"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,104,176,130"/>
<area shape="poly" title=" " alt="" coords="247,120,177,120,177,114,247,114"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,180,55,206"/>
<area shape="poly" title=" " alt="" coords="88,184,56,190,54,185,87,178"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,204,194,230"/>
<area shape="poly" title=" " alt="" coords="240,220,195,220,195,214,240,215"/>
<area shape="poly" title=" " alt="" coords="94,208,55,200,56,195,95,203"/>
</map>
</div>

</div>
</div>
<a id="ad583ac4501b59a412cf22e5d36b2f55d" name="ad583ac4501b59a412cf22e5d36b2f55d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad583ac4501b59a412cf22e5d36b2f55d">&#9670;&#160;</a></span>pi_file_append_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_append_resource </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>restype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>resid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  625</span>{</div>
<div class="line"><span class="lineno">  626</span>    pi_file_entry_t *entp;</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    <span class="keywordflow">if</span> (!pf-&gt;for_writing || !pf-&gt;resource_flag)</div>
<div class="line"><span class="lineno">  629</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a49baf93be5c26dff75cb9e6eb96b31ef">PI_ERR_FILE_INVALID</a>;</div>
<div class="line"><span class="lineno">  630</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#af6ceb74345d19b60cb15bcc3636b92b4">pi_file_type_id_used</a>(pf, restype, resid))</div>
<div class="line"><span class="lineno">  631</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a85f2dbf55819452f01aaf15c9143c364">PI_ERR_FILE_ALREADY_EXISTS</a>;</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>    entp = <a class="code hl_function" href="#a7291b49febdc78bb21a4cc9483a9923e">pi_file_append_entry</a>(pf);</div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordflow">if</span> (entp == NULL)</div>
<div class="line"><span class="lineno">  635</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a0c740877bdcf47ecca66ecd6b6352651">PI_ERR_GENERIC_MEMORY</a>;</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> &amp;&amp; <a class="code hl_function" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4">pi_buffer_append</a>(pf-&gt;tmpbuf, data, <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>) == NULL) {</div>
<div class="line"><span class="lineno">  638</span>        pf-&gt;err = 1;</div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a0c740877bdcf47ecca66ecd6b6352651">PI_ERR_GENERIC_MEMORY</a>;</div>
<div class="line"><span class="lineno">  640</span>    }</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>    entp-&gt;size  = <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  643</span>    entp-&gt;type  = restype;</div>
<div class="line"><span class="lineno">  644</span>    entp-&gt;resource_id   = resid;</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  647</span>}</div>
<div class="ttc" id="api-file_8c_html_af6ceb74345d19b60cb15bcc3636b92b4"><div class="ttname"><a href="#af6ceb74345d19b60cb15bcc3636b92b4">pi_file_type_id_used</a></div><div class="ttdeci">int pi_file_type_id_used(const pi_file_t *pf, unsigned long restype, int resid)</div><div class="ttdef"><b>Definition</b> pi-file.c:397</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00074">pi_buffer_append()</a>, <a class="el" href="#l01473">pi_file_append_entry()</a>, <a class="el" href="#l00397">pi_file_type_id_used()</a>, and <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00683">pi_file_retrieve()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_ad583ac4501b59a412cf22e5d36b2f55d_cgraph.png" border="0" usemap="#api-file_8c_ad583ac4501b59a412cf22e5d36b2f55d_cgraph" alt=""/></div>
<map name="api-file_8c_ad583ac4501b59a412cf22e5d36b2f55d_cgraph" id="api-file_8c_ad583ac4501b59a412cf22e5d36b2f55d_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,167,80"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="225,5,345,31"/>
<area shape="poly" title=" " alt="" coords="140,51,215,33,216,38,142,57"/>
<area shape="rect" href="pi-file_8c.html#a7291b49febdc78bb21a4cc9483a9923e" title=" " alt="" coords="215,55,355,80"/>
<area shape="poly" title=" " alt="" coords="167,65,199,65,199,70,167,70"/>
<area shape="rect" href="pi-file_8c.html#af6ceb74345d19b60cb15bcc3636b92b4" title=" " alt="" coords="215,104,354,130"/>
<area shape="poly" title=" " alt="" coords="142,78,216,97,215,102,140,84"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="414,5,532,31"/>
<area shape="poly" title=" " alt="" coords="345,16,399,16,399,21,345,21"/>
<area shape="rect" href="pi-file_8c.html#aee2d391cae42e7ed33bef52807e05ef3" title=" " alt="" coords="403,96,543,137"/>
<area shape="poly" title=" " alt="" coords="355,114,388,114,388,120,355,120"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_ad583ac4501b59a412cf22e5d36b2f55d_icgraph.png" border="0" usemap="#api-file_8c_ad583ac4501b59a412cf22e5d36b2f55d_icgraph" alt=""/></div>
<map name="api-file_8c_ad583ac4501b59a412cf22e5d36b2f55d_icgraph" id="api-file_8c_ad583ac4501b59a412cf22e5d36b2f55d_icgraph">
<area shape="rect" title=" " alt="" coords="598,80,759,106"/>
<area shape="rect" href="pi-file_8c.html#a197024e7749af84e776eb5b98932bb17" title=" " alt="" coords="444,80,550,106"/>
<area shape="poly" title=" " alt="" coords="582,96,550,96,550,90,582,90"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="249,5,396,31"/>
<area shape="poly" title=" " alt="" coords="458,75,395,45,367,34,369,29,397,40,460,70"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="262,55,383,80"/>
<area shape="poly" title=" " alt="" coords="428,86,383,79,384,74,429,80"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,105,201,131"/>
<area shape="poly" title=" " alt="" coords="429,100,202,117,201,112,429,95"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="256,156,390,182"/>
<area shape="poly" title=" " alt="" coords="453,115,397,139,355,158,353,153,395,134,450,110"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,55,176,80"/>
<area shape="poly" title=" " alt="" coords="247,70,177,70,177,65,247,65"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,131,55,156"/>
<area shape="poly" title=" " alt="" coords="88,134,56,141,54,136,87,129"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,155,194,180"/>
<area shape="poly" title=" " alt="" coords="240,171,195,170,195,165,240,166"/>
<area shape="poly" title=" " alt="" coords="94,159,55,151,56,146,95,154"/>
</map>
</div>

</div>
</div>
<a id="a917a7629f465050a293350e2e63f2272" name="a917a7629f465050a293350e2e63f2272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917a7629f465050a293350e2e63f2272">&#9670;&#160;</a></span>pi_file_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_close </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  344</span>{</div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordtype">int</span>     err;</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordflow">if</span> (!pf)</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a49baf93be5c26dff75cb9e6eb96b31ef">PI_ERR_FILE_INVALID</a>;</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordflow">if</span> (pf-&gt;for_writing)</div>
<div class="line"><span class="lineno">  351</span>        pf-&gt;err = <a class="code hl_function" href="#aa85c52c17928a7cb3dd4829ea6373fc8">pi_file_close_for_write</a>(pf);</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    err = pf-&gt;err;</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>    <a class="code hl_function" href="#a08d48ce60b0eb3b173c93b7902c670a7">pi_file_free</a>(pf);</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  358</span>}</div>
<div class="ttc" id="api-file_8c_html_a08d48ce60b0eb3b173c93b7902c670a7"><div class="ttname"><a href="#a08d48ce60b0eb3b173c93b7902c670a7">pi_file_free</a></div><div class="ttdeci">static void pi_file_free(pi_file_t *pf)</div><div class="ttdef"><b>Definition</b> pi-file.c:1393</div></div>
<div class="ttc" id="api-file_8c_html_aa85c52c17928a7cb3dd4829ea6373fc8"><div class="ttname"><a href="#aa85c52c17928a7cb3dd4829ea6373fc8">pi_file_close_for_write</a></div><div class="ttdeci">static int pi_file_close_for_write(pi_file_t *pf)</div><div class="ttdef"><b>Definition</b> pi-file.c:1271</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01271">pi_file_close_for_write()</a>, and <a class="el" href="#l01393">pi_file_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l02296">_wrap_pi_file_install()</a>, <a class="el" href="#l02342">_wrap_pi_file_retrieve()</a>, <a class="el" href="#l00538">do_install()</a>, <a class="el" href="#l00104">fetch_remote_file()</a>, <a class="el" href="#l00448">main()</a>, <a class="el" href="#l00443">main()</a>, <a class="el" href="#l00135">main()</a>, <a class="el" href="#l00320">palm_backup()</a>, <a class="el" href="#l00632">palm_fetch_internal()</a>, <a class="el" href="#l01394">palm_install_internal()</a>, <a class="el" href="#l01591">palm_merge()</a>, <a class="el" href="#l00961">palm_restore()</a>, <a class="el" href="#l00316">pdb_to_wav()</a>, and <a class="el" href="#l00143">pi_file_open()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a917a7629f465050a293350e2e63f2272_cgraph.png" border="0" usemap="#api-file_8c_a917a7629f465050a293350e2e63f2272_cgraph" alt=""/></div>
<map name="api-file_8c_a917a7629f465050a293350e2e63f2272_cgraph" id="api-file_8c_a917a7629f465050a293350e2e63f2272_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,99,56"/>
<area shape="rect" href="pi-file_8c.html#aa85c52c17928a7cb3dd4829ea6373fc8" title=" " alt="" coords="147,5,297,31"/>
<area shape="poly" title=" " alt="" coords="99,34,131,29,132,34,99,39"/>
<area shape="rect" href="pi-file_8c.html#a08d48ce60b0eb3b173c93b7902c670a7" title=" " alt="" coords="180,55,264,80"/>
<area shape="poly" title=" " alt="" coords="99,47,165,57,164,62,99,53"/>
<area shape="rect" href="pi-file_8c.html#aa8ab2a876d4c9ca6049f5dea0d44f033" title=" " alt="" coords="345,5,503,31"/>
<area shape="poly" title=" " alt="" coords="298,16,329,16,329,21,298,21"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="374,55,474,80"/>
<area shape="poly" title=" " alt="" coords="265,65,358,65,358,70,265,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a917a7629f465050a293350e2e63f2272_icgraph.png" border="0" usemap="#api-file_8c_a917a7629f465050a293350e2e63f2272_icgraph" alt=""/></div>
<map name="api-file_8c_a917a7629f465050a293350e2e63f2272_icgraph" id="api-file_8c_a917a7629f465050a293350e2e63f2272_icgraph">
<area shape="rect" title=" " alt="" coords="632,333,725,359"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="250,211,388,236"/>
<area shape="poly" title=" " alt="" coords="654,324,622,294,582,269,534,250,483,238,388,227,388,222,484,233,535,245,585,264,625,290,658,320"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="436,55,584,80"/>
<area shape="poly" title=" " alt="" coords="671,319,662,273,646,215,620,155,602,127,582,101,555,83,558,79,585,98,607,123,624,152,651,213,667,271,676,318"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="280,408,357,434"/>
<area shape="poly" title=" " alt="" coords="646,370,617,385,584,398,523,412,461,420,357,424,357,419,460,415,522,407,583,393,614,380,643,365"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="449,5,571,31"/>
<area shape="poly" title=" " alt="" coords="674,318,669,261,655,188,643,149,628,111,607,75,582,44,568,34,571,29,586,40,612,72,632,109,648,147,660,186,674,261,679,318"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="294,105,343,131"/>
<area shape="poly" title=" " alt="" coords="666,319,635,253,612,219,582,190,553,171,521,156,454,135,391,125,344,121,344,116,392,120,455,130,523,151,555,166,585,185,616,215,640,251,671,317"/>
<area shape="rect" href="ccexample_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="294,260,343,286"/>
<area shape="poly" title=" " alt="" coords="644,327,615,311,583,298,516,283,449,276,344,274,344,269,450,271,517,278,584,293,617,306,647,322"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="485,308,535,334"/>
<area shape="poly" title=" " alt="" coords="616,340,535,327,535,322,617,334"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,611,201,636"/>
<area shape="poly" title=" " alt="" coords="677,375,670,421,654,477,627,534,608,559,585,580,539,608,489,628,436,640,382,646,281,645,201,636,202,631,282,640,382,641,435,635,487,623,537,603,582,576,604,555,623,531,649,475,665,420,672,374"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="443,661,577,687"/>
<area shape="poly" title=" " alt="" coords="678,375,672,430,657,501,630,576,610,612,586,644,559,663,556,658,582,640,605,609,625,574,652,499,667,429,673,374"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="249,161,388,187"/>
<area shape="poly" title=" " alt="" coords="661,321,629,274,607,251,582,231,535,208,484,193,434,183,388,178,389,173,435,178,486,188,537,203,585,227,611,247,633,271,665,318"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="272,459,365,484"/>
<area shape="poly" title=" " alt="" coords="657,372,625,401,585,427,528,448,468,462,365,473,365,468,467,457,526,443,582,422,622,397,654,368"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="270,560,367,586"/>
<area shape="poly" title=" " alt="" coords="673,375,662,410,644,451,619,492,585,526,560,542,532,554,473,570,416,577,367,578,367,573,416,572,472,565,530,549,557,537,582,521,615,488,640,448,657,408,668,373"/>
<area shape="rect" href="pilot-wav_8c.html#aa2811f6abf8e3ded01a04d2cb656122e" title=" " alt="" coords="273,509,364,535"/>
<area shape="poly" title=" " alt="" coords="667,374,635,425,612,451,585,472,529,499,470,515,413,523,365,525,364,520,412,517,469,509,528,494,582,468,608,447,630,422,662,372"/>
<area shape="rect" href="pi-file_8c.html#ac653337883ed6afb08f14a7816c439d3" title=" " alt="" coords="465,357,555,383"/>
<area shape="poly" title=" " alt="" coords="617,358,556,366,555,361,616,352"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,359,176,384"/>
<area shape="poly" title=" " alt="" coords="265,408,176,381,178,376,266,403"/>
<area shape="poly" title=" " alt="" coords="449,40,438,45,382,76,339,107,336,103,380,72,435,40,447,35"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,560,55,586"/>
<area shape="poly" title=" " alt="" coords="104,607,54,585,56,581,106,602"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,660,194,686"/>
<area shape="poly" title=" " alt="" coords="427,677,195,676,195,670,427,671"/>
<area shape="poly" title=" " alt="" coords="105,654,101,651,66,618,39,588,43,584,69,615,104,647,108,650"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="107,236,197,262"/>
<area shape="poly" title=" " alt="" coords="262,196,250,201,178,238,175,233,248,196,260,191"/>
<area shape="poly" title=" " alt="" coords="139,276,105,347,63,470,37,561,32,559,58,469,100,345,134,274"/>
<area shape="poly" title=" " alt="" coords="257,470,181,476,141,485,104,499,84,512,67,529,42,561,37,558,63,525,81,508,101,494,140,480,181,471,257,465"/>
<area shape="poly" title=" " alt="" coords="255,576,55,576,55,570,255,570"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,509,176,535"/>
<area shape="poly" title=" " alt="" coords="257,525,177,525,177,520,257,520"/>
<area shape="poly" title=" " alt="" coords="449,358,434,348,416,323,410,298,404,273,386,249,371,239,374,235,390,246,408,271,415,296,421,321,438,344,452,353"/>
<area shape="poly" title=" " alt="" coords="450,389,358,413,356,408,449,383"/>
<area shape="poly" title=" " alt="" coords="449,359,434,348,417,323,409,298,407,273,408,249,409,200,402,176,386,151,366,135,343,126,344,121,369,130,390,147,407,173,414,199,414,249,412,273,414,297,421,320,438,344,452,355"/>
<area shape="poly" title=" " alt="" coords="449,356,435,348,420,336,410,323,401,311,387,299,365,288,343,281,345,276,367,283,390,295,405,307,414,320,423,332,438,344,452,351"/>
<area shape="poly" title=" " alt="" coords="449,359,434,348,420,329,412,310,410,273,407,236,400,218,386,200,372,190,376,185,390,196,405,215,412,235,415,272,418,309,425,326,438,344,452,355"/>
<area shape="poly" title=" " alt="" coords="479,394,438,422,390,449,361,461,359,456,387,444,435,417,476,390"/>
<area shape="poly" title=" " alt="" coords="499,399,458,473,427,514,390,550,369,562,366,557,387,545,423,510,453,470,495,396"/>
<area shape="poly" title=" " alt="" coords="492,397,449,448,421,475,390,499,366,511,364,507,387,495,417,471,445,445,488,394"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="294,359,343,384"/>
<area shape="poly" title=" " alt="" coords="449,373,344,374,344,369,449,368"/>
<area shape="rect" href="pilot-foto_8c.html#a8e9b5c3f2fa776bf17b633b74890bcff" title=" " alt="" coords="276,309,361,335"/>
<area shape="poly" title=" " alt="" coords="449,358,361,335,362,330,450,353"/>
<area shape="poly" title=" " alt="" coords="262,342,178,367,176,362,261,336"/>
</map>
</div>

</div>
</div>
<a id="aa85c52c17928a7cb3dd4829ea6373fc8" name="aa85c52c17928a7cb3dd4829ea6373fc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85c52c17928a7cb3dd4829ea6373fc8">&#9670;&#160;</a></span>pi_file_close_for_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_file_close_for_write </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1272</span>{</div>
<div class="line"><span class="lineno"> 1273</span>    <span class="keywordtype">int</span>     i,</div>
<div class="line"><span class="lineno"> 1274</span>        offset;</div>
<div class="line"><span class="lineno"> 1275</span>    FILE    *f;</div>
<div class="line"><span class="lineno"> 1276</span>    </div>
<div class="line"><span class="lineno"> 1277</span>    <span class="keyword">struct  </span>DBInfo *ip;</div>
<div class="line"><span class="lineno"> 1278</span>    <span class="keyword">struct  </span>pi_file_entry *entp;</div>
<div class="line"><span class="lineno"> 1279</span>    <span class="keyword">struct  </span>stat sbuf;</div>
<div class="line"><span class="lineno"> 1280</span>        </div>
<div class="line"><span class="lineno"> 1281</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[512];</div>
<div class="line"><span class="lineno"> 1282</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno"> 1283</span> </div>
<div class="line"><span class="lineno"> 1284</span>    ip = &amp;pf-&gt;info;</div>
<div class="line"><span class="lineno"> 1285</span>    <span class="keywordflow">if</span> (pf-&gt;num_entries &gt;= 64 * 1024) {</div>
<div class="line"><span class="lineno"> 1286</span>        LOG((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno"> 1287</span>             <span class="stringliteral">&quot;pi_file_close_for_write: too many entries &quot;</span></div>
<div class="line"><span class="lineno"> 1288</span>             <span class="stringliteral">&quot;for this implentation of pi-file: %d\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1289</span>             pf-&gt;num_entries));</div>
<div class="line"><span class="lineno"> 1290</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a49baf93be5c26dff75cb9e6eb96b31ef">PI_ERR_FILE_INVALID</a>;</div>
<div class="line"><span class="lineno"> 1291</span>    }</div>
<div class="line"><span class="lineno"> 1292</span> </div>
<div class="line"><span class="lineno"> 1293</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1294</span><span class="comment">     * Unlink instead of overwriting.</span></div>
<div class="line"><span class="lineno"> 1295</span><span class="comment">     * For the case of something along the lines of:</span></div>
<div class="line"><span class="lineno"> 1296</span><span class="comment">     * cp -lav backup_2005_05_27 backup_2005_05_28</span></div>
<div class="line"><span class="lineno"> 1297</span><span class="comment">     * Then updating the new copy.</span></div>
<div class="line"><span class="lineno"> 1298</span><span class="comment">     * -- Warp.</span></div>
<div class="line"><span class="lineno"> 1299</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1300</span> </div>
<div class="line"><span class="lineno"> 1301</span>    <span class="keywordflow">if</span> (!stat (pf-&gt;file_name, &amp;sbuf))</div>
<div class="line"><span class="lineno"> 1302</span>        <span class="keywordflow">if</span> (S_ISREG(sbuf.st_mode))</div>
<div class="line"><span class="lineno"> 1303</span>        unlink (pf-&gt;file_name);</div>
<div class="line"><span class="lineno"> 1304</span> </div>
<div class="line"><span class="lineno"> 1305</span>    <span class="keywordflow">if</span> ((f = fopen(pf-&gt;file_name, <span class="stringliteral">&quot;wb&quot;</span>)) == NULL)</div>
<div class="line"><span class="lineno"> 1306</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#ad1398788fd055b8ef134b504010bcef8">PI_ERR_FILE_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1307</span> </div>
<div class="line"><span class="lineno"> 1308</span>    ip = &amp;pf-&gt;info;</div>
<div class="line"><span class="lineno"> 1309</span> </div>
<div class="line"><span class="lineno"> 1310</span>    offset = <a class="code hl_define" href="#abaaa1b2ec997861b74b1f0573929c630">PI_HDR_SIZE</a> + pf-&gt;num_entries * pf-&gt;ent_hdr_size + 2;</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>    p = <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno"> 1313</span>    memcpy(p, ip-&gt;name, 32);</div>
<div class="line"><span class="lineno"> 1314</span>    set_short(p + 32, ip-&gt;flags);</div>
<div class="line"><span class="lineno"> 1315</span>    set_short(p + 34, ip-&gt;version);</div>
<div class="line"><span class="lineno"> 1316</span>    set_long(p + 36, <a class="code hl_function" href="#aa8ab2a876d4c9ca6049f5dea0d44f033">unix_time_to_pilot_time</a>(ip-&gt;createDate));</div>
<div class="line"><span class="lineno"> 1317</span>    set_long(p + 40, <a class="code hl_function" href="#aa8ab2a876d4c9ca6049f5dea0d44f033">unix_time_to_pilot_time</a>(ip-&gt;modifyDate));</div>
<div class="line"><span class="lineno"> 1318</span>    set_long(p + 44, <a class="code hl_function" href="#aa8ab2a876d4c9ca6049f5dea0d44f033">unix_time_to_pilot_time</a>(ip-&gt;backupDate));</div>
<div class="line"><span class="lineno"> 1319</span>    set_long(p + 48, ip-&gt;modnum);</div>
<div class="line"><span class="lineno"> 1320</span>    set_long(p + 52, pf-&gt;app_info_size ? offset : 0);</div>
<div class="line"><span class="lineno"> 1321</span>    offset += pf-&gt;app_info_size;</div>
<div class="line"><span class="lineno"> 1322</span>    set_long(p + 56, pf-&gt;sort_info_size ? offset : 0);</div>
<div class="line"><span class="lineno"> 1323</span>    offset += pf-&gt;sort_info_size;</div>
<div class="line"><span class="lineno"> 1324</span>    set_long(p + 60, ip-&gt;type);</div>
<div class="line"><span class="lineno"> 1325</span>    set_long(p + 64, ip-&gt;creator);</div>
<div class="line"><span class="lineno"> 1326</span>    set_long(p + 68, pf-&gt;unique_id_seed);</div>
<div class="line"><span class="lineno"> 1327</span>    set_long(p + 72, pf-&gt;next_record_list_id);</div>
<div class="line"><span class="lineno"> 1328</span>    set_short(p + 76, pf-&gt;num_entries);</div>
<div class="line"><span class="lineno"> 1329</span> </div>
<div class="line"><span class="lineno"> 1330</span>    <span class="keywordflow">if</span> (fwrite(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, <a class="code hl_define" href="#abaaa1b2ec997861b74b1f0573929c630">PI_HDR_SIZE</a>, 1, f) != 1)</div>
<div class="line"><span class="lineno"> 1331</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>    <span class="keywordflow">for</span> (i = 0, entp = pf-&gt;entries; i &lt; pf-&gt;num_entries; i++, entp++) {</div>
<div class="line"><span class="lineno"> 1334</span>        entp-&gt;offset = offset;</div>
<div class="line"><span class="lineno"> 1335</span> </div>
<div class="line"><span class="lineno"> 1336</span>        p = <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno"> 1337</span>        <span class="keywordflow">if</span> (pf-&gt;resource_flag) {</div>
<div class="line"><span class="lineno"> 1338</span>            set_long(p, entp-&gt;type);</div>
<div class="line"><span class="lineno"> 1339</span>            set_short(p + 4, entp-&gt;resource_id);</div>
<div class="line"><span class="lineno"> 1340</span>            set_long(p + 6, entp-&gt;offset);</div>
<div class="line"><span class="lineno"> 1341</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1342</span>            set_long(p, entp-&gt;offset);</div>
<div class="line"><span class="lineno"> 1343</span>            set_byte(p + 4, entp-&gt;attrs);</div>
<div class="line"><span class="lineno"> 1344</span>            set_treble(p + 5, entp-&gt;uid);</div>
<div class="line"><span class="lineno"> 1345</span>        }</div>
<div class="line"><span class="lineno"> 1346</span> </div>
<div class="line"><span class="lineno"> 1347</span>        <span class="keywordflow">if</span> (fwrite(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, (<span class="keywordtype">size_t</span>) pf-&gt;ent_hdr_size, 1, f) != 1)</div>
<div class="line"><span class="lineno"> 1348</span>            <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno"> 1349</span> </div>
<div class="line"><span class="lineno"> 1350</span>        offset += entp-&gt;size;</div>
<div class="line"><span class="lineno"> 1351</span>    }</div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>    <span class="comment">/* This may just be packing */</span></div>
<div class="line"><span class="lineno"> 1354</span>    fwrite(<span class="stringliteral">&quot;\0\0&quot;</span>, 1, 2, f);</div>
<div class="line"><span class="lineno"> 1355</span> </div>
<div class="line"><span class="lineno"> 1356</span>    <span class="keywordflow">if</span> (pf-&gt;app_info</div>
<div class="line"><span class="lineno"> 1357</span>        &amp;&amp; (fwrite(pf-&gt;app_info, 1,(<span class="keywordtype">size_t</span>) pf-&gt;app_info_size, f) !=</div>
<div class="line"><span class="lineno"> 1358</span>        (<span class="keywordtype">size_t</span>) pf-&gt;app_info_size))</div>
<div class="line"><span class="lineno"> 1359</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno"> 1360</span> </div>
<div class="line"><span class="lineno"> 1361</span>    <span class="keywordflow">if</span> (pf-&gt;sort_info</div>
<div class="line"><span class="lineno"> 1362</span>        &amp;&amp; (fwrite(pf-&gt;sort_info, 1, (<span class="keywordtype">size_t</span>) pf-&gt;sort_info_size, f) !=</div>
<div class="line"><span class="lineno"> 1363</span>        (<span class="keywordtype">size_t</span>) pf-&gt;sort_info_size))</div>
<div class="line"><span class="lineno"> 1364</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno"> 1365</span> </div>
<div class="line"><span class="lineno"> 1366</span> </div>
<div class="line"><span class="lineno"> 1367</span>    fwrite(pf-&gt;tmpbuf-&gt;data, pf-&gt;tmpbuf-&gt;used, 1, f);</div>
<div class="line"><span class="lineno"> 1368</span>    fflush(f);</div>
<div class="line"><span class="lineno"> 1369</span> </div>
<div class="line"><span class="lineno"> 1370</span>    <span class="keywordflow">if</span> (ferror(f) || feof(f))</div>
<div class="line"><span class="lineno"> 1371</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno"> 1372</span> </div>
<div class="line"><span class="lineno"> 1373</span>    fclose(f);</div>
<div class="line"><span class="lineno"> 1374</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>bad:</div>
<div class="line"><span class="lineno"> 1377</span>    fclose(f);</div>
<div class="line"><span class="lineno"> 1378</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#ad1398788fd055b8ef134b504010bcef8">PI_ERR_FILE_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1379</span>}</div>
<div class="ttc" id="anamespacepisock_html_ad1398788fd055b8ef134b504010bcef8"><div class="ttname"><a href="namespacepisock.html#ad1398788fd055b8ef134b504010bcef8">pisock.PI_ERR_FILE_ERROR</a></div><div class="ttdeci">PI_ERR_FILE_ERROR</div><div class="ttdef"><b>Definition</b> pisock.py:59</div></div>
<div class="ttc" id="api-file_8c_html_aa8ab2a876d4c9ca6049f5dea0d44f033"><div class="ttname"><a href="#aa8ab2a876d4c9ca6049f5dea0d44f033">unix_time_to_pilot_time</a></div><div class="ttdeci">unsigned long unix_time_to_pilot_time(time_t t)</div><div class="ttdef"><b>Definition</b> pi-file.c:137</div></div>
<div class="ttc" id="api-file_8c_html_abaaa1b2ec997861b74b1f0573929c630"><div class="ttname"><a href="#abaaa1b2ec997861b74b1f0573929c630">PI_HDR_SIZE</a></div><div class="ttdeci">#define PI_HDR_SIZE</div><div class="ttdef"><b>Definition</b> pi-file.c:94</div></div>
<div class="ttc" id="apitcl_8c_html_a0dea8f1af961c5e9eb4425acd7c95409"><div class="ttname"><a href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a></div><div class="ttdeci">char buf[0xffff]</div><div class="ttdef"><b>Definition</b> pitcl.c:34</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00094">PI_HDR_SIZE</a>, and <a class="el" href="#l00137">unix_time_to_pilot_time()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00343">pi_file_close()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_aa85c52c17928a7cb3dd4829ea6373fc8_cgraph.png" border="0" usemap="#api-file_8c_aa85c52c17928a7cb3dd4829ea6373fc8_cgraph" alt=""/></div>
<map name="api-file_8c_aa85c52c17928a7cb3dd4829ea6373fc8_cgraph" id="api-file_8c_aa85c52c17928a7cb3dd4829ea6373fc8_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,156,31"/>
<area shape="rect" href="pi-file_8c.html#aa8ab2a876d4c9ca6049f5dea0d44f033" title=" " alt="" coords="204,5,362,31"/>
<area shape="poly" title=" " alt="" coords="156,16,188,16,188,21,156,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_aa85c52c17928a7cb3dd4829ea6373fc8_icgraph.png" border="0" usemap="#api-file_8c_aa85c52c17928a7cb3dd4829ea6373fc8_icgraph" alt=""/></div>
<map name="api-file_8c_aa85c52c17928a7cb3dd4829ea6373fc8_icgraph" id="api-file_8c_aa85c52c17928a7cb3dd4829ea6373fc8_icgraph">
<area shape="rect" title=" " alt="" coords="773,333,923,359"/>
<area shape="rect" href="pi-file_8c.html#a917a7629f465050a293350e2e63f2272" title=" " alt="" coords="632,333,725,359"/>
<area shape="poly" title=" " alt="" coords="757,349,725,349,725,344,757,344"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="250,211,388,236"/>
<area shape="poly" title=" " alt="" coords="654,324,622,294,582,269,534,250,483,238,388,227,388,222,484,233,535,245,585,264,625,290,658,320"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="436,55,584,80"/>
<area shape="poly" title=" " alt="" coords="671,319,662,273,646,215,620,155,602,127,582,101,555,83,558,79,585,98,607,123,624,152,651,213,667,271,676,318"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="280,408,357,434"/>
<area shape="poly" title=" " alt="" coords="646,370,617,385,584,398,523,412,461,420,357,424,357,419,460,415,522,407,583,393,614,380,643,365"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="449,5,571,31"/>
<area shape="poly" title=" " alt="" coords="674,318,669,261,655,188,643,149,628,111,607,75,582,44,568,34,571,29,586,40,612,72,632,109,648,147,660,186,674,261,679,318"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="294,105,343,131"/>
<area shape="poly" title=" " alt="" coords="666,319,635,253,612,219,582,190,553,171,521,156,454,135,391,125,344,121,344,116,392,120,455,130,523,151,555,166,585,185,616,215,640,251,671,317"/>
<area shape="rect" href="ccexample_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="294,260,343,286"/>
<area shape="poly" title=" " alt="" coords="644,327,615,311,583,298,516,283,449,276,344,274,344,269,450,271,517,278,584,293,617,306,647,322"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="485,308,535,334"/>
<area shape="poly" title=" " alt="" coords="616,340,535,327,535,322,617,334"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,611,201,636"/>
<area shape="poly" title=" " alt="" coords="677,375,670,421,654,477,627,534,608,559,585,580,539,608,489,628,436,640,382,646,281,645,201,636,202,631,282,640,382,641,435,635,487,623,537,603,582,576,604,555,623,531,649,475,665,420,672,374"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="443,661,577,687"/>
<area shape="poly" title=" " alt="" coords="678,375,672,430,657,501,630,576,610,612,586,644,559,663,556,658,582,640,605,609,625,574,652,499,667,429,673,374"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="249,161,388,187"/>
<area shape="poly" title=" " alt="" coords="661,321,629,274,607,251,582,231,535,208,484,193,434,183,388,178,389,173,435,178,486,188,537,203,585,227,611,247,633,271,665,318"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="272,459,365,484"/>
<area shape="poly" title=" " alt="" coords="657,372,625,401,585,427,528,448,468,462,365,473,365,468,467,457,526,443,582,422,622,397,654,368"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="270,560,367,586"/>
<area shape="poly" title=" " alt="" coords="673,375,662,410,644,451,619,492,585,526,560,542,532,554,473,570,416,577,367,578,367,573,416,572,472,565,530,549,557,537,582,521,615,488,640,448,657,408,668,373"/>
<area shape="rect" href="pilot-wav_8c.html#aa2811f6abf8e3ded01a04d2cb656122e" title=" " alt="" coords="273,509,364,535"/>
<area shape="poly" title=" " alt="" coords="667,374,635,425,612,451,585,472,529,499,470,515,413,523,365,525,364,520,412,517,469,509,528,494,582,468,608,447,630,422,662,372"/>
<area shape="rect" href="pi-file_8c.html#ac653337883ed6afb08f14a7816c439d3" title=" " alt="" coords="465,357,555,383"/>
<area shape="poly" title=" " alt="" coords="617,358,556,366,555,361,616,352"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,359,176,384"/>
<area shape="poly" title=" " alt="" coords="265,408,176,381,178,376,266,403"/>
<area shape="poly" title=" " alt="" coords="449,40,438,45,382,76,339,107,336,103,380,72,435,40,447,35"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,560,55,586"/>
<area shape="poly" title=" " alt="" coords="104,607,54,585,56,581,106,602"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,660,194,686"/>
<area shape="poly" title=" " alt="" coords="427,677,195,676,195,670,427,671"/>
<area shape="poly" title=" " alt="" coords="105,654,101,651,66,618,39,588,43,584,69,615,104,647,108,650"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="107,236,197,262"/>
<area shape="poly" title=" " alt="" coords="262,196,250,201,178,238,175,233,248,196,260,191"/>
<area shape="poly" title=" " alt="" coords="139,276,105,347,63,470,37,561,32,559,58,469,100,345,134,274"/>
<area shape="poly" title=" " alt="" coords="257,470,181,476,141,485,104,499,84,512,67,529,42,561,37,558,63,525,81,508,101,494,140,480,181,471,257,465"/>
<area shape="poly" title=" " alt="" coords="255,576,55,576,55,570,255,570"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,509,176,535"/>
<area shape="poly" title=" " alt="" coords="257,525,177,525,177,520,257,520"/>
<area shape="poly" title=" " alt="" coords="449,358,434,348,416,323,410,298,404,273,386,249,371,239,374,235,390,246,408,271,415,296,421,321,438,344,452,353"/>
<area shape="poly" title=" " alt="" coords="450,389,358,413,356,408,449,383"/>
<area shape="poly" title=" " alt="" coords="449,359,434,348,417,323,409,298,407,273,408,249,409,200,402,176,386,151,366,135,343,126,344,121,369,130,390,147,407,173,414,199,414,249,412,273,414,297,421,320,438,344,452,355"/>
<area shape="poly" title=" " alt="" coords="449,356,435,348,420,336,410,323,401,311,387,299,365,288,343,281,345,276,367,283,390,295,405,307,414,320,423,332,438,344,452,351"/>
<area shape="poly" title=" " alt="" coords="449,359,434,348,420,329,412,310,410,273,407,236,400,218,386,200,372,190,376,185,390,196,405,215,412,235,415,272,418,309,425,326,438,344,452,355"/>
<area shape="poly" title=" " alt="" coords="479,394,438,422,390,449,361,461,359,456,387,444,435,417,476,390"/>
<area shape="poly" title=" " alt="" coords="499,399,458,473,427,514,390,550,369,562,366,557,387,545,423,510,453,470,495,396"/>
<area shape="poly" title=" " alt="" coords="492,397,449,448,421,475,390,499,366,511,364,507,387,495,417,471,445,445,488,394"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="294,359,343,384"/>
<area shape="poly" title=" " alt="" coords="449,373,344,374,344,369,449,368"/>
<area shape="rect" href="pilot-foto_8c.html#a8e9b5c3f2fa776bf17b633b74890bcff" title=" " alt="" coords="276,309,361,335"/>
<area shape="poly" title=" " alt="" coords="449,358,361,335,362,330,450,353"/>
<area shape="poly" title=" " alt="" coords="262,342,178,367,176,362,261,336"/>
</map>
</div>

</div>
</div>
<a id="a8afc8069739c8a7de6e2446224e5606e" name="a8afc8069739c8a7de6e2446224e5606e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8afc8069739c8a7de6e2446224e5606e">&#9670;&#160;</a></span>pi_file_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pi_file_t * pi_file_create </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct DBInfo *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  524</span>{</div>
<div class="line"><span class="lineno">  525</span>    pi_file_t *pf = calloc(1, <span class="keyword">sizeof</span>(pi_file_t));</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">if</span> (pf == NULL)</div>
<div class="line"><span class="lineno">  528</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordflow">if</span> ((pf-&gt;file_name = <a class="code hl_function" href="utils_8c.html#a5ffaef3fc3f7ddb9856ccd4bcb79e9bc">strdup</a>(<a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>)) == NULL)</div>
<div class="line"><span class="lineno">  531</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>    pf-&gt;for_writing = 1;</div>
<div class="line"><span class="lineno">  534</span>    pf-&gt;info = *info;</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>    <span class="keywordflow">if</span> (info-&gt;flags &amp; dlpDBFlagResource) {</div>
<div class="line"><span class="lineno">  537</span>        pf-&gt;resource_flag = 1;</div>
<div class="line"><span class="lineno">  538</span>        pf-&gt;ent_hdr_size = <a class="code hl_define" href="#afb72315a3070c6adfbaa60bcb8f28d00">PI_RESOURCE_ENT_SIZE</a>;</div>
<div class="line"><span class="lineno">  539</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  540</span>        pf-&gt;resource_flag = 0;</div>
<div class="line"><span class="lineno">  541</span>        pf-&gt;ent_hdr_size = <a class="code hl_define" href="#aa6eb338e2ca63ba9fcc6081c792b03b3">PI_RECORD_ENT_SIZE</a>;</div>
<div class="line"><span class="lineno">  542</span>    }</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>    pf-&gt;tmpbuf = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a>(2048);</div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">if</span> (pf-&gt;tmpbuf == NULL)</div>
<div class="line"><span class="lineno">  546</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>    <span class="keywordflow">return</span> (pf);</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>bad:</div>
<div class="line"><span class="lineno">  551</span>    <a class="code hl_function" href="#a08d48ce60b0eb3b173c93b7902c670a7">pi_file_free</a>(pf);</div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  553</span>}</div>
<div class="ttc" id="api-buffer_8c_html_a6775d9fcdb4fb3e02ce032337e1d10dc"><div class="ttname"><a href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a></div><div class="ttdeci">pi_buffer_t * pi_buffer_new(size_t capacity)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:31</div></div>
<div class="ttc" id="api-file_8c_html_aa6eb338e2ca63ba9fcc6081c792b03b3"><div class="ttname"><a href="#aa6eb338e2ca63ba9fcc6081c792b03b3">PI_RECORD_ENT_SIZE</a></div><div class="ttdeci">#define PI_RECORD_ENT_SIZE</div><div class="ttdef"><b>Definition</b> pi-file.c:96</div></div>
<div class="ttc" id="api-file_8c_html_afb72315a3070c6adfbaa60bcb8f28d00"><div class="ttname"><a href="#afb72315a3070c6adfbaa60bcb8f28d00">PI_RESOURCE_ENT_SIZE</a></div><div class="ttdeci">#define PI_RESOURCE_ENT_SIZE</div><div class="ttdef"><b>Definition</b> pi-file.c:95</div></div>
<div class="ttc" id="apilot-debug_8c_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition</b> pilot-debug.c:1566</div></div>
<div class="ttc" id="autils_8c_html_a5ffaef3fc3f7ddb9856ccd4bcb79e9bc"><div class="ttname"><a href="utils_8c.html#a5ffaef3fc3f7ddb9856ccd4bcb79e9bc">strdup</a></div><div class="ttdeci">char * strdup(const char *s)</div><div class="ttdef"><b>Definition</b> utils.c:98</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01566">name</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01393">pi_file_free()</a>, <a class="el" href="#l00096">PI_RECORD_ENT_SIZE</a>, <a class="el" href="#l00095">PI_RESOURCE_ENT_SIZE</a>, and <a class="el" href="#l00098">strdup()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l02342">_wrap_pi_file_retrieve()</a>, <a class="el" href="#l00538">do_install()</a>, <a class="el" href="#l00104">fetch_remote_file()</a>, <a class="el" href="#l00320">palm_backup()</a>, and <a class="el" href="#l00632">palm_fetch_internal()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a8afc8069739c8a7de6e2446224e5606e_cgraph.png" border="0" usemap="#api-file_8c_a8afc8069739c8a7de6e2446224e5606e_cgraph" alt=""/></div>
<map name="api-file_8c_a8afc8069739c8a7de6e2446224e5606e_cgraph" id="api-file_8c_a8afc8069739c8a7de6e2446224e5606e_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,104,80"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="152,5,254,31"/>
<area shape="poly" title=" " alt="" coords="95,51,147,34,149,39,96,57"/>
<area shape="rect" href="pi-file_8c.html#a08d48ce60b0eb3b173c93b7902c670a7" title=" " alt="" coords="161,55,245,80"/>
<area shape="poly" title=" " alt="" coords="104,65,145,65,145,70,104,70"/>
<area shape="rect" href="utils_8c.html#a5ffaef3fc3f7ddb9856ccd4bcb79e9bc" title=" " alt="" coords="174,104,232,130"/>
<area shape="poly" title=" " alt="" coords="96,78,160,100,158,105,95,84"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="302,55,402,80"/>
<area shape="poly" title=" " alt="" coords="245,65,287,65,287,70,245,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a8afc8069739c8a7de6e2446224e5606e_icgraph.png" border="0" usemap="#api-file_8c_a8afc8069739c8a7de6e2446224e5606e_icgraph" alt=""/></div>
<map name="api-file_8c_a8afc8069739c8a7de6e2446224e5606e_icgraph" id="api-file_8c_a8afc8069739c8a7de6e2446224e5606e_icgraph">
<area shape="rect" title=" " alt="" coords="444,104,543,130"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="249,5,396,31"/>
<area shape="poly" title=" " alt="" coords="466,96,433,69,395,45,371,34,373,29,398,40,436,65,469,92"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="284,55,361,80"/>
<area shape="poly" title=" " alt="" coords="431,102,361,81,362,76,432,97"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="262,104,383,130"/>
<area shape="poly" title=" " alt="" coords="429,120,384,120,384,114,429,114"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,155,201,180"/>
<area shape="poly" title=" " alt="" coords="433,137,397,145,293,159,202,167,201,162,292,154,396,140,432,132"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="256,205,390,231"/>
<area shape="poly" title=" " alt="" coords="466,142,398,188,359,207,357,202,395,184,463,137"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,55,176,80"/>
<area shape="poly" title=" " alt="" coords="269,70,177,70,177,65,269,65"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,104,176,130"/>
<area shape="poly" title=" " alt="" coords="247,120,177,120,177,114,247,114"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,180,55,206"/>
<area shape="poly" title=" " alt="" coords="88,184,56,190,54,185,87,178"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,204,194,230"/>
<area shape="poly" title=" " alt="" coords="240,220,195,220,195,214,240,215"/>
<area shape="poly" title=" " alt="" coords="94,208,55,200,56,195,95,203"/>
</map>
</div>

</div>
</div>
<a id="aee2d391cae42e7ed33bef52807e05ef3" name="aee2d391cae42e7ed33bef52807e05ef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2d391cae42e7ed33bef52807e05ef3">&#9670;&#160;</a></span>pi_file_find_resource_by_type_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_file_find_resource_by_type_id </td>
          <td>(</td>
          <td class="paramtype">const pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>restype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>resid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>resindex</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1507</span>{</div>
<div class="line"><span class="lineno"> 1508</span>    <span class="keywordtype">int</span>     i;</div>
<div class="line"><span class="lineno"> 1509</span>    <span class="keyword">struct  </span>pi_file_entry *entp;</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>    <span class="keywordflow">if</span> (!pf-&gt;resource_flag)</div>
<div class="line"><span class="lineno"> 1512</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a49baf93be5c26dff75cb9e6eb96b31ef">PI_ERR_FILE_INVALID</a>;</div>
<div class="line"><span class="lineno"> 1513</span> </div>
<div class="line"><span class="lineno"> 1514</span>    <span class="keywordflow">for</span> (i = 0, entp = pf-&gt;entries; i &lt; pf-&gt;num_entries; i++, entp++) {</div>
<div class="line"><span class="lineno"> 1515</span>        <span class="keywordflow">if</span> (entp-&gt;type == restype &amp;&amp; entp-&gt;resource_id == resid) {</div>
<div class="line"><span class="lineno"> 1516</span>            <span class="keywordflow">if</span> (resindex)</div>
<div class="line"><span class="lineno"> 1517</span>                *resindex = i;</div>
<div class="line"><span class="lineno"> 1518</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 1519</span>        }</div>
<div class="line"><span class="lineno"> 1520</span>    }</div>
<div class="line"><span class="lineno"> 1521</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1522</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00381">pi_file_read_resource_by_type_id()</a>, and <a class="el" href="#l00397">pi_file_type_id_used()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_aee2d391cae42e7ed33bef52807e05ef3_icgraph.png" border="0" usemap="#api-file_8c_aee2d391cae42e7ed33bef52807e05ef3_icgraph" alt=""/></div>
<map name="api-file_8c_aee2d391cae42e7ed33bef52807e05ef3_icgraph" id="api-file_8c_aee2d391cae42e7ed33bef52807e05ef3_icgraph">
<area shape="rect" title=" " alt="" coords="999,44,1140,85"/>
<area shape="rect" href="pi-file_8c.html#a0ab7f7120e1a05e9625f619c94cee900" title=" " alt="" coords="807,15,951,56"/>
<area shape="poly" title=" " alt="" coords="983,54,951,49,952,44,984,49"/>
<area shape="rect" href="pi-file_8c.html#af6ceb74345d19b60cb15bcc3636b92b4" title=" " alt="" coords="810,80,949,106"/>
<area shape="poly" title=" " alt="" coords="984,80,949,85,949,80,983,75"/>
<area shape="rect" href="pilot-file_8c.html#a3439aa98e9a020f8571fb4b1d2d8c0ba" title=" " alt="" coords="630,23,726,48"/>
<area shape="poly" title=" " alt="" coords="792,38,727,38,727,33,792,33"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="472,23,522,48"/>
<area shape="poly" title=" " alt="" coords="614,38,522,38,522,33,614,33"/>
<area shape="rect" href="pi-file_8c.html#ad583ac4501b59a412cf22e5d36b2f55d" title=" " alt="" coords="598,80,759,106"/>
<area shape="poly" title=" " alt="" coords="794,96,760,96,760,90,794,90"/>
<area shape="rect" href="pi-file_8c.html#a197024e7749af84e776eb5b98932bb17" title=" " alt="" coords="444,80,550,106"/>
<area shape="poly" title=" " alt="" coords="582,96,550,96,550,90,582,90"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="249,5,396,31"/>
<area shape="poly" title=" " alt="" coords="458,75,395,45,367,34,369,29,397,40,460,70"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="262,55,383,80"/>
<area shape="poly" title=" " alt="" coords="428,86,383,79,384,74,429,80"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,105,201,131"/>
<area shape="poly" title=" " alt="" coords="429,100,202,117,201,112,429,95"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="256,156,390,182"/>
<area shape="poly" title=" " alt="" coords="453,115,397,139,355,158,353,153,395,134,450,110"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,55,176,80"/>
<area shape="poly" title=" " alt="" coords="247,70,177,70,177,65,247,65"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,131,55,156"/>
<area shape="poly" title=" " alt="" coords="88,134,56,141,54,136,87,129"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,155,194,180"/>
<area shape="poly" title=" " alt="" coords="240,171,195,170,195,165,240,166"/>
<area shape="poly" title=" " alt="" coords="94,159,55,151,56,146,95,154"/>
</map>
</div>

</div>
</div>
<a id="a08d48ce60b0eb3b173c93b7902c670a7" name="a08d48ce60b0eb3b173c93b7902c670a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08d48ce60b0eb3b173c93b7902c670a7">&#9670;&#160;</a></span>pi_file_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pi_file_free </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1394</span>{</div>
<div class="line"><span class="lineno"> 1395</span>    ASSERT (pf != NULL);</div>
<div class="line"><span class="lineno"> 1396</span> </div>
<div class="line"><span class="lineno"> 1397</span>    <span class="keywordflow">if</span> (pf-&gt;f != 0)</div>
<div class="line"><span class="lineno"> 1398</span>        fclose(pf-&gt;f);</div>
<div class="line"><span class="lineno"> 1399</span>    </div>
<div class="line"><span class="lineno"> 1400</span>    <span class="keywordflow">if</span> (pf-&gt;app_info != NULL)</div>
<div class="line"><span class="lineno"> 1401</span>        free(pf-&gt;app_info);</div>
<div class="line"><span class="lineno"> 1402</span>    </div>
<div class="line"><span class="lineno"> 1403</span>    <span class="keywordflow">if</span> (pf-&gt;sort_info != NULL)</div>
<div class="line"><span class="lineno"> 1404</span>        free(pf-&gt;sort_info);</div>
<div class="line"><span class="lineno"> 1405</span>    </div>
<div class="line"><span class="lineno"> 1406</span>    <span class="keywordflow">if</span> (pf-&gt;entries != NULL)</div>
<div class="line"><span class="lineno"> 1407</span>        free(pf-&gt;entries);</div>
<div class="line"><span class="lineno"> 1408</span>    </div>
<div class="line"><span class="lineno"> 1409</span>    <span class="keywordflow">if</span> (pf-&gt;file_name != NULL)</div>
<div class="line"><span class="lineno"> 1410</span>        free(pf-&gt;file_name);</div>
<div class="line"><span class="lineno"> 1411</span>    </div>
<div class="line"><span class="lineno"> 1412</span>    <span class="keywordflow">if</span> (pf-&gt;rbuf != NULL)</div>
<div class="line"><span class="lineno"> 1413</span>        free(pf-&gt;rbuf);</div>
<div class="line"><span class="lineno"> 1414</span>    </div>
<div class="line"><span class="lineno"> 1415</span>    <span class="keywordflow">if</span> (pf-&gt;tmpbuf != NULL)</div>
<div class="line"><span class="lineno"> 1416</span>        <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a>(pf-&gt;tmpbuf);</div>
<div class="line"><span class="lineno"> 1417</span> </div>
<div class="line"><span class="lineno"> 1418</span>    <span class="comment">/* in case caller forgets the struct has been freed... */</span></div>
<div class="line"><span class="lineno"> 1419</span>    memset(pf, 0, <span class="keyword">sizeof</span>(pi_file_t));</div>
<div class="line"><span class="lineno"> 1420</span> </div>
<div class="line"><span class="lineno"> 1421</span>    free(pf);</div>
<div class="line"><span class="lineno"> 1422</span>}</div>
<div class="ttc" id="api-buffer_8c_html_af440579d61c8649154b0f0512c285606"><div class="ttname"><a href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a></div><div class="ttdeci">void pi_buffer_free(pi_buffer_t *buf)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:103</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00103">pi_buffer_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00343">pi_file_close()</a>, and <a class="el" href="#l00523">pi_file_create()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a08d48ce60b0eb3b173c93b7902c670a7_cgraph.png" border="0" usemap="#api-file_8c_a08d48ce60b0eb3b173c93b7902c670a7_cgraph" alt=""/></div>
<map name="api-file_8c_a08d48ce60b0eb3b173c93b7902c670a7_cgraph" id="api-file_8c_a08d48ce60b0eb3b173c93b7902c670a7_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,90,31"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="138,5,238,31"/>
<area shape="poly" title=" " alt="" coords="90,16,122,16,122,21,90,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a08d48ce60b0eb3b173c93b7902c670a7_icgraph.png" border="0" usemap="#api-file_8c_a08d48ce60b0eb3b173c93b7902c670a7_icgraph" alt=""/></div>
<map name="api-file_8c_a08d48ce60b0eb3b173c93b7902c670a7_icgraph" id="api-file_8c_a08d48ce60b0eb3b173c93b7902c670a7_icgraph">
<area shape="rect" title=" " alt="" coords="770,483,854,508"/>
<area shape="rect" href="pi-file_8c.html#a917a7629f465050a293350e2e63f2272" title=" " alt="" coords="626,359,720,384"/>
<area shape="poly" title=" " alt="" coords="783,474,687,387,690,383,787,470"/>
<area shape="rect" href="pi-file_8c.html#a8afc8069739c8a7de6e2446224e5606e" title=" " alt="" coords="624,583,722,608"/>
<area shape="poly" title=" " alt="" coords="782,520,694,584,691,580,779,516"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="242,303,380,328"/>
<area shape="poly" title=" " alt="" coords="630,354,575,335,525,326,473,321,380,317,380,311,474,315,525,321,576,330,632,349"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="428,509,576,535"/>
<area shape="poly" title=" " alt="" coords="660,399,627,450,604,477,577,500,558,511,555,506,574,496,600,473,623,447,656,397"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="272,401,349,427"/>
<area shape="poly" title=" " alt="" coords="611,381,350,412,349,407,610,376"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="441,559,563,584"/>
<area shape="poly" title=" " alt="" coords="666,400,654,434,635,474,610,515,577,550,560,560,557,556,574,545,606,511,630,472,649,432,661,398"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="286,451,335,476"/>
<area shape="poly" title=" " alt="" coords="621,392,576,406,441,440,336,462,335,456,440,434,575,401,619,387"/>
<area shape="rect" href="ccexample_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="286,352,335,378"/>
<area shape="poly" title=" " alt="" coords="611,361,575,355,507,352,440,354,336,364,335,359,440,349,507,347,576,350,611,355"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="477,460,527,486"/>
<area shape="poly" title=" " alt="" coords="645,396,577,443,528,466,526,462,574,439,642,392"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="453,608,551,634"/>
<area shape="poly" title=" " alt="" coords="670,400,660,443,643,497,616,551,598,576,577,599,553,613,550,609,574,595,594,573,611,548,638,495,655,442,665,399"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="435,657,569,683"/>
<area shape="poly" title=" " alt="" coords="668,400,631,534,605,603,592,629,578,648,562,659,559,655,574,644,587,627,600,600,626,532,662,399"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="241,5,380,31"/>
<area shape="poly" title=" " alt="" coords="669,343,664,286,650,213,638,175,622,138,601,104,574,75,553,59,530,46,480,29,428,20,380,17,381,12,429,14,481,23,532,41,556,54,577,71,605,101,626,136,643,173,655,212,669,285,674,343"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="264,56,357,82"/>
<area shape="poly" title=" " alt="" coords="667,344,660,294,645,232,633,200,617,170,598,142,574,118,549,101,523,88,464,72,407,66,357,67,357,62,407,61,465,67,524,83,552,96,577,113,602,138,622,167,638,198,650,231,665,293,672,343"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="262,105,359,131"/>
<area shape="poly" title=" " alt="" coords="665,344,656,301,639,251,612,200,595,178,574,159,549,143,522,132,465,118,408,113,359,115,359,110,408,108,466,112,524,127,552,139,577,155,599,174,617,197,644,249,661,300,670,343"/>
<area shape="rect" href="pilot-wav_8c.html#aa2811f6abf8e3ded01a04d2cb656122e" title=" " alt="" coords="265,155,356,180"/>
<area shape="poly" title=" " alt="" coords="663,345,652,309,634,268,608,228,574,196,548,182,521,172,462,161,405,159,357,163,357,157,405,154,463,155,522,167,551,177,577,192,612,225,639,266,657,307,668,343"/>
<area shape="rect" href="pi-file_8c.html#ac653337883ed6afb08f14a7816c439d3" title=" " alt="" coords="457,207,547,232"/>
<area shape="poly" title=" " alt="" coords="654,347,620,300,598,275,574,254,541,235,544,231,577,249,602,272,624,297,658,344"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="123,328,172,354"/>
<area shape="poly" title=" " alt="" coords="257,400,240,393,170,357,173,352,242,388,259,395"/>
<area shape="poly" title=" " alt="" coords="438,555,427,550,369,514,326,479,329,475,373,509,430,545,440,550"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,107,55,132"/>
<area shape="poly" title=" " alt="" coords="440,605,427,599,321,554,239,513,203,488,169,457,135,418,100,368,69,303,48,235,36,175,30,133,35,133,41,174,53,234,74,301,105,365,139,415,173,453,206,484,242,508,324,549,429,594,442,600"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="105,592,190,618"/>
<area shape="poly" title=" " alt="" coords="419,658,190,615,191,610,420,653"/>
<area shape="poly" title=" " alt="" coords="116,583,100,561,86,522,73,470,52,342,30,133,35,133,58,341,79,469,91,521,105,558,121,580"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="103,5,193,31"/>
<area shape="poly" title=" " alt="" coords="225,21,193,21,193,16,225,16"/>
<area shape="poly" title=" " alt="" coords="116,43,104,52,46,108,42,104,101,48,113,38"/>
<area shape="poly" title=" " alt="" coords="249,79,103,103,56,115,54,110,102,98,248,74"/>
<area shape="poly" title=" " alt="" coords="247,121,55,122,55,117,247,116"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="123,157,172,183"/>
<area shape="poly" title=" " alt="" coords="250,171,173,172,173,167,249,166"/>
<area shape="poly" title=" " alt="" coords="452,242,430,254,406,274,382,294,359,305,356,300,379,289,403,270,427,249,450,237"/>
<area shape="poly" title=" " alt="" coords="491,248,449,319,418,358,382,392,350,408,348,403,379,388,414,355,445,316,486,245"/>
<area shape="poly" title=" " alt="" coords="495,248,480,290,457,342,424,395,382,442,360,455,336,462,335,457,358,450,379,437,420,392,452,339,475,288,490,246"/>
<area shape="poly" title=" " alt="" coords="481,246,429,301,382,343,359,354,337,362,335,357,357,349,379,339,425,297,477,242"/>
<area shape="poly" title=" " alt="" coords="486,194,445,120,415,80,379,46,359,34,361,29,382,41,419,77,450,118,491,191"/>
<area shape="poly" title=" " alt="" coords="480,196,437,145,409,118,379,95,356,84,358,79,382,91,413,114,441,141,484,192"/>
<area shape="poly" title=" " alt="" coords="469,200,427,172,379,145,354,134,356,129,382,140,430,167,472,195"/>
<area shape="poly" title=" " alt="" coords="441,206,356,182,357,177,442,201"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="286,204,335,230"/>
<area shape="poly" title=" " alt="" coords="441,221,336,220,336,215,441,216"/>
<area shape="rect" href="pilot-foto_8c.html#a8e9b5c3f2fa776bf17b633b74890bcff" title=" " alt="" coords="268,253,353,279"/>
<area shape="poly" title=" " alt="" coords="442,237,354,259,353,253,441,232"/>
<area shape="poly" title=" " alt="" coords="255,287,242,293,172,330,170,325,240,288,253,282"/>
<area shape="poly" title=" " alt="" coords="634,577,575,549,546,538,548,533,577,544,636,573"/>
<area shape="poly" title=" " alt="" coords="658,623,625,664,602,683,577,698,535,715,498,723,463,719,427,698,401,668,391,637,391,604,397,572,403,538,405,505,398,472,378,440,365,429,348,422,350,417,367,424,382,436,403,471,410,505,408,539,402,573,396,605,396,636,406,665,430,693,465,714,498,718,534,710,574,693,599,679,621,660,654,620"/>
<area shape="poly" title=" " alt="" coords="608,589,563,583,563,577,609,584"/>
<area shape="poly" title=" " alt="" coords="609,608,552,616,551,611,608,602"/>
<area shape="poly" title=" " alt="" coords="637,619,577,649,549,659,547,654,575,644,634,614"/>
</map>
</div>

</div>
</div>
<a id="a7a1101a452ad0cf683effedda7a879ca" name="a7a1101a452ad0cf683effedda7a879ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a1101a452ad0cf683effedda7a879ca">&#9670;&#160;</a></span>pi_file_get_app_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pi_file_get_app_info </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>datap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>sizep</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  368</span>{</div>
<div class="line"><span class="lineno">  369</span>    *datap = pf-&gt;app_info;</div>
<div class="line"><span class="lineno">  370</span>    *sizep = pf-&gt;app_info_size;</div>
<div class="line"><span class="lineno">  371</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00379">addresses()</a>, <a class="el" href="#l00284">datebook()</a>, <a class="el" href="#l00163">dump_app_info()</a>, <a class="el" href="#l00207">main()</a>, <a class="el" href="#l00171">main()</a>, <a class="el" href="#l00052">memos()</a>, <a class="el" href="#l00853">pi_file_install()</a>, and <a class="el" href="#l00116">todos()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a7a1101a452ad0cf683effedda7a879ca_icgraph.png" border="0" usemap="#api-file_8c_a7a1101a452ad0cf683effedda7a879ca_icgraph" alt=""/></div>
<map name="api-file_8c_a7a1101a452ad0cf683effedda7a879ca_icgraph" id="api-file_8c_a7a1101a452ad0cf683effedda7a879ca_icgraph">
<area shape="rect" title=" " alt="" coords="592,179,728,204"/>
<area shape="rect" href="ccexample_8cc.html#abad9561d1051ad04ebb61237bc7b7b18" title=" " alt="" coords="448,104,530,130"/>
<area shape="poly" title=" " alt="" coords="614,174,520,133,522,128,616,170"/>
<area shape="rect" href="ccexample_8cc.html#a025d644ab8d43c391d584e8b7011ba1b" title=" " alt="" coords="452,5,526,31"/>
<area shape="poly" title=" " alt="" coords="641,166,601,106,573,73,542,44,525,34,528,29,545,40,577,70,605,103,646,163"/>
<area shape="rect" href="pilot-file_8c.html#a77231484b10db636b4c4ff25d940ab1d" title=" " alt="" coords="434,301,544,327"/>
<area shape="poly" title=" " alt="" coords="637,217,596,254,545,292,525,303,523,299,542,288,592,250,634,213"/>
<area shape="rect" href="validate_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="464,153,514,179"/>
<area shape="poly" title=" " alt="" coords="576,182,514,172,515,167,577,176"/>
<area shape="rect" href="pilot-memos_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="464,203,514,228"/>
<area shape="poly" title=" " alt="" coords="577,206,515,215,514,209,576,201"/>
<area shape="rect" href="ccexample_8cc.html#a33ee1ab0b854603ff351b088a002306f" title=" " alt="" coords="457,252,521,278"/>
<area shape="poly" title=" " alt="" coords="615,214,522,254,520,249,613,209"/>
<area shape="rect" href="pi-file_8c.html#a2b1bd10e17e43080aab539bafd44bf9f" title=" " alt="" coords="441,388,537,414"/>
<area shape="poly" title=" " alt="" coords="642,218,546,341,504,389,500,386,542,338,637,215"/>
<area shape="rect" href="ccexample_8cc.html#a9cd8821600ea555528b5adff4b3cd603" title=" " alt="" coords="462,55,516,80"/>
<area shape="poly" title=" " alt="" coords="634,170,593,132,542,94,515,80,517,75,545,89,596,128,637,166"/>
<area shape="rect" href="ccexample_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="292,55,341,80"/>
<area shape="poly" title=" " alt="" coords="433,104,341,77,343,72,434,98"/>
<area shape="poly" title=" " alt="" coords="438,35,343,63,341,58,436,30"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="292,263,341,288"/>
<area shape="poly" title=" " alt="" coords="418,301,341,283,342,278,420,296"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="248,413,386,439"/>
<area shape="poly" title=" " alt="" coords="426,413,386,419,386,413,425,408"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="278,463,355,488"/>
<area shape="poly" title=" " alt="" coords="451,424,387,454,356,466,354,461,385,449,449,419"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="247,312,386,338"/>
<area shape="poly" title=" " alt="" coords="443,384,347,341,349,336,445,379"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="103,363,199,388"/>
<area shape="poly" title=" " alt="" coords="425,399,199,382,199,376,425,393"/>
<area shape="rect" href="pi-file_8c.html#a98cc34b189094419f679b3860e0c8ec3" title=" " alt="" coords="268,512,366,538"/>
<area shape="poly" title=" " alt="" coords="470,428,434,466,388,503,366,514,364,509,385,499,430,462,466,424"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="126,463,176,488"/>
<area shape="poly" title=" " alt="" coords="263,478,176,478,176,473,263,473"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="106,313,196,339"/>
<area shape="poly" title=" " alt="" coords="231,328,197,328,197,323,231,323"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,363,55,388"/>
<area shape="poly" title=" " alt="" coords="104,348,56,368,54,363,102,343"/>
<area shape="poly" title=" " alt="" coords="87,378,55,378,55,373,87,373"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="105,512,197,538"/>
<area shape="poly" title=" " alt="" coords="252,528,198,528,198,522,252,522"/>
<area shape="poly" title=" " alt="" coords="103,505,101,503,77,474,57,443,34,390,38,388,62,440,81,471,105,499,107,501"/>
<area shape="poly" title=" " alt="" coords="447,70,342,70,342,65,447,65"/>
</map>
</div>

</div>
</div>
<a id="a111c55b4371d74c320962afa0fea731b" name="a111c55b4371d74c320962afa0fea731b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111c55b4371d74c320962afa0fea731b">&#9670;&#160;</a></span>pi_file_get_entries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pi_file_get_entries </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>entries</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  678</span>{</div>
<div class="line"><span class="lineno">  679</span>    *entries = pf-&gt;num_entries;</div>
<div class="line"><span class="lineno">  680</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00379">addresses()</a>, <a class="el" href="#l00284">datebook()</a>, <a class="el" href="#l00059">extract_image()</a>, <a class="el" href="#l00212">list_records()</a>, <a class="el" href="#l00207">main()</a>, <a class="el" href="#l00443">main()</a>, <a class="el" href="#l00135">main()</a>, <a class="el" href="#l00052">memos()</a>, <a class="el" href="#l00961">palm_restore()</a>, and <a class="el" href="#l00116">todos()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a111c55b4371d74c320962afa0fea731b_icgraph.png" border="0" usemap="#api-file_8c_a111c55b4371d74c320962afa0fea731b_icgraph" alt=""/></div>
<map name="api-file_8c_a111c55b4371d74c320962afa0fea731b_icgraph" id="api-file_8c_a111c55b4371d74c320962afa0fea731b_icgraph">
<area shape="rect" title=" " alt="" coords="254,231,380,256"/>
<area shape="rect" href="ccexample_8cc.html#abad9561d1051ad04ebb61237bc7b7b18" title=" " alt="" coords="114,55,195,80"/>
<area shape="poly" title=" " alt="" coords="300,218,261,157,235,123,204,94,188,83,191,79,208,89,239,120,266,154,304,216"/>
<area shape="rect" href="ccexample_8cc.html#a025d644ab8d43c391d584e8b7011ba1b" title=" " alt="" coords="117,104,192,130"/>
<area shape="poly" title=" " alt="" coords="289,222,204,151,177,132,180,128,208,147,293,218"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#afd28cf31effef69995109bbd4b5bba50" title=" " alt="" coords="103,205,206,231"/>
<area shape="poly" title=" " alt="" coords="238,234,206,229,207,224,239,229"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,180,55,206"/>
<area shape="poly" title=" " alt="" coords="280,225,244,208,205,195,165,190,123,188,55,192,55,187,123,183,165,184,207,190,246,203,282,220"/>
<area shape="rect" href="pilot-file_8c.html#af0dc12f5627f765dfad88d1106c2fb4b" title=" " alt="" coords="110,403,198,428"/>
<area shape="poly" title=" " alt="" coords="304,271,265,331,238,364,208,394,191,404,188,400,204,389,234,360,261,328,300,268"/>
<area shape="rect" href="validate_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="130,255,179,280"/>
<area shape="poly" title=" " alt="" coords="239,258,180,267,179,261,238,252"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="130,304,179,330"/>
<area shape="poly" title=" " alt="" coords="274,266,181,308,179,303,271,261"/>
<area shape="rect" href="ccexample_8cc.html#a33ee1ab0b854603ff351b088a002306f" title=" " alt="" coords="122,353,186,379"/>
<area shape="poly" title=" " alt="" coords="295,270,256,307,207,344,188,355,185,351,205,340,252,303,291,266"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="106,452,202,478"/>
<area shape="poly" title=" " alt="" coords="309,272,294,310,272,355,244,401,208,443,193,454,189,449,204,439,239,398,268,352,289,307,304,270"/>
<area shape="rect" href="ccexample_8cc.html#a9cd8821600ea555528b5adff4b3cd603" title=" " alt="" coords="128,5,181,31"/>
<area shape="poly" title=" " alt="" coords="305,217,290,179,269,134,240,86,204,44,180,29,183,25,208,40,244,83,273,131,295,177,310,215"/>
<area shape="rect" href="ccexample_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,55,55,80"/>
<area shape="poly" title=" " alt="" coords="98,70,55,70,55,65,98,65"/>
<area shape="poly" title=" " alt="" coords="105,100,54,80,56,75,107,95"/>
<area shape="poly" title=" " alt="" coords="87,207,54,200,55,195,88,202"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,403,55,428"/>
<area shape="poly" title=" " alt="" coords="95,418,55,418,55,413,95,413"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,452,55,478"/>
<area shape="poly" title=" " alt="" coords="90,468,55,468,55,462,90,462"/>
<area shape="poly" title=" " alt="" coords="114,37,56,60,54,55,112,32"/>
</map>
</div>

</div>
</div>
<a id="a5620f73e8c0b55dae6a68e098070e2d8" name="a5620f73e8c0b55dae6a68e098070e2d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5620f73e8c0b55dae6a68e098070e2d8">&#9670;&#160;</a></span>pi_file_get_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pi_file_get_info </td>
          <td>(</td>
          <td class="paramtype">const pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct DBInfo *</td>          <td class="paramname"><span class="paramname"><em>infop</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  362</span>{</div>
<div class="line"><span class="lineno">  363</span>    *infop = pf-&gt;info;</div>
<div class="line"><span class="lineno">  364</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00366">main()</a>, <a class="el" href="#l00961">palm_restore()</a>, <a class="el" href="#l00685">pdb_to_jpg()</a>, and <a class="el" href="#l00316">pdb_to_wav()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a5620f73e8c0b55dae6a68e098070e2d8_icgraph.png" border="0" usemap="#api-file_8c_a5620f73e8c0b55dae6a68e098070e2d8_icgraph" alt=""/></div>
<map name="api-file_8c_a5620f73e8c0b55dae6a68e098070e2d8_icgraph" id="api-file_8c_a5620f73e8c0b55dae6a68e098070e2d8_icgraph">
<area shape="rect" title=" " alt="" coords="247,80,355,106"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="126,5,176,31"/>
<area shape="poly" title=" " alt="" coords="259,75,175,33,177,28,261,70"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="103,55,199,80"/>
<area shape="poly" title=" " alt="" coords="231,84,199,78,200,73,232,78"/>
<area shape="rect" href="pilot-foto_8c.html#a8e9b5c3f2fa776bf17b633b74890bcff" title=" " alt="" coords="109,104,193,130"/>
<area shape="poly" title=" " alt="" coords="232,107,194,113,193,108,231,101"/>
<area shape="rect" href="pilot-wav_8c.html#aa2811f6abf8e3ded01a04d2cb656122e" title=" " alt="" coords="105,153,196,179"/>
<area shape="poly" title=" " alt="" coords="261,115,180,155,178,150,258,111"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,55,55,80"/>
<area shape="poly" title=" " alt="" coords="87,70,55,70,55,65,87,65"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,104,55,130"/>
<area shape="poly" title=" " alt="" coords="93,120,55,120,55,114,93,114"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,153,55,179"/>
<area shape="poly" title=" " alt="" coords="90,169,55,169,55,164,90,164"/>
</map>
</div>

</div>
</div>
<a id="a36245b7843a120297984e99d3b0d4e84" name="a36245b7843a120297984e99d3b0d4e84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36245b7843a120297984e99d3b0d4e84">&#9670;&#160;</a></span>pi_file_get_sort_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pi_file_get_sort_info </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>datap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>sizep</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  375</span>{</div>
<div class="line"><span class="lineno">  376</span>    *datap = pf-&gt;sort_info;</div>
<div class="line"><span class="lineno">  377</span>    *sizep = pf-&gt;sort_info_size;</div>
<div class="line"><span class="lineno">  378</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00187">dump_sort_info()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a36245b7843a120297984e99d3b0d4e84_icgraph.png" border="0" usemap="#api-file_8c_a36245b7843a120297984e99d3b0d4e84_icgraph" alt=""/></div>
<map name="api-file_8c_a36245b7843a120297984e99d3b0d4e84_icgraph" id="api-file_8c_a36245b7843a120297984e99d3b0d4e84_icgraph">
<area shape="rect" title=" " alt="" coords="261,5,398,31"/>
<area shape="rect" href="pilot-file_8c.html#ad62ce449630c8b3704dfb9f9c5694373" title=" " alt="" coords="103,5,213,31"/>
<area shape="poly" title=" " alt="" coords="245,21,213,21,213,16,245,16"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a2f926acd26ad664e0f2b06b2ab5edec5" name="a2f926acd26ad664e0f2b06b2ab5edec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f926acd26ad664e0f2b06b2ab5edec5">&#9670;&#160;</a></span>pi_file_id_used()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_id_used </td>
          <td>(</td>
          <td class="paramtype">const pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">recordid_t</td>          <td class="paramname"><span class="paramname"><em>uid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  511</span>{</div>
<div class="line"><span class="lineno">  512</span>    <span class="keywordtype">int</span>     i;</div>
<div class="line"><span class="lineno">  513</span>    <span class="keyword">struct  </span>pi_file_entry *entp;</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">for</span> (i = 0, entp = pf-&gt;entries; i &lt; pf-&gt;num_entries; i++, entp++) {</div>
<div class="line"><span class="lineno">  516</span>        <span class="keywordflow">if</span> (entp-&gt;uid == uid)</div>
<div class="line"><span class="lineno">  517</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  518</span>    }</div>
<div class="line"><span class="lineno">  519</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  520</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00650">pi_file_append_record()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a2f926acd26ad664e0f2b06b2ab5edec5_icgraph.png" border="0" usemap="#api-file_8c_a2f926acd26ad664e0f2b06b2ab5edec5_icgraph" alt=""/></div>
<map name="api-file_8c_a2f926acd26ad664e0f2b06b2ab5edec5_icgraph" id="api-file_8c_a2f926acd26ad664e0f2b06b2ab5edec5_icgraph">
<area shape="rect" title=" " alt="" coords="793,80,900,106"/>
<area shape="rect" href="pi-file_8c.html#a13af628fb02eb3f6238e58c14e5cdc3b" title=" " alt="" coords="598,80,745,106"/>
<area shape="poly" title=" " alt="" coords="778,96,745,96,745,90,778,90"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="459,31,535,56"/>
<area shape="poly" title=" " alt="" coords="608,78,535,57,536,52,609,73"/>
<area shape="rect" href="pi-file_8c.html#a197024e7749af84e776eb5b98932bb17" title=" " alt="" coords="444,104,550,130"/>
<area shape="poly" title=" " alt="" coords="583,108,550,112,550,107,582,102"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="298,5,347,31"/>
<area shape="poly" title=" " alt="" coords="443,38,348,24,348,19,444,33"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="249,55,396,80"/>
<area shape="poly" title=" " alt="" coords="433,102,370,84,372,78,435,97"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="262,104,383,130"/>
<area shape="poly" title=" " alt="" coords="429,120,384,120,384,114,429,114"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,155,201,180"/>
<area shape="poly" title=" " alt="" coords="435,137,397,145,293,159,202,167,201,162,292,154,396,140,434,131"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="256,205,390,231"/>
<area shape="poly" title=" " alt="" coords="468,142,398,188,359,207,357,202,395,184,465,137"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,104,176,130"/>
<area shape="poly" title=" " alt="" coords="247,120,177,120,177,114,247,114"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,180,55,206"/>
<area shape="poly" title=" " alt="" coords="88,184,56,190,54,185,87,178"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,204,194,230"/>
<area shape="poly" title=" " alt="" coords="240,220,195,220,195,214,240,215"/>
<area shape="poly" title=" " alt="" coords="94,208,55,200,56,195,95,203"/>
</map>
</div>

</div>
</div>
<a id="a2b1bd10e17e43080aab539bafd44bf9f" name="a2b1bd10e17e43080aab539bafd44bf9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b1bd10e17e43080aab539bafd44bf9f">&#9670;&#160;</a></span>pi_file_install()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_install </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>socket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cardno</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">progress_func</td>          <td class="paramname"><span class="paramname"><em>report_progress</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  855</span>{</div>
<div class="line"><span class="lineno">  856</span>    <span class="keywordtype">int</span>     <a class="code hl_struct" href="structdb.html">db</a> = -1,</div>
<div class="line"><span class="lineno">  857</span>        j,</div>
<div class="line"><span class="lineno">  858</span>        reset       = 0,</div>
<div class="line"><span class="lineno">  859</span>        <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>,</div>
<div class="line"><span class="lineno">  860</span>        version,</div>
<div class="line"><span class="lineno">  861</span>        freeai      = 0,</div>
<div class="line"><span class="lineno">  862</span>        result,</div>
<div class="line"><span class="lineno">  863</span>        err1,</div>
<div class="line"><span class="lineno">  864</span>        err2;</div>
<div class="line"><span class="lineno">  865</span>    <span class="keywordtype">size_t</span>  l,</div>
<div class="line"><span class="lineno">  866</span>        <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = 0;</div>
<div class="line"><span class="lineno">  867</span>    <span class="keywordtype">void</span>    *<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>;</div>
<div class="line"><span class="lineno">  868</span>    pi_progress_t   progress;</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>    version = <a class="code hl_function" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353">pi_version</a>(socket);</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>    memset(&amp;progress, 0, <span class="keyword">sizeof</span>(progress));</div>
<div class="line"><span class="lineno">  873</span>    progress.type = PI_PROGRESS_SEND_DB;</div>
<div class="line"><span class="lineno">  874</span>    progress.data.db.pf = pf;</div>
<div class="line"><span class="lineno">  875</span>    progress.data.db.size.numRecords = pf-&gt;num_entries;</div>
<div class="line"><span class="lineno">  876</span>    progress.data.db.size.dataBytes = pf-&gt;app_info_size;</div>
<div class="line"><span class="lineno">  877</span>    progress.data.db.size.appBlockSize = pf-&gt;app_info_size;</div>
<div class="line"><span class="lineno">  878</span>    progress.data.db.size.maxRecSize = <a class="code hl_function" href="socket_8c.html#ac8ea1ffc8384bcf6719daabbf4cee496">pi_maxrecsize</a>(socket);</div>
<div class="line"><span class="lineno">  879</span> </div>
<div class="line"><span class="lineno">  880</span>    <span class="comment">/* compute total size for progress reporting, and check that</span></div>
<div class="line"><span class="lineno">  881</span><span class="comment">       either records are 64k or less, or the handheld can accept</span></div>
<div class="line"><span class="lineno">  882</span><span class="comment">       large records. we do this prior to starting the install,</span></div>
<div class="line"><span class="lineno">  883</span><span class="comment">       to avoid messing the device up if we have to fail. */</span></div>
<div class="line"><span class="lineno">  884</span>    <span class="keywordflow">for</span> (j = 0; j &lt; pf-&gt;num_entries; j++) {</div>
<div class="line"><span class="lineno">  885</span>        result =  (pf-&gt;info.flags &amp; <a class="code hl_variable" href="namespacepisock.html#ac66213e06ae4795c45630d152ff02949">dlpDBFlagResource</a>) ?</div>
<div class="line"><span class="lineno">  886</span>            <a class="code hl_function" href="#a9f6d17f2f6043fddce5f6fc4eabc646c">pi_file_read_resource</a>(pf, j, 0, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, 0, 0) :</div>
<div class="line"><span class="lineno">  887</span>            <a class="code hl_function" href="#ab1228cfb3af65abf3eaf90c5eb9260ad">pi_file_read_record</a>(pf, j, 0, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, 0, 0, 0);</div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno">  889</span>            LOG((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  890</span>                <span class="stringliteral">&quot;FILE INSTALL can&#39;t read all records/resources\n&quot;</span>));</div>
<div class="line"><span class="lineno">  891</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  892</span>        }</div>
<div class="line"><span class="lineno">  893</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> &gt; 65536 &amp;&amp; version &lt; 0x0104) {</div>
<div class="line"><span class="lineno">  894</span>            LOG((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  895</span>                <span class="stringliteral">&quot;FILE INSTALL Database contains&quot;</span></div>
<div class="line"><span class="lineno">  896</span>                <span class="stringliteral">&quot; record/resource over 64K!\n&quot;</span>));</div>
<div class="line"><span class="lineno">  897</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  898</span>        }</div>
<div class="line"><span class="lineno">  899</span>        progress.data.db.size.dataBytes += <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  900</span>    }</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>    progress.data.db.size.totalBytes =</div>
<div class="line"><span class="lineno">  903</span>        progress.data.db.size.dataBytes +</div>
<div class="line"><span class="lineno">  904</span>        pf-&gt;ent_hdr_size * pf-&gt;num_entries +</div>
<div class="line"><span class="lineno">  905</span>        <a class="code hl_define" href="#abaaa1b2ec997861b74b1f0573929c630">PI_HDR_SIZE</a> + 2;</div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span>    <span class="comment">/* Delete DB if it already exists */</span></div>
<div class="line"><span class="lineno">  908</span>    <a class="code hl_function" href="dlp_8c.html#ad54e8e7a8b1173cc8f53bb20a32c4774">dlp_DeleteDB</a>(socket, cardno, pf-&gt;info.name);</div>
<div class="line"><span class="lineno">  909</span> </div>
<div class="line"><span class="lineno">  910</span>    <span class="comment">/* Set up DB flags */</span></div>
<div class="line"><span class="lineno">  911</span>    <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> = pf-&gt;info.flags;</div>
<div class="line"><span class="lineno">  912</span>    </div>
<div class="line"><span class="lineno">  913</span>    <span class="comment">/* Judd - 25Nov99 - Graffiti hack We want to make sure that these 2</span></div>
<div class="line"><span class="lineno">  914</span><span class="comment">        flags get set for this one */</span></div>
<div class="line"><span class="lineno">  915</span>    <span class="keywordflow">if</span> (pf-&gt;info.creator == <a class="code hl_define" href="#a56f4cab6c835364ae1eefcce920b32f6">pi_mktag</a>(<span class="charliteral">&#39;g&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;f&#39;</span>)) {</div>
<div class="line"><span class="lineno">  916</span>        <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> |= <a class="code hl_variable" href="namespacepisock.html#a67be2c00b93e34d6e9922c502abd0fc2">dlpDBFlagNewer</a>;</div>
<div class="line"><span class="lineno">  917</span>        <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> |= <a class="code hl_variable" href="namespacepisock.html#ab7bd30e0db3aa01ac8408eaaa83131ce">dlpDBFlagReset</a>;</div>
<div class="line"><span class="lineno">  918</span>    }</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>    <span class="keywordflow">if</span> (strcmp(pf-&gt;info.name, <span class="stringliteral">&quot;Graffiti ShortCuts &quot;</span>) == 0) {</div>
<div class="line"><span class="lineno">  921</span>        <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a> |= 0x8000;    <span class="comment">/* Rewrite an open DB */</span></div>
<div class="line"><span class="lineno">  922</span>        reset = 1;      <span class="comment">/* To be on the safe side */</span></div>
<div class="line"><span class="lineno">  923</span>    }</div>
<div class="line"><span class="lineno">  924</span>    LOG((PI_DBG_API, PI_DBG_LVL_INFO,</div>
<div class="line"><span class="lineno">  925</span>        <span class="stringliteral">&quot;FILE INSTALL Name: %s Flags: %8.8X\n&quot;</span>, pf-&gt;info.name, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>));</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>    <span class="comment">/* Create DB */</span></div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#a409afe52eeceeb6d8a0c4d74cda22010">dlp_CreateDB</a></div>
<div class="line"><span class="lineno">  929</span>        (socket, pf-&gt;info.creator, pf-&gt;info.type, cardno, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>,</div>
<div class="line"><span class="lineno">  930</span>         pf-&gt;info.version, pf-&gt;info.name, &amp;<a class="code hl_struct" href="structdb.html">db</a>)) &lt; 0) {</div>
<div class="line"><span class="lineno">  931</span>        <span class="keywordtype">int</span> retry = 0;</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>        <span class="comment">/* Judd - 25Nov99 - Graffiti hack</span></div>
<div class="line"><span class="lineno">  934</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  935</span><span class="comment">           The dlpDBFlagNewer specifies that if a DB is open and</span></div>
<div class="line"><span class="lineno">  936</span><span class="comment">           cannot be deleted then it can be overwritten by a DB with</span></div>
<div class="line"><span class="lineno">  937</span><span class="comment">           a different name.  The creator ID of &quot;graf&quot; is what</span></div>
<div class="line"><span class="lineno">  938</span><span class="comment">           really identifies a DB, not the name.  We could call it</span></div>
<div class="line"><span class="lineno">  939</span><span class="comment">           JimBob and the palm would still find it and use it. */</span></div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>        <span class="keywordflow">if</span> (strcmp(pf-&gt;info.name, <span class="stringliteral">&quot;Graffiti ShortCuts &quot;</span>) == 0) {</div>
<div class="line"><span class="lineno">  942</span>            strcpy(pf-&gt;info.name, <span class="stringliteral">&quot;Graffiti ShortCuts&quot;</span>);</div>
<div class="line"><span class="lineno">  943</span>            retry = 1;</div>
<div class="line"><span class="lineno">  944</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(pf-&gt;info.name, <span class="stringliteral">&quot;Graffiti ShortCuts&quot;</span>) ==</div>
<div class="line"><span class="lineno">  945</span>               0) {</div>
<div class="line"><span class="lineno">  946</span>            strcpy(pf-&gt;info.name, <span class="stringliteral">&quot;Graffiti ShortCuts &quot;</span>);</div>
<div class="line"><span class="lineno">  947</span>            retry = 1;</div>
<div class="line"><span class="lineno">  948</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pf-&gt;info.creator ==</div>
<div class="line"><span class="lineno">  949</span>               <a class="code hl_define" href="#a56f4cab6c835364ae1eefcce920b32f6">pi_mktag</a>(<span class="charliteral">&#39;g&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;f&#39;</span>)) {</div>
<div class="line"><span class="lineno">  950</span>            <span class="comment">/* Yep, someone has named it JimBob */</span></div>
<div class="line"><span class="lineno">  951</span>            strcpy(pf-&gt;info.name, <span class="stringliteral">&quot;Graffiti ShortCuts&quot;</span>);</div>
<div class="line"><span class="lineno">  952</span>            retry = 1;</div>
<div class="line"><span class="lineno">  953</span>        }</div>
<div class="line"><span class="lineno">  954</span> </div>
<div class="line"><span class="lineno">  955</span>        <span class="keywordflow">if</span> (retry) {</div>
<div class="line"><span class="lineno">  956</span>            <span class="comment">/* Judd - 25Nov99 - Graffiti hack</span></div>
<div class="line"><span class="lineno">  957</span><span class="comment">               We changed the name, now we can try to write it</span></div>
<div class="line"><span class="lineno">  958</span><span class="comment">               again */</span></div>
<div class="line"><span class="lineno">  959</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#a409afe52eeceeb6d8a0c4d74cda22010">dlp_CreateDB</a></div>
<div class="line"><span class="lineno">  960</span>                (socket, pf-&gt;info.creator, pf-&gt;info.type,</div>
<div class="line"><span class="lineno">  961</span>                 cardno, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>, pf-&gt;info.version,</div>
<div class="line"><span class="lineno">  962</span>                 pf-&gt;info.name, &amp;<a class="code hl_struct" href="structdb.html">db</a>)) &lt; 0) {</div>
<div class="line"><span class="lineno">  963</span>                <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  964</span>            }</div>
<div class="line"><span class="lineno">  965</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  966</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  967</span>        }</div>
<div class="line"><span class="lineno">  968</span>    }</div>
<div class="line"><span class="lineno">  969</span> </div>
<div class="line"><span class="lineno">  970</span>    <a class="code hl_function" href="#a7a1101a452ad0cf683effedda7a879ca">pi_file_get_app_info</a>(pf, &amp;<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, &amp;l);</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>    <span class="comment">/* Compensate for bug in OS 2.x Memo */</span></div>
<div class="line"><span class="lineno">  973</span>    <span class="keywordflow">if</span> (version &gt; 0x0100</div>
<div class="line"><span class="lineno">  974</span>        &amp;&amp; strcmp(pf-&gt;info.name, <span class="stringliteral">&quot;MemoDB&quot;</span>) == 0</div>
<div class="line"><span class="lineno">  975</span>        &amp;&amp; l &gt; 0</div>
<div class="line"><span class="lineno">  976</span>        &amp;&amp; l &lt; 282) {</div>
<div class="line"><span class="lineno">  977</span>        <span class="comment">/* Justification: The appInfo structure was accidentally</span></div>
<div class="line"><span class="lineno">  978</span><span class="comment">           lengthend in OS 2.0, but the Memo application does not</span></div>
<div class="line"><span class="lineno">  979</span><span class="comment">           check that it is long enough, hence the shorter block</span></div>
<div class="line"><span class="lineno">  980</span><span class="comment">           from OS 1.x will cause the 2.0 Memo application to lock</span></div>
<div class="line"><span class="lineno">  981</span><span class="comment">           up if the sort preferences are modified. This code</span></div>
<div class="line"><span class="lineno">  982</span><span class="comment">           detects the installation of a short app info block on a</span></div>
<div class="line"><span class="lineno">  983</span><span class="comment">           2.0 machine, and lengthens it. This transformation will</span></div>
<div class="line"><span class="lineno">  984</span><span class="comment">           never lose information. */</span></div>
<div class="line"><span class="lineno">  985</span>        <span class="keywordtype">void</span> *b2 = calloc(1, 282);</div>
<div class="line"><span class="lineno">  986</span>        memcpy(b2, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, (<span class="keywordtype">size_t</span>)l);</div>
<div class="line"><span class="lineno">  987</span>        <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> = b2;</div>
<div class="line"><span class="lineno">  988</span>        progress.data.db.size.appBlockSize = 282;</div>
<div class="line"><span class="lineno">  989</span>        l = 282;</div>
<div class="line"><span class="lineno">  990</span>        freeai = 1;</div>
<div class="line"><span class="lineno">  991</span>    }</div>
<div class="line"><span class="lineno">  992</span> </div>
<div class="line"><span class="lineno">  993</span>    <span class="comment">/* All system updates seen to have the &#39;ptch&#39; type, so trigger a</span></div>
<div class="line"><span class="lineno">  994</span><span class="comment">       reboot on those */</span></div>
<div class="line"><span class="lineno">  995</span>    <span class="keywordflow">if</span> (pf-&gt;info.creator == <a class="code hl_define" href="#a56f4cab6c835364ae1eefcce920b32f6">pi_mktag</a>(<span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;h&#39;</span>))</div>
<div class="line"><span class="lineno">  996</span>        reset = 1;</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span>    <span class="keywordflow">if</span> (pf-&gt;info.flags &amp; dlpDBFlagReset)</div>
<div class="line"><span class="lineno">  999</span>        reset = 1;</div>
<div class="line"><span class="lineno"> 1000</span> </div>
<div class="line"><span class="lineno"> 1001</span>    <span class="comment">/* Upload appInfo block */</span></div>
<div class="line"><span class="lineno"> 1002</span>    <span class="keywordflow">if</span> (l &gt; 0) {</div>
<div class="line"><span class="lineno"> 1003</span>        <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#aee13b99d71e202b8b040480cde08bc3d">dlp_WriteAppBlock</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, l)) &lt; 0) {</div>
<div class="line"><span class="lineno"> 1004</span>            <span class="keywordflow">if</span> (freeai)</div>
<div class="line"><span class="lineno"> 1005</span>                free(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno"> 1006</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1007</span>        }</div>
<div class="line"><span class="lineno"> 1008</span>        <span class="keywordflow">if</span> (freeai)</div>
<div class="line"><span class="lineno"> 1009</span>            free(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno"> 1010</span>        progress.transferred_bytes = l;</div>
<div class="line"><span class="lineno"> 1011</span>        <span class="keywordflow">if</span> (report_progress &amp;&amp; report_progress(socket,</div>
<div class="line"><span class="lineno"> 1012</span>                &amp;progress) == PI_TRANSFER_STOP) {</div>
<div class="line"><span class="lineno"> 1013</span>            result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_FILE_ABORTED);</div>
<div class="line"><span class="lineno"> 1014</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1015</span>        }</div>
<div class="line"><span class="lineno"> 1016</span>    }</div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>    <span class="comment">/* Upload resources / records */</span></div>
<div class="line"><span class="lineno"> 1019</span>    <span class="keywordflow">if</span> (pf-&gt;info.flags &amp; dlpDBFlagResource) {</div>
<div class="line"><span class="lineno"> 1020</span>        <span class="keywordflow">for</span> (j = 0; j &lt; pf-&gt;num_entries; j++) {</div>
<div class="line"><span class="lineno"> 1021</span>            <span class="keywordtype">int</span>     resource_id;</div>
<div class="line"><span class="lineno"> 1022</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> type;</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="#a9f6d17f2f6043fddce5f6fc4eabc646c">pi_file_read_resource</a>(pf, j, &amp;<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>,</div>
<div class="line"><span class="lineno"> 1025</span>                    &amp;type,  &amp;resource_id)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1026</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1027</span> </div>
<div class="line"><span class="lineno"> 1028</span>            <span class="comment">/* Skip empty resource, it cannot be installed */</span></div>
<div class="line"><span class="lineno"> 1029</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> == 0)</div>
<div class="line"><span class="lineno"> 1030</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1031</span> </div>
<div class="line"><span class="lineno"> 1032</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#a965685bfbf20d6e453ddaca2422575e7">dlp_WriteResource</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>, type, resource_id, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>,</div>
<div class="line"><span class="lineno"> 1033</span>                    <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1034</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>            progress.transferred_bytes += <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno"> 1037</span>            progress.data.db.transferred_records++;</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>            <span class="keywordflow">if</span> (report_progress &amp;&amp; report_progress(socket,</div>
<div class="line"><span class="lineno"> 1040</span>                    &amp;progress) == PI_TRANSFER_STOP) {</div>
<div class="line"><span class="lineno"> 1041</span>                result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_FILE_ABORTED);</div>
<div class="line"><span class="lineno"> 1042</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1043</span>            }</div>
<div class="line"><span class="lineno"> 1044</span>            </div>
<div class="line"><span class="lineno"> 1045</span>            <span class="comment">/* If we see a &#39;boot&#39; section, regardless of file</span></div>
<div class="line"><span class="lineno"> 1046</span><span class="comment">               type, require reset */</span></div>
<div class="line"><span class="lineno"> 1047</span>            <span class="keywordflow">if</span> (type == <a class="code hl_define" href="#a56f4cab6c835364ae1eefcce920b32f6">pi_mktag</a>(<span class="charliteral">&#39;b&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;t&#39;</span>))</div>
<div class="line"><span class="lineno"> 1048</span>                reset = 1;</div>
<div class="line"><span class="lineno"> 1049</span>        }</div>
<div class="line"><span class="lineno"> 1050</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1051</span>        <span class="keywordflow">for</span> (j = 0; j &lt; pf-&gt;num_entries; j++) {</div>
<div class="line"><span class="lineno"> 1052</span>            <span class="keywordtype">int</span>     attr,</div>
<div class="line"><span class="lineno"> 1053</span>                category;</div>
<div class="line"><span class="lineno"> 1054</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> resource_id;</div>
<div class="line"><span class="lineno"> 1055</span> </div>
<div class="line"><span class="lineno"> 1056</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="#ab1228cfb3af65abf3eaf90c5eb9260ad">pi_file_read_record</a>(pf, j, &amp;<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, &amp;attr,</div>
<div class="line"><span class="lineno"> 1057</span>                    &amp;category, &amp;resource_id)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1058</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>            <span class="comment">/* Old OS version cannot install deleted records, so</span></div>
<div class="line"><span class="lineno"> 1061</span><span class="comment">               don&#39;t even try */</span></div>
<div class="line"><span class="lineno"> 1062</span>            <span class="keywordflow">if</span> ((attr &amp; (dlpRecAttrArchived | dlpRecAttrDeleted))</div>
<div class="line"><span class="lineno"> 1063</span>                &amp;&amp; version &lt; 0x0101)</div>
<div class="line"><span class="lineno"> 1064</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1065</span> </div>
<div class="line"><span class="lineno"> 1066</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#af12f6ef29f7efe7dd8d4e25f54535c02">dlp_WriteRecord</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>, attr, resource_id, category,</div>
<div class="line"><span class="lineno"> 1067</span>                    <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, 0)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1068</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>            progress.transferred_bytes += <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno"> 1071</span>            progress.data.db.transferred_records++;</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>            <span class="keywordflow">if</span> (report_progress</div>
<div class="line"><span class="lineno"> 1074</span>                &amp;&amp; report_progress(socket,</div>
<div class="line"><span class="lineno"> 1075</span>                    &amp;progress) == PI_TRANSFER_STOP) {</div>
<div class="line"><span class="lineno"> 1076</span>                result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_FILE_ABORTED);</div>
<div class="line"><span class="lineno"> 1077</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1078</span>            }</div>
<div class="line"><span class="lineno"> 1079</span>        }</div>
<div class="line"><span class="lineno"> 1080</span>    }</div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>    <span class="keywordflow">if</span> (reset)</div>
<div class="line"><span class="lineno"> 1083</span>        <a class="code hl_function" href="dlp_8c.html#a380c8de8b8e82c65a35d3ee6da383046">dlp_ResetSystem</a>(socket);</div>
<div class="line"><span class="lineno"> 1084</span> </div>
<div class="line"><span class="lineno"> 1085</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno"> 1086</span> </div>
<div class="line"><span class="lineno"> 1087</span><a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>:</div>
<div class="line"><span class="lineno"> 1088</span>    <span class="comment">/* save error codes then restore them after</span></div>
<div class="line"><span class="lineno"> 1089</span><span class="comment">       closing/deleting the DB */</span></div>
<div class="line"><span class="lineno"> 1090</span>    err1 = <a class="code hl_function" href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5">pi_error</a>(socket);</div>
<div class="line"><span class="lineno"> 1091</span>    err2 = <a class="code hl_function" href="socket_8c.html#ab0f7c13ccbc0c4b35c5b6d923c0291d3">pi_palmos_error</a>(socket);</div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>    LOG((PI_DBG_API, PI_DBG_LVL_ERR, <span class="stringliteral">&quot;FILE INSTALL error: pilot-link &quot;</span></div>
<div class="line"><span class="lineno"> 1094</span>            <span class="stringliteral">&quot;0x%04x, PalmOS 0x%04x\n&quot;</span>, err1, err2));</div>
<div class="line"><span class="lineno"> 1095</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structdb.html">db</a> != -1 &amp;&amp; <a class="code hl_function" href="socket_8c.html#a394ea83c178b51d3137ced66c4175976">pi_socket_connected</a>(socket))</div>
<div class="line"><span class="lineno"> 1096</span>        <a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno"> 1097</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="socket_8c.html#a394ea83c178b51d3137ced66c4175976">pi_socket_connected</a>(socket))</div>
<div class="line"><span class="lineno"> 1098</span>        <a class="code hl_function" href="dlp_8c.html#ad54e8e7a8b1173cc8f53bb20a32c4774">dlp_DeleteDB</a>(socket, cardno, pf-&gt;info.name);</div>
<div class="line"><span class="lineno"> 1099</span> </div>
<div class="line"><span class="lineno"> 1100</span>    <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, err1);</div>
<div class="line"><span class="lineno"> 1101</span>    <a class="code hl_function" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d">pi_set_palmos_error</a>(socket, err2);</div>
<div class="line"><span class="lineno"> 1102</span> </div>
<div class="line"><span class="lineno"> 1103</span>    <span class="keywordflow">if</span> (result &gt;= 0)</div>
<div class="line"><span class="lineno"> 1104</span>        result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_FILE_ERROR);</div>
<div class="line"><span class="lineno"> 1105</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1106</span>}</div>
<div class="ttc" id="adarwinusb_8c_html_a1cbb17ede73ea044a04a129bf4d86976"><div class="ttname"><a href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a></div><div class="ttdeci">unsigned short flags</div><div class="ttdef"><b>Definition</b> darwinusb.c:311</div></div>
<div class="ttc" id="adlp_8c_html_a380c8de8b8e82c65a35d3ee6da383046"><div class="ttname"><a href="dlp_8c.html#a380c8de8b8e82c65a35d3ee6da383046">dlp_ResetSystem</a></div><div class="ttdeci">int dlp_ResetSystem(int sd)</div><div class="ttdef"><b>Definition</b> dlp.c:1724</div></div>
<div class="ttc" id="adlp_8c_html_a409afe52eeceeb6d8a0c4d74cda22010"><div class="ttname"><a href="dlp_8c.html#a409afe52eeceeb6d8a0c4d74cda22010">dlp_CreateDB</a></div><div class="ttdeci">int dlp_CreateDB(int sd, unsigned long creator, unsigned long type, int cardno, int flags, unsigned int version, const char *name, int *dbhandle)</div><div class="ttdef"><b>Definition</b> dlp.c:1505</div></div>
<div class="ttc" id="adlp_8c_html_a965685bfbf20d6e453ddaca2422575e7"><div class="ttname"><a href="dlp_8c.html#a965685bfbf20d6e453ddaca2422575e7">dlp_WriteResource</a></div><div class="ttdeci">int dlp_WriteResource(int sd, int dbhandle, unsigned long type, int resID, const void *data, size_t length)</div><div class="ttdef"><b>Definition</b> dlp.c:2845</div></div>
<div class="ttc" id="adlp_8c_html_ac1cecb25a1c31a4cddf17dbbc7b41991"><div class="ttname"><a href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a></div><div class="ttdeci">int dlp_CloseDB(int sd, int dbhandle)</div><div class="ttdef"><b>Definition</b> dlp.c:1545</div></div>
<div class="ttc" id="adlp_8c_html_ad54e8e7a8b1173cc8f53bb20a32c4774"><div class="ttname"><a href="dlp_8c.html#ad54e8e7a8b1173cc8f53bb20a32c4774">dlp_DeleteDB</a></div><div class="ttdeci">int dlp_DeleteDB(int sd, int card, const char *name)</div><div class="ttdef"><b>Definition</b> dlp.c:1479</div></div>
<div class="ttc" id="adlp_8c_html_aee13b99d71e202b8b040480cde08bc3d"><div class="ttname"><a href="dlp_8c.html#aee13b99d71e202b8b040480cde08bc3d">dlp_WriteAppBlock</a></div><div class="ttdeci">int dlp_WriteAppBlock(int sd, int dbhandle, const void *data, size_t length)</div><div class="ttdef"><b>Definition</b> dlp.c:2977</div></div>
<div class="ttc" id="adlp_8c_html_af12f6ef29f7efe7dd8d4e25f54535c02"><div class="ttname"><a href="dlp_8c.html#af12f6ef29f7efe7dd8d4e25f54535c02">dlp_WriteRecord</a></div><div class="ttdeci">int dlp_WriteRecord(int sd, int dbhandle, int flags, recordid_t recID, int catID, const void *data, size_t length, recordid_t *pNewRecID)</div><div class="ttdef"><b>Definition</b> dlp.c:2510</div></div>
<div class="ttc" id="anamespacepisock_html_a67be2c00b93e34d6e9922c502abd0fc2"><div class="ttname"><a href="namespacepisock.html#a67be2c00b93e34d6e9922c502abd0fc2">pisock.dlpDBFlagNewer</a></div><div class="ttdeci">dlpDBFlagNewer</div><div class="ttdef"><b>Definition</b> pisock.py:731</div></div>
<div class="ttc" id="anamespacepisock_html_ab7bd30e0db3aa01ac8408eaaa83131ce"><div class="ttname"><a href="namespacepisock.html#ab7bd30e0db3aa01ac8408eaaa83131ce">pisock.dlpDBFlagReset</a></div><div class="ttdeci">dlpDBFlagReset</div><div class="ttdef"><b>Definition</b> pisock.py:732</div></div>
<div class="ttc" id="anamespacepisock_html_ac66213e06ae4795c45630d152ff02949"><div class="ttname"><a href="namespacepisock.html#ac66213e06ae4795c45630d152ff02949">pisock.dlpDBFlagResource</a></div><div class="ttdeci">dlpDBFlagResource</div><div class="ttdef"><b>Definition</b> pisock.py:722</div></div>
<div class="ttc" id="api-file_8c_html_a56f4cab6c835364ae1eefcce920b32f6"><div class="ttname"><a href="#a56f4cab6c835364ae1eefcce920b32f6">pi_mktag</a></div><div class="ttdeci">#define pi_mktag(c1, c2, c3, c4)</div><div class="ttdef"><b>Definition</b> pi-file.c:45</div></div>
<div class="ttc" id="api-file_8c_html_a7a1101a452ad0cf683effedda7a879ca"><div class="ttname"><a href="#a7a1101a452ad0cf683effedda7a879ca">pi_file_get_app_info</a></div><div class="ttdeci">void pi_file_get_app_info(pi_file_t *pf, void **datap, size_t *sizep)</div><div class="ttdef"><b>Definition</b> pi-file.c:367</div></div>
<div class="ttc" id="api-file_8c_html_a9f6d17f2f6043fddce5f6fc4eabc646c"><div class="ttname"><a href="#a9f6d17f2f6043fddce5f6fc4eabc646c">pi_file_read_resource</a></div><div class="ttdeci">int pi_file_read_resource(pi_file_t *pf, int i, void **bufp, size_t *sizep, unsigned long *type, int *idp)</div><div class="ttdef"><b>Definition</b> pi-file.c:403</div></div>
<div class="ttc" id="api-file_8c_html_ab1228cfb3af65abf3eaf90c5eb9260ad"><div class="ttname"><a href="#ab1228cfb3af65abf3eaf90c5eb9260ad">pi_file_read_record</a></div><div class="ttdeci">int pi_file_read_record(pi_file_t *pf, int recindex, void **bufp, size_t *sizep, int *recattrs, int *category, recordid_t *recuid)</div><div class="ttdef"><b>Definition</b> pi-file.c:439</div></div>
<div class="ttc" id="apilot-debug_8c_html_a0ab27356885000c0b9430ce5f9b4a4ec"><div class="ttname"><a href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a></div><div class="ttdeci">unsigned char buffer[0xffff]</div><div class="ttdef"><b>Definition</b> pilot-debug.c:767</div></div>
<div class="ttc" id="apilot-read-palmpix_8c_html_a0d1b4ddc8dbaeec0961a8c824afd9ebd"><div class="ttname"><a href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a></div><div class="ttdeci">static int fail(const char *func)</div><div class="ttdef"><b>Definition</b> pilot-read-palmpix.c:435</div></div>
<div class="ttc" id="asocket_8c_html_a394ea83c178b51d3137ced66c4175976"><div class="ttname"><a href="socket_8c.html#a394ea83c178b51d3137ced66c4175976">pi_socket_connected</a></div><div class="ttdeci">int pi_socket_connected(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1678</div></div>
<div class="ttc" id="asocket_8c_html_a415df518818c6813556c5607b29e833e"><div class="ttname"><a href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a></div><div class="ttdeci">int pi_set_error(int pi_sd, int error_code)</div><div class="ttdef"><b>Definition</b> socket.c:1625</div></div>
<div class="ttc" id="asocket_8c_html_a6d145a62ddf40544ae37407640b0e353"><div class="ttname"><a href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353">pi_version</a></div><div class="ttdeci">int pi_version(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1522</div></div>
<div class="ttc" id="asocket_8c_html_a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5"><div class="ttname"><a href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5">pi_error</a></div><div class="ttdeci">int pi_error(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1613</div></div>
<div class="ttc" id="asocket_8c_html_ab0f7c13ccbc0c4b35c5b6d923c0291d3"><div class="ttname"><a href="socket_8c.html#ab0f7c13ccbc0c4b35c5b6d923c0291d3">pi_palmos_error</a></div><div class="ttdeci">int pi_palmos_error(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1642</div></div>
<div class="ttc" id="asocket_8c_html_abc47198f50210793f9e8151cbef90c4d"><div class="ttname"><a href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d">pi_set_palmos_error</a></div><div class="ttdeci">int pi_set_palmos_error(int pi_sd, int error_code)</div><div class="ttdef"><b>Definition</b> socket.c:1654</div></div>
<div class="ttc" id="asocket_8c_html_ac8ea1ffc8384bcf6719daabbf4cee496"><div class="ttname"><a href="socket_8c.html#ac8ea1ffc8384bcf6719daabbf4cee496">pi_maxrecsize</a></div><div class="ttdeci">unsigned long pi_maxrecsize(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1552</div></div>
<div class="ttc" id="astructdb_html"><div class="ttname"><a href="structdb.html">db</a></div><div class="ttdef"><b>Definition</b> pilot-xfer.c:926</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>, <a class="el" href="#l01545">dlp_CloseDB()</a>, <a class="el" href="#l01505">dlp_CreateDB()</a>, <a class="el" href="#l01479">dlp_DeleteDB()</a>, <a class="el" href="#l01724">dlp_ResetSystem()</a>, <a class="el" href="#l02977">dlp_WriteAppBlock()</a>, <a class="el" href="#l02510">dlp_WriteRecord()</a>, <a class="el" href="#l02845">dlp_WriteResource()</a>, <a class="el" href="#l00435">fail()</a>, <a class="el" href="#l00311">flags</a>, <a class="el" href="#l01613">pi_error()</a>, <a class="el" href="#l00367">pi_file_get_app_info()</a>, <a class="el" href="#l00439">pi_file_read_record()</a>, <a class="el" href="#l00403">pi_file_read_resource()</a>, <a class="el" href="#l00094">PI_HDR_SIZE</a>, <a class="el" href="#l01552">pi_maxrecsize()</a>, <a class="el" href="#l00045">pi_mktag</a>, <a class="el" href="#l01642">pi_palmos_error()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01654">pi_set_palmos_error()</a>, <a class="el" href="#l01678">pi_socket_connected()</a>, <a class="el" href="#l01522">pi_version()</a>, and <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l02296">_wrap_pi_file_install()</a>, <a class="el" href="#l00538">do_install()</a>, <a class="el" href="#l01394">palm_install_internal()</a>, <a class="el" href="#l00961">palm_restore()</a>, and <a class="el" href="#l01109">pi_file_merge()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a2b1bd10e17e43080aab539bafd44bf9f_cgraph.png" border="0" usemap="#api-file_8c_a2b1bd10e17e43080aab539bafd44bf9f_cgraph" alt=""/></div>
<map name="api-file_8c_a2b1bd10e17e43080aab539bafd44bf9f_cgraph" id="api-file_8c_a2b1bd10e17e43080aab539bafd44bf9f_cgraph">
<area shape="rect" title=" " alt="" coords="5,1048,102,1074"/>
<area shape="rect" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991" title=" " alt="" coords="173,755,271,780"/>
<area shape="poly" title=" " alt="" coords="53,1047,58,999,73,931,85,893,101,856,122,821,148,790,157,782,160,786,152,793,126,824,106,858,90,895,78,932,64,1000,58,1048"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1083,856,1172,882"/>
<area shape="poly" title=" " alt="" coords="102,1066,260,1084,369,1091,490,1092,620,1084,753,1066,818,1052,883,1034,946,1012,1006,985,1037,966,1065,942,1107,893,1111,896,1069,945,1040,970,1009,990,948,1017,885,1039,820,1057,754,1071,621,1089,491,1097,369,1096,260,1090,102,1071"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="719,508,857,534"/>
<area shape="poly" title=" " alt="" coords="52,1047,55,939,67,771,79,683,96,603,118,539,132,514,148,496,182,471,219,452,258,437,299,428,384,420,469,425,552,439,627,458,744,499,742,504,626,463,550,444,469,430,384,425,300,433,260,442,221,457,185,476,151,500,136,517,123,541,101,605,84,684,72,771,60,939,58,1047"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="748,1211,828,1236"/>
<area shape="poly" title=" " alt="" coords="62,1073,73,1100,92,1134,118,1169,151,1196,198,1214,263,1225,342,1232,427,1235,598,1232,732,1225,732,1230,598,1238,427,1240,341,1238,263,1231,197,1219,148,1200,114,1172,88,1137,69,1102,57,1075"/>
<area shape="rect" href="dlp_8c.html#a409afe52eeceeb6d8a0c4d74cda22010" title=" " alt="" coords="170,608,274,634"/>
<area shape="poly" title=" " alt="" coords="53,1047,63,966,82,845,110,724,127,676,148,643,155,636,159,640,152,647,132,679,115,726,87,846,68,967,59,1048"/>
<area shape="rect" href="dlp_8c.html#ad54e8e7a8b1173cc8f53bb20a32c4774" title=" " alt="" coords="171,828,273,854"/>
<area shape="poly" title=" " alt="" coords="55,1047,64,1011,82,962,109,909,127,884,148,863,155,857,158,862,151,867,131,888,114,912,87,964,69,1012,60,1048"/>
<area shape="rect" href="dlp_8c.html#a380c8de8b8e82c65a35d3ee6da383046" title=" " alt="" coords="159,681,284,707"/>
<area shape="poly" title=" " alt="" coords="52,1048,53,989,64,900,76,852,93,803,117,757,148,716,150,714,153,718,152,720,121,760,98,805,81,853,69,901,58,989,57,1048"/>
<area shape="rect" href="dlp_8c.html#aee13b99d71e202b8b040480cde08bc3d" title=" " alt="" coords="156,535,288,560"/>
<area shape="poly" title=" " alt="" coords="53,1047,60,954,77,811,90,736,106,667,125,609,148,570,149,569,153,572,152,573,130,612,111,668,95,737,83,812,66,954,58,1048"/>
<area shape="rect" href="dlp_8c.html#af12f6ef29f7efe7dd8d4e25f54535c02" title=" " alt="" coords="163,901,280,927"/>
<area shape="poly" title=" " alt="" coords="59,1046,93,993,118,963,148,936,154,932,157,937,151,940,122,966,97,996,64,1049"/>
<area shape="rect" href="dlp_8c.html#a965685bfbf20d6e453ddaca2422575e7" title=" " alt="" coords="156,975,288,1000"/>
<area shape="poly" title=" " alt="" coords="84,1045,175,1005,178,1009,86,1050"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="203,1160,241,1186"/>
<area shape="poly" title=" " alt="" coords="70,1072,105,1104,151,1139,189,1158,187,1163,148,1143,102,1108,66,1076"/>
<area shape="rect" href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5" title=" " alt="" coords="573,1463,638,1488"/>
<area shape="poly" title=" " alt="" coords="58,1074,65,1161,81,1291,93,1358,109,1419,128,1468,139,1486,151,1499,175,1515,199,1528,253,1544,310,1549,367,1545,423,1536,476,1522,560,1492,562,1497,477,1528,424,1541,368,1551,310,1554,252,1549,197,1533,172,1520,148,1503,135,1489,124,1470,104,1421,88,1359,75,1292,59,1161,53,1074"/>
<area shape="rect" href="pi-file_8c.html#a7a1101a452ad0cf683effedda7a879ca" title=" " alt="" coords="154,1261,290,1287"/>
<area shape="poly" title=" " alt="" coords="61,1073,72,1106,90,1151,117,1198,152,1240,167,1252,164,1256,148,1244,112,1201,85,1153,67,1108,56,1075"/>
<area shape="rect" href="pi-file_8c.html#ab1228cfb3af65abf3eaf90c5eb9260ad" title=" " alt="" coords="157,1413,287,1439"/>
<area shape="poly" title=" " alt="" coords="57,1074,61,1131,73,1215,85,1261,101,1308,123,1353,152,1392,164,1403,161,1407,148,1396,119,1355,96,1310,80,1263,68,1216,55,1131,52,1074"/>
<area shape="rect" href="pi-file_8c.html#a9f6d17f2f6043fddce5f6fc4eabc646c" title=" " alt="" coords="150,1463,294,1488"/>
<area shape="poly" title=" " alt="" coords="59,1074,69,1151,88,1264,116,1376,133,1420,152,1450,153,1451,149,1455,148,1453,128,1422,111,1378,83,1265,64,1151,54,1074"/>
<area shape="rect" href="socket_8c.html#ac8ea1ffc8384bcf6719daabbf4cee496" title=" " alt="" coords="553,1361,658,1387"/>
<area shape="poly" title=" " alt="" coords="57,1074,60,1125,72,1197,84,1236,101,1274,123,1308,151,1336,196,1364,245,1383,297,1395,350,1401,402,1402,452,1399,537,1387,538,1392,453,1404,402,1407,350,1406,296,1400,243,1388,194,1369,148,1340,119,1311,96,1276,79,1238,67,1199,55,1125,52,1074"/>
<area shape="rect" href="socket_8c.html#ab0f7c13ccbc0c4b35c5b6d923c0291d3" title=" " alt="" coords="549,1312,662,1338"/>
<area shape="poly" title=" " alt="" coords="58,1074,63,1119,77,1181,89,1214,105,1245,126,1274,151,1297,180,1311,219,1321,322,1331,434,1331,533,1327,533,1333,434,1337,322,1336,218,1326,178,1316,148,1302,122,1277,101,1248,84,1216,72,1182,58,1119,53,1074"/>
<area shape="rect" href="socket_8c.html#a394ea83c178b51d3137ced66c4175976" title=" " alt="" coords="1055,5,1200,31"/>
<area shape="poly" title=" " alt="" coords="52,1047,56,957,68,808,80,720,97,628,119,536,147,447,172,367,190,290,206,217,225,151,251,95,268,71,288,51,313,35,342,23,376,15,416,13,789,13,1040,14,1040,20,789,18,416,18,377,21,344,28,315,40,292,55,272,75,255,98,230,153,211,218,195,291,177,369,152,448,124,537,102,629,86,721,74,808,61,958,58,1048"/>
<area shape="poly" title=" " alt="" coords="193,756,188,746,191,736,203,730,222,728,242,731,253,737,250,742,241,736,222,733,204,735,195,740,193,745,198,753"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="380,644,454,670"/>
<area shape="poly" title=" " alt="" coords="242,752,292,717,316,697,341,679,365,668,367,673,343,683,319,701,296,722,245,756"/>
<area shape="poly" title=" " alt="" coords="273,776,296,789,307,803,314,817,319,844,325,870,332,881,344,892,377,912,408,924,436,929,465,929,527,922,604,917,789,917,865,913,940,904,1067,880,1068,886,941,910,865,919,789,922,604,922,528,928,465,935,436,935,406,929,375,917,340,896,328,884,320,872,314,845,309,818,303,806,292,794,270,780"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="358,792,476,818"/>
<area shape="poly" title=" " alt="" coords="272,774,344,788,343,793,271,779"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="358,693,477,719"/>
<area shape="poly" title=" " alt="" coords="265,751,358,722,360,727,266,757"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="354,743,481,768"/>
<area shape="poly" title=" " alt="" coords="271,762,338,758,338,763,271,767"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="364,595,471,620"/>
<area shape="poly" title=" " alt="" coords="248,752,271,737,292,718,307,695,314,673,322,651,340,630,349,624,352,628,344,633,327,654,319,675,312,697,296,721,274,741,250,756"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="726,305,850,331"/>
<area shape="poly" title=" " alt="" coords="453,648,473,641,491,631,507,614,516,598,524,580,538,559,596,494,658,432,758,339,761,343,661,436,600,497,542,562,529,583,521,600,511,618,494,635,475,646,455,653"/>
<area shape="poly" title=" " alt="" coords="455,661,475,668,494,679,511,696,519,713,527,730,542,747,588,781,630,805,669,821,709,831,796,840,905,848,1068,862,1067,867,905,853,795,845,708,836,668,826,627,810,585,785,539,751,523,733,514,715,506,699,491,683,473,673,454,666"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="540,711,671,736"/>
<area shape="poly" title=" " alt="" coords="455,666,493,678,558,702,556,707,491,683,453,671"/>
<area shape="poly" title=" " alt="" coords="454,645,491,630,515,616,539,601,633,564,721,536,722,541,635,569,542,606,518,620,493,635,455,650"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="912,255,1000,280"/>
<area shape="poly" title=" " alt="" coords="832,302,897,282,899,287,834,307"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1094,153,1161,179"/>
<area shape="poly" title=" " alt="" coords="821,302,855,284,879,262,889,251,904,240,948,217,995,199,1079,174,1080,179,996,204,950,222,906,244,892,255,883,266,859,288,824,307"/>
<area shape="poly" title=" " alt="" coords="851,323,891,332,933,347,974,369,1009,399,1031,434,1051,484,1085,611,1110,742,1125,840,1120,841,1105,743,1080,612,1046,486,1027,436,1005,403,971,374,931,352,889,338,849,328"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="923,103,989,128"/>
<area shape="poly" title=" " alt="" coords="829,303,855,284,868,267,875,251,880,217,884,183,891,165,903,146,913,136,916,140,907,149,896,167,889,185,885,218,880,252,872,270,859,288,833,307"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1248,581,1353,607"/>
<area shape="poly" title=" " alt="" coords="1162,172,1183,181,1202,196,1233,242,1257,291,1275,344,1287,397,1300,494,1303,566,1297,566,1295,494,1282,398,1270,345,1252,294,1228,244,1198,200,1181,186,1160,176"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1251,80,1350,106"/>
<area shape="poly" title=" " alt="" coords="1160,154,1199,140,1260,111,1263,115,1201,145,1162,159"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1408,532,1513,558"/>
<area shape="poly" title=" " alt="" coords="1344,578,1401,560,1402,565,1346,583"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1401,581,1520,607"/>
<area shape="poly" title=" " alt="" coords="1353,592,1385,592,1385,597,1353,597"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1417,631,1504,656"/>
<area shape="poly" title=" " alt="" coords="1346,605,1403,623,1402,628,1344,610"/>
<area shape="poly" title=" " alt="" coords="1135,854,1281,619,1285,621,1139,857"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1094,104,1161,130"/>
<area shape="poly" title=" " alt="" coords="990,113,1079,114,1079,119,990,118"/>
<area shape="poly" title=" " alt="" coords="1162,118,1183,126,1202,139,1222,173,1240,221,1269,343,1288,471,1299,566,1294,566,1283,471,1264,344,1235,223,1218,175,1198,143,1181,130,1160,123"/>
<area shape="poly" title=" " alt="" coords="1161,110,1235,99,1236,104,1162,115"/>
<area shape="poly" title=" " alt="" coords="625,735,667,763,720,790,773,803,866,821,1068,857,1067,862,866,827,771,809,718,795,664,768,622,739"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="741,557,835,583"/>
<area shape="poly" title=" " alt="" coords="642,708,669,690,685,665,691,641,698,617,717,592,725,586,728,590,721,596,703,619,696,643,690,667,673,693,645,712"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="723,656,852,682"/>
<area shape="poly" title=" " alt="" coords="650,708,727,684,729,689,652,713"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="738,705,838,731"/>
<area shape="poly" title=" " alt="" coords="671,719,722,717,722,723,671,724"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="737,755,839,780"/>
<area shape="poly" title=" " alt="" coords="662,734,722,749,721,754,661,740"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="740,607,836,632"/>
<area shape="poly" title=" " alt="" coords="637,708,669,689,683,677,692,665,702,653,717,641,725,637,728,641,720,646,706,657,696,669,687,681,672,694,640,712"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="924,53,988,79"/>
<area shape="poly" title=" " alt="" coords="605,710,613,643,632,537,665,413,688,351,716,292,756,225,795,177,841,135,903,88,910,84,913,88,907,92,844,140,799,180,761,228,721,294,693,353,670,415,637,538,618,644,611,711"/>
<area shape="poly" title=" " alt="" coords="609,709,623,676,646,631,677,584,717,543,722,539,725,544,720,547,681,587,650,634,628,678,614,711"/>
<area shape="poly" title=" " alt="" coords="618,736,645,779,673,836,711,937,743,1039,783,1195,778,1196,738,1041,706,939,668,838,640,782,613,738"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="911,607,1001,632"/>
<area shape="poly" title=" " alt="" coords="836,617,896,617,896,622,836,622"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1096,55,1159,80"/>
<area shape="poly" title=" " alt="" coords="988,64,1080,64,1080,70,988,69"/>
<area shape="poly" title=" " alt="" coords="1160,68,1182,76,1202,90,1224,128,1243,182,1259,248,1272,320,1290,461,1300,566,1294,566,1285,462,1267,320,1254,249,1238,183,1219,130,1198,93,1180,80,1159,73"/>
<area shape="poly" title=" " alt="" coords="1160,69,1237,81,1236,86,1159,75"/>
<area shape="poly" title=" " alt="" coords="858,528,1233,582,1232,587,857,533"/>
<area shape="poly" title=" " alt="" coords="829,1232,907,1248,954,1253,1006,1255,1058,1251,1109,1241,1156,1222,1198,1192,1213,1175,1226,1151,1248,1086,1266,1007,1278,919,1292,746,1296,622,1301,623,1297,747,1283,920,1271,1008,1254,1088,1231,1153,1217,1178,1201,1196,1159,1226,1110,1246,1058,1257,1006,1260,954,1259,906,1253,828,1237"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="905,1160,1007,1186"/>
<area shape="poly" title=" " alt="" coords="828,1209,896,1188,898,1193,829,1214"/>
<area shape="poly" title=" " alt="" coords="1008,1181,1054,1185,1105,1184,1155,1172,1178,1161,1198,1146,1211,1129,1224,1107,1245,1049,1262,976,1274,896,1290,737,1296,622,1301,623,1295,738,1280,897,1267,977,1250,1050,1229,1109,1216,1132,1202,1149,1180,1165,1157,1177,1105,1189,1053,1191,1007,1186"/>
<area shape="poly" title=" " alt="" coords="983,1157,1005,1139,1048,1077,1080,1009,1103,946,1117,896,1122,898,1108,948,1085,1012,1052,1080,1009,1143,986,1162"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1059,1109,1196,1135"/>
<area shape="poly" title=" " alt="" coords="1001,1157,1067,1137,1068,1142,1003,1162"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="559,849,652,875"/>
<area shape="poly" title=" " alt="" coords="463,816,547,842,546,847,461,821"/>
<area shape="poly" title=" " alt="" coords="464,690,491,680,539,652,636,613,725,585,727,590,638,618,541,657,493,685,466,695"/>
<area shape="poly" title=" " alt="" coords="477,717,494,728,513,753,520,778,526,803,542,828,556,839,553,844,538,832,521,805,515,780,508,756,491,732,474,722"/>
<area shape="poly" title=" " alt="" coords="472,766,494,777,509,790,519,803,528,815,542,828,561,840,558,844,539,832,524,819,515,806,505,794,491,782,470,771"/>
<area shape="poly" title=" " alt="" coords="421,593,459,505,491,443,533,378,583,316,612,288,642,264,675,243,710,228,747,218,786,214,958,214,992,217,1026,226,1057,239,1086,257,1139,303,1185,358,1223,416,1253,474,1292,566,1287,568,1248,476,1218,419,1180,361,1135,306,1083,261,1054,244,1024,231,992,222,957,219,787,219,748,223,712,233,678,248,645,268,615,292,587,320,537,381,496,446,463,507,426,595"/>
<area shape="poly" title=" " alt="" coords="274,628,366,645,365,650,273,633"/>
<area shape="poly" title=" " alt="" coords="244,606,292,571,315,545,325,533,340,520,409,479,472,449,530,430,588,421,647,420,710,427,779,440,858,460,905,471,942,483,975,501,1009,534,1038,571,1061,612,1080,655,1096,698,1116,779,1126,840,1121,841,1111,780,1090,700,1075,657,1056,614,1033,574,1005,537,971,505,940,488,903,476,856,465,778,445,709,432,647,425,589,426,532,435,474,454,412,483,344,524,329,536,319,548,296,575,247,610"/>
<area shape="poly" title=" " alt="" coords="276,629,296,643,310,660,317,678,321,713,324,746,331,763,344,779,347,782,343,786,340,783,326,765,319,748,315,713,312,679,305,663,292,647,273,634"/>
<area shape="poly" title=" " alt="" coords="271,632,295,643,320,661,343,680,354,685,351,690,341,684,316,666,293,647,269,637"/>
<area shape="poly" title=" " alt="" coords="275,631,296,643,313,665,320,687,327,709,344,730,348,732,344,737,340,733,323,711,315,689,309,668,292,647,273,635"/>
<area shape="poly" title=" " alt="" coords="274,615,348,610,348,615,274,620"/>
<area shape="poly" title=" " alt="" coords="193,609,188,599,191,590,203,584,222,581,242,584,253,591,250,595,241,589,222,587,204,589,195,593,193,599,198,606"/>
<area shape="poly" title=" " alt="" coords="249,825,271,810,292,791,308,762,313,734,320,707,328,693,340,679,364,664,367,669,344,683,332,696,325,709,319,735,313,764,296,794,275,815,252,830"/>
<area shape="poly" title=" " alt="" coords="275,851,296,863,312,882,319,903,327,921,343,936,370,948,403,957,481,971,572,977,670,976,768,971,861,962,943,950,1007,936,1055,915,1096,889,1099,894,1058,920,1008,941,944,955,862,967,769,976,670,982,572,982,480,976,401,963,368,953,341,940,322,924,314,904,307,885,292,867,272,855"/>
<area shape="poly" title=" " alt="" coords="273,829,343,816,344,821,274,834"/>
<area shape="poly" title=" " alt="" coords="245,825,292,791,306,774,315,759,324,743,340,728,347,724,350,728,344,732,328,747,319,761,310,777,296,795,248,830"/>
<area shape="poly" title=" " alt="" coords="245,825,341,777,355,772,357,776,343,782,247,830"/>
<area shape="poly" title=" " alt="" coords="250,825,273,811,292,791,304,770,310,749,312,709,316,670,324,650,340,630,348,623,352,627,344,633,329,653,321,671,318,710,315,750,309,772,296,794,276,815,253,830"/>
<area shape="poly" title=" " alt="" coords="193,829,188,819,191,810,203,804,222,801,242,804,253,811,250,815,241,809,222,807,204,809,195,813,193,819,198,826"/>
<area shape="poly" title=" " alt="" coords="284,680,365,664,366,669,285,685"/>
<area shape="poly" title=" " alt="" coords="245,679,292,644,306,627,314,611,323,595,340,580,410,537,472,503,531,479,589,464,648,458,710,461,780,472,858,493,907,510,943,528,975,554,1009,593,1053,656,1085,725,1108,790,1122,840,1117,841,1103,791,1080,727,1048,659,1005,596,971,558,940,533,905,514,856,498,778,478,710,466,648,463,590,469,533,484,474,508,412,542,344,584,328,599,319,614,310,630,296,648,249,683"/>
<area shape="poly" title=" " alt="" coords="276,705,296,716,312,732,320,748,329,764,344,779,350,783,347,787,340,783,324,767,316,751,307,735,292,720,274,710"/>
<area shape="poly" title=" " alt="" coords="285,695,342,699,342,704,284,701"/>
<area shape="poly" title=" " alt="" coords="266,705,360,735,358,740,265,710"/>
<area shape="poly" title=" " alt="" coords="245,678,289,654,341,629,355,623,357,628,343,634,291,659,247,683"/>
<area shape="poly" title=" " alt="" coords="193,682,188,673,191,663,203,657,222,655,242,657,253,664,250,668,241,662,222,660,204,662,195,667,193,672,198,680"/>
<area shape="poly" title=" " alt="" coords="276,559,296,569,312,585,320,601,329,616,344,631,367,643,365,648,340,635,324,619,316,604,307,588,292,574,273,563"/>
<area shape="poly" title=" " alt="" coords="237,532,282,498,341,462,413,430,478,407,537,393,594,386,651,387,712,395,858,426,941,442,974,456,1009,486,1042,528,1068,575,1089,625,1104,676,1122,770,1128,840,1123,841,1116,771,1099,677,1084,627,1064,578,1038,531,1005,489,972,461,939,448,856,431,711,400,651,393,594,392,538,398,479,412,415,435,343,467,285,502,240,536"/>
<area shape="poly" title=" " alt="" coords="282,559,296,570,314,597,322,624,323,650,320,677,318,702,319,728,326,753,344,779,347,782,344,786,340,783,322,756,314,729,313,702,315,676,318,650,317,625,309,599,292,573,279,563"/>
<area shape="poly" title=" " alt="" coords="280,559,296,570,308,584,315,598,321,626,326,654,332,667,344,680,347,683,343,687,340,684,328,670,321,656,315,627,310,600,304,587,292,573,277,563"/>
<area shape="poly" title=" " alt="" coords="282,559,296,570,311,590,319,611,321,651,322,691,329,710,344,730,346,732,342,735,340,733,325,713,317,692,315,652,313,612,306,593,292,573,278,563"/>
<area shape="poly" title=" " alt="" coords="267,558,359,587,358,592,266,564"/>
<area shape="poly" title=" " alt="" coords="193,536,188,526,191,516,203,510,222,508,242,511,253,517,250,522,241,516,222,513,204,515,195,520,193,525,198,533"/>
<area shape="poly" title=" " alt="" coords="251,899,273,884,292,865,305,840,311,816,312,771,314,726,323,702,340,679,364,663,367,668,344,683,328,705,319,727,317,771,317,817,310,842,296,868,276,888,254,903"/>
<area shape="poly" title=" " alt="" coords="273,925,295,936,310,948,319,959,328,970,343,978,417,1003,481,1016,538,1020,593,1017,710,999,778,989,857,981,934,979,967,974,1006,961,1034,946,1060,928,1102,891,1106,895,1063,933,1037,951,1008,966,968,980,934,984,857,986,778,994,711,1005,594,1023,538,1026,480,1022,415,1008,341,983,325,974,315,963,306,951,293,940,270,930"/>
<area shape="poly" title=" " alt="" coords="279,925,296,936,315,962,321,988,327,1013,344,1038,389,1075,439,1108,493,1135,547,1158,650,1192,733,1212,732,1217,648,1197,545,1163,490,1140,437,1112,386,1079,340,1041,322,1015,316,989,310,964,292,940,276,930"/>
<area shape="poly" title=" " alt="" coords="242,899,292,864,316,845,341,828,354,821,357,826,343,832,319,849,296,868,245,903"/>
<area shape="poly" title=" " alt="" coords="250,898,272,884,292,865,303,846,309,829,313,796,318,762,326,745,340,728,343,726,346,730,344,732,331,748,323,764,318,796,314,830,308,849,296,868,276,888,253,903"/>
<area shape="poly" title=" " alt="" coords="247,898,270,883,292,864,307,842,314,820,322,799,340,778,344,774,348,779,344,781,327,802,319,822,312,844,296,868,274,888,250,903"/>
<area shape="poly" title=" " alt="" coords="252,898,274,884,292,865,308,833,314,803,314,774,311,746,309,717,310,689,320,660,340,630,348,623,351,627,344,633,324,662,316,690,314,717,316,745,319,774,319,804,313,835,296,868,277,888,255,903"/>
<area shape="poly" title=" " alt="" coords="193,902,188,893,191,883,203,877,222,875,242,877,253,884,250,888,241,882,222,880,204,882,195,887,193,892,198,900"/>
<area shape="poly" title=" " alt="" coords="252,972,274,957,292,938,309,903,315,870,314,838,310,807,307,776,308,744,318,712,340,679,364,663,367,667,344,683,323,714,314,745,312,775,316,806,320,838,320,870,314,905,296,941,277,961,255,976"/>
<area shape="poly" title=" " alt="" coords="288,986,421,986,601,977,701,968,804,955,907,937,1007,914,1084,886,1086,891,1008,919,908,943,805,960,702,973,601,982,421,991,288,992"/>
<area shape="poly" title=" " alt="" coords="232,1000,273,1067,305,1106,344,1139,391,1165,443,1186,496,1201,550,1212,651,1222,732,1224,732,1229,651,1228,549,1217,495,1206,441,1191,389,1170,340,1143,301,1109,268,1070,227,1002"/>
<area shape="poly" title=" " alt="" coords="249,972,271,957,292,938,308,909,313,882,320,856,340,828,346,824,349,828,344,832,325,858,319,884,313,911,296,941,275,961,252,976"/>
<area shape="poly" title=" " alt="" coords="251,972,273,957,292,938,306,910,313,883,311,832,310,807,312,781,321,755,340,728,343,725,347,729,344,732,326,757,318,782,315,807,317,832,318,884,311,912,296,941,277,961,254,976"/>
<area shape="poly" title=" " alt="" coords="250,972,273,957,292,938,304,917,310,896,312,857,316,818,325,798,340,778,342,776,346,779,344,781,329,801,321,819,318,857,315,897,309,919,296,941,276,961,253,976"/>
<area shape="poly" title=" " alt="" coords="252,972,274,957,292,938,311,896,317,857,315,819,309,782,304,745,304,707,315,669,340,630,348,622,352,626,344,633,320,671,310,708,310,744,315,781,321,818,323,857,316,898,296,941,277,961,255,976"/>
<area shape="poly" title=" " alt="" coords="193,976,188,966,191,956,203,950,222,948,242,951,253,957,250,962,241,956,222,953,204,955,195,960,193,965,198,973"/>
<area shape="rect" href="dlp_8c.html#afe306b7b3888367eebf1222196b1b815" title=" " alt="" coords="342,842,492,882"/>
<area shape="poly" title=" " alt="" coords="242,972,370,889,373,893,245,976"/>
<area shape="poly" title=" " alt="" coords="477,839,490,828,503,812,509,796,513,763,517,730,525,713,538,696,555,683,571,676,603,671,635,667,651,662,669,652,684,638,692,623,701,608,717,592,725,587,728,591,720,596,705,611,697,626,688,641,672,656,654,667,636,672,603,676,573,681,558,688,542,700,529,716,523,732,518,764,514,797,507,815,494,832,481,843"/>
<area shape="poly" title=" " alt="" coords="493,860,544,860,544,865,493,865"/>
<area shape="poly" title=" " alt="" coords="639,1481,746,1499,818,1505,897,1506,979,1499,1059,1480,1097,1466,1133,1448,1167,1426,1198,1399,1208,1383,1217,1356,1235,1274,1251,1165,1264,1041,1284,793,1295,622,1300,622,1290,794,1270,1042,1256,1166,1240,1275,1222,1357,1212,1385,1202,1403,1170,1430,1136,1452,1099,1471,1061,1485,980,1504,898,1512,818,1511,745,1504,638,1486"/>
<area shape="rect" href="pi-file_8c.html#ae61f7cf14c3c66627059dd6a2c285554" title=" " alt="" coords="347,1437,487,1463"/>
<area shape="poly" title=" " alt="" coords="288,1432,332,1437,331,1442,287,1437"/>
<area shape="poly" title=" " alt="" coords="294,1463,331,1459,332,1464,295,1469"/>
<area shape="poly" title=" " alt="" coords="659,1385,771,1405,841,1412,916,1413,993,1406,1068,1388,1103,1375,1137,1359,1169,1338,1198,1314,1215,1292,1231,1262,1256,1182,1274,1085,1286,978,1296,768,1297,623,1302,623,1302,768,1291,978,1279,1086,1261,1184,1236,1264,1220,1294,1202,1317,1172,1342,1140,1363,1105,1380,1069,1393,994,1411,916,1418,841,1417,770,1410,658,1390"/>
<area shape="poly" title=" " alt="" coords="650,1358,669,1348,699,1325,725,1298,767,1248,771,1251,729,1302,702,1329,672,1352,652,1363"/>
<area shape="poly" title=" " alt="" coords="663,1324,792,1326,952,1319,1031,1311,1102,1299,1159,1281,1181,1270,1198,1258,1214,1237,1228,1210,1252,1138,1269,1049,1282,951,1294,758,1296,623,1302,623,1299,759,1287,951,1275,1050,1257,1139,1233,1212,1218,1240,1202,1261,1184,1275,1161,1286,1103,1304,1032,1317,953,1325,792,1331,663,1330"/>
<area shape="poly" title=" " alt="" coords="1188,30,1202,40,1226,82,1246,143,1262,216,1275,296,1292,452,1300,566,1295,566,1287,453,1270,296,1257,217,1241,144,1221,85,1198,44,1185,34"/>
<area shape="poly" title=" " alt="" coords="1173,29,1201,40,1263,70,1261,75,1199,45,1171,34"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a2b1bd10e17e43080aab539bafd44bf9f_icgraph.png" border="0" usemap="#api-file_8c_a2b1bd10e17e43080aab539bafd44bf9f_icgraph" alt=""/></div>
<map name="api-file_8c_a2b1bd10e17e43080aab539bafd44bf9f_icgraph" id="api-file_8c_a2b1bd10e17e43080aab539bafd44bf9f_icgraph">
<area shape="rect" title=" " alt="" coords="434,104,531,130"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="248,5,386,31"/>
<area shape="poly" title=" " alt="" coords="454,95,422,69,385,45,362,34,364,29,388,40,426,65,458,91"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="278,55,355,80"/>
<area shape="poly" title=" " alt="" coords="422,102,355,81,356,76,423,96"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="247,104,386,130"/>
<area shape="poly" title=" " alt="" coords="419,120,387,120,387,114,419,114"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="103,155,199,180"/>
<area shape="poly" title=" " alt="" coords="423,137,387,145,287,159,200,167,199,162,286,154,386,140,422,132"/>
<area shape="rect" href="pi-file_8c.html#a98cc34b189094419f679b3860e0c8ec3" title=" " alt="" coords="268,205,366,231"/>
<area shape="poly" title=" " alt="" coords="455,141,388,188,351,207,349,202,385,184,452,137"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="126,55,176,80"/>
<area shape="poly" title=" " alt="" coords="263,70,176,70,176,65,263,65"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="106,104,196,130"/>
<area shape="poly" title=" " alt="" coords="231,120,197,120,197,114,231,114"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,155,55,180"/>
<area shape="poly" title=" " alt="" coords="106,138,56,160,54,155,104,134"/>
<area shape="poly" title=" " alt="" coords="87,170,55,170,55,165,87,165"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="105,204,197,230"/>
<area shape="poly" title=" " alt="" coords="252,220,198,220,198,215,252,215"/>
<area shape="poly" title=" " alt="" coords="102,200,54,180,56,175,104,195"/>
</map>
</div>

</div>
</div>
<a id="a98cc34b189094419f679b3860e0c8ec3" name="a98cc34b189094419f679b3860e0c8ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98cc34b189094419f679b3860e0c8ec3">&#9670;&#160;</a></span>pi_file_merge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_merge </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>socket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cardno</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">progress_func</td>          <td class="paramname"><span class="paramname"><em>report_progress</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1111</span>{</div>
<div class="line"><span class="lineno"> 1112</span>    <span class="keywordtype">int</span>     <a class="code hl_struct" href="structdb.html">db</a> = -1,</div>
<div class="line"><span class="lineno"> 1113</span>        j,</div>
<div class="line"><span class="lineno"> 1114</span>        reset   = 0,</div>
<div class="line"><span class="lineno"> 1115</span>        version,</div>
<div class="line"><span class="lineno"> 1116</span>        result;</div>
<div class="line"><span class="lineno"> 1117</span>    <span class="keywordtype">void</span>    *<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>;</div>
<div class="line"><span class="lineno"> 1118</span>    <span class="keywordtype">size_t</span>  <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno"> 1119</span>    pi_progress_t progress;</div>
<div class="line"><span class="lineno"> 1120</span>    </div>
<div class="line"><span class="lineno"> 1121</span>    version = <a class="code hl_function" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353">pi_version</a>(socket);</div>
<div class="line"><span class="lineno"> 1122</span> </div>
<div class="line"><span class="lineno"> 1123</span>    memset(&amp;progress, 0, <span class="keyword">sizeof</span>(progress));</div>
<div class="line"><span class="lineno"> 1124</span>    progress.type = PI_PROGRESS_SEND_DB;</div>
<div class="line"><span class="lineno"> 1125</span>    progress.data.db.pf = pf;</div>
<div class="line"><span class="lineno"> 1126</span>    progress.data.db.size.numRecords = pf-&gt;num_entries;</div>
<div class="line"><span class="lineno"> 1127</span>    progress.data.db.size.dataBytes = pf-&gt;app_info_size;</div>
<div class="line"><span class="lineno"> 1128</span>    progress.data.db.size.appBlockSize = pf-&gt;app_info_size;</div>
<div class="line"><span class="lineno"> 1129</span>    progress.data.db.size.maxRecSize = <a class="code hl_function" href="socket_8c.html#ac8ea1ffc8384bcf6719daabbf4cee496">pi_maxrecsize</a>(socket);</div>
<div class="line"><span class="lineno"> 1130</span> </div>
<div class="line"><span class="lineno"> 1131</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a>(socket, cardno, dlpOpenReadWrite | dlpOpenSecret,</div>
<div class="line"><span class="lineno"> 1132</span>            pf-&gt;info.name, &amp;<a class="code hl_struct" href="structdb.html">db</a>) &lt; 0)</div>
<div class="line"><span class="lineno"> 1133</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a2b1bd10e17e43080aab539bafd44bf9f">pi_file_install</a>(pf, socket, cardno, report_progress);</div>
<div class="line"><span class="lineno"> 1134</span> </div>
<div class="line"><span class="lineno"> 1135</span>    <span class="comment">/* compute total size for progress reporting, and check that</span></div>
<div class="line"><span class="lineno"> 1136</span><span class="comment">       either records are 64k or less, or the handheld can accept</span></div>
<div class="line"><span class="lineno"> 1137</span><span class="comment">       large records. we do this prior to starting the install,</span></div>
<div class="line"><span class="lineno"> 1138</span><span class="comment">       to avoid messing the device up if we have to fail. */</span></div>
<div class="line"><span class="lineno"> 1139</span>    <span class="keywordflow">for</span> (j = 0; j &lt; pf-&gt;num_entries; j++) {</div>
<div class="line"><span class="lineno"> 1140</span>        result =  (pf-&gt;info.flags &amp; <a class="code hl_variable" href="namespacepisock.html#ac66213e06ae4795c45630d152ff02949">dlpDBFlagResource</a>) ?</div>
<div class="line"><span class="lineno"> 1141</span>            <a class="code hl_function" href="#a9f6d17f2f6043fddce5f6fc4eabc646c">pi_file_read_resource</a>(pf, j, 0, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, 0, 0) :</div>
<div class="line"><span class="lineno"> 1142</span>            <a class="code hl_function" href="#ab1228cfb3af65abf3eaf90c5eb9260ad">pi_file_read_record</a>(pf, j, 0, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, 0, 0, 0);</div>
<div class="line"><span class="lineno"> 1143</span>        <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 1144</span>            LOG((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno"> 1145</span>                <span class="stringliteral">&quot;FILE INSTALL can&#39;t read all records/resources\n&quot;</span>));</div>
<div class="line"><span class="lineno"> 1146</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1147</span>        }</div>
<div class="line"><span class="lineno"> 1148</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> &gt; 65536 &amp;&amp; version &lt; 0x0104) {</div>
<div class="line"><span class="lineno"> 1149</span>            LOG((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno"> 1150</span>                <span class="stringliteral">&quot;FILE INSTALL Database contains&quot;</span></div>
<div class="line"><span class="lineno"> 1151</span>                <span class="stringliteral">&quot; record/resource over 64K!\n&quot;</span>));</div>
<div class="line"><span class="lineno"> 1152</span>            result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_DLP_DATASIZE);</div>
<div class="line"><span class="lineno"> 1153</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1154</span>        }</div>
<div class="line"><span class="lineno"> 1155</span>        progress.data.db.size.dataBytes += <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno"> 1156</span>    }</div>
<div class="line"><span class="lineno"> 1157</span> </div>
<div class="line"><span class="lineno"> 1158</span>    progress.data.db.size.totalBytes =</div>
<div class="line"><span class="lineno"> 1159</span>        progress.data.db.size.dataBytes +</div>
<div class="line"><span class="lineno"> 1160</span>        pf-&gt;ent_hdr_size * pf-&gt;num_entries +</div>
<div class="line"><span class="lineno"> 1161</span>        <a class="code hl_define" href="#abaaa1b2ec997861b74b1f0573929c630">PI_HDR_SIZE</a> + 2;</div>
<div class="line"><span class="lineno"> 1162</span> </div>
<div class="line"><span class="lineno"> 1163</span>    <span class="comment">/* All system updates seen to have the &#39;ptch&#39; type, so trigger a</span></div>
<div class="line"><span class="lineno"> 1164</span><span class="comment">       reboot on those */</span></div>
<div class="line"><span class="lineno"> 1165</span>    <span class="keywordflow">if</span> (pf-&gt;info.creator == <a class="code hl_define" href="#a56f4cab6c835364ae1eefcce920b32f6">pi_mktag</a>(<span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;h&#39;</span>))</div>
<div class="line"><span class="lineno"> 1166</span>        reset = 1;</div>
<div class="line"><span class="lineno"> 1167</span> </div>
<div class="line"><span class="lineno"> 1168</span>    <span class="keywordflow">if</span> (pf-&gt;info.flags &amp; dlpDBFlagReset)</div>
<div class="line"><span class="lineno"> 1169</span>        reset = 1;</div>
<div class="line"><span class="lineno"> 1170</span> </div>
<div class="line"><span class="lineno"> 1171</span>    <span class="comment">/* Upload resources / records */</span></div>
<div class="line"><span class="lineno"> 1172</span>    <span class="keywordflow">if</span> (pf-&gt;info.flags &amp; dlpDBFlagResource) {</div>
<div class="line"><span class="lineno"> 1173</span>        <span class="keywordflow">for</span> (j = 0; j &lt; pf-&gt;num_entries; j++) {</div>
<div class="line"><span class="lineno"> 1174</span>            <span class="keywordtype">int</span>     resource_id;</div>
<div class="line"><span class="lineno"> 1175</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> type;</div>
<div class="line"><span class="lineno"> 1176</span> </div>
<div class="line"><span class="lineno"> 1177</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="#a9f6d17f2f6043fddce5f6fc4eabc646c">pi_file_read_resource</a></div>
<div class="line"><span class="lineno"> 1178</span>                (pf, j, &amp;<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, &amp;type, &amp;resource_id)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1179</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1180</span> </div>
<div class="line"><span class="lineno"> 1181</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> == 0)</div>
<div class="line"><span class="lineno"> 1182</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1183</span> </div>
<div class="line"><span class="lineno"> 1184</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#a965685bfbf20d6e453ddaca2422575e7">dlp_WriteResource</a></div>
<div class="line"><span class="lineno"> 1185</span>                (socket, <a class="code hl_struct" href="structdb.html">db</a>, type, resource_id, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1186</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1187</span> </div>
<div class="line"><span class="lineno"> 1188</span>            progress.transferred_bytes += <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno"> 1189</span>            progress.data.db.transferred_records++;</div>
<div class="line"><span class="lineno"> 1190</span> </div>
<div class="line"><span class="lineno"> 1191</span>            <span class="keywordflow">if</span> (report_progress &amp;&amp; report_progress(socket,</div>
<div class="line"><span class="lineno"> 1192</span>                    &amp;progress) == PI_TRANSFER_STOP) {</div>
<div class="line"><span class="lineno"> 1193</span>                result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_FILE_ABORTED);</div>
<div class="line"><span class="lineno"> 1194</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1195</span>            }</div>
<div class="line"><span class="lineno"> 1196</span> </div>
<div class="line"><span class="lineno"> 1197</span>            <span class="comment">/* If we see a &#39;boot&#39; section, regardless of file</span></div>
<div class="line"><span class="lineno"> 1198</span><span class="comment">               type, require reset */</span></div>
<div class="line"><span class="lineno"> 1199</span>            <span class="keywordflow">if</span> (type == <a class="code hl_define" href="#a56f4cab6c835364ae1eefcce920b32f6">pi_mktag</a>(<span class="charliteral">&#39;b&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;t&#39;</span>))</div>
<div class="line"><span class="lineno"> 1200</span>                reset = 1;</div>
<div class="line"><span class="lineno"> 1201</span>        }</div>
<div class="line"><span class="lineno"> 1202</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1203</span>        <span class="keywordflow">for</span> (j = 0; j &lt; pf-&gt;num_entries; j++) {</div>
<div class="line"><span class="lineno"> 1204</span>            <span class="keywordtype">int</span> attr,</div>
<div class="line"><span class="lineno"> 1205</span>                category;</div>
<div class="line"><span class="lineno"> 1206</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> resource_id;</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="#ab1228cfb3af65abf3eaf90c5eb9260ad">pi_file_read_record</a>(pf, j, &amp;<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>,</div>
<div class="line"><span class="lineno"> 1209</span>                    &amp;attr, &amp;category, &amp;resource_id)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1210</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1211</span> </div>
<div class="line"><span class="lineno"> 1212</span>            <span class="comment">/* Old OS version cannot install deleted records, so</span></div>
<div class="line"><span class="lineno"> 1213</span><span class="comment">               don&#39;t even try */</span></div>
<div class="line"><span class="lineno"> 1214</span>            <span class="keywordflow">if</span> ((attr &amp; (dlpRecAttrArchived | dlpRecAttrDeleted))</div>
<div class="line"><span class="lineno"> 1215</span>                &amp;&amp; version &lt; 0x0101)</div>
<div class="line"><span class="lineno"> 1216</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1217</span> </div>
<div class="line"><span class="lineno"> 1218</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#af12f6ef29f7efe7dd8d4e25f54535c02">dlp_WriteRecord</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>, attr, 0, category,</div>
<div class="line"><span class="lineno"> 1219</span>                    <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, 0)) &lt; 0)</div>
<div class="line"><span class="lineno"> 1220</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1221</span> </div>
<div class="line"><span class="lineno"> 1222</span>            progress.transferred_bytes += <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno"> 1223</span>            progress.data.db.transferred_records++;</div>
<div class="line"><span class="lineno"> 1224</span> </div>
<div class="line"><span class="lineno"> 1225</span>            <span class="keywordflow">if</span> (report_progress &amp;&amp; report_progress(socket,</div>
<div class="line"><span class="lineno"> 1226</span>                    &amp;progress) == PI_TRANSFER_STOP) {</div>
<div class="line"><span class="lineno"> 1227</span>                result = <a class="code hl_variable" href="namespacepisock.html#ac1d2be46cd4605756199ee193caafd2a">PI_ERR_FILE_ABORTED</a>;</div>
<div class="line"><span class="lineno"> 1228</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno"> 1229</span>            }</div>
<div class="line"><span class="lineno"> 1230</span>        }</div>
<div class="line"><span class="lineno"> 1231</span>    }</div>
<div class="line"><span class="lineno"> 1232</span> </div>
<div class="line"><span class="lineno"> 1233</span>    <span class="keywordflow">if</span> (reset)</div>
<div class="line"><span class="lineno"> 1234</span>        <a class="code hl_function" href="dlp_8c.html#a380c8de8b8e82c65a35d3ee6da383046">dlp_ResetSystem</a>(socket);</div>
<div class="line"><span class="lineno"> 1235</span> </div>
<div class="line"><span class="lineno"> 1236</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno"> 1237</span> </div>
<div class="line"><span class="lineno"> 1238</span><a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>:</div>
<div class="line"><span class="lineno"> 1239</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structdb.html">db</a> != -1 &amp;&amp; <a class="code hl_function" href="socket_8c.html#a394ea83c178b51d3137ced66c4175976">pi_socket_connected</a>(socket)) {</div>
<div class="line"><span class="lineno"> 1240</span>        <span class="keywordtype">int</span> err1 = <a class="code hl_function" href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5">pi_error</a>(socket);</div>
<div class="line"><span class="lineno"> 1241</span>        <span class="keywordtype">int</span> err2 = <a class="code hl_function" href="socket_8c.html#ab0f7c13ccbc0c4b35c5b6d923c0291d3">pi_palmos_error</a>(socket);</div>
<div class="line"><span class="lineno"> 1242</span> </div>
<div class="line"><span class="lineno"> 1243</span>        <a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span>        <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, err1);</div>
<div class="line"><span class="lineno"> 1246</span>        <a class="code hl_function" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d">pi_set_palmos_error</a>(socket, err2);</div>
<div class="line"><span class="lineno"> 1247</span>    }</div>
<div class="line"><span class="lineno"> 1248</span>    <span class="keywordflow">if</span> (result &gt;= 0)</div>
<div class="line"><span class="lineno"> 1249</span>        result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_FILE_ERROR);</div>
<div class="line"><span class="lineno"> 1250</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1251</span>}</div>
<div class="ttc" id="adlp_8c_html_a65b92f7bcde2de3c34eba289c6780a57"><div class="ttname"><a href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a></div><div class="ttdeci">int dlp_OpenDB(int sd, int cardno, int mode, PI_CONST char *name, int *dbhandle)</div><div class="ttdef"><b>Definition</b> dlp.c:1445</div></div>
<div class="ttc" id="anamespacepisock_html_ac1d2be46cd4605756199ee193caafd2a"><div class="ttname"><a href="namespacepisock.html#ac1d2be46cd4605756199ee193caafd2a">pisock.PI_ERR_FILE_ABORTED</a></div><div class="ttdeci">PI_ERR_FILE_ABORTED</div><div class="ttdef"><b>Definition</b> pisock.py:60</div></div>
<div class="ttc" id="api-file_8c_html_a2b1bd10e17e43080aab539bafd44bf9f"><div class="ttname"><a href="#a2b1bd10e17e43080aab539bafd44bf9f">pi_file_install</a></div><div class="ttdeci">int pi_file_install(pi_file_t *pf, int socket, int cardno, progress_func report_progress)</div><div class="ttdef"><b>Definition</b> pi-file.c:853</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>, <a class="el" href="#l01545">dlp_CloseDB()</a>, <a class="el" href="#l01445">dlp_OpenDB()</a>, <a class="el" href="#l01724">dlp_ResetSystem()</a>, <a class="el" href="#l02510">dlp_WriteRecord()</a>, <a class="el" href="#l02845">dlp_WriteResource()</a>, <a class="el" href="#l00435">fail()</a>, <a class="el" href="#l01613">pi_error()</a>, <a class="el" href="#l00853">pi_file_install()</a>, <a class="el" href="#l00439">pi_file_read_record()</a>, <a class="el" href="#l00403">pi_file_read_resource()</a>, <a class="el" href="#l00094">PI_HDR_SIZE</a>, <a class="el" href="#l01552">pi_maxrecsize()</a>, <a class="el" href="#l00045">pi_mktag</a>, <a class="el" href="#l01642">pi_palmos_error()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01654">pi_set_palmos_error()</a>, <a class="el" href="#l01678">pi_socket_connected()</a>, <a class="el" href="#l01522">pi_version()</a>, and <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01591">palm_merge()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a98cc34b189094419f679b3860e0c8ec3_cgraph.png" border="0" usemap="#api-file_8c_a98cc34b189094419f679b3860e0c8ec3_cgraph" alt=""/></div>
<map name="api-file_8c_a98cc34b189094419f679b3860e0c8ec3_cgraph" id="api-file_8c_a98cc34b189094419f679b3860e0c8ec3_cgraph">
<area shape="rect" title=" " alt="" coords="5,1010,104,1036"/>
<area shape="rect" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991" title=" " alt="" coords="319,978,417,1004"/>
<area shape="poly" title=" " alt="" coords="104,1015,303,995,304,1000,104,1021"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1240,1014,1329,1040"/>
<area shape="poly" title=" " alt="" coords="65,1035,99,1090,124,1124,153,1154,236,1222,307,1267,386,1298,489,1328,543,1340,586,1342,687,1342,762,1348,829,1361,945,1385,999,1390,1052,1383,1107,1363,1166,1323,1181,1309,1191,1295,1199,1264,1203,1230,1213,1189,1269,1053,1274,1055,1218,1190,1208,1231,1204,1265,1195,1297,1185,1312,1169,1328,1109,1367,1053,1389,999,1395,944,1390,828,1366,762,1354,687,1347,586,1348,543,1345,488,1333,384,1303,305,1272,233,1227,150,1158,120,1127,95,1093,60,1037"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="879,461,1017,486"/>
<area shape="poly" title=" " alt="" coords="54,1010,58,935,72,815,84,746,101,673,122,601,149,532,177,469,203,420,218,399,238,380,263,362,295,344,337,327,380,316,425,309,470,307,560,315,649,335,732,363,806,394,914,450,911,455,803,399,730,368,647,340,560,321,470,313,425,315,381,321,338,332,297,349,266,366,242,384,222,403,207,423,182,472,154,535,127,603,106,675,90,747,77,816,63,936,59,1010"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="908,1495,988,1521"/>
<area shape="poly" title=" " alt="" coords="58,1036,60,1161,71,1360,83,1464,100,1560,123,1639,137,1669,154,1692,178,1714,201,1728,224,1736,248,1739,301,1737,367,1734,565,1734,623,1727,679,1710,733,1685,782,1654,827,1621,867,1587,924,1531,927,1534,870,1591,831,1625,785,1659,735,1690,681,1715,624,1732,565,1739,367,1739,302,1742,248,1744,223,1741,199,1732,175,1718,150,1695,133,1672,118,1641,94,1562,77,1465,66,1360,55,1161,53,1036"/>
<area shape="rect" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57" title=" " alt="" coords="320,1051,416,1077"/>
<area shape="poly" title=" " alt="" coords="104,1027,305,1053,305,1059,104,1032"/>
<area shape="rect" href="dlp_8c.html#a380c8de8b8e82c65a35d3ee6da383046" title=" " alt="" coords="306,635,431,661"/>
<area shape="poly" title=" " alt="" coords="58,1009,91,925,117,870,149,817,183,769,212,734,246,703,295,670,302,665,305,670,297,674,250,707,216,737,187,773,154,820,122,873,96,927,63,1011"/>
<area shape="rect" href="dlp_8c.html#af12f6ef29f7efe7dd8d4e25f54535c02" title=" " alt="" coords="310,1125,427,1150"/>
<area shape="poly" title=" " alt="" coords="93,1034,317,1116,315,1121,91,1039"/>
<area shape="rect" href="dlp_8c.html#a965685bfbf20d6e453ddaca2422575e7" title=" " alt="" coords="302,1198,434,1224"/>
<area shape="poly" title=" " alt="" coords="73,1034,153,1094,245,1147,326,1189,324,1193,242,1152,150,1098,70,1038"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="349,359,387,385"/>
<area shape="poly" title=" " alt="" coords="55,1009,69,911,85,835,108,750,139,658,180,567,231,480,261,440,294,402,312,388,333,379,335,384,315,393,298,406,265,443,235,483,185,569,144,660,113,751,90,837,75,911,60,1010"/>
<area shape="rect" href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5" title=" " alt="" coords="336,207,400,233"/>
<area shape="poly" title=" " alt="" coords="53,1010,52,871,61,646,72,527,89,416,115,326,131,290,150,264,168,248,188,236,233,220,279,214,320,213,321,218,279,219,234,225,190,240,171,252,154,267,136,293,120,327,95,418,77,527,66,646,58,871,58,1010"/>
<area shape="rect" href="pi-file_8c.html#a2b1bd10e17e43080aab539bafd44bf9f" title=" " alt="" coords="152,831,248,857"/>
<area shape="poly" title=" " alt="" coords="64,1008,177,867,181,870,69,1011"/>
<area shape="rect" href="pi-file_8c.html#ab1228cfb3af65abf3eaf90c5eb9260ad" title=" " alt="" coords="303,1673,433,1698"/>
<area shape="poly" title=" " alt="" coords="59,1036,61,1153,73,1338,85,1435,102,1524,125,1597,138,1624,154,1645,182,1667,216,1680,252,1687,288,1690,287,1695,251,1693,215,1685,180,1671,150,1649,134,1627,120,1599,97,1525,80,1435,68,1338,56,1153,53,1036"/>
<area shape="rect" href="pi-file_8c.html#a9f6d17f2f6043fddce5f6fc4eabc646c" title=" " alt="" coords="296,1622,440,1648"/>
<area shape="poly" title=" " alt="" coords="59,1036,62,1146,75,1318,87,1407,104,1490,126,1557,139,1582,154,1601,181,1621,213,1633,247,1640,280,1642,280,1647,246,1645,211,1638,178,1625,150,1605,135,1585,121,1559,99,1491,82,1408,70,1318,57,1146,53,1036"/>
<area shape="rect" href="socket_8c.html#ac8ea1ffc8384bcf6719daabbf4cee496" title=" " alt="" coords="706,1521,812,1546"/>
<area shape="poly" title=" " alt="" coords="59,1036,63,1138,76,1296,88,1378,105,1452,126,1512,139,1534,153,1550,171,1561,193,1570,250,1580,320,1584,398,1581,558,1564,690,1544,691,1549,559,1570,399,1586,320,1589,250,1586,191,1575,168,1566,150,1554,135,1537,122,1514,100,1454,83,1379,71,1297,57,1139,53,1036"/>
<area shape="rect" href="socket_8c.html#ab0f7c13ccbc0c4b35c5b6d923c0291d3" title=" " alt="" coords="312,258,425,284"/>
<area shape="poly" title=" " alt="" coords="53,1010,53,876,62,662,73,549,90,444,115,359,131,326,150,301,182,278,219,265,259,259,296,259,296,264,259,264,221,270,184,283,154,305,136,328,120,361,95,446,78,549,67,662,58,876,58,1010"/>
<area shape="rect" href="socket_8c.html#a394ea83c178b51d3137ced66c4175976" title=" " alt="" coords="687,57,831,82"/>
<area shape="poly" title=" " alt="" coords="53,1010,53,866,62,630,74,505,91,388,116,291,131,253,150,224,175,196,202,171,265,131,334,101,406,80,479,67,550,61,671,60,671,65,550,66,480,73,408,85,336,106,267,135,206,175,178,200,154,227,136,256,121,293,96,390,79,506,68,631,58,866,58,1010"/>
<area shape="poly" title=" " alt="" coords="340,979,334,969,337,960,349,954,368,951,389,954,399,961,397,965,387,959,368,957,351,959,341,963,339,969,344,976"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="527,903,600,929"/>
<area shape="poly" title=" " alt="" coords="398,975,487,938,511,929,513,934,489,943,400,980"/>
<area shape="poly" title=" " alt="" coords="419,998,442,1013,456,1031,463,1050,465,1086,468,1121,476,1136,490,1151,523,1174,554,1186,584,1191,613,1191,678,1183,757,1176,949,1176,995,1172,1041,1162,1085,1147,1127,1128,1200,1085,1254,1047,1257,1052,1203,1090,1129,1132,1087,1152,1042,1167,996,1178,950,1182,758,1182,678,1188,613,1197,583,1197,553,1191,521,1178,487,1156,471,1139,463,1122,460,1087,458,1051,451,1034,439,1017,416,1003"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="505,953,622,978"/>
<area shape="poly" title=" " alt="" coords="417,982,489,972,490,978,418,987"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="504,1051,623,1077"/>
<area shape="poly" title=" " alt="" coords="414,1002,441,1012,489,1038,503,1043,501,1048,487,1043,439,1017,412,1007"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="500,1002,627,1028"/>
<area shape="poly" title=" " alt="" coords="418,994,485,1003,484,1008,417,999"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="510,854,617,880"/>
<area shape="poly" title=" " alt="" coords="391,975,439,941,461,914,471,901,487,889,495,884,497,889,490,893,475,905,465,917,442,945,394,980"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="886,309,1010,334"/>
<area shape="poly" title=" " alt="" coords="600,909,620,902,637,890,650,875,659,860,667,830,672,797,684,758,749,633,818,515,927,346,931,349,822,518,753,636,689,760,677,798,672,831,664,862,655,878,640,894,622,907,601,914"/>
<area shape="poly" title=" " alt="" coords="601,923,725,959,788,980,832,999,847,1010,856,1021,866,1031,880,1039,929,1052,970,1052,1012,1047,1065,1044,1117,1046,1167,1044,1224,1036,1225,1042,1168,1049,1117,1051,1065,1050,1012,1052,970,1057,929,1057,878,1044,862,1035,852,1025,843,1014,830,1004,786,985,723,964,600,928"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="694,907,824,933"/>
<area shape="poly" title=" " alt="" coords="601,914,678,916,678,921,601,920"/>
<area shape="poly" title=" " alt="" coords="600,906,637,890,701,846,745,805,783,757,829,693,862,642,892,588,933,499,938,502,896,591,867,645,833,696,787,760,749,808,704,850,640,895,602,911"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="1073,309,1160,334"/>
<area shape="poly" title=" " alt="" coords="1010,319,1057,319,1057,324,1010,324"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1251,107,1318,133"/>
<area shape="poly" title=" " alt="" coords="968,306,1064,245,1245,139,1248,143,1067,249,971,311"/>
<area shape="poly" title=" " alt="" coords="976,333,1019,359,1071,398,1125,446,1149,474,1170,504,1204,570,1231,640,1251,712,1265,783,1281,910,1286,998,1280,999,1276,911,1260,784,1245,714,1225,642,1199,572,1165,507,1145,478,1121,450,1068,402,1016,364,973,337"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="1083,259,1150,285"/>
<area shape="poly" title=" " alt="" coords="994,305,1068,283,1069,289,996,311"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1401,334,1506,360"/>
<area shape="poly" title=" " alt="" coords="1319,128,1338,137,1355,150,1389,191,1415,237,1434,282,1447,319,1442,320,1429,284,1410,240,1384,194,1351,154,1335,142,1317,133"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1404,158,1503,184"/>
<area shape="poly" title=" " alt="" coords="1319,127,1395,150,1393,156,1317,132"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1561,285,1667,310"/>
<area shape="poly" title=" " alt="" coords="1497,331,1554,313,1556,318,1499,336"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1554,334,1674,360"/>
<area shape="poly" title=" " alt="" coords="1507,344,1539,344,1539,350,1507,350"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1570,383,1658,409"/>
<area shape="poly" title=" " alt="" coords="1499,358,1557,376,1555,381,1497,363"/>
<area shape="poly" title=" " alt="" coords="1286,1013,1443,374,1448,375,1291,1015"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1251,209,1318,234"/>
<area shape="poly" title=" " alt="" coords="1149,260,1236,233,1237,238,1151,265"/>
<area shape="poly" title=" " alt="" coords="1319,227,1354,243,1400,281,1435,320,1431,323,1396,285,1352,248,1317,232"/>
<area shape="poly" title=" " alt="" coords="1317,209,1393,186,1395,191,1319,214"/>
<area shape="poly" title=" " alt="" coords="791,931,833,955,847,968,856,980,865,990,880,999,924,1015,971,1026,1065,1037,1153,1038,1225,1032,1225,1038,1153,1043,1064,1042,970,1031,923,1020,878,1004,862,994,852,983,843,972,829,960,788,936"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="901,1115,995,1141"/>
<area shape="poly" title=" " alt="" coords="774,931,927,1102,923,1106,770,935"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="884,815,1013,841"/>
<area shape="poly" title=" " alt="" coords="780,904,824,878,878,850,890,845,892,849,880,855,827,882,782,909"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="898,865,998,890"/>
<area shape="poly" title=" " alt="" coords="819,904,882,890,884,895,820,909"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="897,914,999,940"/>
<area shape="poly" title=" " alt="" coords="825,920,882,922,881,927,824,925"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="900,963,996,989"/>
<area shape="poly" title=" " alt="" coords="806,931,888,956,887,961,804,936"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="1085,613,1148,638"/>
<area shape="poly" title=" " alt="" coords="771,905,816,858,877,801,988,713,1081,645,1085,650,991,717,881,805,820,862,774,909"/>
<area shape="poly" title=" " alt="" coords="767,905,796,858,829,795,854,727,876,657,934,500,939,502,882,658,859,728,833,797,800,860,771,908"/>
<area shape="poly" title=" " alt="" coords="778,932,806,961,833,1000,850,1042,867,1099,900,1238,945,1480,940,1481,895,1239,862,1100,845,1044,829,1003,802,965,774,935"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="1071,963,1162,989"/>
<area shape="poly" title=" " alt="" coords="996,974,1056,974,1056,979,996,979"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1253,258,1316,284"/>
<area shape="poly" title=" " alt="" coords="1122,611,1268,297,1273,299,1127,613"/>
<area shape="poly" title=" " alt="" coords="1316,282,1411,325,1408,330,1314,287"/>
<area shape="poly" title=" " alt="" coords="1315,260,1352,244,1391,219,1425,192,1428,196,1394,223,1354,249,1317,265"/>
<area shape="poly" title=" " alt="" coords="1017,461,1172,434,1263,414,1352,388,1412,364,1414,369,1354,393,1264,419,1173,439,1018,467"/>
<area shape="poly" title=" " alt="" coords="978,1519,1052,1549,1100,1563,1152,1574,1206,1579,1259,1575,1308,1560,1331,1548,1351,1532,1366,1508,1380,1467,1403,1342,1420,1177,1433,988,1446,617,1450,375,1455,375,1451,617,1438,989,1425,1177,1408,1343,1385,1468,1371,1510,1355,1535,1333,1552,1310,1565,1260,1580,1206,1584,1152,1580,1099,1569,1050,1554,976,1524"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="1065,1489,1168,1514"/>
<area shape="poly" title=" " alt="" coords="989,1504,1050,1501,1050,1507,989,1509"/>
<area shape="poly" title=" " alt="" coords="1159,1512,1204,1522,1256,1526,1282,1524,1307,1518,1331,1508,1351,1493,1366,1470,1379,1430,1401,1310,1418,1150,1431,968,1445,610,1449,375,1455,375,1450,610,1436,969,1423,1151,1406,1311,1384,1432,1370,1472,1355,1497,1333,1513,1309,1523,1283,1529,1256,1531,1204,1527,1158,1518"/>
<area shape="poly" title=" " alt="" coords="1123,1487,1144,1451,1165,1406,1202,1306,1233,1206,1274,1054,1279,1056,1238,1208,1207,1308,1170,1408,1148,1453,1128,1490"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1216,1457,1353,1482"/>
<area shape="poly" title=" " alt="" coords="1168,1489,1200,1483,1201,1488,1169,1494"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="713,1014,805,1040"/>
<area shape="poly" title=" " alt="" coords="608,976,702,1006,700,1011,606,982"/>
<area shape="poly" title=" " alt="" coords="624,1071,831,1104,886,1114,885,1119,831,1109,623,1076"/>
<area shape="poly" title=" " alt="" coords="623,1050,697,1036,698,1041,624,1055"/>
<area shape="poly" title=" " alt="" coords="628,1016,698,1020,697,1026,627,1021"/>
<area shape="poly" title=" " alt="" coords="568,852,603,779,667,667,710,606,759,546,815,492,878,446,941,413,1009,387,1080,368,1150,355,1281,342,1385,341,1385,346,1281,347,1151,360,1081,373,1011,392,943,418,880,450,819,496,763,550,714,609,672,670,607,781,573,855"/>
<area shape="poly" title=" " alt="" coords="393,1049,416,1033,438,1014,453,994,460,976,469,957,487,938,511,925,513,930,490,942,474,960,465,978,457,997,442,1018,419,1038,396,1053"/>
<area shape="poly" title=" " alt="" coords="418,1072,442,1086,454,1101,461,1116,466,1145,471,1173,478,1186,490,1198,524,1220,555,1232,585,1238,614,1239,678,1232,757,1227,949,1227,1014,1224,1064,1215,1111,1194,1166,1161,1197,1136,1225,1107,1265,1052,1269,1055,1229,1110,1201,1140,1169,1165,1113,1199,1066,1220,1015,1230,950,1232,758,1232,679,1238,614,1244,584,1244,554,1238,522,1224,487,1202,473,1189,466,1175,460,1146,456,1117,450,1104,439,1090,415,1076"/>
<area shape="poly" title=" " alt="" coords="388,1049,487,987,500,982,502,987,490,992,391,1053"/>
<area shape="poly" title=" " alt="" coords="416,1062,488,1062,488,1067,416,1067"/>
<area shape="poly" title=" " alt="" coords="415,1050,494,1030,495,1035,417,1055"/>
<area shape="poly" title=" " alt="" coords="396,1049,418,1034,438,1014,449,998,455,982,459,951,465,920,473,905,486,889,495,882,498,887,490,893,478,908,470,922,465,952,460,983,454,1000,442,1018,422,1038,399,1053"/>
<area shape="poly" title=" " alt="" coords="340,1052,334,1043,337,1033,349,1027,368,1025,389,1027,399,1034,397,1038,387,1032,368,1030,351,1032,341,1037,339,1042,344,1050"/>
<area shape="poly" title=" " alt="" coords="429,659,442,670,461,699,469,727,470,755,467,783,464,810,465,837,472,863,490,890,514,906,511,910,486,894,467,866,459,837,459,810,462,782,464,755,464,728,456,701,438,674,425,664"/>
<area shape="poly" title=" " alt="" coords="411,632,477,614,563,594,659,579,757,572,949,572,1014,567,1067,561,1092,562,1117,567,1142,578,1170,598,1192,628,1212,672,1230,726,1245,786,1268,907,1282,998,1277,999,1263,908,1240,787,1225,727,1207,674,1187,630,1166,602,1140,583,1115,572,1092,567,1068,566,1015,572,950,578,758,578,660,584,564,599,479,619,413,637"/>
<area shape="poly" title=" " alt="" coords="429,660,442,670,464,705,473,740,472,774,467,807,462,841,461,873,469,906,490,940,494,943,490,947,486,943,464,908,456,874,456,840,461,807,467,773,467,741,459,707,438,674,426,664"/>
<area shape="poly" title=" " alt="" coords="430,660,442,670,459,695,471,718,477,742,480,766,476,812,467,857,457,902,454,947,456,970,463,992,474,1015,490,1039,493,1041,489,1045,486,1042,469,1018,458,994,451,971,448,947,452,901,461,856,471,811,474,766,472,743,466,720,455,697,438,674,426,664"/>
<area shape="poly" title=" " alt="" coords="429,659,442,670,457,691,468,712,476,753,474,793,467,832,459,871,457,910,466,949,476,969,490,989,491,990,487,994,486,993,471,972,461,951,452,911,454,871,461,831,469,792,471,753,462,714,453,694,438,674,426,664"/>
<area shape="poly" title=" " alt="" coords="424,659,442,670,482,710,514,756,538,801,555,839,550,841,533,804,509,759,478,713,439,674,421,664"/>
<area shape="poly" title=" " alt="" coords="340,636,334,627,337,617,349,611,368,609,389,611,399,618,397,622,387,616,368,614,351,616,341,621,339,626,344,634"/>
<area shape="poly" title=" " alt="" coords="396,1122,419,1107,438,1088,450,1068,456,1049,459,1012,463,976,472,957,487,938,510,923,513,928,490,942,476,960,469,977,464,1013,461,1050,455,1070,442,1091,422,1111,399,1126"/>
<area shape="poly" title=" " alt="" coords="425,1149,442,1160,459,1182,466,1205,472,1227,490,1246,525,1266,556,1279,586,1285,615,1287,679,1282,757,1278,949,1278,1015,1277,1066,1271,1113,1254,1166,1219,1204,1181,1235,1136,1257,1091,1272,1053,1277,1055,1262,1093,1239,1139,1209,1185,1169,1224,1115,1259,1067,1276,1015,1282,950,1283,758,1283,679,1287,615,1292,585,1290,555,1284,522,1271,487,1250,468,1230,461,1207,455,1185,439,1163,422,1153"/>
<area shape="poly" title=" " alt="" coords="427,1149,442,1160,456,1177,464,1195,468,1229,472,1263,478,1280,490,1297,519,1322,562,1348,673,1401,793,1450,894,1487,892,1492,791,1455,671,1406,559,1352,516,1326,486,1301,473,1282,466,1264,463,1230,459,1196,452,1180,438,1163,424,1153"/>
<area shape="poly" title=" " alt="" coords="394,1122,417,1107,438,1088,454,1062,460,1037,467,1012,486,988,490,984,494,989,490,991,472,1015,465,1038,459,1064,442,1091,421,1111,397,1126"/>
<area shape="poly" title=" " alt="" coords="400,1122,487,1087,507,1080,509,1085,489,1092,402,1127"/>
<area shape="poly" title=" " alt="" coords="390,1122,439,1088,461,1061,471,1049,487,1037,495,1032,497,1037,490,1041,475,1053,465,1065,442,1091,393,1127"/>
<area shape="poly" title=" " alt="" coords="397,1122,419,1107,438,1088,452,1061,458,1036,458,987,457,963,459,939,468,914,486,889,494,882,498,886,490,893,473,917,465,940,462,963,463,987,464,1037,457,1063,442,1091,423,1111,400,1126"/>
<area shape="poly" title=" " alt="" coords="340,1126,334,1116,337,1106,349,1100,368,1098,389,1101,399,1107,397,1112,387,1106,368,1103,351,1105,341,1110,339,1115,344,1123"/>
<area shape="poly" title=" " alt="" coords="398,1195,420,1181,438,1161,453,1131,460,1103,457,1048,456,1022,458,994,467,967,486,938,511,922,514,927,490,942,472,969,463,995,461,1022,463,1048,465,1103,458,1133,443,1164,423,1185,401,1200"/>
<area shape="poly" title=" " alt="" coords="384,1222,428,1260,457,1278,489,1292,554,1309,638,1322,735,1332,836,1336,937,1334,1030,1324,1109,1306,1140,1293,1166,1278,1182,1249,1211,1187,1269,1053,1274,1055,1216,1189,1187,1252,1170,1282,1143,1298,1110,1311,1031,1329,937,1339,836,1341,734,1337,638,1327,553,1314,487,1297,455,1283,425,1264,381,1226"/>
<area shape="poly" title=" " alt="" coords="376,1223,390,1258,413,1306,447,1356,467,1379,490,1398,539,1428,592,1452,648,1470,704,1484,809,1500,893,1506,893,1511,808,1506,703,1489,646,1476,590,1457,537,1433,487,1402,463,1383,442,1359,409,1309,385,1261,371,1225"/>
<area shape="poly" title=" " alt="" coords="397,1195,419,1181,438,1161,451,1138,457,1116,458,1073,461,1031,470,1010,486,988,490,984,494,988,490,991,475,1012,467,1032,464,1074,462,1117,456,1140,442,1164,422,1185,400,1200"/>
<area shape="poly" title=" " alt="" coords="393,1195,416,1180,438,1161,453,1142,461,1124,470,1106,487,1087,494,1082,497,1087,490,1092,474,1109,465,1126,457,1144,442,1165,419,1184,396,1200"/>
<area shape="poly" title=" " alt="" coords="396,1195,418,1180,438,1161,449,1145,455,1129,459,1098,465,1068,473,1052,486,1037,489,1035,493,1039,490,1041,478,1055,470,1070,465,1099,460,1130,454,1147,442,1165,421,1185,399,1200"/>
<area shape="poly" title=" " alt="" coords="398,1195,420,1181,438,1161,456,1125,462,1090,461,1056,457,1023,453,991,454,958,463,924,486,889,495,881,498,885,490,893,468,926,459,958,458,990,462,1023,466,1056,467,1090,461,1126,443,1164,424,1185,401,1200"/>
<area shape="poly" title=" " alt="" coords="340,1199,334,1189,337,1180,349,1174,368,1171,389,1174,399,1181,397,1185,387,1179,368,1177,351,1179,341,1183,339,1189,344,1196"/>
<area shape="rect" href="dlp_8c.html#afe306b7b3888367eebf1222196b1b815" title=" " alt="" coords="488,1101,639,1142"/>
<area shape="poly" title=" " alt="" coords="397,1195,502,1146,504,1151,399,1200"/>
<area shape="poly" title=" " alt="" coords="639,1120,885,1124,885,1130,639,1125"/>
<area shape="poly" title=" " alt="" coords="613,1098,637,1087,719,1045,721,1050,640,1092,615,1103"/>
<area shape="poly" title=" " alt="" coords="399,204,463,179,551,151,652,127,705,120,757,118,950,118,1041,122,1157,137,1271,160,1319,176,1354,194,1386,221,1411,255,1444,318,1440,321,1407,258,1382,225,1352,198,1317,181,1270,166,1157,142,1040,128,949,123,758,123,706,125,653,132,552,156,465,184,401,209"/>
<area shape="poly" title=" " alt="" coords="214,855,250,895,298,941,334,967,331,972,294,945,246,899,210,859"/>
<area shape="poly" title=" " alt="" coords="199,830,204,785,218,720,230,686,247,653,268,622,294,597,317,586,352,575,454,557,586,543,733,534,879,530,1011,533,1112,543,1147,551,1169,562,1194,594,1215,642,1233,701,1249,767,1271,899,1283,998,1278,999,1266,900,1243,769,1228,703,1210,644,1189,597,1166,566,1146,556,1111,548,1011,538,879,535,733,539,586,548,455,563,353,581,319,591,298,601,272,626,251,655,235,688,223,722,209,785,204,831"/>
<area shape="poly" title=" " alt="" coords="201,830,242,654,270,557,283,522,294,504,314,490,339,478,400,461,473,450,553,445,710,445,831,452,864,456,863,461,831,457,710,450,553,450,474,455,401,466,341,483,317,494,298,507,288,525,275,558,248,655,207,832"/>
<area shape="poly" title=" " alt="" coords="204,857,210,968,225,1143,237,1235,253,1321,273,1392,285,1420,298,1441,353,1504,410,1547,468,1575,530,1590,596,1592,667,1586,830,1556,872,1543,909,1526,911,1531,874,1548,832,1561,668,1592,596,1598,529,1595,466,1580,407,1552,350,1507,294,1444,280,1422,268,1394,248,1322,232,1236,220,1144,205,969,199,858"/>
<area shape="poly" title=" " alt="" coords="205,830,245,745,271,700,294,670,298,667,302,671,298,674,275,703,250,748,209,832"/>
<area shape="poly" title=" " alt="" coords="206,857,215,899,232,959,260,1026,277,1058,298,1088,328,1114,324,1118,294,1091,273,1061,255,1028,227,961,210,900,201,858"/>
<area shape="poly" title=" " alt="" coords="205,857,210,910,225,989,253,1078,273,1121,298,1161,327,1187,323,1191,294,1165,269,1124,248,1080,220,990,205,910,199,857"/>
<area shape="poly" title=" " alt="" coords="201,830,241,604,269,475,282,429,294,403,312,387,333,377,335,382,315,392,298,406,287,431,274,476,246,605,206,831"/>
<area shape="poly" title=" " alt="" coords="199,831,204,719,218,543,230,450,246,365,267,293,280,265,294,244,306,233,320,226,322,231,309,238,298,247,285,268,272,295,251,366,235,451,223,544,209,719,204,831"/>
<area shape="rect" href="dlp_8c.html#a409afe52eeceeb6d8a0c4d74cda22010" title=" " alt="" coords="316,905,420,930"/>
<area shape="poly" title=" " alt="" coords="233,855,324,896,322,900,230,860"/>
<area shape="rect" href="dlp_8c.html#ad54e8e7a8b1173cc8f53bb20a32c4774" title=" " alt="" coords="317,709,419,734"/>
<area shape="poly" title=" " alt="" coords="209,829,243,787,268,764,295,743,302,739,305,743,297,748,271,768,247,791,213,832"/>
<area shape="rect" href="dlp_8c.html#aee13b99d71e202b8b040480cde08bc3d" title=" " alt="" coords="302,782,434,808"/>
<area shape="poly" title=" " alt="" coords="246,828,307,810,308,815,247,833"/>
<area shape="rect" href="pi-file_8c.html#a7a1101a452ad0cf683effedda7a879ca" title=" " alt="" coords="300,831,436,857"/>
<area shape="poly" title=" " alt="" coords="249,842,285,842,285,847,249,847"/>
<area shape="poly" title=" " alt="" coords="204,857,203,1004,211,1245,222,1373,240,1492,264,1591,280,1629,298,1659,300,1661,296,1665,294,1662,275,1632,259,1593,234,1493,217,1373,206,1245,198,1004,198,857"/>
<area shape="poly" title=" " alt="" coords="204,857,208,952,221,1112,233,1206,250,1305,271,1404,299,1501,324,1559,352,1607,347,1610,319,1561,293,1502,266,1406,244,1306,228,1207,216,1112,203,953,199,858"/>
<area shape="poly" title=" " alt="" coords="205,857,219,966,236,1048,261,1140,298,1236,347,1327,377,1370,410,1409,448,1444,490,1474,539,1498,592,1514,644,1524,691,1529,690,1534,643,1529,590,1519,537,1503,487,1478,445,1448,406,1413,373,1373,342,1330,293,1238,256,1142,231,1049,214,967,199,858"/>
<area shape="poly" title=" " alt="" coords="198,831,201,755,213,632,224,561,241,488,264,415,294,346,313,316,337,292,341,296,318,320,298,348,269,417,246,489,229,562,218,633,206,755,204,831"/>
<area shape="poly" title=" " alt="" coords="202,830,251,620,294,453,311,437,329,427,363,418,399,413,418,406,439,395,488,359,535,319,621,234,690,154,737,93,741,97,694,157,625,237,539,323,491,363,442,400,421,411,401,418,364,424,331,432,314,441,298,456,256,621,207,832"/>
<area shape="poly" title=" " alt="" coords="420,914,511,914,511,919,420,920"/>
<area shape="poly" title=" " alt="" coords="388,902,487,839,633,789,695,771,753,760,811,756,873,761,941,776,1018,800,1059,819,1099,842,1169,897,1226,954,1266,1000,1262,1004,1223,958,1166,901,1096,846,1057,823,1016,805,939,781,872,767,811,762,754,766,696,777,635,794,489,844,391,906"/>
<area shape="poly" title=" " alt="" coords="421,928,494,946,493,951,419,933"/>
<area shape="poly" title=" " alt="" coords="422,927,442,939,454,952,461,965,467,990,473,1015,479,1027,490,1038,494,1041,490,1045,487,1042,475,1030,468,1017,462,992,456,967,449,955,439,944,419,931"/>
<area shape="poly" title=" " alt="" coords="420,928,442,939,457,952,466,965,475,977,490,989,497,993,495,998,487,993,472,980,462,968,453,956,439,944,418,933"/>
<area shape="poly" title=" " alt="" coords="419,902,496,882,497,887,421,907"/>
<area shape="poly" title=" " alt="" coords="340,906,334,896,337,886,349,880,368,878,389,881,399,887,397,892,387,886,368,883,351,885,341,890,339,895,344,903"/>
<area shape="poly" title=" " alt="" coords="421,730,442,744,457,763,464,782,467,819,470,855,477,873,490,890,513,905,510,909,487,894,472,875,465,856,462,819,459,783,452,765,439,747,418,734"/>
<area shape="poly" title=" " alt="" coords="420,710,529,694,678,682,762,680,848,682,934,691,1018,706,1065,717,1101,729,1134,748,1170,780,1192,806,1212,834,1243,895,1266,953,1279,999,1274,1000,1260,954,1238,897,1207,837,1188,809,1166,783,1131,752,1099,734,1063,722,1017,711,933,696,848,688,762,685,678,687,529,699,420,715"/>
<area shape="poly" title=" " alt="" coords="421,729,442,744,460,769,467,794,469,819,467,844,465,868,466,892,474,916,490,940,494,943,490,947,486,943,469,918,461,893,460,868,462,843,463,819,462,795,455,771,438,747,418,734"/>
<area shape="poly" title=" " alt="" coords="421,729,442,744,466,782,475,820,473,857,467,893,460,930,459,966,467,1002,490,1039,493,1041,489,1045,486,1042,463,1004,454,966,455,929,461,893,468,856,469,820,461,784,438,747,418,733"/>
<area shape="poly" title=" " alt="" coords="421,729,442,744,463,776,471,807,471,838,467,869,463,899,463,929,471,959,490,989,491,990,487,994,486,992,466,961,457,930,457,899,461,868,466,838,466,808,458,778,438,747,418,733"/>
<area shape="poly" title=" " alt="" coords="420,733,442,743,473,766,501,791,545,840,541,843,497,795,469,770,439,748,418,737"/>
<area shape="poly" title=" " alt="" coords="340,710,334,700,337,690,349,684,368,682,389,685,399,691,397,696,387,690,368,687,351,689,341,694,339,699,344,707"/>
<area shape="poly" title=" " alt="" coords="424,806,442,817,459,836,467,855,474,873,490,890,513,903,511,907,487,894,470,876,462,857,454,838,439,821,421,811"/>
<area shape="poly" title=" " alt="" coords="415,779,481,762,566,744,661,730,757,724,950,724,987,726,1019,732,1047,742,1071,755,1117,792,1170,842,1204,881,1234,923,1274,999,1269,1001,1229,926,1200,884,1166,846,1113,796,1068,760,1045,747,1018,737,987,731,949,730,758,730,662,735,567,749,483,767,416,784"/>
<area shape="poly" title=" " alt="" coords="427,806,442,817,455,833,462,849,467,880,471,910,478,925,490,940,493,942,490,946,486,943,474,928,466,912,462,881,457,850,451,835,439,821,424,810"/>
<area shape="poly" title=" " alt="" coords="429,806,442,817,461,846,469,874,470,902,467,930,464,957,464,984,472,1011,490,1038,493,1041,489,1045,486,1042,467,1013,459,985,458,957,462,929,465,902,464,875,456,848,438,821,425,810"/>
<area shape="poly" title=" " alt="" coords="428,806,442,817,458,839,466,862,467,905,468,947,475,968,490,989,492,991,488,995,486,993,470,971,463,948,462,905,461,862,453,842,438,821,425,810"/>
<area shape="poly" title=" " alt="" coords="411,806,441,816,516,845,514,850,439,821,410,811"/>
<area shape="poly" title=" " alt="" coords="340,783,334,773,337,764,349,758,368,755,389,758,399,765,397,769,387,763,368,761,351,763,341,767,339,773,344,780"/>
<area shape="rect" href="pi-file_8c.html#ae61f7cf14c3c66627059dd6a2c285554" title=" " alt="" coords="493,1673,634,1698"/>
<area shape="poly" title=" " alt="" coords="434,1683,478,1683,478,1688,434,1688"/>
<area shape="poly" title=" " alt="" coords="421,1646,497,1666,496,1671,420,1651"/>
<area shape="poly" title=" " alt="" coords="788,1518,878,1480,923,1468,962,1462,1031,1457,1063,1453,1096,1445,1129,1430,1166,1405,1211,1365,1246,1327,1271,1289,1290,1250,1318,1163,1350,1051,1378,954,1400,852,1417,752,1429,654,1444,486,1449,375,1454,375,1449,486,1435,655,1422,752,1405,853,1383,955,1356,1053,1323,1164,1295,1252,1275,1292,1250,1330,1215,1369,1169,1409,1132,1434,1097,1450,1064,1459,1032,1462,963,1467,924,1473,880,1485,790,1522"/>
<area shape="poly" title=" " alt="" coords="812,1524,892,1513,893,1518,813,1529"/>
<area shape="poly" title=" " alt="" coords="410,255,590,201,686,178,757,168,950,168,1015,172,1066,186,1113,209,1169,245,1184,258,1193,271,1202,283,1217,294,1258,313,1302,326,1386,340,1385,346,1301,331,1257,318,1214,298,1199,286,1189,274,1180,261,1166,249,1110,214,1064,191,1014,178,949,174,758,174,687,183,591,206,412,260"/>
<area shape="poly" title=" " alt="" coords="831,61,960,53,1114,50,1189,54,1257,61,1314,74,1355,93,1375,126,1400,188,1446,318,1441,320,1395,190,1370,128,1351,97,1312,79,1256,66,1188,59,1113,56,960,58,831,66"/>
<area shape="poly" title=" " alt="" coords="801,54,902,27,969,15,1043,6,1122,3,1201,7,1280,22,1354,48,1383,67,1407,92,1441,142,1437,145,1403,95,1380,71,1352,53,1278,27,1201,12,1122,8,1044,11,970,20,904,33,802,59"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a98cc34b189094419f679b3860e0c8ec3_icgraph.png" border="0" usemap="#api-file_8c_a98cc34b189094419f679b3860e0c8ec3_icgraph" alt=""/></div>
<map name="api-file_8c_a98cc34b189094419f679b3860e0c8ec3_icgraph" id="api-file_8c_a98cc34b189094419f679b3860e0c8ec3_icgraph">
<area shape="rect" title=" " alt="" coords="243,5,341,31"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="103,5,195,31"/>
<area shape="poly" title=" " alt="" coords="227,21,195,21,195,16,227,16"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ac653337883ed6afb08f14a7816c439d3" name="ac653337883ed6afb08f14a7816c439d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac653337883ed6afb08f14a7816c439d3">&#9670;&#160;</a></span>pi_file_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pi_file_t * pi_file_open </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  144</span>{</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordtype">int</span>     i,</div>
<div class="line"><span class="lineno">  146</span>        file_size;</div>
<div class="line"><span class="lineno">  147</span>    </div>
<div class="line"><span class="lineno">  148</span>    pi_file_t *pf;</div>
<div class="line"><span class="lineno">  149</span>    <span class="keyword">struct  </span>DBInfo *ip;</div>
<div class="line"><span class="lineno">  150</span>    pi_file_entry_t *entp;</div>
<div class="line"><span class="lineno">  151</span>        </div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[<a class="code hl_define" href="#abaaa1b2ec997861b74b1f0573929c630">PI_HDR_SIZE</a>];</div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><span class="lineno">  154</span>    off_t offset, app_info_offset = 0, sort_info_offset = 0;</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">if</span> ((pf = calloc(1, <span class="keyword">sizeof</span> (pi_file_t))) == NULL)</div>
<div class="line"><span class="lineno">  157</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">if</span> ((pf-&gt;f = fopen(<a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, <span class="stringliteral">&quot;rb&quot;</span>)) == NULL)</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>    fseek(pf-&gt;f, 0, SEEK_END);</div>
<div class="line"><span class="lineno">  163</span>    file_size = ftell(pf-&gt;f);</div>
<div class="line"><span class="lineno">  164</span>    fseek(pf-&gt;f, 0, SEEK_SET);</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">if</span> (fread(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, <a class="code hl_define" href="#abaaa1b2ec997861b74b1f0573929c630">PI_HDR_SIZE</a>, 1, pf-&gt;f) != (<span class="keywordtype">size_t</span>) 1) {</div>
<div class="line"><span class="lineno">  167</span>        LOG ((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  168</span>             <span class="stringliteral">&quot;FILE OPEN %s: can&#39;t read header\n&quot;</span>, <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>));</div>
<div class="line"><span class="lineno">  169</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  170</span>    }</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>    p   = <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  173</span>    ip  = &amp;pf-&gt;info;</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    memcpy(ip-&gt;name, p, 32);</div>
<div class="line"><span class="lineno">  176</span>    ip-&gt;flags       = get_short(p + 32);</div>
<div class="line"><span class="lineno">  177</span>    ip-&gt;miscFlags       = <a class="code hl_variable" href="namespacepisock.html#af154e9d6c9e5d008042ae9b5fbec7c57">dlpDBMiscFlagRamBased</a>;</div>
<div class="line"><span class="lineno">  178</span>    ip-&gt;version         = get_short(p + 34);</div>
<div class="line"><span class="lineno">  179</span>    ip-&gt;createDate      = <a class="code hl_function" href="#a525c887a4341a2229e82bede810318d0">pilot_time_to_unix_time</a>(get_long(p + 36));</div>
<div class="line"><span class="lineno">  180</span>    ip-&gt;modifyDate      = <a class="code hl_function" href="#a525c887a4341a2229e82bede810318d0">pilot_time_to_unix_time</a>(get_long(p + 40));</div>
<div class="line"><span class="lineno">  181</span>    ip-&gt;backupDate      = <a class="code hl_function" href="#a525c887a4341a2229e82bede810318d0">pilot_time_to_unix_time</a>(get_long(p + 44));</div>
<div class="line"><span class="lineno">  182</span>    ip-&gt;modnum      = get_long(p + 48);</div>
<div class="line"><span class="lineno">  183</span>    app_info_offset     = get_long(p + 52);</div>
<div class="line"><span class="lineno">  184</span>    sort_info_offset    = get_long(p + 56);</div>
<div class="line"><span class="lineno">  185</span>    ip-&gt;type        = get_long(p + 60);</div>
<div class="line"><span class="lineno">  186</span>    ip-&gt;creator         = get_long(p + 64);</div>
<div class="line"><span class="lineno">  187</span>    pf-&gt;unique_id_seed  = get_long(p + 68);</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>    <span class="comment">/* record list header */</span></div>
<div class="line"><span class="lineno">  190</span>    pf-&gt;next_record_list_id = get_long(p + 72);</div>
<div class="line"><span class="lineno">  191</span>    pf-&gt;num_entries     = get_short(p + 76);</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    LOG ((PI_DBG_API, PI_DBG_LVL_INFO,</div>
<div class="line"><span class="lineno">  194</span>         <span class="stringliteral">&quot;FILE OPEN Name: &#39;%s&#39; Flags: 0x%4.4X Version: %d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  195</span>         ip-&gt;name, ip-&gt;flags, ip-&gt;version));</div>
<div class="line"><span class="lineno">  196</span>    LOG ((PI_DBG_API, PI_DBG_LVL_DEBUG,</div>
<div class="line"><span class="lineno">  197</span>         <span class="stringliteral">&quot;  Creation date: %s&quot;</span>, ctime(&amp;ip-&gt;createDate)));</div>
<div class="line"><span class="lineno">  198</span>    LOG ((PI_DBG_API, PI_DBG_LVL_DEBUG,</div>
<div class="line"><span class="lineno">  199</span>         <span class="stringliteral">&quot;  Modification date: %s&quot;</span>, ctime(&amp;ip-&gt;modifyDate)));</div>
<div class="line"><span class="lineno">  200</span>    LOG ((PI_DBG_API, PI_DBG_LVL_DEBUG,</div>
<div class="line"><span class="lineno">  201</span>         <span class="stringliteral">&quot;  Backup date: %s&quot;</span>, ctime(&amp;ip-&gt;backupDate)));</div>
<div class="line"><span class="lineno">  202</span>    LOG ((PI_DBG_API, PI_DBG_LVL_DEBUG,</div>
<div class="line"><span class="lineno">  203</span>         <span class="stringliteral">&quot;  Appinfo Size: %d Sortinfo Size: %d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  204</span>         pf-&gt;app_info_size, pf-&gt;sort_info_size));</div>
<div class="line"><span class="lineno">  205</span>    LOG ((PI_DBG_API, PI_DBG_LVL_DEBUG,</div>
<div class="line"><span class="lineno">  206</span>         <span class="stringliteral">&quot;  Type: &#39;%s&#39;&quot;</span>, <a class="code hl_function" href="utils_8c.html#a16173a2940fee2ae9756d00109d096ee">printlong</a>(ip-&gt;type)));</div>
<div class="line"><span class="lineno">  207</span>    LOG ((PI_DBG_API, PI_DBG_LVL_DEBUG,</div>
<div class="line"><span class="lineno">  208</span>         <span class="stringliteral">&quot;  Creator: &#39;%s&#39; Seed: 0x%8.8lX\n&quot;</span>, <a class="code hl_function" href="utils_8c.html#a16173a2940fee2ae9756d00109d096ee">printlong</a>(ip-&gt;creator),</div>
<div class="line"><span class="lineno">  209</span>         pf-&gt;unique_id_seed));</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">if</span> (pf-&gt;next_record_list_id != 0) {</div>
<div class="line"><span class="lineno">  212</span>        LOG ((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  213</span>             <span class="stringliteral">&quot;FILE OPEN %s: this file is probably damaged\n&quot;</span>, <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>));</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  215</span>    }</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <span class="keywordflow">if</span> (ip-&gt;flags &amp; dlpDBFlagResource) {</div>
<div class="line"><span class="lineno">  218</span>        pf-&gt;resource_flag = 1;</div>
<div class="line"><span class="lineno">  219</span>        pf-&gt;ent_hdr_size = <a class="code hl_define" href="#afb72315a3070c6adfbaa60bcb8f28d00">PI_RESOURCE_ENT_SIZE</a>;</div>
<div class="line"><span class="lineno">  220</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  221</span>        pf-&gt;resource_flag = 0;</div>
<div class="line"><span class="lineno">  222</span>        pf-&gt;ent_hdr_size = <a class="code hl_define" href="#aa6eb338e2ca63ba9fcc6081c792b03b3">PI_RECORD_ENT_SIZE</a>;</div>
<div class="line"><span class="lineno">  223</span>    }</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">if</span> (pf-&gt;num_entries &lt; 0) {</div>
<div class="line"><span class="lineno">  226</span>        LOG ((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  227</span>             <span class="stringliteral">&quot;FILE OPEN %s: bad header\n&quot;</span>, <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>));</div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  229</span>    }</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    offset = file_size;</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">if</span> (pf-&gt;num_entries) {</div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordflow">if</span> ((pf-&gt;entries =</div>
<div class="line"><span class="lineno">  235</span>             calloc((<span class="keywordtype">size_t</span>)pf-&gt;num_entries,</div>
<div class="line"><span class="lineno">  236</span>                <span class="keyword">sizeof</span> *pf-&gt;entries)) == NULL)</div>
<div class="line"><span class="lineno">  237</span>            <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">for</span> (i = 0, entp = pf-&gt;entries; i &lt; pf-&gt;num_entries;</div>
<div class="line"><span class="lineno">  240</span>             i++, entp++) {</div>
<div class="line"><span class="lineno">  241</span>            <span class="keywordflow">if</span> (fread(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, (<span class="keywordtype">size_t</span>) pf-&gt;ent_hdr_size, 1, pf-&gt;f)</div>
<div class="line"><span class="lineno">  242</span>                != (size_t) 1)</div>
<div class="line"><span class="lineno">  243</span>                <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>            p = <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  246</span>            <span class="keywordflow">if</span> (pf-&gt;resource_flag) {</div>
<div class="line"><span class="lineno">  247</span>                entp-&gt;type  = get_long(p);</div>
<div class="line"><span class="lineno">  248</span>                entp-&gt;resource_id    = get_short(p + 4);</div>
<div class="line"><span class="lineno">  249</span>                entp-&gt;offset    = get_long(p + 6);</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>                LOG ((PI_DBG_API, PI_DBG_LVL_DEBUG,</div>
<div class="line"><span class="lineno">  252</span>                     <span class="stringliteral">&quot;FILE OPEN Entry %d &#39;%s&#39; #%d @%X\n&quot;</span>, i,</div>
<div class="line"><span class="lineno">  253</span>                       <a class="code hl_function" href="utils_8c.html#a16173a2940fee2ae9756d00109d096ee">printlong</a>(entp-&gt;type), entp-&gt;resource_id,</div>
<div class="line"><span class="lineno">  254</span>                       entp-&gt;offset));</div>
<div class="line"><span class="lineno">  255</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  256</span>                entp-&gt;offset    = get_long(p);</div>
<div class="line"><span class="lineno">  257</span>                entp-&gt;attrs     = get_byte(p + 4);</div>
<div class="line"><span class="lineno">  258</span>                entp-&gt;uid   = get_treble(p + 5);</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>                LOG ((PI_DBG_API, PI_DBG_LVL_DEBUG,</div>
<div class="line"><span class="lineno">  261</span>                 <span class="stringliteral">&quot;FILE OPEN Entry %d UID: &quot;</span></div>
<div class="line"><span class="lineno">  262</span>                 <span class="stringliteral">&quot;0x%8.8X Attrs: %2.2X Offset: @%X\n&quot;</span>, i,</div>
<div class="line"><span class="lineno">  263</span>                     (<span class="keywordtype">int</span>) entp-&gt;uid, entp-&gt;attrs,</div>
<div class="line"><span class="lineno">  264</span>                     entp-&gt;offset));</div>
<div class="line"><span class="lineno">  265</span>            }</div>
<div class="line"><span class="lineno">  266</span>        }</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">for</span> (i = 0, entp = pf-&gt;entries + pf-&gt;num_entries - 1;</div>
<div class="line"><span class="lineno">  269</span>             i &lt; pf-&gt;num_entries; i++, entp--) {</div>
<div class="line"><span class="lineno">  270</span>            entp-&gt;size  = offset - entp-&gt;offset;</div>
<div class="line"><span class="lineno">  271</span>            offset      = entp-&gt;offset;</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>            LOG ((PI_DBG_API, PI_DBG_LVL_DEBUG,</div>
<div class="line"><span class="lineno">  274</span>                 <span class="stringliteral">&quot;FILE OPEN Entry: %d Size: %d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  275</span>                 pf-&gt;num_entries - i - 1, entp-&gt;size));</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>            <span class="keywordflow">if</span> (entp-&gt;size &lt; 0 ||</div>
<div class="line"><span class="lineno">  278</span>                (entp-&gt;offset + entp-&gt;size) &gt; file_size) {</div>
<div class="line"><span class="lineno">  279</span>                LOG ((PI_DBG_API, PI_DBG_LVL_DEBUG,</div>
<div class="line"><span class="lineno">  280</span>                 <span class="stringliteral">&quot;FILE OPEN %s: Entry %d corrupt,&quot;</span></div>
<div class="line"><span class="lineno">  281</span>                 <span class="stringliteral">&quot; giving up\n&quot;</span>,</div>
<div class="line"><span class="lineno">  282</span>                    <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>, pf-&gt;num_entries - i - 1));</div>
<div class="line"><span class="lineno">  283</span>                <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  284</span>            }</div>
<div class="line"><span class="lineno">  285</span>        }</div>
<div class="line"><span class="lineno">  286</span>    }</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">if</span> (sort_info_offset) {</div>
<div class="line"><span class="lineno">  289</span>        pf-&gt;sort_info_size = offset - sort_info_offset;</div>
<div class="line"><span class="lineno">  290</span>        offset = sort_info_offset;</div>
<div class="line"><span class="lineno">  291</span>    }</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordflow">if</span> (app_info_offset) {</div>
<div class="line"><span class="lineno">  294</span>        pf-&gt;app_info_size = offset - app_info_offset;</div>
<div class="line"><span class="lineno">  295</span>        offset = app_info_offset;</div>
<div class="line"><span class="lineno">  296</span>    }</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">if</span> (pf-&gt;app_info_size &lt; 0 ||</div>
<div class="line"><span class="lineno">  299</span>        (sort_info_offset + pf-&gt;sort_info_size) &gt; file_size ||</div>
<div class="line"><span class="lineno">  300</span>        pf-&gt;sort_info_size &lt; 0 ||</div>
<div class="line"><span class="lineno">  301</span>        (app_info_offset + pf-&gt;app_info_size) &gt; file_size) {</div>
<div class="line"><span class="lineno">  302</span>        LOG ((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  303</span>             <span class="stringliteral">&quot;FILE OPEN %s: bad header &quot;</span></div>
<div class="line"><span class="lineno">  304</span>             <span class="stringliteral">&quot;(app_info @ %d size %d, &quot;</span></div>
<div class="line"><span class="lineno">  305</span>             <span class="stringliteral">&quot;sort_info @ %d size %d)\n&quot;</span>, <a class="code hl_variable" href="pilot-debug_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>,</div>
<div class="line"><span class="lineno">  306</span>             app_info_offset, pf-&gt;app_info_size,</div>
<div class="line"><span class="lineno">  307</span>             sort_info_offset, pf-&gt;sort_info_size));</div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  309</span>    }</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">if</span> (pf-&gt;app_info_size == 0)</div>
<div class="line"><span class="lineno">  312</span>        pf-&gt;app_info = NULL;</div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordflow">if</span> ((pf-&gt;app_info =</div>
<div class="line"><span class="lineno">  315</span>            malloc((<span class="keywordtype">size_t</span>) pf-&gt;app_info_size)) == NULL)</div>
<div class="line"><span class="lineno">  316</span>            <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  317</span>        fseek(pf-&gt;f, (<span class="keywordtype">long</span>)app_info_offset, SEEK_SET);</div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">if</span> (fread(pf-&gt;app_info, 1, (<span class="keywordtype">size_t</span>) pf-&gt;app_info_size, pf-&gt;f)</div>
<div class="line"><span class="lineno">  319</span>             != (<span class="keywordtype">size_t</span>) pf-&gt;app_info_size)</div>
<div class="line"><span class="lineno">  320</span>            <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  321</span>    }</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordflow">if</span> (pf-&gt;sort_info_size == 0)</div>
<div class="line"><span class="lineno">  324</span>        pf-&gt;sort_info = NULL;</div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">if</span> ((pf-&gt;sort_info = malloc((<span class="keywordtype">size_t</span>)pf-&gt;sort_info_size))</div>
<div class="line"><span class="lineno">  327</span>             == NULL)</div>
<div class="line"><span class="lineno">  328</span>            <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  329</span>        fseek(pf-&gt;f, (<span class="keywordtype">long</span>)sort_info_offset, SEEK_SET);</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">if</span> (fread(pf-&gt;sort_info, 1, (<span class="keywordtype">size_t</span>) pf-&gt;sort_info_size,</div>
<div class="line"><span class="lineno">  331</span>             pf-&gt;f) != (<span class="keywordtype">size_t</span>) pf-&gt;sort_info_size)</div>
<div class="line"><span class="lineno">  332</span>            <span class="keywordflow">goto</span> bad;</div>
<div class="line"><span class="lineno">  333</span>    }</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">return</span> pf;</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>bad:</div>
<div class="line"><span class="lineno">  338</span>    <a class="code hl_function" href="#a917a7629f465050a293350e2e63f2272">pi_file_close</a>(pf);</div>
<div class="line"><span class="lineno">  339</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  340</span>}</div>
<div class="ttc" id="anamespacepisock_html_af154e9d6c9e5d008042ae9b5fbec7c57"><div class="ttname"><a href="namespacepisock.html#af154e9d6c9e5d008042ae9b5fbec7c57">pisock.dlpDBMiscFlagRamBased</a></div><div class="ttdeci">dlpDBMiscFlagRamBased</div><div class="ttdef"><b>Definition</b> pisock.py:740</div></div>
<div class="ttc" id="api-file_8c_html_a525c887a4341a2229e82bede810318d0"><div class="ttname"><a href="#a525c887a4341a2229e82bede810318d0">pilot_time_to_unix_time</a></div><div class="ttdeci">time_t pilot_time_to_unix_time(unsigned long raw_time)</div><div class="ttdef"><b>Definition</b> pi-file.c:131</div></div>
<div class="ttc" id="api-file_8c_html_a917a7629f465050a293350e2e63f2272"><div class="ttname"><a href="#a917a7629f465050a293350e2e63f2272">pi_file_close</a></div><div class="ttdeci">int pi_file_close(pi_file_t *pf)</div><div class="ttdef"><b>Definition</b> pi-file.c:343</div></div>
<div class="ttc" id="autils_8c_html_a16173a2940fee2ae9756d00109d096ee"><div class="ttname"><a href="utils_8c.html#a16173a2940fee2ae9756d00109d096ee">printlong</a></div><div class="ttdeci">char * printlong(unsigned long val)</div><div class="ttdef"><b>Definition</b> utils.c:289</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l01566">name</a>, <a class="el" href="#l00343">pi_file_close()</a>, <a class="el" href="#l00094">PI_HDR_SIZE</a>, <a class="el" href="#l00096">PI_RECORD_ENT_SIZE</a>, <a class="el" href="#l00095">PI_RESOURCE_ENT_SIZE</a>, <a class="el" href="#l00131">pilot_time_to_unix_time()</a>, and <a class="el" href="#l00289">printlong()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l02296">_wrap_pi_file_install()</a>, <a class="el" href="#l00538">do_install()</a>, <a class="el" href="#l00448">main()</a>, <a class="el" href="#l00366">main()</a>, <a class="el" href="#l00135">main()</a>, <a class="el" href="#l01394">palm_install_internal()</a>, <a class="el" href="#l01591">palm_merge()</a>, <a class="el" href="#l00961">palm_restore()</a>, <a class="el" href="#l00685">pdb_to_jpg()</a>, and <a class="el" href="#l00316">pdb_to_wav()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_ac653337883ed6afb08f14a7816c439d3_cgraph.png" border="0" usemap="#api-file_8c_ac653337883ed6afb08f14a7816c439d3_cgraph" alt=""/></div>
<map name="api-file_8c_ac653337883ed6afb08f14a7816c439d3_cgraph" id="api-file_8c_ac653337883ed6afb08f14a7816c439d3_cgraph">
<area shape="rect" title=" " alt="" coords="5,79,96,104"/>
<area shape="rect" href="pi-file_8c.html#a917a7629f465050a293350e2e63f2272" title=" " alt="" coords="176,29,270,55"/>
<area shape="poly" title=" " alt="" coords="95,76,161,57,162,62,97,81"/>
<area shape="rect" href="pi-file_8c.html#a525c887a4341a2229e82bede810318d0" title=" " alt="" coords="144,79,302,104"/>
<area shape="poly" title=" " alt="" coords="96,89,128,89,128,94,96,94"/>
<area shape="rect" href="utils_8c.html#a16173a2940fee2ae9756d00109d096ee" title=" " alt="" coords="188,128,258,154"/>
<area shape="poly" title=" " alt="" coords="97,102,173,124,172,129,95,107"/>
<area shape="rect" href="pi-file_8c.html#aa85c52c17928a7cb3dd4829ea6373fc8" title=" " alt="" coords="350,5,500,31"/>
<area shape="poly" title=" " alt="" coords="270,34,335,26,335,31,270,39"/>
<area shape="rect" href="pi-file_8c.html#a08d48ce60b0eb3b173c93b7902c670a7" title=" " alt="" coords="383,55,467,80"/>
<area shape="poly" title=" " alt="" coords="270,45,368,58,367,63,270,51"/>
<area shape="rect" href="pi-file_8c.html#aa8ab2a876d4c9ca6049f5dea0d44f033" title=" " alt="" coords="548,5,707,31"/>
<area shape="poly" title=" " alt="" coords="501,16,533,16,533,21,501,21"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="577,55,678,80"/>
<area shape="poly" title=" " alt="" coords="468,65,562,65,562,70,468,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_ac653337883ed6afb08f14a7816c439d3_icgraph.png" border="0" usemap="#api-file_8c_ac653337883ed6afb08f14a7816c439d3_icgraph" alt=""/></div>
<map name="api-file_8c_ac653337883ed6afb08f14a7816c439d3_icgraph" id="api-file_8c_ac653337883ed6afb08f14a7816c439d3_icgraph">
<area shape="rect" title=" " alt="" coords="434,228,525,254"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="248,5,386,31"/>
<area shape="poly" title=" " alt="" coords="470,214,460,176,443,130,418,84,385,44,369,34,372,29,388,40,422,81,447,128,465,174,475,212"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="278,55,355,80"/>
<area shape="poly" title=" " alt="" coords="466,215,435,154,412,121,385,94,354,78,357,73,388,89,416,118,440,151,470,212"/>
<area shape="rect" href="ccexample_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="292,104,341,130"/>
<area shape="poly" title=" " alt="" coords="459,217,427,179,385,143,363,132,341,125,342,119,365,127,388,139,431,175,463,214"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="292,153,341,179"/>
<area shape="poly" title=" " alt="" coords="442,222,385,193,341,176,343,171,387,188,445,217"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="292,203,341,228"/>
<area shape="poly" title=" " alt="" coords="419,234,341,222,342,217,420,229"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="247,301,386,327"/>
<area shape="poly" title=" " alt="" coords="444,264,387,293,361,303,359,298,385,288,441,259"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="105,352,197,378"/>
<area shape="poly" title=" " alt="" coords="464,268,432,307,411,327,388,342,339,360,288,369,239,372,197,372,198,366,239,367,287,364,338,355,385,337,408,322,429,304,460,265"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="103,401,199,427"/>
<area shape="poly" title=" " alt="" coords="470,270,439,325,416,354,388,378,341,400,291,413,242,418,200,420,199,414,242,413,290,407,339,395,385,373,412,350,435,323,465,267"/>
<area shape="rect" href="pilot-foto_8c.html#a8e9b5c3f2fa776bf17b633b74890bcff" title=" " alt="" coords="274,252,359,278"/>
<area shape="poly" title=" " alt="" coords="420,252,360,261,359,256,419,247"/>
<area shape="rect" href="pilot-wav_8c.html#aa2811f6abf8e3ded01a04d2cb656122e" title=" " alt="" coords="271,453,362,479"/>
<area shape="poly" title=" " alt="" coords="474,269,463,306,445,350,420,396,388,436,360,455,357,451,385,432,416,393,440,348,458,304,469,268"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="126,252,176,278"/>
<area shape="poly" title=" " alt="" coords="266,83,249,94,214,133,187,177,169,220,158,252,153,251,164,218,183,175,210,129,245,89,263,78"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="106,301,196,327"/>
<area shape="poly" title=" " alt="" coords="231,317,197,317,197,312,231,312"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,352,55,378"/>
<area shape="poly" title=" " alt="" coords="106,336,56,357,54,352,104,331"/>
<area shape="poly" title=" " alt="" coords="89,368,55,368,55,362,89,362"/>
<area shape="poly" title=" " alt="" coords="102,397,54,377,56,372,104,392"/>
<area shape="poly" title=" " alt="" coords="259,268,176,268,176,262,259,262"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="126,453,176,479"/>
<area shape="poly" title=" " alt="" coords="255,469,176,469,176,464,255,464"/>
</map>
</div>

</div>
</div>
<a id="ab1228cfb3af65abf3eaf90c5eb9260ad" name="ab1228cfb3af65abf3eaf90c5eb9260ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1228cfb3af65abf3eaf90c5eb9260ad">&#9670;&#160;</a></span>pi_file_read_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_read_record </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>recindex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>bufp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>sizep</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>recattrs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>category</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">recordid_t *</td>          <td class="paramname"><span class="paramname"><em>recuid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  442</span>{</div>
<div class="line"><span class="lineno">  443</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno">  444</span>    pi_file_entry_t *entp;</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">if</span> (pf-&gt;for_writing || pf-&gt;resource_flag)</div>
<div class="line"><span class="lineno">  447</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a49baf93be5c26dff75cb9e6eb96b31ef">PI_ERR_FILE_INVALID</a>;</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordflow">if</span> (recindex &lt; 0 || recindex &gt;= pf-&gt;num_entries)</div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#ad72e94f28e3663f728ff3616b80b30dc">PI_ERR_GENERIC_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>    entp = &amp;pf-&gt;entries[recindex];</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">if</span> (bufp) {</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="#ae61f7cf14c3c66627059dd6a2c285554">pi_file_set_rbuf_size</a>(pf, (<span class="keywordtype">size_t</span>) entp-&gt;size)) &lt; 0) {</div>
<div class="line"><span class="lineno">  456</span>            LOG((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  457</span>                <span class="stringliteral">&quot;FILE READ_RECORD Unable to set buffer size!\n&quot;</span>));</div>
<div class="line"><span class="lineno">  458</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  459</span>        }</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>        fseek(pf-&gt;f, pf-&gt;entries[recindex].offset, SEEK_SET);</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">if</span> (fread(pf-&gt;rbuf, 1, (<span class="keywordtype">size_t</span>) entp-&gt;size, pf-&gt;f) !=</div>
<div class="line"><span class="lineno">  464</span>            (<span class="keywordtype">size_t</span>) entp-&gt;size) {</div>
<div class="line"><span class="lineno">  465</span>            LOG((PI_DBG_API, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  466</span>                <span class="stringliteral">&quot;FILE READ_RECORD Unable to read record!\n&quot;</span>));</div>
<div class="line"><span class="lineno">  467</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#ad1398788fd055b8ef134b504010bcef8">PI_ERR_FILE_ERROR</a>;</div>
<div class="line"><span class="lineno">  468</span>        }</div>
<div class="line"><span class="lineno">  469</span>        </div>
<div class="line"><span class="lineno">  470</span>        *bufp = pf-&gt;rbuf;</div>
<div class="line"><span class="lineno">  471</span>    }</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    LOG ((PI_DBG_API, PI_DBG_LVL_INFO,</div>
<div class="line"><span class="lineno">  474</span>         <span class="stringliteral">&quot;FILE READ_RECORD Record: %d Bytes: %d\n&quot;</span>, recindex, entp-&gt;size));</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>    <span class="keywordflow">if</span> (sizep)</div>
<div class="line"><span class="lineno">  477</span>        *sizep = entp-&gt;size;</div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">if</span> (recattrs)</div>
<div class="line"><span class="lineno">  479</span>        *recattrs = entp-&gt;attrs &amp; 0xf0;</div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordflow">if</span> (category)</div>
<div class="line"><span class="lineno">  481</span>        *category = entp-&gt;attrs &amp; 0xf;</div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordflow">if</span> (recuid)</div>
<div class="line"><span class="lineno">  483</span>        *recuid = entp-&gt;uid;</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  486</span>}</div>
<div class="ttc" id="anamespacepisock_html_ad72e94f28e3663f728ff3616b80b30dc"><div class="ttname"><a href="namespacepisock.html#ad72e94f28e3663f728ff3616b80b30dc">pisock.PI_ERR_GENERIC_ARGUMENT</a></div><div class="ttdeci">PI_ERR_GENERIC_ARGUMENT</div><div class="ttdef"><b>Definition</b> pisock.py:64</div></div>
<div class="ttc" id="api-file_8c_html_ae61f7cf14c3c66627059dd6a2c285554"><div class="ttname"><a href="#ae61f7cf14c3c66627059dd6a2c285554">pi_file_set_rbuf_size</a></div><div class="ttdeci">static int pi_file_set_rbuf_size(pi_file_t *pf, size_t size)</div><div class="ttdef"><b>Definition</b> pi-file.c:1436</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01436">pi_file_set_rbuf_size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00379">addresses()</a>, <a class="el" href="#l00284">datebook()</a>, <a class="el" href="#l00285">dump_record()</a>, <a class="el" href="#l00059">extract_image()</a>, <a class="el" href="#l00082">getrecord_pi_file()</a>, <a class="el" href="#l00212">list_records()</a>, <a class="el" href="#l00207">main()</a>, <a class="el" href="#l00135">main()</a>, <a class="el" href="#l00052">memos()</a>, <a class="el" href="#l00961">palm_restore()</a>, <a class="el" href="#l00685">pdb_to_jpg()</a>, <a class="el" href="#l00316">pdb_to_wav()</a>, <a class="el" href="#l00853">pi_file_install()</a>, <a class="el" href="#l01109">pi_file_merge()</a>, <a class="el" href="#l00489">pi_file_read_record_by_id()</a>, and <a class="el" href="#l00116">todos()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_ab1228cfb3af65abf3eaf90c5eb9260ad_cgraph.png" border="0" usemap="#api-file_8c_ab1228cfb3af65abf3eaf90c5eb9260ad_cgraph" alt=""/></div>
<map name="api-file_8c_ab1228cfb3af65abf3eaf90c5eb9260ad_cgraph" id="api-file_8c_ab1228cfb3af65abf3eaf90c5eb9260ad_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,136,31"/>
<area shape="rect" href="pi-file_8c.html#ae61f7cf14c3c66627059dd6a2c285554" title=" " alt="" coords="184,5,324,31"/>
<area shape="poly" title=" " alt="" coords="136,16,168,16,168,21,136,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_ab1228cfb3af65abf3eaf90c5eb9260ad_icgraph.png" border="0" usemap="#api-file_8c_ab1228cfb3af65abf3eaf90c5eb9260ad_icgraph" alt=""/></div>
<map name="api-file_8c_ab1228cfb3af65abf3eaf90c5eb9260ad_icgraph" id="api-file_8c_ab1228cfb3af65abf3eaf90c5eb9260ad_icgraph">
<area shape="rect" title=" " alt="" coords="609,396,739,422"/>
<area shape="rect" href="ccexample_8cc.html#abad9561d1051ad04ebb61237bc7b7b18" title=" " alt="" coords="455,5,536,31"/>
<area shape="poly" title=" " alt="" coords="669,380,664,313,647,223,633,175,614,128,590,84,559,44,535,29,538,25,562,40,594,81,619,126,638,174,652,222,669,312,675,380"/>
<area shape="rect" href="ccexample_8cc.html#a025d644ab8d43c391d584e8b7011ba1b" title=" " alt="" coords="458,55,533,80"/>
<area shape="poly" title=" " alt="" coords="668,381,660,322,641,245,627,204,609,164,586,127,559,93,546,84,532,78,534,73,549,79,563,90,591,124,614,162,632,202,646,244,665,321,673,380"/>
<area shape="rect" href="pilot-file_8c.html#a3439aa98e9a020f8571fb4b1d2d8c0ba" title=" " alt="" coords="264,212,361,238"/>
<area shape="poly" title=" " alt="" coords="665,381,654,337,633,285,603,234,583,213,559,195,532,183,503,177,473,177,442,180,385,195,341,214,339,209,384,190,441,175,472,171,503,172,534,178,562,191,586,209,607,231,638,283,659,336,670,380"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#afd28cf31effef69995109bbd4b5bba50" title=" " alt="" coords="444,371,547,396"/>
<area shape="poly" title=" " alt="" coords="593,400,547,393,548,388,594,395"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="288,345,337,371"/>
<area shape="poly" title=" " alt="" coords="636,391,600,374,560,361,498,352,436,351,338,358,338,352,436,345,498,347,561,356,602,369,639,386"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a8ddf8fdda76c732d8f9948f194cc75b7" title=" " alt="" coords="437,420,554,446"/>
<area shape="poly" title=" " alt="" coords="593,422,555,428,554,422,593,417"/>
<area shape="rect" href="pilot-file_8c.html#af0dc12f5627f765dfad88d1106c2fb4b" title=" " alt="" coords="268,265,357,291"/>
<area shape="poly" title=" " alt="" coords="643,389,605,362,560,338,507,319,452,304,357,286,358,281,453,299,508,314,562,333,607,358,646,384"/>
<area shape="rect" href="validate_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="471,469,520,495"/>
<area shape="poly" title=" " alt="" coords="631,431,562,461,522,476,520,471,560,456,629,426"/>
<area shape="rect" href="ccexample_8cc.html#a33ee1ab0b854603ff351b088a002306f" title=" " alt="" coords="463,519,528,544"/>
<area shape="poly" title=" " alt="" coords="652,435,612,473,562,510,529,525,527,520,559,505,609,469,648,431"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="264,721,361,747"/>
<area shape="poly" title=" " alt="" coords="674,437,667,496,650,570,635,609,616,647,592,681,562,710,539,724,514,735,460,747,407,749,361,745,361,740,407,744,459,742,512,730,537,720,559,705,588,677,612,644,630,607,644,569,662,495,669,436"/>
<area shape="rect" href="pilot-foto_8c.html#a8e9b5c3f2fa776bf17b633b74890bcff" title=" " alt="" coords="453,669,538,695"/>
<area shape="poly" title=" " alt="" coords="670,438,658,485,637,545,606,606,586,635,562,660,539,674,537,670,559,656,582,631,601,603,632,543,653,484,665,437"/>
<area shape="rect" href="pilot-wav_8c.html#aa2811f6abf8e3ded01a04d2cb656122e" title=" " alt="" coords="450,771,541,796"/>
<area shape="poly" title=" " alt="" coords="673,437,665,500,647,583,632,628,614,672,591,715,563,753,537,772,534,768,559,750,586,712,609,670,627,626,641,582,660,499,668,437"/>
<area shape="rect" href="pi-file_8c.html#a2b1bd10e17e43080aab539bafd44bf9f" title=" " alt="" coords="447,620,544,646"/>
<area shape="poly" title=" " alt="" coords="665,437,627,517,598,562,562,603,534,622,531,617,559,599,594,559,622,515,660,435"/>
<area shape="rect" href="pi-file_8c.html#a98cc34b189094419f679b3860e0c8ec3" title=" " alt="" coords="264,472,362,498"/>
<area shape="poly" title=" " alt="" coords="664,437,648,467,626,502,597,534,562,559,527,573,496,577,465,572,429,559,413,549,403,536,395,523,381,511,360,501,362,496,384,507,399,520,408,533,416,545,432,554,467,567,496,572,525,568,559,554,594,530,622,498,644,465,659,435"/>
<area shape="rect" href="pi-file_8c.html#a00ed3e43b193fe55597d4362eccd961f" title=" " alt="" coords="430,204,561,245"/>
<area shape="poly" title=" " alt="" coords="655,384,614,327,588,295,559,266,535,248,538,244,562,261,592,291,619,323,659,381"/>
<area shape="rect" href="ccexample_8cc.html#a9cd8821600ea555528b5adff4b3cd603" title=" " alt="" coords="469,104,522,130"/>
<area shape="poly" title=" " alt="" coords="665,382,652,333,631,272,601,208,581,178,559,151,541,137,521,127,524,123,544,132,563,147,585,175,605,205,636,270,657,332,670,380"/>
<area shape="rect" href="ccexample_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="288,55,337,80"/>
<area shape="poly" title=" " alt="" coords="440,36,339,64,337,58,439,31"/>
<area shape="poly" title=" " alt="" coords="443,70,338,70,338,65,443,65"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="124,237,174,263"/>
<area shape="poly" title=" " alt="" coords="249,237,174,249,174,244,248,232"/>
<area shape="poly" title=" " alt="" coords="428,377,338,364,338,359,429,372"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="288,420,337,446"/>
<area shape="poly" title=" " alt="" coords="422,436,338,436,338,430,422,430"/>
<area shape="poly" title=" " alt="" coords="253,271,174,257,174,252,253,265"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,521,55,547"/>
<area shape="poly" title=" " alt="" coords="248,735,212,731,173,722,135,707,101,686,72,653,51,614,38,577,31,548,36,547,43,575,56,612,76,650,104,681,138,702,175,717,213,726,249,730"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="124,645,174,671"/>
<area shape="poly" title=" " alt="" coords="438,681,174,662,174,657,438,676"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="288,771,337,796"/>
<area shape="poly" title=" " alt="" coords="434,786,338,786,338,781,434,781"/>
<area shape="poly" title=" " alt="" coords="441,655,432,659,377,692,333,723,330,719,374,687,429,654,439,650"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="244,571,382,596"/>
<area shape="poly" title=" " alt="" coords="432,618,362,599,364,594,433,613"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="274,620,351,646"/>
<area shape="poly" title=" " alt="" coords="432,636,351,636,351,630,432,630"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="243,521,382,547"/>
<area shape="poly" title=" " alt="" coords="448,615,429,603,405,581,381,560,359,550,361,545,384,556,408,577,432,599,451,610"/>
<area shape="poly" title=" " alt="" coords="443,614,428,603,411,578,405,555,398,533,381,511,361,499,364,494,384,507,402,530,410,553,416,576,432,599,446,610"/>
<area shape="poly" title=" " alt="" coords="260,644,174,657,173,652,259,638"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="104,521,194,547"/>
<area shape="poly" title=" " alt="" coords="227,537,195,537,195,532,227,532"/>
<area shape="poly" title=" " alt="" coords="88,537,55,537,55,532,88,532"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="103,472,195,498"/>
<area shape="poly" title=" " alt="" coords="248,488,195,488,195,482,248,482"/>
<area shape="poly" title=" " alt="" coords="103,507,56,526,54,522,101,502"/>
<area shape="poly" title=" " alt="" coords="415,228,361,228,361,222,415,222"/>
<area shape="poly" title=" " alt="" coords="453,108,337,76,338,71,454,103"/>
</map>
</div>

</div>
</div>
<a id="a00ed3e43b193fe55597d4362eccd961f" name="a00ed3e43b193fe55597d4362eccd961f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00ed3e43b193fe55597d4362eccd961f">&#9670;&#160;</a></span>pi_file_read_record_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_read_record_by_id </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">recordid_t</td>          <td class="paramname"><span class="paramname"><em>uid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>bufp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>sizep</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>idxp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>attrp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>catp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  492</span>{</div>
<div class="line"><span class="lineno">  493</span>    <span class="keywordtype">int</span>     i;</div>
<div class="line"><span class="lineno">  494</span>    <span class="keyword">struct  </span>pi_file_entry *entp;</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">for</span> (i = 0, entp = pf-&gt;entries; i &lt; pf-&gt;num_entries;</div>
<div class="line"><span class="lineno">  497</span>         i++, entp++) {</div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordflow">if</span> (entp-&gt;uid == uid) {</div>
<div class="line"><span class="lineno">  499</span>            <span class="keywordflow">if</span> (idxp)</div>
<div class="line"><span class="lineno">  500</span>                *idxp = i;</div>
<div class="line"><span class="lineno">  501</span>            <span class="keywordflow">return</span> (<a class="code hl_function" href="#ab1228cfb3af65abf3eaf90c5eb9260ad">pi_file_read_record</a></div>
<div class="line"><span class="lineno">  502</span>                (pf, i, bufp, sizep, attrp, catp, &amp;uid));</div>
<div class="line"><span class="lineno">  503</span>        }</div>
<div class="line"><span class="lineno">  504</span>    }</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#acd6b4ed10e635a2ee89048e9530fcaca">PI_ERR_FILE_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  507</span>}</div>
<div class="ttc" id="anamespacepisock_html_acd6b4ed10e635a2ee89048e9530fcaca"><div class="ttname"><a href="namespacepisock.html#acd6b4ed10e635a2ee89048e9530fcaca">pisock.PI_ERR_FILE_NOT_FOUND</a></div><div class="ttdeci">PI_ERR_FILE_NOT_FOUND</div><div class="ttdef"><b>Definition</b> pisock.py:61</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00439">pi_file_read_record()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00285">dump_record()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a00ed3e43b193fe55597d4362eccd961f_cgraph.png" border="0" usemap="#api-file_8c_a00ed3e43b193fe55597d4362eccd961f_cgraph" alt=""/></div>
<map name="api-file_8c_a00ed3e43b193fe55597d4362eccd961f_cgraph" id="api-file_8c_a00ed3e43b193fe55597d4362eccd961f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,136,46"/>
<area shape="rect" href="pi-file_8c.html#ab1228cfb3af65abf3eaf90c5eb9260ad" title=" " alt="" coords="184,13,314,38"/>
<area shape="poly" title=" " alt="" coords="136,23,168,23,168,28,136,28"/>
<area shape="rect" href="pi-file_8c.html#ae61f7cf14c3c66627059dd6a2c285554" title=" " alt="" coords="362,13,502,38"/>
<area shape="poly" title=" " alt="" coords="314,23,347,23,347,28,314,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a00ed3e43b193fe55597d4362eccd961f_icgraph.png" border="0" usemap="#api-file_8c_a00ed3e43b193fe55597d4362eccd961f_icgraph" alt=""/></div>
<map name="api-file_8c_a00ed3e43b193fe55597d4362eccd961f_icgraph" id="api-file_8c_a00ed3e43b193fe55597d4362eccd961f_icgraph">
<area shape="rect" title=" " alt="" coords="247,5,377,46"/>
<area shape="rect" href="pilot-file_8c.html#a3439aa98e9a020f8571fb4b1d2d8c0ba" title=" " alt="" coords="103,13,199,38"/>
<area shape="poly" title=" " alt="" coords="232,28,199,28,199,23,232,23"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,38"/>
<area shape="poly" title=" " alt="" coords="87,28,55,28,55,23,87,23"/>
</map>
</div>

</div>
</div>
<a id="a9f6d17f2f6043fddce5f6fc4eabc646c" name="a9f6d17f2f6043fddce5f6fc4eabc646c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f6d17f2f6043fddce5f6fc4eabc646c">&#9670;&#160;</a></span>pi_file_read_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_read_resource </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>bufp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>sizep</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *</td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>idp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  406</span>{</div>
<div class="line"><span class="lineno">  407</span>    pi_file_entry_t *entp;</div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <span class="keywordflow">if</span> (pf-&gt;for_writing || !pf-&gt;resource_flag)</div>
<div class="line"><span class="lineno">  411</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a49baf93be5c26dff75cb9e6eb96b31ef">PI_ERR_FILE_INVALID</a>;</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">if</span> (i &lt; 0 || i &gt;= pf-&gt;num_entries)</div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#ad72e94f28e3663f728ff3616b80b30dc">PI_ERR_GENERIC_ARGUMENT</a>;</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    entp = &amp;pf-&gt;entries[i];</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordflow">if</span> (bufp) {</div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="#ae61f7cf14c3c66627059dd6a2c285554">pi_file_set_rbuf_size</a>(pf, (<span class="keywordtype">size_t</span>) entp-&gt;size)) &lt; 0)</div>
<div class="line"><span class="lineno">  420</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  421</span>        fseek(pf-&gt;f, pf-&gt;entries[i].offset, SEEK_SET);</div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">if</span> (fread(pf-&gt;rbuf, 1, (<span class="keywordtype">size_t</span>) entp-&gt;size, pf-&gt;f) !=</div>
<div class="line"><span class="lineno">  423</span>                (<span class="keywordtype">size_t</span>) entp-&gt;size)</div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#ad1398788fd055b8ef134b504010bcef8">PI_ERR_FILE_ERROR</a>;</div>
<div class="line"><span class="lineno">  425</span>        *bufp = pf-&gt;rbuf;</div>
<div class="line"><span class="lineno">  426</span>    }</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>    <span class="keywordflow">if</span> (sizep)</div>
<div class="line"><span class="lineno">  429</span>        *sizep = entp-&gt;size;</div>
<div class="line"><span class="lineno">  430</span>    <span class="keywordflow">if</span> (type)</div>
<div class="line"><span class="lineno">  431</span>        *type = entp-&gt;type;</div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">if</span> (idp)</div>
<div class="line"><span class="lineno">  433</span>        *idp = entp-&gt;resource_id;</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  436</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01436">pi_file_set_rbuf_size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00285">dump_record()</a>, <a class="el" href="#l00212">list_records()</a>, <a class="el" href="#l00961">palm_restore()</a>, <a class="el" href="#l00853">pi_file_install()</a>, <a class="el" href="#l01109">pi_file_merge()</a>, and <a class="el" href="#l00381">pi_file_read_resource_by_type_id()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a9f6d17f2f6043fddce5f6fc4eabc646c_cgraph.png" border="0" usemap="#api-file_8c_a9f6d17f2f6043fddce5f6fc4eabc646c_cgraph" alt=""/></div>
<map name="api-file_8c_a9f6d17f2f6043fddce5f6fc4eabc646c_cgraph" id="api-file_8c_a9f6d17f2f6043fddce5f6fc4eabc646c_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,150,31"/>
<area shape="rect" href="pi-file_8c.html#ae61f7cf14c3c66627059dd6a2c285554" title=" " alt="" coords="198,5,338,31"/>
<area shape="poly" title=" " alt="" coords="150,16,182,16,182,21,150,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a9f6d17f2f6043fddce5f6fc4eabc646c_icgraph.png" border="0" usemap="#api-file_8c_a9f6d17f2f6043fddce5f6fc4eabc646c_icgraph" alt=""/></div>
<map name="api-file_8c_a9f6d17f2f6043fddce5f6fc4eabc646c_icgraph" id="api-file_8c_a9f6d17f2f6043fddce5f6fc4eabc646c_icgraph">
<area shape="rect" title=" " alt="" coords="623,123,767,149"/>
<area shape="rect" href="pilot-file_8c.html#a3439aa98e9a020f8571fb4b1d2d8c0ba" title=" " alt="" coords="264,30,361,55"/>
<area shape="poly" title=" " alt="" coords="674,112,633,64,605,41,574,23,545,15,516,10,455,10,399,19,353,31,351,26,398,14,455,5,516,5,546,9,576,19,608,36,636,60,678,108"/>
<area shape="rect" href="pilot-file_8c.html#af0dc12f5627f765dfad88d1106c2fb4b" title=" " alt="" coords="458,98,547,123"/>
<area shape="poly" title=" " alt="" coords="607,127,547,119,548,114,608,122"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="264,131,361,157"/>
<area shape="poly" title=" " alt="" coords="607,140,361,145,361,140,607,135"/>
<area shape="rect" href="pi-file_8c.html#a2b1bd10e17e43080aab539bafd44bf9f" title=" " alt="" coords="454,219,551,245"/>
<area shape="poly" title=" " alt="" coords="655,158,531,221,529,216,653,153"/>
<area shape="rect" href="pi-file_8c.html#a98cc34b189094419f679b3860e0c8ec3" title=" " alt="" coords="264,328,362,354"/>
<area shape="poly" title=" " alt="" coords="677,163,634,212,606,237,576,259,522,287,464,309,363,335,361,330,463,304,520,282,573,255,603,233,630,208,673,159"/>
<area shape="rect" href="pi-file_8c.html#a0ab7f7120e1a05e9625f619c94cee900" title=" " alt="" coords="430,33,575,73"/>
<area shape="poly" title=" " alt="" coords="648,119,551,76,553,71,650,114"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="124,68,174,94"/>
<area shape="poly" title=" " alt="" coords="250,60,175,78,173,73,249,55"/>
<area shape="poly" title=" " alt="" coords="443,108,174,86,174,80,443,103"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,279,55,305"/>
<area shape="poly" title=" " alt="" coords="250,160,178,183,140,199,104,219,69,250,43,280,39,277,65,246,101,215,137,195,176,178,249,155"/>
<area shape="poly" title=" " alt="" coords="465,213,381,170,355,160,357,155,383,165,467,209"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="244,180,382,206"/>
<area shape="poly" title=" " alt="" coords="439,221,379,209,380,204,440,216"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="274,230,351,255"/>
<area shape="poly" title=" " alt="" coords="439,238,351,243,351,238,439,233"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="243,279,382,305"/>
<area shape="poly" title=" " alt="" coords="446,252,357,281,355,276,444,247"/>
<area shape="poly" title=" " alt="" coords="476,257,434,288,384,319,359,330,357,325,381,315,431,284,472,253"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="124,230,174,255"/>
<area shape="poly" title=" " alt="" coords="259,245,174,245,174,240,259,240"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="104,279,194,305"/>
<area shape="poly" title=" " alt="" coords="227,294,195,294,195,289,227,289"/>
<area shape="poly" title=" " alt="" coords="88,294,55,294,55,289,88,289"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="103,328,195,354"/>
<area shape="poly" title=" " alt="" coords="248,344,195,344,195,338,248,338"/>
<area shape="poly" title=" " alt="" coords="101,324,54,304,56,299,103,319"/>
<area shape="poly" title=" " alt="" coords="414,51,361,48,361,42,415,45"/>
</map>
</div>

</div>
</div>
<a id="a0ab7f7120e1a05e9625f619c94cee900" name="a0ab7f7120e1a05e9625f619c94cee900"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ab7f7120e1a05e9625f619c94cee900">&#9670;&#160;</a></span>pi_file_read_resource_by_type_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_read_resource_by_type_id </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>restype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>resid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **</td>          <td class="paramname"><span class="paramname"><em>bufp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>sizep</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>resindex</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  384</span>{</div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordtype">int</span>     i,</div>
<div class="line"><span class="lineno">  386</span>        result;</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>    result = <a class="code hl_function" href="#aee2d391cae42e7ed33bef52807e05ef3">pi_file_find_resource_by_type_id</a>(pf, restype, resid, &amp;i);</div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">if</span> (!result)</div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#acd6b4ed10e635a2ee89048e9530fcaca">PI_ERR_FILE_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  391</span>    <span class="keywordflow">if</span> (resindex)</div>
<div class="line"><span class="lineno">  392</span>        *resindex = i;</div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a9f6d17f2f6043fddce5f6fc4eabc646c">pi_file_read_resource</a>(pf, i, bufp, sizep, NULL, NULL);</div>
<div class="line"><span class="lineno">  394</span>}</div>
<div class="ttc" id="api-file_8c_html_aee2d391cae42e7ed33bef52807e05ef3"><div class="ttname"><a href="#aee2d391cae42e7ed33bef52807e05ef3">pi_file_find_resource_by_type_id</a></div><div class="ttdeci">static int pi_file_find_resource_by_type_id(const pi_file_t *pf, unsigned long restype, int resid, int *resindex)</div><div class="ttdef"><b>Definition</b> pi-file.c:1505</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01505">pi_file_find_resource_by_type_id()</a>, and <a class="el" href="#l00403">pi_file_read_resource()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00285">dump_record()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a0ab7f7120e1a05e9625f619c94cee900_cgraph.png" border="0" usemap="#api-file_8c_a0ab7f7120e1a05e9625f619c94cee900_cgraph" alt=""/></div>
<map name="api-file_8c_a0ab7f7120e1a05e9625f619c94cee900_cgraph" id="api-file_8c_a0ab7f7120e1a05e9625f619c94cee900_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,150,75"/>
<area shape="rect" href="pi-file_8c.html#aee2d391cae42e7ed33bef52807e05ef3" title=" " alt="" coords="200,5,340,46"/>
<area shape="poly" title=" " alt="" coords="150,41,184,36,185,41,150,47"/>
<area shape="rect" href="pi-file_8c.html#a9f6d17f2f6043fddce5f6fc4eabc646c" title=" " alt="" coords="198,70,342,96"/>
<area shape="poly" title=" " alt="" coords="150,63,183,68,182,73,150,68"/>
<area shape="rect" href="pi-file_8c.html#ae61f7cf14c3c66627059dd6a2c285554" title=" " alt="" coords="390,70,530,96"/>
<area shape="poly" title=" " alt="" coords="343,80,374,80,374,86,343,86"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a0ab7f7120e1a05e9625f619c94cee900_icgraph.png" border="0" usemap="#api-file_8c_a0ab7f7120e1a05e9625f619c94cee900_icgraph" alt=""/></div>
<map name="api-file_8c_a0ab7f7120e1a05e9625f619c94cee900_icgraph" id="api-file_8c_a0ab7f7120e1a05e9625f619c94cee900_icgraph">
<area shape="rect" title=" " alt="" coords="247,5,391,46"/>
<area shape="rect" href="pilot-file_8c.html#a3439aa98e9a020f8571fb4b1d2d8c0ba" title=" " alt="" coords="103,13,199,38"/>
<area shape="poly" title=" " alt="" coords="232,28,199,28,199,23,232,23"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="5,13,55,38"/>
<area shape="poly" title=" " alt="" coords="87,28,55,28,55,23,87,23"/>
</map>
</div>

</div>
</div>
<a id="a197024e7749af84e776eb5b98932bb17" name="a197024e7749af84e776eb5b98932bb17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a197024e7749af84e776eb5b98932bb17">&#9670;&#160;</a></span>pi_file_retrieve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_retrieve </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>socket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cardno</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">progress_func</td>          <td class="paramname"><span class="paramname"><em>report_progress</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  685</span>{</div>
<div class="line"><span class="lineno">  686</span>    <span class="keywordtype">int</span>     <a class="code hl_struct" href="structdb.html">db</a> = -1,</div>
<div class="line"><span class="lineno">  687</span>        result,</div>
<div class="line"><span class="lineno">  688</span>        old_device = 0;</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>    <span class="keyword">struct </span>DBInfo dbi;</div>
<div class="line"><span class="lineno">  693</span>    <span class="keyword">struct </span>DBSizeInfo size_info;</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>    pi_buffer_t *<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> = NULL;</div>
<div class="line"><span class="lineno">  696</span>    pi_progress_t progress;</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span>    <a class="code hl_function" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a">pi_reset_errors</a>(socket);</div>
<div class="line"><span class="lineno">  699</span>    memset(&amp;size_info, 0, <span class="keyword">sizeof</span>(size_info));</div>
<div class="line"><span class="lineno">  700</span>    memset(&amp;dbi, 0, <span class="keyword">sizeof</span>(dbi));</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>    <span class="comment">/* Try to get more info on the database to retrieve. Note that</span></div>
<div class="line"><span class="lineno">  703</span><span class="comment">     * with some devices like the Tungsten T3 and shadowed databases</span></div>
<div class="line"><span class="lineno">  704</span><span class="comment">     * like AddressDB, the size_info is -wrong-. It doesn&#39;t reflect</span></div>
<div class="line"><span class="lineno">  705</span><span class="comment">     * the actual contents of the database except for the number of</span></div>
<div class="line"><span class="lineno">  706</span><span class="comment">     * records.  Also, this call doesn&#39;t work pre-OS 3.</span></div>
<div class="line"><span class="lineno">  707</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  708</span>    <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#a181e3772fc7c09ee95c07897a0ed7abd">dlp_FindDBByName</a>(socket, cardno, pf-&gt;info.name,</div>
<div class="line"><span class="lineno">  709</span>            NULL, NULL, &amp;dbi, &amp;size_info)) &lt; 0)</div>
<div class="line"><span class="lineno">  710</span>    {</div>
<div class="line"><span class="lineno">  711</span>        <span class="keywordflow">if</span> (result != PI_ERR_DLP_UNSUPPORTED)</div>
<div class="line"><span class="lineno">  712</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  713</span>        old_device = 1;</div>
<div class="line"><span class="lineno">  714</span>    }</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>    <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a> (socket, cardno, dlpOpenRead | dlpOpenSecret,</div>
<div class="line"><span class="lineno">  717</span>            pf-&gt;info.name, &amp;<a class="code hl_struct" href="structdb.html">db</a>)) &lt; 0)</div>
<div class="line"><span class="lineno">  718</span>        <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>    <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (DLP_BUF_SIZE);</div>
<div class="line"><span class="lineno">  721</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> == NULL) {</div>
<div class="line"><span class="lineno">  722</span>        result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  723</span>        <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  724</span>    }</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>    <span class="keywordflow">if</span> (old_device) {</div>
<div class="line"><span class="lineno">  727</span>        <span class="keywordtype">int</span> num_records;</div>
<div class="line"><span class="lineno">  728</span>        <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#a45c114c1b0edffeaf68344b9467d5a38">dlp_ReadOpenDBInfo</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>, &amp;num_records)) &lt; 0)</div>
<div class="line"><span class="lineno">  729</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  730</span>        size_info.numRecords = num_records;</div>
<div class="line"><span class="lineno">  731</span>    }</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>    memset(&amp;progress, 0, <span class="keyword">sizeof</span>(progress));</div>
<div class="line"><span class="lineno">  734</span>    progress.type = PI_PROGRESS_RECEIVE_DB;</div>
<div class="line"><span class="lineno">  735</span>    progress.data.db.pf = pf;</div>
<div class="line"><span class="lineno">  736</span>    progress.data.db.size = size_info;</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>    <span class="keywordflow">if</span> (size_info.appBlockSize</div>
<div class="line"><span class="lineno">  739</span>        || (dbi.miscFlags &amp; dlpDBMiscFlagRamBased)</div>
<div class="line"><span class="lineno">  740</span>        || old_device) {</div>
<div class="line"><span class="lineno">  741</span>        <span class="comment">/* what we&#39;re trying to do here is avoid trying to read an appBlock</span></div>
<div class="line"><span class="lineno">  742</span><span class="comment">         * from a ROM file, because this crashes on several devices.</span></div>
<div class="line"><span class="lineno">  743</span><span class="comment">         * Also, on several palmOne devices, the size info returned by the OS</span></div>
<div class="line"><span class="lineno">  744</span><span class="comment">         * is absolutely incorrect. This happens with some system shadow files</span></div>
<div class="line"><span class="lineno">  745</span><span class="comment">         * like AddressDB on T3, which actually do contain data and an appInfo</span></div>
<div class="line"><span class="lineno">  746</span><span class="comment">         * block but the system tells us there&#39;s no appInfo and nearly no data,</span></div>
<div class="line"><span class="lineno">  747</span><span class="comment">         * but still gives the accurate number of records. Seems to be bad</span></div>
<div class="line"><span class="lineno">  748</span><span class="comment">         * structure shadows in PACE.</span></div>
<div class="line"><span class="lineno">  749</span><span class="comment">         * In any case, the ultimate result is that:</span></div>
<div class="line"><span class="lineno">  750</span><span class="comment">         * 1. On devices pre-OS 3, we do always try to read the appInfo block</span></div>
<div class="line"><span class="lineno">  751</span><span class="comment">         *    because dlp_FindDBByName() is unsupported so we can&#39;t find out if</span></div>
<div class="line"><span class="lineno">  752</span><span class="comment">         *    there&#39;s an appInfo block</span></div>
<div class="line"><span class="lineno">  753</span><span class="comment">         * 2. On OS5+ devices, we&#39;re not sure that the appInfo size we have is</span></div>
<div class="line"><span class="lineno">  754</span><span class="comment">         *    accurate. But if we try reading an appInfo block in ROM it may</span></div>
<div class="line"><span class="lineno">  755</span><span class="comment">         *    crash the device</span></div>
<div class="line"><span class="lineno">  756</span><span class="comment">         * 3. Therefore, we only try to read the appInfo block if we are</span></div>
<div class="line"><span class="lineno">  757</span><span class="comment">         *    working on a RAM file or we are sure that a ROM file has appInfo.</span></div>
<div class="line"><span class="lineno">  758</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  759</span>        result = <a class="code hl_function" href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394">dlp_ReadAppBlock</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>, 0, DLP_BUF_SIZE, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">if</span> (result &gt; 0) {</div>
<div class="line"><span class="lineno">  761</span>            <a class="code hl_function" href="#a4d062291f9e9c2f88b76674231e10f0e">pi_file_set_app_info</a>(pf, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>-&gt;data, (<span class="keywordtype">size_t</span>)result);</div>
<div class="line"><span class="lineno">  762</span>            progress.transferred_bytes += result;</div>
<div class="line"><span class="lineno">  763</span>            <span class="keywordflow">if</span> (report_progress &amp;&amp; report_progress(socket,</div>
<div class="line"><span class="lineno">  764</span>                    &amp;progress) == PI_TRANSFER_STOP) {</div>
<div class="line"><span class="lineno">  765</span>                result = <a class="code hl_variable" href="namespacepisock.html#ac1d2be46cd4605756199ee193caafd2a">PI_ERR_FILE_ABORTED</a>;</div>
<div class="line"><span class="lineno">  766</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  767</span>            }</div>
<div class="line"><span class="lineno">  768</span>        }</div>
<div class="line"><span class="lineno">  769</span>    }</div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span>    <span class="keywordflow">if</span> (pf-&gt;info.flags &amp; dlpDBFlagResource) {</div>
<div class="line"><span class="lineno">  772</span>        <span class="keywordflow">for</span> (j = 0; j &lt; size_info.numRecords; j++) {</div>
<div class="line"><span class="lineno">  773</span>            <span class="keywordtype">int</span>     resource_id;</div>
<div class="line"><span class="lineno">  774</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> type;</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#a06ddfb2a464d7582aad10332673e962a">dlp_ReadResourceByIndex</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>, j, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>,</div>
<div class="line"><span class="lineno">  777</span>                    &amp;type, &amp;resource_id)) &lt; 0)</div>
<div class="line"><span class="lineno">  778</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>            <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="#ad583ac4501b59a412cf22e5d36b2f55d">pi_file_append_resource</a> (pf, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>-&gt;data, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>-&gt;used,</div>
<div class="line"><span class="lineno">  781</span>                    type, resource_id)) &lt; 0) {</div>
<div class="line"><span class="lineno">  782</span>                <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, result);</div>
<div class="line"><span class="lineno">  783</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  784</span>            }</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>            progress.transferred_bytes += <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>-&gt;used;</div>
<div class="line"><span class="lineno">  787</span>            progress.data.db.transferred_records++;</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>            <span class="keywordflow">if</span> (report_progress &amp;&amp; report_progress(socket,</div>
<div class="line"><span class="lineno">  790</span>                    &amp;progress) == PI_TRANSFER_STOP) {</div>
<div class="line"><span class="lineno">  791</span>                result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_FILE_ABORTED);</div>
<div class="line"><span class="lineno">  792</span>                <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  793</span>            }</div>
<div class="line"><span class="lineno">  794</span>        }</div>
<div class="line"><span class="lineno">  795</span>    } <span class="keywordflow">else</span> <span class="keywordflow">for</span> (j = 0; j &lt; size_info.numRecords; j++) {</div>
<div class="line"><span class="lineno">  796</span>        <span class="keywordtype">int</span>     attr,</div>
<div class="line"><span class="lineno">  797</span>            category;</div>
<div class="line"><span class="lineno">  798</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> resource_id;</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>        <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8">dlp_ReadRecordByIndex</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>, j, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, &amp;resource_id, &amp;attr,</div>
<div class="line"><span class="lineno">  801</span>                &amp;category)) &lt; 0)</div>
<div class="line"><span class="lineno">  802</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>        progress.transferred_bytes += <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>-&gt;used;</div>
<div class="line"><span class="lineno">  805</span>        progress.data.db.transferred_records++;</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>        <span class="keywordflow">if</span> (report_progress</div>
<div class="line"><span class="lineno">  808</span>            &amp;&amp; report_progress(socket,</div>
<div class="line"><span class="lineno">  809</span>                &amp;progress) == PI_TRANSFER_STOP) {</div>
<div class="line"><span class="lineno">  810</span>            result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_FILE_ABORTED);</div>
<div class="line"><span class="lineno">  811</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  812</span>        }</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>        <span class="comment">/* There is no way to restore records with these</span></div>
<div class="line"><span class="lineno">  815</span><span class="comment">           attributes, so there is no use in backing them up</span></div>
<div class="line"><span class="lineno">  816</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  817</span>        <span class="keywordflow">if</span> (attr &amp;</div>
<div class="line"><span class="lineno">  818</span>            (dlpRecAttrArchived | dlpRecAttrDeleted))</div>
<div class="line"><span class="lineno">  819</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">if</span> ((result = <a class="code hl_function" href="#a13af628fb02eb3f6238e58c14e5cdc3b">pi_file_append_record</a>(pf, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>-&gt;data, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>-&gt;used,</div>
<div class="line"><span class="lineno">  821</span>                attr, category, resource_id)) &lt; 0) {</div>
<div class="line"><span class="lineno">  822</span>            <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, result);</div>
<div class="line"><span class="lineno">  823</span>            <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  824</span>        }</div>
<div class="line"><span class="lineno">  825</span>    }</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a>(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span><a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>:</div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structdb.html">db</a> != -1 &amp;&amp; <a class="code hl_function" href="socket_8c.html#a394ea83c178b51d3137ced66c4175976">pi_socket_connected</a>(socket)) {</div>
<div class="line"><span class="lineno">  833</span>        <span class="keywordtype">int</span> err = <a class="code hl_function" href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5">pi_error</a>(socket);         <span class="comment">/* make sure we keep last error code */</span></div>
<div class="line"><span class="lineno">  834</span>        <span class="keywordtype">int</span> palmoserr = <a class="code hl_function" href="socket_8c.html#ab0f7c13ccbc0c4b35c5b6d923c0291d3">pi_palmos_error</a>(socket);</div>
<div class="line"><span class="lineno">  835</span>        </div>
<div class="line"><span class="lineno">  836</span>        <a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(socket, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno">  837</span>        </div>
<div class="line"><span class="lineno">  838</span>        <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, err);          <span class="comment">/* then restore it afterwards */</span></div>
<div class="line"><span class="lineno">  839</span>        <a class="code hl_function" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d">pi_set_palmos_error</a>(socket, palmoserr);</div>
<div class="line"><span class="lineno">  840</span>    }</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> != NULL)</div>
<div class="line"><span class="lineno">  843</span>        <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">if</span> (result &gt;= 0) {</div>
<div class="line"><span class="lineno">  846</span>        <span class="comment">/* one of our pi_file* calls failed */</span></div>
<div class="line"><span class="lineno">  847</span>        result = <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(socket, PI_ERR_FILE_ERROR);</div>
<div class="line"><span class="lineno">  848</span>    }</div>
<div class="line"><span class="lineno">  849</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  850</span>}</div>
<div class="ttc" id="adlp_8c_html_a06ddfb2a464d7582aad10332673e962a"><div class="ttname"><a href="dlp_8c.html#a06ddfb2a464d7582aad10332673e962a">dlp_ReadResourceByIndex</a></div><div class="ttdeci">int dlp_ReadResourceByIndex(int sd, int dbhandle, unsigned int resindex, pi_buffer_t *buffer, unsigned long *type, int *resID)</div><div class="ttdef"><b>Definition</b> dlp.c:2745</div></div>
<div class="ttc" id="adlp_8c_html_a181e3772fc7c09ee95c07897a0ed7abd"><div class="ttname"><a href="dlp_8c.html#a181e3772fc7c09ee95c07897a0ed7abd">dlp_FindDBByName</a></div><div class="ttdeci">int dlp_FindDBByName(int sd, int cardno, PI_CONST char *name, unsigned long *localid, int *dbhandle, struct DBInfo *info, struct DBSizeInfo *size)</div><div class="ttdef"><b>Definition</b> dlp.c:1312</div></div>
<div class="ttc" id="adlp_8c_html_a45c114c1b0edffeaf68344b9467d5a38"><div class="ttname"><a href="dlp_8c.html#a45c114c1b0edffeaf68344b9467d5a38">dlp_ReadOpenDBInfo</a></div><div class="ttdeci">int dlp_ReadOpenDBInfo(int sd, int dbhandle, int *records)</div><div class="ttdef"><b>Definition</b> dlp.c:1775</div></div>
<div class="ttc" id="adlp_8c_html_a4d91eaed276eea5b726f5e4434594394"><div class="ttname"><a href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394">dlp_ReadAppBlock</a></div><div class="ttdeci">int dlp_ReadAppBlock(int sd, int dbhandle, int offset, int reqbytes, pi_buffer_t *retbuf)</div><div class="ttdef"><b>Definition</b> dlp.c:2926</div></div>
<div class="ttc" id="adlp_8c_html_afb39659f8e12d53b9c431e8cf4ccd1e8"><div class="ttname"><a href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8">dlp_ReadRecordByIndex</a></div><div class="ttdeci">int dlp_ReadRecordByIndex(int sd, int dbhandle, int recindex, pi_buffer_t *buffer, recordid_t *recuid, int *attr, int *category)</div><div class="ttdef"><b>Definition</b> dlp.c:3672</div></div>
<div class="ttc" id="api-file_8c_html_a13af628fb02eb3f6238e58c14e5cdc3b"><div class="ttname"><a href="#a13af628fb02eb3f6238e58c14e5cdc3b">pi_file_append_record</a></div><div class="ttdeci">int pi_file_append_record(pi_file_t *pf, void *data, size_t size, int recattrs, int category, recordid_t recuid)</div><div class="ttdef"><b>Definition</b> pi-file.c:650</div></div>
<div class="ttc" id="api-file_8c_html_a4d062291f9e9c2f88b76674231e10f0e"><div class="ttname"><a href="#a4d062291f9e9c2f88b76674231e10f0e">pi_file_set_app_info</a></div><div class="ttdeci">int pi_file_set_app_info(pi_file_t *pf, void *data, size_t size)</div><div class="ttdef"><b>Definition</b> pi-file.c:571</div></div>
<div class="ttc" id="api-file_8c_html_ad583ac4501b59a412cf22e5d36b2f55d"><div class="ttname"><a href="#ad583ac4501b59a412cf22e5d36b2f55d">pi_file_append_resource</a></div><div class="ttdeci">int pi_file_append_resource(pi_file_t *pf, void *data, size_t size, unsigned long restype, int resid)</div><div class="ttdef"><b>Definition</b> pi-file.c:623</div></div>
<div class="ttc" id="asocket_8c_html_a4abe9b686262eeec637d6990e57d8f6a"><div class="ttname"><a href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a">pi_reset_errors</a></div><div class="ttdeci">void pi_reset_errors(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1666</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>, <a class="el" href="#l01545">dlp_CloseDB()</a>, <a class="el" href="#l01312">dlp_FindDBByName()</a>, <a class="el" href="#l01445">dlp_OpenDB()</a>, <a class="el" href="#l02926">dlp_ReadAppBlock()</a>, <a class="el" href="#l01775">dlp_ReadOpenDBInfo()</a>, <a class="el" href="#l03672">dlp_ReadRecordByIndex()</a>, <a class="el" href="#l02745">dlp_ReadResourceByIndex()</a>, <a class="el" href="#l00435">fail()</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01613">pi_error()</a>, <a class="el" href="#l00650">pi_file_append_record()</a>, <a class="el" href="#l00623">pi_file_append_resource()</a>, <a class="el" href="#l00571">pi_file_set_app_info()</a>, <a class="el" href="#l01642">pi_palmos_error()</a>, <a class="el" href="#l01666">pi_reset_errors()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01654">pi_set_palmos_error()</a>, and <a class="el" href="#l01678">pi_socket_connected()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l02342">_wrap_pi_file_retrieve()</a>, <a class="el" href="#l00104">fetch_remote_file()</a>, <a class="el" href="#l00320">palm_backup()</a>, and <a class="el" href="#l00632">palm_fetch_internal()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a197024e7749af84e776eb5b98932bb17_cgraph.png" border="0" usemap="#api-file_8c_a197024e7749af84e776eb5b98932bb17_cgraph" alt=""/></div>
<map name="api-file_8c_a197024e7749af84e776eb5b98932bb17_cgraph" id="api-file_8c_a197024e7749af84e776eb5b98932bb17_cgraph">
<area shape="rect" title=" " alt="" coords="5,979,111,1005"/>
<area shape="rect" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991" title=" " alt="" coords="200,486,298,512"/>
<area shape="poly" title=" " alt="" coords="58,979,66,888,84,750,98,679,114,613,134,558,157,521,183,504,186,509,161,525,138,560,119,614,103,680,90,751,71,889,63,979"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1198,550,1287,576"/>
<area shape="poly" title=" " alt="" coords="57,979,63,845,78,627,91,510,108,401,130,309,142,272,156,243,220,140,251,99,285,65,323,38,367,19,419,7,480,3,883,3,930,10,996,32,1066,68,1098,92,1124,118,1160,170,1188,226,1208,286,1223,345,1240,455,1244,534,1239,534,1234,455,1218,346,1203,287,1183,228,1155,172,1120,122,1094,96,1063,73,994,37,928,15,883,8,480,8,419,12,369,24,325,43,288,69,255,103,224,144,161,245,147,274,135,310,113,402,97,511,84,628,68,845,62,979"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="832,1003,932,1029"/>
<area shape="poly" title=" " alt="" coords="68,1004,107,1070,176,1167,220,1218,271,1268,327,1311,388,1344,423,1356,470,1366,581,1377,637,1377,689,1372,732,1361,763,1345,779,1328,791,1311,801,1275,800,1239,792,1200,784,1160,780,1120,787,1079,796,1059,811,1038,816,1032,820,1036,815,1042,801,1061,792,1081,785,1120,789,1160,798,1199,805,1238,807,1276,796,1313,784,1331,766,1349,734,1366,690,1377,638,1382,581,1382,469,1371,422,1361,386,1349,324,1315,267,1272,216,1222,171,1170,102,1073,64,1007"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="831,1052,933,1078"/>
<area shape="poly" title=" " alt="" coords="62,1005,64,1063,76,1149,88,1196,105,1243,129,1286,161,1323,187,1346,213,1361,237,1370,262,1375,318,1378,387,1383,446,1393,498,1405,587,1427,629,1431,671,1426,715,1411,763,1383,795,1354,821,1319,841,1279,855,1238,872,1157,878,1094,883,1094,877,1158,861,1239,846,1281,826,1322,799,1358,766,1387,717,1416,672,1432,629,1436,586,1432,496,1411,445,1398,387,1388,318,1383,262,1380,236,1375,210,1366,184,1350,157,1327,125,1289,101,1245,83,1198,70,1150,58,1064,56,1006"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="813,296,951,322"/>
<area shape="poly" title=" " alt="" coords="56,979,56,849,66,642,77,533,95,434,121,354,138,323,157,301,196,272,238,249,282,232,329,220,377,212,425,209,523,212,617,226,703,246,777,268,835,288,833,293,776,273,702,251,616,231,522,217,425,214,377,217,330,225,284,237,240,254,199,276,160,305,142,326,126,356,101,435,83,534,71,642,62,849,62,979"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="428,535,535,561"/>
<area shape="poly" title=" " alt="" coords="62,978,97,905,124,858,157,814,181,790,204,771,249,746,292,720,314,702,337,677,352,649,358,623,365,597,385,571,412,556,415,561,389,575,370,599,363,624,357,651,341,680,318,706,295,725,251,751,207,776,185,794,161,818,128,861,101,907,67,980"/>
<area shape="rect" href="dlp_8c.html#a181e3772fc7c09ee95c07897a0ed7abd" title=" " alt="" coords="179,559,319,585"/>
<area shape="poly" title=" " alt="" coords="56,979,56,913,66,813,78,757,97,702,122,649,157,602,171,591,174,595,161,606,127,652,102,704,84,759,72,814,61,913,61,979"/>
<area shape="rect" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57" title=" " alt="" coords="201,412,296,438"/>
<area shape="poly" title=" " alt="" coords="57,979,64,876,80,716,93,632,110,555,131,491,143,466,157,447,170,437,185,430,187,435,173,441,161,451,148,469,136,493,115,556,98,633,85,717,69,876,63,979"/>
<area shape="rect" href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394" title=" " alt="" coords="183,640,315,666"/>
<area shape="poly" title=" " alt="" coords="59,978,70,935,89,871,118,799,156,730,184,699,213,674,217,678,188,703,161,734,123,802,94,873,75,936,65,980"/>
<area shape="rect" href="dlp_8c.html#a45c114c1b0edffeaf68344b9467d5a38" title=" " alt="" coords="175,339,323,365"/>
<area shape="poly" title=" " alt="" coords="57,979,61,863,76,682,88,586,105,497,128,424,141,396,157,374,160,371,164,375,161,378,146,399,133,426,111,499,94,587,81,682,67,864,62,979"/>
<area shape="rect" href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8" title=" " alt="" coords="166,852,332,878"/>
<area shape="poly" title=" " alt="" coords="78,976,214,885,217,889,81,981"/>
<area shape="rect" href="dlp_8c.html#a06ddfb2a464d7582aad10332673e962a" title=" " alt="" coords="159,979,339,1005"/>
<area shape="poly" title=" " alt="" coords="111,989,143,989,143,995,111,995"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="230,1762,268,1788"/>
<area shape="poly" title=" " alt="" coords="62,1005,64,1141,75,1362,87,1480,105,1589,129,1679,144,1714,161,1741,185,1759,215,1769,213,1774,183,1764,157,1744,139,1717,124,1681,100,1590,82,1481,70,1363,58,1141,57,1005"/>
<area shape="rect" href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5" title=" " alt="" coords="1028,1332,1093,1358"/>
<area shape="poly" title=" " alt="" coords="64,1005,74,1083,94,1198,123,1311,141,1355,161,1385,198,1419,233,1442,268,1458,303,1467,341,1471,382,1472,480,1471,696,1471,744,1468,791,1459,883,1431,964,1396,1024,1364,1026,1369,966,1401,885,1436,793,1464,744,1473,696,1476,480,1476,382,1477,341,1476,302,1472,266,1463,231,1447,195,1423,157,1388,136,1358,118,1313,89,1199,69,1084,58,1006"/>
<area shape="rect" href="pi-file_8c.html#a13af628fb02eb3f6238e58c14e5cdc3b" title=" " alt="" coords="175,1611,322,1637"/>
<area shape="poly" title=" " alt="" coords="62,1005,67,1119,81,1298,94,1392,111,1479,133,1550,146,1578,161,1598,165,1602,161,1606,157,1602,142,1580,128,1552,106,1480,89,1393,76,1298,62,1119,57,1005"/>
<area shape="rect" href="pi-file_8c.html#ad583ac4501b59a412cf22e5d36b2f55d" title=" " alt="" coords="168,1562,330,1588"/>
<area shape="poly" title=" " alt="" coords="63,1005,70,1109,86,1270,99,1355,116,1433,136,1497,148,1522,161,1541,173,1552,169,1556,157,1544,143,1525,131,1499,111,1434,94,1356,81,1271,64,1109,57,1005"/>
<area shape="rect" href="pi-file_8c.html#a4d062291f9e9c2f88b76674231e10f0e" title=" " alt="" coords="181,1811,317,1837"/>
<area shape="poly" title=" " alt="" coords="62,1006,61,1152,70,1391,82,1518,100,1636,126,1733,142,1770,161,1798,169,1806,165,1810,157,1802,137,1773,121,1735,94,1637,76,1519,65,1392,56,1152,56,1005"/>
<area shape="rect" href="socket_8c.html#ab0f7c13ccbc0c4b35c5b6d923c0291d3" title=" " alt="" coords="1004,1511,1117,1537"/>
<area shape="poly" title=" " alt="" coords="63,1005,70,1100,87,1243,100,1317,116,1385,136,1441,148,1462,161,1477,198,1507,234,1525,269,1534,305,1536,384,1528,480,1521,696,1521,989,1521,989,1527,696,1527,480,1527,384,1533,305,1541,268,1539,232,1530,195,1511,157,1481,144,1465,132,1443,111,1387,94,1319,81,1244,64,1100,57,1006"/>
<area shape="rect" href="socket_8c.html#a394ea83c178b51d3137ced66c4175976" title=" " alt="" coords="1170,1306,1315,1332"/>
<area shape="poly" title=" " alt="" coords="62,1005,65,1127,78,1322,90,1424,107,1518,131,1596,145,1625,161,1648,197,1681,232,1704,266,1718,302,1724,382,1725,480,1721,883,1721,920,1718,954,1709,986,1695,1017,1676,1072,1627,1119,1568,1159,1505,1190,1443,1230,1345,1235,1347,1195,1445,1163,1507,1124,1571,1076,1630,1020,1680,989,1699,956,1714,920,1723,883,1727,480,1727,382,1730,302,1730,265,1723,229,1709,193,1686,157,1651,140,1628,126,1598,102,1520,85,1425,72,1322,60,1127,57,1005"/>
<area shape="poly" title=" " alt="" coords="217,487,211,477,214,467,227,461,249,459,272,462,284,468,281,473,270,467,249,464,229,466,218,471,216,477,221,484"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="445,338,518,364"/>
<area shape="poly" title=" " alt="" coords="283,483,311,468,337,449,352,429,359,410,368,391,385,373,406,361,429,354,430,359,408,366,389,377,372,394,364,412,357,432,341,453,314,473,286,488"/>
<area shape="poly" title=" " alt="" coords="289,483,315,469,337,449,351,426,357,403,356,358,355,335,358,313,367,291,385,270,454,219,519,187,583,172,648,171,715,180,787,196,952,237,1005,249,1046,262,1083,282,1124,317,1147,342,1167,371,1200,431,1223,488,1237,534,1232,536,1218,490,1195,433,1163,373,1143,346,1120,321,1080,286,1044,267,1003,254,950,243,785,202,714,185,648,176,584,178,521,192,457,223,389,274,372,294,363,314,361,335,362,357,362,404,356,428,341,452,318,473,292,488"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="423,436,540,462"/>
<area shape="poly" title=" " alt="" coords="298,486,407,462,408,468,299,491"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="422,387,541,413"/>
<area shape="poly" title=" " alt="" coords="274,483,338,448,361,434,386,422,406,415,408,420,388,426,364,439,340,453,276,488"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="418,486,545,512"/>
<area shape="poly" title=" " alt="" coords="298,496,403,496,403,501,298,501"/>
<area shape="poly" title=" " alt="" coords="299,506,414,531,412,536,298,512"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="999,815,1122,841"/>
<area shape="poly" title=" " alt="" coords="519,356,763,418,886,454,929,471,953,485,983,521,1007,562,1026,606,1040,651,1056,735,1061,799,1056,800,1051,736,1035,652,1021,608,1003,565,979,524,949,489,926,476,884,459,761,423,518,362"/>
<area shape="poly" title=" " alt="" coords="519,350,630,360,765,381,860,406,952,440,1014,467,1062,491,1109,514,1171,540,1184,544,1182,549,1169,545,1107,519,1059,496,1012,472,950,445,858,411,764,387,629,365,519,355"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="629,550,760,576"/>
<area shape="poly" title=" " alt="" coords="520,351,549,358,578,373,604,401,633,445,682,535,678,538,628,448,599,404,575,377,547,363,518,356"/>
<area shape="poly" title=" " alt="" coords="519,344,797,315,798,321,519,350"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="1199,815,1286,841"/>
<area shape="poly" title=" " alt="" coords="1123,825,1184,825,1184,831,1123,831"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1209,1154,1276,1180"/>
<area shape="poly" title=" " alt="" coords="1076,840,1100,868,1125,903,1160,967,1191,1032,1234,1138,1229,1140,1186,1035,1155,969,1120,905,1096,871,1072,843"/>
<area shape="poly" title=" " alt="" coords="1094,812,1121,794,1161,743,1192,687,1215,633,1231,590,1236,591,1220,635,1197,689,1165,746,1124,798,1097,817"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1363,1066,1468,1092"/>
<area shape="poly" title=" " alt="" coords="1274,1151,1313,1132,1377,1097,1380,1102,1316,1137,1276,1156"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1366,1230,1464,1256"/>
<area shape="poly" title=" " alt="" coords="1275,1178,1371,1221,1369,1226,1273,1183"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1523,1016,1628,1042"/>
<area shape="poly" title=" " alt="" coords="1459,1063,1516,1045,1517,1050,1461,1068"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1516,1066,1635,1092"/>
<area shape="poly" title=" " alt="" coords="1468,1076,1500,1076,1500,1081,1468,1081"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1532,1115,1619,1141"/>
<area shape="poly" title=" " alt="" coords="1461,1090,1518,1108,1517,1113,1459,1095"/>
<area shape="poly" title=" " alt="" coords="1251,575,1408,1050,1402,1052,1246,577"/>
<area shape="poly" title=" " alt="" coords="760,560,1182,560,1182,565,760,565"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="835,499,929,525"/>
<area shape="poly" title=" " alt="" coords="744,547,819,526,821,531,746,552"/>
<area shape="poly" title=" " alt="" coords="754,574,767,585,785,612,797,638,804,664,807,690,803,740,791,790,780,839,776,889,779,914,785,939,797,964,815,990,820,996,816,1000,811,994,792,967,780,941,773,915,771,889,775,838,786,789,797,739,801,690,799,665,792,640,780,614,763,588,750,578"/>
<area shape="poly" title=" " alt="" coords="754,574,767,585,787,615,800,644,808,674,810,702,805,759,791,815,778,870,772,925,775,953,782,982,795,1010,815,1040,820,1045,816,1049,811,1043,790,1013,777,983,770,954,767,925,773,869,786,813,800,758,805,702,803,675,795,646,782,618,763,588,750,578"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="834,839,930,865"/>
<area shape="poly" title=" " alt="" coords="751,574,766,585,792,612,813,643,846,709,867,773,878,823,873,824,862,774,841,711,808,645,787,615,763,589,748,578"/>
<area shape="poly" title=" " alt="" coords="703,548,860,333,864,336,708,551"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="842,954,922,980"/>
<area shape="poly" title=" " alt="" coords="754,574,767,585,791,622,803,657,806,691,804,725,798,795,802,834,815,876,835,911,859,941,855,944,831,914,810,878,797,835,793,795,798,724,801,691,798,658,786,624,763,588,750,578"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="1016,916,1106,942"/>
<area shape="poly" title=" " alt="" coords="915,863,1016,908,1014,912,913,868"/>
<area shape="poly" title=" " alt="" coords="952,304,1036,312,1081,322,1123,339,1192,378,1240,417,1278,467,1317,536,1348,606,1372,680,1390,755,1402,829,1415,959,1417,1050,1412,1050,1409,959,1397,829,1384,756,1367,681,1343,608,1312,539,1274,470,1236,421,1189,382,1121,344,1079,327,1035,317,951,310"/>
<area shape="poly" title=" " alt="" coords="921,978,1000,1001,1188,1041,1348,1067,1347,1072,1187,1046,998,1007,920,983"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="1010,966,1112,992"/>
<area shape="poly" title=" " alt="" coords="922,967,994,972,994,977,922,972"/>
<area shape="poly" title=" " alt="" coords="1113,980,1208,993,1262,1004,1316,1020,1352,1036,1384,1055,1381,1059,1349,1041,1314,1025,1261,1009,1207,998,1112,985"/>
<area shape="poly" title=" " alt="" coords="1107,963,1120,953,1230,590,1235,591,1125,956,1110,968"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="648,599,741,625"/>
<area shape="poly" title=" " alt="" coords="542,453,561,460,578,471,591,486,598,500,604,530,608,558,615,572,626,586,636,593,633,598,622,590,610,575,603,560,598,530,593,502,587,489,575,475,558,465,540,458"/>
<area shape="poly" title=" " alt="" coords="537,411,577,421,822,492,821,497,576,427,536,416"/>
<area shape="poly" title=" " alt="" coords="542,403,561,410,578,422,594,443,602,464,604,505,605,546,612,566,626,586,636,594,632,598,622,590,607,569,600,547,599,505,597,465,590,445,574,426,559,415,541,408"/>
<area shape="poly" title=" " alt="" coords="547,506,578,520,595,537,603,554,611,570,626,586,636,592,633,596,623,590,607,573,598,556,590,540,575,525,545,511"/>
<area shape="poly" title=" " alt="" coords="536,553,558,560,578,571,595,587,604,603,612,619,626,635,1000,851,1061,877,1123,902,1222,938,1265,956,1316,986,1359,1019,1394,1052,1390,1056,1355,1023,1313,990,1262,961,1220,943,1121,906,1059,882,998,856,623,639,608,622,599,605,590,590,575,576,556,565,535,558"/>
<area shape="poly" title=" " alt="" coords="288,556,314,542,337,522,349,503,356,484,358,447,362,410,370,391,385,373,406,359,429,352,430,357,408,364,389,377,374,394,367,411,363,447,361,485,354,505,341,526,317,547,290,561"/>
<area shape="poly" title=" " alt="" coords="289,556,315,542,337,522,352,496,358,471,357,422,355,397,357,372,366,348,385,323,421,292,456,271,490,259,525,253,601,253,693,256,883,256,915,258,946,265,1004,289,1057,325,1105,367,1146,414,1181,460,1229,534,1224,537,1177,463,1142,417,1101,371,1054,329,1002,294,944,270,914,264,883,261,693,261,601,258,525,258,492,264,458,276,425,297,389,327,371,350,362,374,361,397,362,421,363,472,357,498,341,526,318,547,292,561"/>
<area shape="poly" title=" " alt="" coords="296,583,340,602,365,617,389,635,849,943,846,947,385,640,362,622,338,606,293,588"/>
<area shape="poly" title=" " alt="" coords="279,556,308,541,337,522,351,509,360,496,370,483,386,471,407,461,409,466,388,476,374,487,364,499,355,512,341,526,311,546,282,561"/>
<area shape="poly" title=" " alt="" coords="285,556,312,542,337,522,353,497,359,472,366,447,385,422,406,410,408,414,389,426,371,449,364,473,358,499,341,526,315,546,288,561"/>
<area shape="poly" title=" " alt="" coords="284,556,386,520,409,514,410,519,388,525,286,561"/>
<area shape="poly" title=" " alt="" coords="319,562,412,552,413,558,320,567"/>
<area shape="poly" title=" " alt="" coords="217,560,211,551,214,541,227,535,249,533,272,535,284,542,281,546,270,540,249,538,229,540,218,545,216,550,221,557"/>
<area shape="rect" href="dlp_8c.html#a49240be32dcefca2c3fb6e62cf931aff" title=" " alt="" coords="387,802,576,828"/>
<area shape="poly" title=" " alt="" coords="313,583,341,602,357,625,365,649,365,693,366,737,373,759,389,781,403,792,399,796,385,784,369,761,361,738,360,694,359,649,352,628,337,606,310,588"/>
<area shape="rect" href="utils_8c.html#a16173a2940fee2ae9756d00109d096ee" title=" " alt="" coords="659,1030,730,1056"/>
<area shape="poly" title=" " alt="" coords="497,826,673,1017,669,1020,493,830"/>
<area shape="poly" title=" " alt="" coords="283,409,386,372,429,360,431,365,388,377,284,414"/>
<area shape="poly" title=" " alt="" coords="289,410,315,396,337,376,351,354,357,332,358,290,361,248,369,227,385,205,421,171,455,145,489,127,523,115,559,108,599,105,693,104,883,104,927,107,964,115,995,129,1022,147,1071,198,1124,265,1148,298,1169,335,1202,410,1225,480,1238,534,1233,535,1220,481,1197,412,1165,337,1144,301,1120,268,1067,202,1019,151,993,133,962,120,926,112,883,109,693,109,599,110,560,114,524,121,491,132,458,150,424,175,389,208,374,229,366,249,364,290,362,333,355,356,341,379,318,400,291,414"/>
<area shape="poly" title=" " alt="" coords="297,428,408,439,407,444,296,433"/>
<area shape="poly" title=" " alt="" coords="296,418,406,405,407,411,297,423"/>
<area shape="poly" title=" " alt="" coords="298,433,340,447,364,460,388,472,406,478,404,483,386,477,362,464,338,452,296,438"/>
<area shape="poly" title=" " alt="" coords="298,429,320,436,341,447,358,466,365,486,373,504,389,522,414,535,412,540,385,526,368,507,360,488,353,469,337,451,318,441,296,434"/>
<area shape="poly" title=" " alt="" coords="217,414,211,404,214,394,227,388,249,386,272,388,284,395,281,400,270,394,249,391,229,393,218,398,216,403,221,411"/>
<area shape="poly" title=" " alt="" coords="283,638,312,620,337,596,352,566,358,538,356,482,354,455,355,428,365,401,385,373,405,359,428,351,430,356,408,363,389,377,370,403,361,429,359,455,361,482,364,538,357,568,341,599,315,624,285,642"/>
<area shape="poly" title=" " alt="" coords="316,653,693,660,883,660,928,658,973,652,1060,631,1138,605,1198,580,1200,585,1140,610,1062,636,974,657,928,663,883,665,693,665,315,658"/>
<area shape="poly" title=" " alt="" coords="294,664,824,832,823,837,292,669"/>
<area shape="poly" title=" " alt="" coords="280,638,310,620,337,596,348,579,354,564,358,533,364,502,372,487,385,471,407,458,410,463,389,475,376,490,369,504,363,533,359,565,352,582,341,599,313,624,283,642"/>
<area shape="poly" title=" " alt="" coords="281,638,311,620,337,596,350,573,356,551,357,507,360,465,368,444,385,422,406,408,409,413,389,426,373,446,365,466,362,508,361,551,355,575,341,599,314,625,284,642"/>
<area shape="poly" title=" " alt="" coords="277,638,307,619,337,595,351,576,359,557,368,539,385,521,402,511,405,516,389,525,372,542,364,559,356,579,341,599,310,624,279,642"/>
<area shape="poly" title=" " alt="" coords="270,638,331,600,386,571,413,561,414,566,388,576,334,605,273,642"/>
<area shape="poly" title=" " alt="" coords="217,642,211,632,214,622,227,616,249,614,272,616,284,623,281,628,270,622,249,619,229,621,218,626,216,631,221,639"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="422,1308,542,1334"/>
<area shape="poly" title=" " alt="" coords="261,665,299,728,341,815,359,863,369,902,390,991,475,1293,470,1294,384,993,364,904,354,865,337,817,294,731,257,668"/>
<area shape="rect" href="pi-buffer_8c.html#a8211b352afee03bf34db668018f029c2" title=" " alt="" coords="428,954,535,980"/>
<area shape="poly" title=" " alt="" coords="262,665,389,838,464,940,459,943,385,842,258,668"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="636,1308,753,1334"/>
<area shape="poly" title=" " alt="" coords="542,1319,620,1319,620,1324,542,1324"/>
<area shape="poly" title=" " alt="" coords="324,349,429,348,430,354,324,354"/>
<area shape="poly" title=" " alt="" coords="252,338,269,298,296,244,335,187,359,161,385,138,462,89,496,74,529,64,602,55,693,53,883,53,935,64,1002,92,1071,133,1100,156,1124,181,1155,225,1180,273,1199,323,1215,373,1234,466,1242,534,1237,535,1229,466,1209,374,1194,325,1175,275,1150,228,1120,184,1097,160,1068,137,1000,97,933,69,883,59,693,59,602,60,530,69,498,79,464,94,389,142,363,164,339,190,301,247,273,301,257,340"/>
<area shape="poly" title=" " alt="" coords="317,363,340,374,356,386,365,399,374,411,388,423,409,433,407,438,386,428,370,415,361,402,352,390,338,378,315,368"/>
<area shape="poly" title=" " alt="" coords="315,363,407,382,406,387,314,368"/>
<area shape="poly" title=" " alt="" coords="323,363,341,374,352,386,360,399,366,425,371,450,378,461,389,473,405,483,402,487,385,477,373,464,366,452,360,426,355,401,348,389,337,378,320,368"/>
<area shape="poly" title=" " alt="" coords="325,363,341,374,356,393,363,412,366,450,368,487,375,505,389,522,414,537,411,542,385,526,370,507,363,488,360,450,358,413,351,395,337,378,322,367"/>
<area shape="poly" title=" " alt="" coords="217,340,211,331,214,321,227,315,249,313,272,315,284,322,281,326,270,320,249,318,229,320,218,325,216,330,221,337"/>
<area shape="poly" title=" " alt="" coords="256,851,295,778,317,729,336,678,346,632,348,590,341,516,339,481,344,446,358,410,385,373,405,358,429,351,431,356,408,363,389,377,363,413,349,447,345,481,346,515,353,590,352,633,342,679,322,731,300,781,261,853"/>
<area shape="poly" title=" " alt="" coords="332,862,448,855,576,837,735,804,858,771,976,725,1121,652,1173,619,1215,584,1218,588,1176,623,1124,657,978,730,860,776,736,809,577,843,449,861,333,867"/>
<area shape="poly" title=" " alt="" coords="333,876,827,955,826,961,332,881"/>
<area shape="poly" title=" " alt="" coords="255,851,293,778,336,678,345,647,348,619,347,568,349,544,354,520,365,496,385,471,406,457,409,461,389,475,370,499,359,522,354,545,353,568,353,619,350,648,342,680,298,781,260,853"/>
<area shape="poly" title=" " alt="" coords="255,851,292,778,336,678,348,632,351,594,359,558,369,539,385,521,402,509,405,513,389,525,373,543,364,560,356,594,353,633,342,680,297,780,260,853"/>
<area shape="poly" title=" " alt="" coords="265,850,302,815,321,793,337,768,348,740,353,714,353,666,353,643,356,619,366,596,385,571,412,555,415,559,389,575,371,598,362,621,358,643,358,666,358,715,353,742,341,771,325,796,306,819,269,854"/>
<area shape="poly" title=" " alt="" coords="274,876,309,903,327,921,341,941,358,976,366,1007,370,1063,372,1120,377,1151,389,1187,423,1247,460,1295,456,1298,419,1250,385,1189,372,1153,366,1120,365,1063,361,1008,353,978,337,944,323,925,306,907,271,881"/>
<area shape="poly" title=" " alt="" coords="275,876,388,932,424,946,422,951,386,937,273,881"/>
<area shape="poly" title=" " alt="" coords="217,854,211,844,214,834,227,828,249,826,272,828,284,835,281,840,270,834,249,831,229,833,218,838,216,843,221,851"/>
<area shape="rect" href="dlp_8c.html#afe306b7b3888367eebf1222196b1b815" title=" " alt="" coords="406,585,557,626"/>
<area shape="poly" title=" " alt="" coords="260,851,337,768,451,636,455,639,341,771,264,854"/>
<area shape="rect" href="socket_8c.html#ac8ea1ffc8384bcf6719daabbf4cee496" title=" " alt="" coords="642,1258,747,1284"/>
<area shape="poly" title=" " alt="" coords="268,877,341,941,389,990,546,1137,669,1246,665,1250,543,1141,385,994,337,945,264,881"/>
<area shape="poly" title=" " alt="" coords="551,582,575,571,598,552,608,543,623,535,673,520,725,511,819,506,819,512,726,516,675,525,625,540,611,547,602,556,578,576,553,587"/>
<area shape="poly" title=" " alt="" coords="557,605,633,607,632,613,557,610"/>
<area shape="poly" title=" " alt="" coords="744,1255,1170,1139,1347,1093,1348,1098,1171,1144,745,1260"/>
<area shape="poly" title=" " alt="" coords="739,1255,763,1237,781,1205,788,1174,788,1144,784,1114,781,1083,781,1052,790,1021,811,989,826,977,829,981,815,992,795,1023,787,1053,786,1083,790,1113,794,1144,794,1175,786,1207,767,1240,742,1259"/>
<area shape="poly" title=" " alt="" coords="265,977,303,940,322,916,337,890,348,841,353,778,349,626,348,549,352,477,363,417,372,393,385,373,405,358,429,350,430,355,408,363,389,376,377,395,368,418,357,478,354,549,355,626,358,778,354,842,341,892,326,919,307,944,269,981"/>
<area shape="poly" title=" " alt="" coords="340,996,453,999,515,996,576,989,661,973,769,947,874,913,917,894,949,875,966,858,974,841,982,822,997,801,1030,774,1059,759,1088,744,1121,719,1152,686,1180,651,1223,587,1228,590,1185,654,1156,690,1124,723,1091,749,1061,764,1032,779,1001,805,987,824,979,843,970,861,953,879,920,899,876,918,771,952,662,979,577,995,515,1001,453,1004,340,1002"/>
<area shape="poly" title=" " alt="" coords="274,1003,361,1047,421,1071,488,1092,559,1106,631,1108,666,1104,700,1096,732,1084,763,1066,778,1053,787,1040,794,1011,797,978,810,940,833,905,857,875,861,878,837,908,815,943,802,979,799,1012,791,1042,782,1057,766,1070,735,1088,701,1101,667,1110,631,1114,559,1111,487,1097,419,1076,358,1052,271,1008"/>
<area shape="poly" title=" " alt="" coords="260,1004,278,1033,307,1071,344,1107,388,1135,493,1177,539,1190,583,1197,626,1196,669,1186,714,1166,763,1135,779,1120,786,1104,789,1067,790,1028,797,1008,811,989,826,978,829,982,815,993,801,1011,795,1029,794,1067,791,1105,783,1123,766,1139,717,1171,671,1191,626,1201,582,1202,538,1195,491,1182,386,1140,341,1111,303,1074,274,1037,255,1007"/>
<area shape="poly" title=" " alt="" coords="265,977,303,940,322,916,337,890,347,851,351,799,352,676,352,614,356,556,366,507,374,487,385,471,407,456,410,460,389,475,379,490,371,509,362,557,357,614,357,676,356,799,352,852,341,892,326,919,307,944,269,981"/>
<area shape="poly" title=" " alt="" coords="265,977,303,940,322,916,337,890,348,846,352,788,350,651,350,581,354,516,365,462,373,440,385,422,406,407,409,411,389,426,378,442,370,464,359,517,356,581,356,651,357,789,353,847,341,892,326,919,307,944,269,981"/>
<area shape="poly" title=" " alt="" coords="265,977,302,940,321,916,337,890,353,836,357,787,353,741,345,697,339,654,340,611,354,567,385,521,402,508,405,512,389,524,359,569,346,612,344,654,350,696,358,740,362,787,359,837,341,892,326,919,306,944,269,980"/>
<area shape="poly" title=" " alt="" coords="265,977,302,940,321,916,337,890,352,844,356,801,353,762,347,724,343,686,345,649,358,611,385,572,398,561,412,554,414,558,401,565,389,575,363,613,351,650,349,686,353,723,358,761,361,802,357,845,341,892,326,919,306,943,269,980"/>
<area shape="poly" title=" " alt="" coords="284,1003,332,1020,387,1033,457,1042,526,1045,644,1043,644,1049,526,1050,456,1047,387,1039,331,1025,282,1008"/>
<area shape="poly" title=" " alt="" coords="255,1005,267,1057,291,1133,309,1174,331,1215,358,1254,389,1287,409,1301,406,1305,385,1291,353,1257,327,1218,304,1177,286,1135,262,1059,250,1006"/>
<area shape="poly" title=" " alt="" coords="339,980,413,971,414,977,339,985"/>
<area shape="poly" title=" " alt="" coords="256,1004,268,1050,293,1115,311,1149,333,1182,358,1212,388,1236,416,1252,446,1263,509,1277,571,1280,626,1278,626,1283,571,1286,508,1282,444,1268,414,1257,386,1241,355,1216,328,1185,306,1152,288,1117,263,1052,250,1006"/>
<area shape="poly" title=" " alt="" coords="217,980,211,971,214,961,227,955,249,953,272,955,284,962,281,966,270,960,249,958,229,960,218,965,216,970,221,977"/>
<area shape="poly" title=" " alt="" coords="1072,1330,1113,1290,1169,1247,1209,1228,1243,1219,1276,1210,1313,1190,1360,1147,1395,1103,1399,1106,1364,1151,1316,1194,1278,1215,1244,1225,1211,1233,1172,1252,1116,1294,1076,1334"/>
<area shape="poly" title=" " alt="" coords="320,1608,337,1598,366,1571,391,1539,430,1470,456,1402,472,1349,477,1350,461,1404,435,1472,395,1542,370,1574,341,1602,323,1613"/>
<area shape="rect" href="pi-file_8c.html#a7291b49febdc78bb21a4cc9483a9923e" title=" " alt="" coords="412,1611,552,1637"/>
<area shape="poly" title=" " alt="" coords="323,1621,396,1621,396,1627,323,1627"/>
<area shape="rect" href="pi-file_8c.html#a2f926acd26ad664e0f2b06b2ab5edec5" title=" " alt="" coords="428,1660,535,1686"/>
<area shape="poly" title=" " alt="" coords="314,1635,413,1656,412,1661,313,1640"/>
<area shape="poly" title=" " alt="" coords="260,1560,456,1344,460,1347,264,1563"/>
<area shape="poly" title=" " alt="" coords="314,1586,403,1605,402,1610,313,1591"/>
<area shape="rect" href="pi-file_8c.html#af6ceb74345d19b60cb15bcc3636b92b4" title=" " alt="" coords="412,1562,551,1588"/>
<area shape="poly" title=" " alt="" coords="330,1572,397,1572,397,1577,330,1577"/>
<area shape="rect" href="pi-file_8c.html#aee2d391cae42e7ed33bef52807e05ef3" title=" " alt="" coords="624,1561,765,1602"/>
<area shape="poly" title=" " alt="" coords="552,1574,609,1576,609,1581,552,1580"/>
<area shape="poly" title=" " alt="" coords="1064,1510,1108,1396,1139,1333,1154,1308,1169,1291,1188,1278,1206,1271,1242,1268,1277,1265,1294,1259,1313,1247,1345,1215,1370,1176,1390,1138,1403,1105,1408,1107,1395,1140,1375,1179,1349,1218,1316,1251,1297,1264,1278,1270,1242,1273,1207,1276,1190,1283,1172,1295,1158,1311,1144,1335,1113,1398,1069,1512"/>
<area shape="poly" title=" " alt="" coords="1285,1303,1313,1285,1335,1253,1360,1204,1401,1105,1406,1107,1365,1206,1340,1255,1317,1289,1288,1308"/>
<area shape="poly" title=" " alt="" coords="1273,1303,1369,1260,1371,1265,1275,1308"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a197024e7749af84e776eb5b98932bb17_icgraph.png" border="0" usemap="#api-file_8c_a197024e7749af84e776eb5b98932bb17_icgraph" alt=""/></div>
<map name="api-file_8c_a197024e7749af84e776eb5b98932bb17_icgraph" id="api-file_8c_a197024e7749af84e776eb5b98932bb17_icgraph">
<area shape="rect" title=" " alt="" coords="444,80,550,106"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="249,5,396,31"/>
<area shape="poly" title=" " alt="" coords="458,75,395,45,367,34,369,29,397,40,460,70"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="262,55,383,80"/>
<area shape="poly" title=" " alt="" coords="428,86,383,79,384,74,429,80"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,105,201,131"/>
<area shape="poly" title=" " alt="" coords="429,100,202,117,201,112,429,95"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="256,156,390,182"/>
<area shape="poly" title=" " alt="" coords="453,115,397,139,355,158,353,153,395,134,450,110"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,55,176,80"/>
<area shape="poly" title=" " alt="" coords="247,70,177,70,177,65,247,65"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,131,55,156"/>
<area shape="poly" title=" " alt="" coords="88,134,56,141,54,136,87,129"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,155,194,180"/>
<area shape="poly" title=" " alt="" coords="240,171,195,170,195,165,240,166"/>
<area shape="poly" title=" " alt="" coords="94,159,55,151,56,146,95,154"/>
</map>
</div>

</div>
</div>
<a id="a4d062291f9e9c2f88b76674231e10f0e" name="a4d062291f9e9c2f88b76674231e10f0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d062291f9e9c2f88b76674231e10f0e">&#9670;&#160;</a></span>pi_file_set_app_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_set_app_info </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  572</span>{</div>
<div class="line"><span class="lineno">  573</span>    <span class="keywordtype">void</span>    *p;</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>) {</div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">if</span> (pf-&gt;app_info)</div>
<div class="line"><span class="lineno">  577</span>            free(pf-&gt;app_info);</div>
<div class="line"><span class="lineno">  578</span>        pf-&gt;app_info_size = 0;</div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  580</span>    }</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>    <span class="keywordflow">if</span> ((p = malloc(<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)) == NULL)</div>
<div class="line"><span class="lineno">  583</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a0c740877bdcf47ecca66ecd6b6352651">PI_ERR_GENERIC_MEMORY</a>;</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>    memcpy(p, data, <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>    <span class="keywordflow">if</span> (pf-&gt;app_info)</div>
<div class="line"><span class="lineno">  588</span>        free(pf-&gt;app_info);</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>    pf-&gt;app_info = p;</div>
<div class="line"><span class="lineno">  591</span>    pf-&gt;app_info_size = <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  594</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00683">pi_file_retrieve()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a4d062291f9e9c2f88b76674231e10f0e_icgraph.png" border="0" usemap="#api-file_8c_a4d062291f9e9c2f88b76674231e10f0e_icgraph" alt=""/></div>
<map name="api-file_8c_a4d062291f9e9c2f88b76674231e10f0e_icgraph" id="api-file_8c_a4d062291f9e9c2f88b76674231e10f0e_icgraph">
<area shape="rect" title=" " alt="" coords="598,80,734,106"/>
<area shape="rect" href="pi-file_8c.html#a197024e7749af84e776eb5b98932bb17" title=" " alt="" coords="444,80,550,106"/>
<area shape="poly" title=" " alt="" coords="582,96,550,96,550,90,582,90"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="249,5,396,31"/>
<area shape="poly" title=" " alt="" coords="458,75,395,45,367,34,369,29,397,40,460,70"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="262,55,383,80"/>
<area shape="poly" title=" " alt="" coords="428,86,383,79,384,74,429,80"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,105,201,131"/>
<area shape="poly" title=" " alt="" coords="429,100,202,117,201,112,429,95"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="256,156,390,182"/>
<area shape="poly" title=" " alt="" coords="453,115,397,139,355,158,353,153,395,134,450,110"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,55,176,80"/>
<area shape="poly" title=" " alt="" coords="247,70,177,70,177,65,247,65"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,131,55,156"/>
<area shape="poly" title=" " alt="" coords="88,134,56,141,54,136,87,129"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,155,194,180"/>
<area shape="poly" title=" " alt="" coords="240,171,195,170,195,165,240,166"/>
<area shape="poly" title=" " alt="" coords="94,159,55,151,56,146,95,154"/>
</map>
</div>

</div>
</div>
<a id="ae52ff1b8f68cdf629dc0b1051cbfb0ab" name="ae52ff1b8f68cdf629dc0b1051cbfb0ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae52ff1b8f68cdf629dc0b1051cbfb0ab">&#9670;&#160;</a></span>pi_file_set_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_set_info </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct DBInfo *</td>          <td class="paramname"><span class="paramname"><em>ip</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  557</span>{</div>
<div class="line"><span class="lineno">  558</span>    <span class="keywordflow">if</span> (!pf-&gt;for_writing)</div>
<div class="line"><span class="lineno">  559</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a49baf93be5c26dff75cb9e6eb96b31ef">PI_ERR_FILE_INVALID</a>;</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>    <span class="keywordflow">if</span> ((ip-&gt;flags &amp; dlpDBFlagResource) !=</div>
<div class="line"><span class="lineno">  562</span>        (pf-&gt;info.flags &amp; dlpDBFlagResource))</div>
<div class="line"><span class="lineno">  563</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a49baf93be5c26dff75cb9e6eb96b31ef">PI_ERR_FILE_INVALID</a>;</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>    pf-&gt;info = *ip;</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  568</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae61f7cf14c3c66627059dd6a2c285554" name="ae61f7cf14c3c66627059dd6a2c285554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae61f7cf14c3c66627059dd6a2c285554">&#9670;&#160;</a></span>pi_file_set_rbuf_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_file_set_rbuf_size </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1437</span>{</div>
<div class="line"><span class="lineno"> 1438</span>    <span class="keywordtype">size_t</span>  new_size;</div>
<div class="line"><span class="lineno"> 1439</span>    <span class="keywordtype">void</span>    *rbuf;</div>
<div class="line"><span class="lineno"> 1440</span> </div>
<div class="line"><span class="lineno"> 1441</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> &gt; (<span class="keywordtype">size_t</span>)pf-&gt;rbuf_size) {</div>
<div class="line"><span class="lineno"> 1442</span>        <span class="keywordflow">if</span> (pf-&gt;rbuf_size == 0) {</div>
<div class="line"><span class="lineno"> 1443</span>            new_size = <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> + 2048;</div>
<div class="line"><span class="lineno"> 1444</span>            rbuf = malloc(new_size);</div>
<div class="line"><span class="lineno"> 1445</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1446</span>            new_size = <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> + 2048;</div>
<div class="line"><span class="lineno"> 1447</span>            rbuf = realloc(pf-&gt;rbuf, new_size);</div>
<div class="line"><span class="lineno"> 1448</span>        }</div>
<div class="line"><span class="lineno"> 1449</span> </div>
<div class="line"><span class="lineno"> 1450</span>        <span class="keywordflow">if</span> (rbuf == NULL)</div>
<div class="line"><span class="lineno"> 1451</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a0c740877bdcf47ecca66ecd6b6352651">PI_ERR_GENERIC_MEMORY</a>;</div>
<div class="line"><span class="lineno"> 1452</span> </div>
<div class="line"><span class="lineno"> 1453</span>        pf-&gt;rbuf_size = new_size;</div>
<div class="line"><span class="lineno"> 1454</span>        pf-&gt;rbuf = rbuf;</div>
<div class="line"><span class="lineno"> 1455</span>    }</div>
<div class="line"><span class="lineno"> 1456</span> </div>
<div class="line"><span class="lineno"> 1457</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1458</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00439">pi_file_read_record()</a>, and <a class="el" href="#l00403">pi_file_read_resource()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_ae61f7cf14c3c66627059dd6a2c285554_icgraph.png" border="0" usemap="#api-file_8c_ae61f7cf14c3c66627059dd6a2c285554_icgraph" alt=""/></div>
<map name="api-file_8c_ae61f7cf14c3c66627059dd6a2c285554_icgraph" id="api-file_8c_ae61f7cf14c3c66627059dd6a2c285554_icgraph">
<area shape="rect" title=" " alt="" coords="815,438,955,464"/>
<area shape="rect" href="pi-file_8c.html#ab1228cfb3af65abf3eaf90c5eb9260ad" title=" " alt="" coords="630,590,760,616"/>
<area shape="poly" title=" " alt="" coords="857,476,714,592,711,588,854,472"/>
<area shape="rect" href="pi-file_8c.html#a9f6d17f2f6043fddce5f6fc4eabc646c" title=" " alt="" coords="623,286,767,312"/>
<area shape="poly" title=" " alt="" coords="854,430,711,314,714,310,857,426"/>
<area shape="rect" href="ccexample_8cc.html#abad9561d1051ad04ebb61237bc7b7b18" title=" " alt="" coords="462,689,543,714"/>
<area shape="poly" title=" " alt="" coords="664,627,623,654,576,680,545,692,543,687,574,675,620,650,661,623"/>
<area shape="rect" href="ccexample_8cc.html#a025d644ab8d43c391d584e8b7011ba1b" title=" " alt="" coords="465,590,540,616"/>
<area shape="poly" title=" " alt="" coords="614,606,540,606,540,600,614,600"/>
<area shape="rect" href="pilot-file_8c.html#a3439aa98e9a020f8571fb4b1d2d8c0ba" title=" " alt="" coords="264,172,361,197"/>
<area shape="poly" title=" " alt="" coords="684,575,632,370,599,266,585,230,573,212,549,196,523,185,467,173,410,172,362,177,361,172,410,167,467,168,525,180,552,191,577,208,589,227,604,264,637,368,689,574"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#afd28cf31effef69995109bbd4b5bba50" title=" " alt="" coords="451,788,554,813"/>
<area shape="poly" title=" " alt="" coords="684,632,643,704,613,744,576,778,556,790,553,785,573,774,609,740,639,701,679,629"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="288,838,337,864"/>
<area shape="poly" title=" " alt="" coords="694,632,684,687,664,755,649,790,630,823,606,853,576,877,546,892,513,899,480,901,446,898,384,883,337,865,339,860,386,878,447,892,480,895,513,894,544,887,573,873,602,849,625,820,644,788,659,753,679,686,688,631"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a8ddf8fdda76c732d8f9948f194cc75b7" title=" " alt="" coords="444,938,561,964"/>
<area shape="poly" title=" " alt="" coords="693,632,682,690,662,767,627,848,604,886,576,921,549,940,546,935,573,917,600,883,623,846,656,765,677,689,688,631"/>
<area shape="rect" href="pilot-file_8c.html#af0dc12f5627f765dfad88d1106c2fb4b" title=" " alt="" coords="458,286,547,312"/>
<area shape="poly" title=" " alt="" coords="679,577,635,489,572,383,543,345,515,314,519,311,547,341,577,380,640,487,684,575"/>
<area shape="rect" href="validate_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="478,738,527,764"/>
<area shape="poly" title=" " alt="" coords="677,630,635,680,607,706,576,729,552,741,528,749,527,743,550,736,573,725,603,702,631,676,673,627"/>
<area shape="rect" href="ccexample_8cc.html#a33ee1ab0b854603ff351b088a002306f" title=" " alt="" coords="470,837,535,862"/>
<area shape="poly" title=" " alt="" coords="689,631,674,674,651,727,619,781,599,806,576,828,557,840,536,847,534,842,555,835,573,824,595,802,614,778,646,724,669,672,684,630"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="264,341,361,366"/>
<area shape="poly" title=" " alt="" coords="680,577,663,544,639,505,609,466,573,433,521,403,464,382,409,369,361,361,362,356,410,363,466,377,523,398,576,429,613,463,644,502,668,542,684,575"/>
<area shape="rect" href="pilot-foto_8c.html#a8e9b5c3f2fa776bf17b633b74890bcff" title=" " alt="" coords="270,589,355,614"/>
<area shape="poly" title=" " alt="" coords="627,589,574,580,503,575,431,580,356,594,355,588,430,575,503,570,575,575,628,584"/>
<area shape="rect" href="pilot-wav_8c.html#aa2811f6abf8e3ded01a04d2cb656122e" title=" " alt="" coords="457,988,548,1013"/>
<area shape="poly" title=" " alt="" coords="695,632,689,701,671,793,656,843,636,892,610,938,576,978,550,994,547,990,573,974,605,935,631,889,651,841,666,792,684,700,690,631"/>
<area shape="rect" href="pi-file_8c.html#a2b1bd10e17e43080aab539bafd44bf9f" title=" " alt="" coords="454,489,551,514"/>
<area shape="poly" title=" " alt="" coords="658,584,573,536,534,518,537,513,576,531,661,579"/>
<area shape="rect" href="pi-file_8c.html#a98cc34b189094419f679b3860e0c8ec3" title=" " alt="" coords="264,392,362,417"/>
<area shape="poly" title=" " alt="" coords="674,579,632,528,604,501,573,479,520,452,463,433,409,420,362,412,363,407,410,415,465,428,522,447,576,474,608,497,636,524,678,576"/>
<area shape="rect" href="pi-file_8c.html#a00ed3e43b193fe55597d4362eccd961f" title=" " alt="" coords="437,221,568,262"/>
<area shape="poly" title=" " alt="" coords="688,575,678,515,658,435,643,393,624,351,601,311,573,276,560,265,563,261,577,272,605,308,629,348,648,391,663,433,684,513,693,574"/>
<area shape="rect" href="ccexample_8cc.html#a9cd8821600ea555528b5adff4b3cd603" title=" " alt="" coords="476,640,529,665"/>
<area shape="poly" title=" " alt="" coords="628,623,530,648,529,643,626,618"/>
<area shape="rect" href="ccexample_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="288,640,337,665"/>
<area shape="poly" title=" " alt="" coords="446,690,337,661,338,656,447,685"/>
<area shape="poly" title=" " alt="" coords="451,619,338,649,337,644,450,614"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="124,201,174,226"/>
<area shape="poly" title=" " alt="" coords="249,198,175,212,174,207,248,193"/>
<area shape="poly" title=" " alt="" coords="437,820,338,847,337,842,436,815"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="288,938,337,964"/>
<area shape="poly" title=" " alt="" coords="429,954,338,954,338,948,429,948"/>
<area shape="poly" title=" " alt="" coords="442,287,173,222,174,217,444,282"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,392,55,417"/>
<area shape="poly" title=" " alt="" coords="249,360,179,368,103,382,56,397,54,392,102,376,178,363,248,355"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="124,564,174,589"/>
<area shape="poly" title=" " alt="" coords="255,596,174,583,175,577,256,590"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="288,988,337,1013"/>
<area shape="poly" title=" " alt="" coords="441,1003,338,1003,338,998,441,998"/>
<area shape="poly" title=" " alt="" coords="478,479,427,424,381,381,358,370,360,365,384,377,431,420,482,475"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="244,490,382,516"/>
<area shape="poly" title=" " alt="" coords="439,505,382,505,382,500,439,499"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="274,540,351,565"/>
<area shape="poly" title=" " alt="" coords="440,521,352,545,350,540,438,516"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="243,441,382,466"/>
<area shape="poly" title=" " alt="" coords="439,488,366,470,367,465,440,483"/>
<area shape="poly" title=" " alt="" coords="451,484,429,472,405,451,381,431,359,420,361,415,384,426,408,447,432,467,454,480"/>
<area shape="poly" title=" " alt="" coords="260,563,174,575,173,570,259,557"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="104,441,194,466"/>
<area shape="poly" title=" " alt="" coords="227,456,195,456,195,451,227,451"/>
<area shape="poly" title=" " alt="" coords="101,437,54,417,56,412,103,432"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="103,392,195,417"/>
<area shape="poly" title=" " alt="" coords="248,407,195,407,195,402,248,402"/>
<area shape="poly" title=" " alt="" coords="87,407,55,407,55,402,87,402"/>
<area shape="poly" title=" " alt="" coords="422,220,357,200,359,195,423,215"/>
<area shape="poly" title=" " alt="" coords="461,655,338,655,338,650,461,650"/>
<area shape="poly" title=" " alt="" coords="674,275,633,226,605,203,574,185,519,171,462,167,408,170,362,176,361,171,407,164,462,161,520,165,576,181,608,199,637,222,678,271"/>
<area shape="poly" title=" " alt="" coords="607,302,547,302,547,296,607,296"/>
<area shape="poly" title=" " alt="" coords="670,277,628,241,602,225,574,212,534,200,501,194,469,198,432,212,392,240,360,276,337,313,322,342,317,339,332,310,356,273,389,236,429,207,468,193,501,189,535,195,576,207,604,220,631,237,673,273"/>
<area shape="poly" title=" " alt="" coords="673,325,518,490,514,487,669,321"/>
<area shape="poly" title=" " alt="" coords="631,319,363,394,361,388,630,314"/>
<area shape="rect" href="pi-file_8c.html#a0ab7f7120e1a05e9625f619c94cee900" title=" " alt="" coords="430,5,575,46"/>
<area shape="poly" title=" " alt="" coords="683,272,668,228,644,174,613,117,573,66,550,49,553,44,577,62,617,114,649,172,673,226,688,270"/>
<area shape="poly" title=" " alt="" coords="447,56,432,66,370,123,326,173,322,169,366,120,429,62,444,52"/>
</map>
</div>

</div>
</div>
<a id="ad0222d3b196c9e29d1e1f9b35d09b1f6" name="ad0222d3b196c9e29d1e1f9b35d09b1f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0222d3b196c9e29d1e1f9b35d09b1f6">&#9670;&#160;</a></span>pi_file_set_sort_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_set_sort_info </td>
          <td>(</td>
          <td class="paramtype">pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  598</span>{</div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordtype">void</span>    *p;</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>) {</div>
<div class="line"><span class="lineno">  602</span>        <span class="keywordflow">if</span> (pf-&gt;sort_info)</div>
<div class="line"><span class="lineno">  603</span>            free(pf-&gt;sort_info);</div>
<div class="line"><span class="lineno">  604</span>        pf-&gt;sort_info_size = 0;</div>
<div class="line"><span class="lineno">  605</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  606</span>    }</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">if</span> ((p = malloc(<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>)) == NULL)</div>
<div class="line"><span class="lineno">  609</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="namespacepisock.html#a0c740877bdcf47ecca66ecd6b6352651">PI_ERR_GENERIC_MEMORY</a>;</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>    memcpy(p, data, <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>    <span class="keywordflow">if</span> (pf-&gt;sort_info)</div>
<div class="line"><span class="lineno">  614</span>        free(pf-&gt;sort_info);</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>    pf-&gt;sort_info = p;</div>
<div class="line"><span class="lineno">  617</span>    pf-&gt;sort_info_size = <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  620</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00081">size</a>.</p>

</div>
</div>
<a id="af6ceb74345d19b60cb15bcc3636b92b4" name="af6ceb74345d19b60cb15bcc3636b92b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6ceb74345d19b60cb15bcc3636b92b4">&#9670;&#160;</a></span>pi_file_type_id_used()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_file_type_id_used </td>
          <td>(</td>
          <td class="paramtype">const pi_file_t *</td>          <td class="paramname"><span class="paramname"><em>pf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>restype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>resid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  398</span>{</div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#aee2d391cae42e7ed33bef52807e05ef3">pi_file_find_resource_by_type_id</a>(pf, restype, resid, NULL);</div>
<div class="line"><span class="lineno">  400</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01505">pi_file_find_resource_by_type_id()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00623">pi_file_append_resource()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_af6ceb74345d19b60cb15bcc3636b92b4_cgraph.png" border="0" usemap="#api-file_8c_af6ceb74345d19b60cb15bcc3636b92b4_cgraph" alt=""/></div>
<map name="api-file_8c_af6ceb74345d19b60cb15bcc3636b92b4_cgraph" id="api-file_8c_af6ceb74345d19b60cb15bcc3636b92b4_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,145,38"/>
<area shape="rect" href="pi-file_8c.html#aee2d391cae42e7ed33bef52807e05ef3" title=" " alt="" coords="193,5,333,46"/>
<area shape="poly" title=" " alt="" coords="145,23,177,23,177,28,145,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_af6ceb74345d19b60cb15bcc3636b92b4_icgraph.png" border="0" usemap="#api-file_8c_af6ceb74345d19b60cb15bcc3636b92b4_icgraph" alt=""/></div>
<map name="api-file_8c_af6ceb74345d19b60cb15bcc3636b92b4_icgraph" id="api-file_8c_af6ceb74345d19b60cb15bcc3636b92b4_icgraph">
<area shape="rect" title=" " alt="" coords="807,80,946,106"/>
<area shape="rect" href="pi-file_8c.html#ad583ac4501b59a412cf22e5d36b2f55d" title=" " alt="" coords="598,80,759,106"/>
<area shape="poly" title=" " alt="" coords="791,96,759,96,759,90,791,90"/>
<area shape="rect" href="pi-file_8c.html#a197024e7749af84e776eb5b98932bb17" title=" " alt="" coords="444,80,550,106"/>
<area shape="poly" title=" " alt="" coords="582,96,550,96,550,90,582,90"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="249,5,396,31"/>
<area shape="poly" title=" " alt="" coords="458,75,395,45,367,34,369,29,397,40,460,70"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="262,55,383,80"/>
<area shape="poly" title=" " alt="" coords="428,86,383,79,384,74,429,80"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,105,201,131"/>
<area shape="poly" title=" " alt="" coords="429,100,202,117,201,112,429,95"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="256,156,390,182"/>
<area shape="poly" title=" " alt="" coords="453,115,397,139,355,158,353,153,395,134,450,110"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,55,176,80"/>
<area shape="poly" title=" " alt="" coords="247,70,177,70,177,65,247,65"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,131,55,156"/>
<area shape="poly" title=" " alt="" coords="88,134,56,141,54,136,87,129"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,155,194,180"/>
<area shape="poly" title=" " alt="" coords="240,171,195,170,195,165,240,166"/>
<area shape="poly" title=" " alt="" coords="94,159,55,151,56,146,95,154"/>
</map>
</div>

</div>
</div>
<a id="a525c887a4341a2229e82bede810318d0" name="a525c887a4341a2229e82bede810318d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525c887a4341a2229e82bede810318d0">&#9670;&#160;</a></span>pilot_time_to_unix_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t pilot_time_to_unix_time </td>
          <td>(</td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>raw_time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  132</span>{</div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">return</span> (time_t) (raw_time - <a class="code hl_define" href="#ad1bddf78f2f2c12aa47b8de64516f928">PILOT_TIME_DELTA</a>);</div>
<div class="line"><span class="lineno">  134</span>}</div>
<div class="ttc" id="api-file_8c_html_ad1bddf78f2f2c12aa47b8de64516f928"><div class="ttname"><a href="#ad1bddf78f2f2c12aa47b8de64516f928">PILOT_TIME_DELTA</a></div><div class="ttdeci">#define PILOT_TIME_DELTA</div><div class="ttdef"><b>Definition</b> pi-file.c:109</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00109">PILOT_TIME_DELTA</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00143">pi_file_open()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_a525c887a4341a2229e82bede810318d0_icgraph.png" border="0" usemap="#api-file_8c_a525c887a4341a2229e82bede810318d0_icgraph" alt=""/></div>
<map name="api-file_8c_a525c887a4341a2229e82bede810318d0_icgraph" id="api-file_8c_a525c887a4341a2229e82bede810318d0_icgraph">
<area shape="rect" title=" " alt="" coords="573,228,731,254"/>
<area shape="rect" href="pi-file_8c.html#ac653337883ed6afb08f14a7816c439d3" title=" " alt="" coords="434,228,525,254"/>
<area shape="poly" title=" " alt="" coords="557,244,525,244,525,238,557,238"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="248,5,386,31"/>
<area shape="poly" title=" " alt="" coords="470,214,460,176,443,130,418,84,385,44,369,34,372,29,388,40,422,81,447,128,465,174,475,212"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="278,55,355,80"/>
<area shape="poly" title=" " alt="" coords="466,215,435,154,412,121,385,94,354,78,357,73,388,89,416,118,440,151,470,212"/>
<area shape="rect" href="ccexample_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="292,104,341,130"/>
<area shape="poly" title=" " alt="" coords="459,217,427,179,385,143,363,132,341,125,342,119,365,127,388,139,431,175,463,214"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="292,153,341,179"/>
<area shape="poly" title=" " alt="" coords="442,222,385,193,341,176,343,171,387,188,445,217"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="292,203,341,228"/>
<area shape="poly" title=" " alt="" coords="419,234,341,222,342,217,420,229"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="247,301,386,327"/>
<area shape="poly" title=" " alt="" coords="444,264,387,293,361,303,359,298,385,288,441,259"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="105,352,197,378"/>
<area shape="poly" title=" " alt="" coords="464,268,432,307,411,327,388,342,339,360,288,369,239,372,197,372,198,366,239,367,287,364,338,355,385,337,408,322,429,304,460,265"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="103,401,199,427"/>
<area shape="poly" title=" " alt="" coords="470,270,439,325,416,354,388,378,341,400,291,413,242,418,200,420,199,414,242,413,290,407,339,395,385,373,412,350,435,323,465,267"/>
<area shape="rect" href="pilot-foto_8c.html#a8e9b5c3f2fa776bf17b633b74890bcff" title=" " alt="" coords="274,252,359,278"/>
<area shape="poly" title=" " alt="" coords="420,252,360,261,359,256,419,247"/>
<area shape="rect" href="pilot-wav_8c.html#aa2811f6abf8e3ded01a04d2cb656122e" title=" " alt="" coords="271,453,362,479"/>
<area shape="poly" title=" " alt="" coords="474,269,463,306,445,350,420,396,388,436,360,455,357,451,385,432,416,393,440,348,458,304,469,268"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="126,252,176,278"/>
<area shape="poly" title=" " alt="" coords="266,83,249,94,214,133,187,177,169,220,158,252,153,251,164,218,183,175,210,129,245,89,263,78"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="106,301,196,327"/>
<area shape="poly" title=" " alt="" coords="231,317,197,317,197,312,231,312"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,352,55,378"/>
<area shape="poly" title=" " alt="" coords="106,336,56,357,54,352,104,331"/>
<area shape="poly" title=" " alt="" coords="89,368,55,368,55,362,89,362"/>
<area shape="poly" title=" " alt="" coords="102,397,54,377,56,372,104,392"/>
<area shape="poly" title=" " alt="" coords="259,268,176,268,176,262,259,262"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="126,453,176,479"/>
<area shape="poly" title=" " alt="" coords="255,469,176,469,176,464,255,464"/>
</map>
</div>

</div>
</div>
<a id="aa8ab2a876d4c9ca6049f5dea0d44f033" name="aa8ab2a876d4c9ca6049f5dea0d44f033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8ab2a876d4c9ca6049f5dea0d44f033">&#9670;&#160;</a></span>unix_time_to_pilot_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long unix_time_to_pilot_time </td>
          <td>(</td>
          <td class="paramtype">time_t</td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  138</span>{</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) ((<span class="keywordtype">unsigned</span> long) t + <a class="code hl_define" href="#ad1bddf78f2f2c12aa47b8de64516f928">PILOT_TIME_DELTA</a>);</div>
<div class="line"><span class="lineno">  140</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00109">PILOT_TIME_DELTA</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00538">do_install()</a>, and <a class="el" href="#l01271">pi_file_close_for_write()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pi-file_8c_aa8ab2a876d4c9ca6049f5dea0d44f033_icgraph.png" border="0" usemap="#api-file_8c_aa8ab2a876d4c9ca6049f5dea0d44f033_icgraph" alt=""/></div>
<map name="api-file_8c_aa8ab2a876d4c9ca6049f5dea0d44f033_icgraph" id="api-file_8c_aa8ab2a876d4c9ca6049f5dea0d44f033_icgraph">
<area shape="rect" title=" " alt="" coords="971,83,1130,108"/>
<area shape="rect" href="pilot-foto_8c.html#a7d9813b150d95ebfdf87ff2b986ab10b" title=" " alt="" coords="280,32,357,58"/>
<area shape="poly" title=" " alt="" coords="992,80,889,53,751,26,674,15,594,9,515,9,437,15,396,23,358,34,356,29,394,18,436,10,515,4,595,4,674,10,751,20,890,48,994,75"/>
<area shape="rect" href="pi-file_8c.html#aa85c52c17928a7cb3dd4829ea6373fc8" title=" " alt="" coords="773,108,923,134"/>
<area shape="poly" title=" " alt="" coords="956,110,924,114,923,109,955,105"/>
<area shape="rect" href="pilot-foto_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,260,176,286"/>
<area shape="poly" title=" " alt="" coords="284,68,251,97,219,141,193,187,160,261,156,258,188,185,215,138,247,94,280,64"/>
<area shape="rect" href="pi-file_8c.html#a917a7629f465050a293350e2e63f2272" title=" " alt="" coords="632,260,725,286"/>
<area shape="poly" title=" " alt="" coords="823,146,696,261,692,258,819,142"/>
<area shape="poly" title=" " alt="" coords="672,245,666,199,650,144,639,116,624,90,605,66,582,47,555,33,527,24,465,18,407,24,358,35,357,30,406,19,465,13,528,19,558,28,585,43,609,62,628,87,643,113,655,142,671,198,678,244"/>
<area shape="rect" href="pisock__wrap_8c.html#a9159dafc0bb49924c3c812810f6ca449" title=" " alt="" coords="250,159,388,184"/>
<area shape="poly" title=" " alt="" coords="643,254,614,237,583,223,533,208,482,196,388,181,389,175,483,191,534,203,585,218,617,233,646,249"/>
<area shape="rect" href="pisock__wrap_8c.html#a44a9644d7fdba93f3dd54525cfcee06a" title=" " alt="" coords="436,260,584,286"/>
<area shape="poly" title=" " alt="" coords="616,275,584,275,584,270,616,270"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac612d49416a7a0252ae34705fa4ea537" title=" " alt="" coords="449,57,571,83"/>
<area shape="poly" title=" " alt="" coords="666,246,635,176,611,138,582,104,552,86,555,81,585,100,616,135,640,173,671,244"/>
<area shape="rect" href="pilot-foto-treo600_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="294,108,343,134"/>
<area shape="poly" title=" " alt="" coords="656,250,623,217,582,187,518,160,451,141,390,130,343,125,344,120,390,125,452,136,520,155,585,182,627,213,660,247"/>
<area shape="rect" href="ccexample_8cc.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="294,408,343,434"/>
<area shape="poly" title=" " alt="" coords="674,302,664,338,646,379,621,419,604,437,585,451,547,467,513,467,436,451,386,442,343,431,344,426,387,437,437,446,514,462,546,461,582,446,601,433,617,416,642,377,659,336,669,300"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="485,411,535,436"/>
<area shape="poly" title=" " alt="" coords="664,300,631,347,610,372,585,394,561,408,536,419,534,414,558,404,582,389,606,368,627,344,660,297"/>
<area shape="rect" href="pilot-xfer_8c.html#a34f2dffaad547c672acdd0ed345cc25c" title=" " alt="" coords="103,57,201,83"/>
<area shape="poly" title=" " alt="" coords="674,244,669,192,655,128,644,96,628,65,607,38,582,15,565,12,526,10,416,12,250,22,208,39,174,59,171,54,206,34,248,17,416,7,526,5,565,7,585,10,611,34,632,62,648,94,660,127,674,192,679,244"/>
<area shape="rect" href="pilot-xfer_8c.html#a6200eda64385fd4566661395c681151d" title=" " alt="" coords="443,613,577,639"/>
<area shape="poly" title=" " alt="" coords="679,302,674,361,660,439,648,480,632,522,612,561,586,596,559,615,556,611,582,592,607,558,627,519,643,479,655,438,669,360,674,301"/>
<area shape="rect" href="pilot-xfer_8c.html#a3ef3d8c08141934123dba0fe713d46db" title=" " alt="" coords="249,457,388,483"/>
<area shape="poly" title=" " alt="" coords="676,302,667,342,650,389,624,436,606,456,585,472,558,486,530,495,470,501,413,496,364,486,365,481,413,491,470,495,529,489,556,481,582,468,602,452,619,433,645,387,662,340,671,300"/>
<area shape="rect" href="pilot-xfer_8c.html#a4ffca0c42c89f04cdcf602988b350dcd" title=" " alt="" coords="272,507,365,532"/>
<area shape="poly" title=" " alt="" coords="677,301,670,347,655,403,627,459,608,484,585,504,559,519,531,530,472,540,414,539,365,532,366,527,415,534,472,535,530,525,557,515,582,500,604,480,623,456,650,401,665,346,672,300"/>
<area shape="rect" href="pilot-xfer_8c.html#a89a164fe454bd7b404587ed46e844067" title=" " alt="" coords="270,209,367,235"/>
<area shape="poly" title=" " alt="" coords="618,258,583,250,467,234,367,227,368,222,468,229,584,245,619,253"/>
<area shape="rect" href="pilot-wav_8c.html#aa2811f6abf8e3ded01a04d2cb656122e" title=" " alt="" coords="273,359,364,384"/>
<area shape="poly" title=" " alt="" coords="656,299,624,327,585,350,527,367,468,376,412,379,365,378,365,372,411,373,467,370,526,362,583,345,621,322,653,295"/>
<area shape="rect" href="pi-file_8c.html#ac653337883ed6afb08f14a7816c439d3" title=" " alt="" coords="465,309,555,335"/>
<area shape="poly" title=" " alt="" coords="618,293,556,311,555,306,617,288"/>
<area shape="poly" title=" " alt="" coords="445,90,345,117,343,112,444,85"/>
<area shape="rect" href="pilot-xfer_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,456,55,482"/>
<area shape="poly" title=" " alt="" coords="142,98,105,204,63,351,37,456,32,455,58,350,100,203,137,96"/>
<area shape="rect" href="pilot-xfer_8c.html#a88ef6b91be25222f03eb15e0d5027be8" title=" " alt="" coords="109,571,194,596"/>
<area shape="poly" title=" " alt="" coords="427,619,195,591,195,586,428,614"/>
<area shape="poly" title=" " alt="" coords="124,562,101,540,43,484,47,480,105,536,127,558"/>
<area shape="rect" href="pilot-xfer_8c.html#a318c83cb7b32e5c4025be10d6265c70d" title=" " alt="" coords="107,456,197,482"/>
<area shape="poly" title=" " alt="" coords="233,472,197,472,197,466,233,467"/>
<area shape="poly" title=" " alt="" coords="91,471,55,471,55,466,91,466"/>
<area shape="poly" title=" " alt="" coords="257,519,182,511,102,497,54,481,56,476,103,491,183,506,257,513"/>
<area shape="poly" title=" " alt="" coords="255,215,217,214,177,218,139,229,104,249,83,272,66,299,54,328,45,358,36,415,34,456,28,455,30,414,40,357,49,326,61,296,79,269,101,245,136,224,176,213,217,209,255,210"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="127,359,176,384"/>
<area shape="poly" title=" " alt="" coords="257,374,177,374,177,369,257,369"/>
<area shape="poly" title=" " alt="" coords="449,311,434,300,416,274,407,249,404,224,405,200,406,150,400,124,386,97,367,76,345,60,348,56,371,72,391,94,405,123,411,150,411,200,410,224,412,248,421,272,438,296,452,307"/>
<area shape="poly" title=" " alt="" coords="449,310,435,300,423,287,416,274,410,248,404,223,397,211,387,199,369,187,372,183,390,195,402,208,409,221,415,247,421,272,427,284,438,296,452,305"/>
<area shape="poly" title=" " alt="" coords="449,311,434,300,420,280,412,261,409,223,407,185,400,167,386,148,366,134,343,127,345,122,368,129,390,144,405,164,412,184,415,222,417,260,424,278,438,296,452,306"/>
<area shape="poly" title=" " alt="" coords="479,346,438,373,389,399,345,416,343,411,387,394,435,368,476,342"/>
<area shape="poly" title=" " alt="" coords="488,348,390,448,368,459,366,454,387,444,484,344"/>
<area shape="poly" title=" " alt="" coords="484,348,439,400,425,426,418,450,409,474,390,497,367,511,364,507,387,493,405,471,413,449,420,424,434,397,480,344"/>
<area shape="poly" title=" " alt="" coords="449,308,435,300,419,287,410,274,401,262,387,250,364,238,366,233,390,245,405,258,414,271,423,284,438,296,452,303"/>
<area shape="poly" title=" " alt="" coords="450,340,365,362,364,357,449,335"/>
<area shape="rect" href="pilot-file_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="294,309,343,335"/>
<area shape="poly" title=" " alt="" coords="449,325,344,325,344,319,449,319"/>
<area shape="rect" href="pilot-foto_8c.html#a8e9b5c3f2fa776bf17b633b74890bcff" title=" " alt="" coords="276,260,361,286"/>
<area shape="poly" title=" " alt="" coords="449,309,361,286,362,281,451,304"/>
<area shape="poly" title=" " alt="" coords="261,275,177,275,177,270,261,270"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ef3825c9845ea6880aaea633307886b2.html">libpisock</a></li><li class="navelem"><a class="el" href="pi-file_8c.html">pi-file.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
