<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: bindings/Java/libjpisock.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('libjpisock_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">libjpisock.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;jni.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for libjpisock.h:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h__incl.png" border="0" usemap="#abindings_2Java_2libjpisock_8h" alt=""/></div>
<map name="abindings_2Java_2libjpisock_8h" id="abindings_2Java_2libjpisock_8h">
<area shape="rect" title=" " alt="" coords="5,5,176,31"/>
<area shape="rect" title=" " alt="" coords="68,79,113,105"/>
<area shape="poly" title=" " alt="" coords="93,31,93,63,88,63,88,31"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h__dep__incl.png" border="0" usemap="#abindings_2Java_2libjpisock_8hdep" alt=""/></div>
<map name="abindings_2Java_2libjpisock_8hdep" id="abindings_2Java_2libjpisock_8hdep">
<area shape="rect" title=" " alt="" coords="5,5,176,31"/>
<area shape="rect" href="libjpisock_8c.html" title=" " alt="" coords="5,79,176,105"/>
<area shape="poly" title=" " alt="" coords="93,46,93,79,88,79,88,46"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a75b69b1d305737f9d96c89f8765f7e26" id="r_a75b69b1d305737f9d96c89f8765f7e26"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75b69b1d305737f9d96c89f8765f7e26">Java_org_gnu_pilotlink_PilotLink_close</a> (JNIEnv *, jobject, jint)</td></tr>
<tr class="separator:a75b69b1d305737f9d96c89f8765f7e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d62f6957846240dcdd76687464a22b4" id="r_a4d62f6957846240dcdd76687464a22b4"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d62f6957846240dcdd76687464a22b4">Java_org_gnu_pilotlink_PilotLink_closeDB</a> (JNIEnv *, jobject, jint, jint)</td></tr>
<tr class="separator:a4d62f6957846240dcdd76687464a22b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9979c97ac30160e6ce158870508d81f7" id="r_a9979c97ac30160e6ce158870508d81f7"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jint JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9979c97ac30160e6ce158870508d81f7">Java_org_gnu_pilotlink_PilotLink_connect</a> (JNIEnv *, jobject, jstring)</td></tr>
<tr class="separator:a9979c97ac30160e6ce158870508d81f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c8c092c5168e640d1c8ed864b79c26" id="r_a71c8c092c5168e640d1c8ed864b79c26"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jint JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71c8c092c5168e640d1c8ed864b79c26">Java_org_gnu_pilotlink_PilotLink_createDB__IJLjava_lang_String_2J</a> (JNIEnv *, jobject, jint, jlong, jstring, jlong)</td></tr>
<tr class="separator:a71c8c092c5168e640d1c8ed864b79c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0eb5956f464dbc17890f3f42061277" id="r_aac0eb5956f464dbc17890f3f42061277"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jint JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac0eb5956f464dbc17890f3f42061277">Java_org_gnu_pilotlink_PilotLink_createDB__IJLjava_lang_String_2JII</a> (JNIEnv *, jobject, jint, jlong, jstring, jlong, jint, jint)</td></tr>
<tr class="separator:aac0eb5956f464dbc17890f3f42061277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2a660d93c249a9caafca7a512ca394" id="r_afc2a660d93c249a9caafca7a512ca394"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jint JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc2a660d93c249a9caafca7a512ca394">Java_org_gnu_pilotlink_PilotLink_deleteDB</a> (JNIEnv *, jobject, jint, jstring)</td></tr>
<tr class="separator:afc2a660d93c249a9caafca7a512ca394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9a39a807a4d17600a1838e33f07001" id="r_a0b9a39a807a4d17600a1838e33f07001"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jint JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b9a39a807a4d17600a1838e33f07001">Java_org_gnu_pilotlink_PilotLink_deleteRecordById</a> (JNIEnv *, jobject, jint, jint, jlong)</td></tr>
<tr class="separator:a0b9a39a807a4d17600a1838e33f07001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58082f6a3967828d6ca9d636a86ed39" id="r_ae58082f6a3967828d6ca9d636a86ed39"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae58082f6a3967828d6ca9d636a86ed39">Java_org_gnu_pilotlink_PilotLink_endSync</a> (JNIEnv *, jobject, jint)</td></tr>
<tr class="separator:ae58082f6a3967828d6ca9d636a86ed39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31d0d8a4dbf8c08ac71cd809a9e43b44" id="r_a31d0d8a4dbf8c08ac71cd809a9e43b44"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jobject JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31d0d8a4dbf8c08ac71cd809a9e43b44">Java_org_gnu_pilotlink_PilotLink_getAppInfoBlock</a> (JNIEnv *, jobject, jint, jstring)</td></tr>
<tr class="separator:a31d0d8a4dbf8c08ac71cd809a9e43b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55465bda8a169f9645f35423d5e6f50f" id="r_a55465bda8a169f9645f35423d5e6f50f"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jobject JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55465bda8a169f9645f35423d5e6f50f">Java_org_gnu_pilotlink_PilotLink_getRecordByIndex</a> (JNIEnv *, jobject, jint, jint, jint)</td></tr>
<tr class="separator:a55465bda8a169f9645f35423d5e6f50f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe72f366d61c035099abb71e924f1659" id="r_abe72f366d61c035099abb71e924f1659"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jint JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe72f366d61c035099abb71e924f1659">Java_org_gnu_pilotlink_PilotLink_getRecordCount</a> (JNIEnv *, jobject, jint, jint)</td></tr>
<tr class="separator:abe72f366d61c035099abb71e924f1659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab495d54eeb381101f41306217a22d891" id="r_ab495d54eeb381101f41306217a22d891"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jobject JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab495d54eeb381101f41306217a22d891">Java_org_gnu_pilotlink_PilotLink_getResourceByIndex</a> (JNIEnv *, jobject, jint, jint, jint)</td></tr>
<tr class="separator:ab495d54eeb381101f41306217a22d891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79804f7a79211e8229691d8f94746f95" id="r_a79804f7a79211e8229691d8f94746f95"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79804f7a79211e8229691d8f94746f95">Java_org_gnu_pilotlink_PilotLink_openConduit</a> (JNIEnv *, jobject, jint)</td></tr>
<tr class="separator:a79804f7a79211e8229691d8f94746f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da33f78a010be1f79b05df7e4a3782a" id="r_a6da33f78a010be1f79b05df7e4a3782a"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jint JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6da33f78a010be1f79b05df7e4a3782a">Java_org_gnu_pilotlink_PilotLink_openDB</a> (JNIEnv *, jobject, jint, jstring)</td></tr>
<tr class="separator:a6da33f78a010be1f79b05df7e4a3782a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a380434a6fe78bbe7350a3ac3cb5c7f9d" id="r_a380434a6fe78bbe7350a3ac3cb5c7f9d"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jobject JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a380434a6fe78bbe7350a3ac3cb5c7f9d">Java_org_gnu_pilotlink_PilotLink_readAppInfo</a> (JNIEnv *, jobject, jint, jint)</td></tr>
<tr class="separator:a380434a6fe78bbe7350a3ac3cb5c7f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a18be322938d074843ee20bb5080db6" id="r_a6a18be322938d074843ee20bb5080db6"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jobject JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a18be322938d074843ee20bb5080db6">Java_org_gnu_pilotlink_PilotLink_readDBList</a> (JNIEnv *, jobject, jint, jint, jint, jint)</td></tr>
<tr class="separator:a6a18be322938d074843ee20bb5080db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01fdfb692e641eafcae662b4ad55be89" id="r_a01fdfb692e641eafcae662b4ad55be89"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jobject JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01fdfb692e641eafcae662b4ad55be89">Java_org_gnu_pilotlink_PilotLink_readSysInfo</a> (JNIEnv *, jobject, jint)</td></tr>
<tr class="separator:a01fdfb692e641eafcae662b4ad55be89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b9d9eef7009408a6286fad1e3d3c187" id="r_a8b9d9eef7009408a6286fad1e3d3c187"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jobject JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b9d9eef7009408a6286fad1e3d3c187">Java_org_gnu_pilotlink_PilotLink_readUserInfo</a> (JNIEnv *, jobject, jint)</td></tr>
<tr class="separator:a8b9d9eef7009408a6286fad1e3d3c187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a2b43ed075898373b61d744a111c7e" id="r_a27a2b43ed075898373b61d744a111c7e"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27a2b43ed075898373b61d744a111c7e">Java_org_gnu_pilotlink_PilotLink_resetSystem</a> (JNIEnv *, jobject, jint)</td></tr>
<tr class="separator:a27a2b43ed075898373b61d744a111c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1b920f19204bf4810253e2f623db74" id="r_a7c1b920f19204bf4810253e2f623db74"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jint JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c1b920f19204bf4810253e2f623db74">Java_org_gnu_pilotlink_PilotLink_writeAppBlock</a> (JNIEnv *, jobject, jint, jint, jbyteArray, jint)</td></tr>
<tr class="separator:a7c1b920f19204bf4810253e2f623db74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a14c8f9370f9d6dea172999f41a71da" id="r_a6a14c8f9370f9d6dea172999f41a71da"><td class="memItemLeft" align="right" valign="top">JNIEXPORT jint JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a14c8f9370f9d6dea172999f41a71da">Java_org_gnu_pilotlink_PilotLink_writeRecord</a> (JNIEnv *, jobject, jint, jint, jobject)</td></tr>
<tr class="separator:a6a14c8f9370f9d6dea172999f41a71da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae614a16d2c04fe833c53e9e9b0ce39ac" id="r_ae614a16d2c04fe833c53e9e9b0ce39ac"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae614a16d2c04fe833c53e9e9b0ce39ac">Java_org_gnu_pilotlink_PilotLink_writeResource</a> (JNIEnv *, jobject, jint, jint, jobject)</td></tr>
<tr class="separator:ae614a16d2c04fe833c53e9e9b0ce39ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6f9739d23723eca768f025b9655805" id="r_a2b6f9739d23723eca768f025b9655805"><td class="memItemLeft" align="right" valign="top">JNIEXPORT void JNICALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b6f9739d23723eca768f025b9655805">Java_org_gnu_pilotlink_PilotLink_writeUserInfo</a> (JNIEnv *, jobject, jint, jobject)</td></tr>
<tr class="separator:a2b6f9739d23723eca768f025b9655805"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a75b69b1d305737f9d96c89f8765f7e26" name="a75b69b1d305737f9d96c89f8765f7e26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b69b1d305737f9d96c89f8765f7e26">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_gnu_pilotlink_PilotLink_close </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  803</span>                                       {</div>
<div class="line"><span class="lineno">  804</span>    <a class="code hl_function" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">  805</span>}</div>
<div class="ttc" id="apilot-xfer_8c_html_a06b0afe769d54ae94259d8532bc878b0"><div class="ttname"><a href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a></div><div class="ttdeci">int sd</div><div class="ttdef"><b>Definition</b> pilot-xfer.c:107</div></div>
<div class="ttc" id="asocket_8c_html_acc90bbb82f9a58d3635166976e9f3484"><div class="ttname"><a href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a></div><div class="ttdeci">int pi_close(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1415</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01415">pi_close()</a>, and <a class="el" href="#l00107">sd</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a75b69b1d305737f9d96c89f8765f7e26_cgraph.png" border="0" usemap="#alibjpisock_8h_a75b69b1d305737f9d96c89f8765f7e26_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a75b69b1d305737f9d96c89f8765f7e26_cgraph" id="alibjpisock_8h_a75b69b1d305737f9d96c89f8765f7e26_cgraph">
<area shape="rect" title=" " alt="" coords="5,892,159,932"/>
<area shape="rect" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484" title=" " alt="" coords="207,899,276,925"/>
<area shape="poly" title=" " alt="" coords="159,909,191,909,191,915,159,915"/>
<area shape="rect" href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43" title=" " alt="" coords="348,320,460,346"/>
<area shape="poly" title=" " alt="" coords="244,898,392,360,397,362,249,900"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1407,595,1512,621"/>
<area shape="poly" title=" " alt="" coords="240,899,246,785,260,603,270,507,284,416,301,339,322,283,373,188,398,149,426,116,457,89,495,70,540,57,594,53,1124,53,1169,58,1210,71,1247,92,1280,120,1310,153,1336,191,1379,275,1412,364,1435,450,1450,524,1458,579,1453,580,1444,525,1430,451,1407,365,1374,277,1331,193,1305,156,1276,124,1244,97,1207,76,1168,63,1124,59,594,59,540,63,497,75,460,94,429,120,402,152,377,191,326,285,306,340,289,417,276,507,265,604,251,785,246,899"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1567,244,1673,270"/>
<area shape="poly" title=" " alt="" coords="240,899,241,764,249,546,259,429,274,320,294,228,307,191,322,163,376,88,404,60,433,38,466,22,503,11,545,5,594,3,1292,3,1346,10,1397,29,1445,58,1488,92,1526,130,1559,167,1605,230,1600,233,1554,171,1522,133,1484,96,1442,62,1395,34,1345,15,1291,8,594,8,545,10,504,16,468,27,436,43,407,64,380,92,326,165,312,193,299,229,279,321,265,429,255,546,246,764,245,899"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1560,771,1680,797"/>
<area shape="poly" title=" " alt="" coords="277,918,415,944,503,955,594,960,1292,960,1339,955,1385,943,1429,924,1471,901,1543,851,1593,806,1597,810,1546,855,1474,906,1431,929,1387,948,1340,961,1292,965,594,965,503,961,414,949,276,923"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1410,772,1509,798"/>
<area shape="poly" title=" " alt="" coords="277,909,594,909,1124,909,1192,910,1245,908,1296,898,1358,874,1381,860,1402,843,1437,808,1441,812,1406,847,1384,864,1360,878,1298,903,1246,914,1192,915,1124,915,594,915,277,915"/>
<area shape="rect" href="socket_8c.html#ab636d5244f935701991791240583295a" title=" " alt="" coords="324,1000,483,1026"/>
<area shape="poly" title=" " alt="" coords="257,923,287,951,325,979,350,992,347,996,323,984,284,955,254,927"/>
<area shape="rect" href="socket_8c.html#af6e9a4a5aabc48480dbd6961d24819ec" title=" " alt="" coords="349,1050,458,1076"/>
<area shape="poly" title=" " alt="" coords="250,924,277,979,298,1010,326,1037,336,1043,333,1048,322,1041,294,1013,272,982,245,926"/>
<area shape="poly" title=" " alt="" coords="376,321,371,312,374,302,385,296,404,294,423,296,434,303,431,308,422,301,404,299,387,301,378,306,376,311,381,319"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="558,394,632,420"/>
<area shape="poly" title=" " alt="" coords="441,344,546,385,544,390,439,349"/>
<area shape="poly" title=" " alt="" coords="410,346,436,460,463,544,500,633,548,718,577,757,608,790,644,819,682,840,725,854,771,859,1124,859,1193,863,1249,869,1275,868,1301,863,1328,851,1357,833,1370,820,1383,800,1408,746,1447,635,1452,637,1413,748,1387,802,1374,823,1361,837,1330,856,1302,868,1275,873,1249,874,1193,869,1124,864,770,864,723,859,680,845,641,823,605,794,573,760,544,721,495,636,458,546,431,462,405,347"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1246,342,1335,368"/>
<area shape="poly" title=" " alt="" coords="406,319,420,281,445,229,481,175,504,151,530,131,562,113,591,103,618,97,645,96,701,100,771,104,956,104,1022,108,1074,120,1121,145,1175,185,1210,218,1239,256,1279,326,1275,329,1235,259,1206,221,1172,189,1118,150,1072,125,1021,113,955,109,770,109,701,106,645,101,619,103,593,108,564,118,533,136,507,155,485,178,449,231,425,283,411,321"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="536,146,654,172"/>
<area shape="poly" title=" " alt="" coords="411,319,456,254,490,215,530,181,536,177,538,181,533,185,494,219,460,257,415,322"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="535,246,655,272"/>
<area shape="poly" title=" " alt="" coords="438,318,545,275,546,280,440,322"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="531,195,659,221"/>
<area shape="poly" title=" " alt="" coords="417,318,465,276,530,231,541,225,543,230,533,236,469,281,421,322"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="718,634,826,660"/>
<area shape="poly" title=" " alt="" coords="417,345,457,395,522,468,608,549,656,588,709,623,706,628,653,592,604,553,518,471,453,398,413,348"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="892,696,1016,722"/>
<area shape="poly" title=" " alt="" coords="605,419,643,486,673,526,708,562,741,583,771,593,801,602,838,619,887,652,928,684,925,688,884,656,836,624,800,607,769,598,739,588,705,566,669,530,638,489,600,421"/>
<area shape="poly" title=" " alt="" coords="605,392,646,348,710,287,791,226,837,200,884,180,928,167,966,160,1002,159,1035,163,1067,172,1101,187,1175,230,1205,252,1232,278,1273,328,1269,331,1228,282,1202,256,1172,234,1098,191,1066,177,1034,168,1001,164,967,165,929,172,886,185,839,205,794,231,713,291,649,351,609,395"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="707,394,837,420"/>
<area shape="poly" title=" " alt="" coords="632,404,691,404,691,409,632,409"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="885,595,1023,621"/>
<area shape="poly" title=" " alt="" coords="616,417,727,492,805,539,886,582,897,587,895,591,884,586,802,543,725,497,613,422"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="1079,696,1166,722"/>
<area shape="poly" title=" " alt="" coords="1016,707,1063,707,1063,712,1016,712"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1257,747,1324,773"/>
<area shape="poly" title=" " alt="" coords="1012,720,1072,732,1242,753,1241,759,1071,737,1011,725"/>
<area shape="poly" title=" " alt="" coords="970,694,996,667,1021,632,1033,603,1038,576,1037,527,1038,503,1041,479,1051,454,1069,429,1096,410,1137,393,1230,366,1232,371,1139,398,1099,415,1073,433,1056,457,1046,480,1043,504,1043,527,1043,577,1038,605,1026,635,1000,670,973,698"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="1089,798,1156,824"/>
<area shape="poly" title=" " alt="" coords="979,721,1088,787,1085,792,976,725"/>
<area shape="poly" title=" " alt="" coords="1323,749,1358,732,1384,710,1407,683,1441,633,1446,636,1411,687,1387,713,1360,737,1325,754"/>
<area shape="poly" title=" " alt="" coords="1324,762,1395,773,1394,778,1323,768"/>
<area shape="poly" title=" " alt="" coords="1465,594,1604,284,1609,286,1469,596"/>
<area shape="poly" title=" " alt="" coords="1475,619,1599,758,1595,761,1471,623"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1576,595,1664,621"/>
<area shape="poly" title=" " alt="" coords="1513,605,1561,605,1561,611,1513,611"/>
<area shape="poly" title=" " alt="" coords="1337,363,1361,378,1382,401,1399,427,1427,482,1445,536,1456,579,1451,581,1440,537,1422,484,1395,430,1377,404,1357,382,1334,368"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1257,796,1324,822"/>
<area shape="poly" title=" " alt="" coords="1156,808,1242,807,1242,812,1156,813"/>
<area shape="poly" title=" " alt="" coords="1323,800,1341,794,1357,783,1390,749,1415,709,1434,669,1447,635,1452,637,1439,671,1420,711,1394,752,1361,787,1343,798,1325,805"/>
<area shape="poly" title=" " alt="" coords="1323,802,1394,792,1395,797,1324,807"/>
<area shape="poly" title=" " alt="" coords="837,398,1230,358,1231,363,838,403"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="907,195,1001,221"/>
<area shape="poly" title=" " alt="" coords="776,393,790,360,812,317,844,270,883,230,891,224,894,229,887,234,848,274,817,319,794,362,780,395"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="890,294,1019,320"/>
<area shape="poly" title=" " alt="" coords="788,391,830,360,884,328,894,323,897,328,886,333,833,365,791,396"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="904,343,1004,369"/>
<area shape="poly" title=" " alt="" coords="820,391,890,371,892,376,822,396"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="903,444,1005,470"/>
<area shape="poly" title=" " alt="" coords="822,418,892,437,890,442,820,423"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="906,244,1002,270"/>
<area shape="poly" title=" " alt="" coords="780,392,820,338,850,307,883,279,891,274,894,279,887,284,853,310,824,341,784,395"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="1091,595,1154,621"/>
<area shape="poly" title=" " alt="" coords="792,418,839,462,853,482,861,499,870,514,886,530,963,558,1077,593,1075,598,961,563,884,534,866,518,857,501,848,485,835,466,788,422"/>
<area shape="poly" title=" " alt="" coords="794,418,817,438,839,462,855,494,861,521,868,547,887,574,901,585,897,589,883,578,864,549,856,523,850,495,835,466,813,441,790,422"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="914,494,994,520"/>
<area shape="poly" title=" " alt="" coords="791,418,833,448,886,480,901,487,898,492,884,485,830,453,788,422"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="1077,244,1168,270"/>
<area shape="poly" title=" " alt="" coords="1002,255,1062,255,1062,260,1002,260"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1259,696,1322,722"/>
<area shape="poly" title=" " alt="" coords="1147,619,1256,686,1253,690,1144,624"/>
<area shape="poly" title=" " alt="" coords="1321,694,1358,675,1427,628,1430,633,1360,680,1324,698"/>
<area shape="poly" title=" " alt="" coords="1323,718,1360,732,1422,762,1419,767,1358,737,1321,723"/>
<area shape="poly" title=" " alt="" coords="1005,592,1071,580,1158,575,1245,578,1392,594,1391,599,1244,583,1158,581,1072,585,1006,597"/>
<area shape="poly" title=" " alt="" coords="995,507,1155,525,1258,542,1360,565,1417,586,1416,591,1358,571,1257,547,1155,530,994,512"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="1071,443,1174,469"/>
<area shape="poly" title=" " alt="" coords="994,492,1062,471,1064,476,996,497"/>
<area shape="poly" title=" " alt="" coords="1174,450,1216,450,1264,455,1314,466,1360,486,1388,506,1412,531,1447,580,1442,583,1408,534,1385,510,1358,490,1312,471,1263,461,1216,456,1174,455"/>
<area shape="poly" title=" " alt="" coords="1145,441,1172,422,1195,399,1220,378,1231,372,1233,377,1223,382,1199,403,1175,426,1148,445"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1222,392,1359,418"/>
<area shape="poly" title=" " alt="" coords="1167,440,1230,421,1232,426,1168,445"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="726,144,818,170"/>
<area shape="poly" title=" " alt="" coords="654,156,711,155,711,160,654,161"/>
<area shape="poly" title=" " alt="" coords="655,248,891,214,892,219,656,253"/>
<area shape="poly" title=" " alt="" coords="634,243,657,231,681,210,705,187,725,175,727,180,708,191,685,214,660,236,637,248"/>
<area shape="poly" title=" " alt="" coords="642,192,710,172,712,177,643,197"/>
<area shape="poly" title=" " alt="" coords="826,643,982,639,1173,631,1391,612,1392,618,1174,636,982,645,826,649"/>
</map>
</div>

</div>
</div>
<a id="a4d62f6957846240dcdd76687464a22b4" name="a4d62f6957846240dcdd76687464a22b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d62f6957846240dcdd76687464a22b4">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_closeDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_gnu_pilotlink_PilotLink_closeDB </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>han</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>db</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  778</span>                                                {</div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordtype">int</span> bException = 0;</div>
<div class="line"><span class="lineno">  780</span>    <span class="keywordtype">int</span> ret=<a class="code hl_function" href="dlp_8c.html#a98deac311b70f65e7eb2fc0f7da373e6">dlp_CleanUpDatabase</a>(han, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno">  781</span>    <span class="keywordflow">if</span> (ret&lt;0) {</div>
<div class="line"><span class="lineno">  782</span><span class="comment">//       printf(&quot;Error cleaning up! %d\n&quot;,ret);</span></div>
<div class="line"><span class="lineno">  783</span>        <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to clean up before database close&quot;</span>,</div>
<div class="line"><span class="lineno">  784</span>            ret, errno);</div>
<div class="line"><span class="lineno">  785</span>        bException = 1;</div>
<div class="line"><span class="lineno">  786</span>    }</div>
<div class="line"><span class="lineno">  787</span>    ret=<a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(han, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno">  788</span>    <span class="keywordflow">if</span> (ret &lt; 0 &amp;&amp; !bException) {</div>
<div class="line"><span class="lineno">  789</span><span class="comment">//       printf(&quot;Error closing DB: %d\n&quot;,ret);</span></div>
<div class="line"><span class="lineno">  790</span>        <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to close database&quot;</span>,</div>
<div class="line"><span class="lineno">  791</span>            ret, errno);</div>
<div class="line"><span class="lineno">  792</span>    }</div>
<div class="line"><span class="lineno">  793</span>}</div>
<div class="ttc" id="adlp_8c_html_a98deac311b70f65e7eb2fc0f7da373e6"><div class="ttname"><a href="dlp_8c.html#a98deac311b70f65e7eb2fc0f7da373e6">dlp_CleanUpDatabase</a></div><div class="ttdeci">int dlp_CleanUpDatabase(int sd, int dbhandle)</div><div class="ttdef"><b>Definition</b> dlp.c:3099</div></div>
<div class="ttc" id="adlp_8c_html_ac1cecb25a1c31a4cddf17dbbc7b41991"><div class="ttname"><a href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a></div><div class="ttdeci">int dlp_CloseDB(int sd, int dbhandle)</div><div class="ttdef"><b>Definition</b> dlp.c:1545</div></div>
<div class="ttc" id="alibjpisock_8c_html_a182216b3135f706f4a84831b914b590d"><div class="ttname"><a href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a></div><div class="ttdeci">static void postPilotLinkException(JNIEnv *, const char *, int, int)</div><div class="ttdef"><b>Definition</b> libjpisock.c:1217</div></div>
<div class="ttc" id="astructdb_html"><div class="ttname"><a href="structdb.html">db</a></div><div class="ttdef"><b>Definition</b> pilot-xfer.c:926</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l03099">dlp_CleanUpDatabase()</a>, <a class="el" href="#l01545">dlp_CloseDB()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a4d62f6957846240dcdd76687464a22b4_cgraph.png" border="0" usemap="#alibjpisock_8h_a4d62f6957846240dcdd76687464a22b4_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a4d62f6957846240dcdd76687464a22b4_cgraph" id="alibjpisock_8h_a4d62f6957846240dcdd76687464a22b4_cgraph">
<area shape="rect" title=" " alt="" coords="5,656,159,697"/>
<area shape="rect" href="dlp_8c.html#a98deac311b70f65e7eb2fc0f7da373e6" title=" " alt="" coords="208,591,360,616"/>
<area shape="poly" title=" " alt="" coords="132,654,206,625,223,619,225,624,208,630,134,658"/>
<area shape="rect" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991" title=" " alt="" coords="235,664,333,690"/>
<area shape="poly" title=" " alt="" coords="159,674,220,674,220,679,159,679"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="207,815,361,840"/>
<area shape="poly" title=" " alt="" coords="113,696,255,803,252,807,109,700"/>
<area shape="poly" title=" " alt="" coords="252,592,245,582,249,572,262,566,284,564,307,567,319,573,317,578,305,572,284,569,264,571,253,576,251,581,256,589"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="438,488,512,514"/>
<area shape="poly" title=" " alt="" coords="309,588,435,519,437,524,311,592"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1128,360,1218,386"/>
<area shape="poly" title=" " alt="" coords="284,590,307,463,331,370,367,270,389,221,415,175,444,132,478,93,515,61,556,37,603,21,653,15,838,15,903,10,957,3,982,4,1007,9,1032,21,1058,42,1083,71,1095,101,1098,131,1096,161,1090,225,1094,259,1107,296,1125,323,1146,347,1142,351,1121,327,1102,298,1089,260,1085,225,1090,161,1092,131,1090,102,1078,74,1054,45,1029,26,1005,14,981,9,957,8,904,15,838,21,653,21,604,26,559,42,518,66,481,97,449,135,420,178,394,224,372,272,336,372,312,465,289,591"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="416,664,534,690"/>
<area shape="poly" title=" " alt="" coords="333,614,362,625,410,650,422,655,420,660,408,655,360,630,331,619"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="416,615,535,640"/>
<area shape="poly" title=" " alt="" coords="361,610,401,615,400,621,360,616"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="412,713,539,739"/>
<area shape="poly" title=" " alt="" coords="344,615,363,625,380,644,388,663,395,682,411,700,415,703,412,708,407,704,391,685,383,666,375,647,359,630,341,619"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="422,565,529,591"/>
<area shape="poly" title=" " alt="" coords="360,591,406,585,406,590,361,596"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="775,111,898,136"/>
<area shape="poly" title=" " alt="" coords="485,486,594,356,677,265,766,176,804,144,807,148,769,180,681,269,598,360,489,489"/>
<area shape="poly" title=" " alt="" coords="512,496,683,480,794,465,905,446,1019,418,1117,388,1118,394,1020,423,907,451,794,471,683,485,513,501"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="589,385,720,411"/>
<area shape="poly" title=" " alt="" coords="498,485,616,417,618,421,501,490"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="768,561,906,587"/>
<area shape="poly" title=" " alt="" coords="513,505,755,555,754,560,512,511"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="962,157,1049,183"/>
<area shape="poly" title=" " alt="" coords="887,134,947,151,946,157,885,139"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1140,209,1206,235"/>
<area shape="poly" title=" " alt="" coords="899,115,977,119,1018,127,1058,142,1074,155,1083,169,1092,183,1106,196,1127,207,1124,211,1103,200,1088,186,1079,172,1070,158,1055,147,1017,132,976,124,899,121"/>
<area shape="poly" title=" " alt="" coords="851,135,894,185,956,243,982,261,1005,273,1058,300,1139,349,1137,354,1055,304,1003,278,980,266,952,247,890,189,847,138"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="972,56,1038,82"/>
<area shape="poly" title=" " alt="" coords="878,108,956,82,958,87,880,113"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1290,409,1395,435"/>
<area shape="poly" title=" " alt="" coords="1208,226,1226,233,1243,244,1276,279,1302,320,1322,360,1335,394,1330,396,1317,362,1298,322,1272,283,1240,248,1224,238,1206,231"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1293,209,1392,235"/>
<area shape="poly" title=" " alt="" coords="1206,219,1277,219,1277,225,1206,225"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1450,360,1555,386"/>
<area shape="poly" title=" " alt="" coords="1386,406,1443,388,1444,393,1388,411"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1443,409,1562,435"/>
<area shape="poly" title=" " alt="" coords="1395,419,1427,419,1427,425,1395,425"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1459,459,1546,484"/>
<area shape="poly" title=" " alt="" coords="1388,433,1445,451,1444,456,1386,438"/>
<area shape="poly" title=" " alt="" coords="1219,383,1282,402,1280,407,1217,388"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1140,160,1206,186"/>
<area shape="poly" title=" " alt="" coords="1029,80,1139,149,1136,154,1026,84"/>
<area shape="poly" title=" " alt="" coords="1208,176,1226,183,1243,195,1264,217,1282,243,1310,297,1328,351,1339,394,1334,395,1323,352,1305,299,1278,245,1260,221,1240,199,1224,188,1206,181"/>
<area shape="poly" title=" " alt="" coords="1207,180,1282,202,1281,207,1206,185"/>
<area shape="poly" title=" " alt="" coords="699,383,718,370,729,354,735,339,738,307,743,276,751,261,766,248,802,230,835,225,869,232,907,248,924,259,933,273,941,287,956,300,983,313,1024,328,1114,355,1113,360,1022,333,981,318,952,304,937,290,929,276,920,263,905,252,867,237,835,231,804,235,769,252,756,265,748,278,744,308,740,340,734,357,722,373,702,387"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="790,663,884,688"/>
<area shape="poly" title=" " alt="" coords="664,410,705,492,736,545,770,598,813,650,809,653,766,601,731,548,701,494,660,413"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="772,263,902,288"/>
<area shape="poly" title=" " alt="" coords="666,383,708,341,736,318,766,297,775,293,777,297,769,302,739,322,711,345,670,387"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="787,312,887,338"/>
<area shape="poly" title=" " alt="" coords="683,382,767,346,781,341,783,346,769,351,686,387"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="786,361,888,387"/>
<area shape="poly" title=" " alt="" coords="720,387,770,380,770,385,721,392"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="789,411,884,436"/>
<area shape="poly" title=" " alt="" coords="721,405,774,412,773,417,720,410"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="974,207,1037,232"/>
<area shape="poly" title=" " alt="" coords="659,384,705,287,736,235,752,216,766,204,790,193,815,187,867,183,916,190,959,200,958,206,915,195,866,189,816,192,792,198,769,208,756,220,741,239,710,289,664,386"/>
<area shape="poly" title=" " alt="" coords="665,410,703,476,733,514,769,548,775,552,772,556,766,552,729,518,699,479,660,413"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="797,512,877,538"/>
<area shape="poly" title=" " alt="" coords="676,409,806,501,803,505,673,414"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="960,359,1050,384"/>
<area shape="poly" title=" " alt="" coords="880,407,946,387,948,392,882,413"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1141,259,1205,284"/>
<area shape="poly" title=" " alt="" coords="1038,227,1127,255,1126,260,1036,232"/>
<area shape="poly" title=" " alt="" coords="1191,283,1317,397,1313,401,1187,287"/>
<area shape="poly" title=" " alt="" coords="1205,260,1280,237,1282,242,1206,265"/>
<area shape="poly" title=" " alt="" coords="906,571,978,567,1064,556,1154,536,1240,505,1284,477,1318,444,1322,448,1287,481,1243,510,1155,542,1064,561,979,572,907,577"/>
<area shape="poly" title=" " alt="" coords="877,521,947,518,1038,509,1140,494,1241,469,1274,456,1305,440,1307,445,1276,461,1242,474,1141,499,1039,515,947,523,878,527"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="954,460,1056,486"/>
<area shape="poly" title=" " alt="" coords="877,510,946,488,948,493,878,515"/>
<area shape="poly" title=" " alt="" coords="1057,467,1143,459,1241,445,1279,437,1280,442,1242,450,1144,464,1057,472"/>
<area shape="poly" title=" " alt="" coords="1027,457,1055,439,1078,416,1103,395,1113,389,1115,394,1106,399,1081,420,1058,443,1030,462"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1104,409,1242,435"/>
<area shape="poly" title=" " alt="" coords="1050,457,1113,437,1114,442,1051,462"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="608,713,701,739"/>
<area shape="poly" title=" " alt="" coords="525,688,594,707,593,712,524,693"/>
<area shape="poly" title=" " alt="" coords="535,633,590,641,775,665,774,670,589,646,535,639"/>
<area shape="poly" title=" " alt="" coords="521,638,543,649,567,670,591,692,610,703,607,708,588,696,564,674,540,654,519,643"/>
<area shape="poly" title=" " alt="" coords="539,723,593,723,593,729,539,729"/>
<area shape="poly" title=" " alt="" coords="530,587,668,610,751,619,836,622,1006,622,1076,620,1131,612,1181,591,1240,555,1268,531,1292,502,1326,447,1330,450,1296,505,1272,534,1243,559,1184,596,1132,617,1077,626,1007,627,835,627,751,624,667,615,529,592"/>
<area shape="poly" title=" " alt="" coords="311,661,336,646,359,627,374,608,383,590,392,572,407,551,440,521,443,525,411,555,397,575,388,593,379,611,363,631,339,650,314,666"/>
<area shape="poly" title=" " alt="" coords="303,688,349,720,379,736,410,749,476,767,529,774,653,774,838,774,852,772,862,768,876,751,887,726,904,699,984,601,1016,557,1054,497,1067,468,1074,443,1083,419,1102,395,1113,387,1116,392,1106,399,1087,422,1079,445,1072,470,1059,499,1021,560,988,605,908,702,892,729,881,753,865,772,854,778,838,779,653,779,529,780,475,773,408,754,377,741,347,724,300,692"/>
<area shape="poly" title=" " alt="" coords="333,674,401,674,401,679,333,679"/>
<area shape="poly" title=" " alt="" coords="333,662,407,642,408,647,334,667"/>
<area shape="poly" title=" " alt="" coords="334,687,408,706,407,711,333,692"/>
<area shape="poly" title=" " alt="" coords="305,661,408,600,419,595,421,600,410,604,307,666"/>
<area shape="poly" title=" " alt="" coords="252,665,245,655,249,646,262,639,284,637,307,640,319,646,317,651,305,645,284,643,264,645,253,649,251,655,256,662"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="432,864,518,890"/>
<area shape="poly" title=" " alt="" coords="337,838,418,859,416,864,336,843"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="409,815,541,840"/>
<area shape="poly" title=" " alt="" coords="361,825,394,825,394,830,361,830"/>
</map>
</div>

</div>
</div>
<a id="a9979c97ac30160e6ce158870508d81f7" name="a9979c97ac30160e6ce158870508d81f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9979c97ac30160e6ce158870508d81f7">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jint JNICALL Java_org_gnu_pilotlink_PilotLink_connect </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jstring</td>          <td class="paramname"><span class="paramname"><em>jprt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   36</span>                                            {</div>
<div class="line"><span class="lineno">   37</span> </div>
<div class="line"><span class="lineno">   38</span>    jint iResult = 0;</div>
<div class="line"><span class="lineno">   39</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_variable" href="pilot-debug_8c.html#a63c89c04d1feae07ca35558055155ffb">port</a> = NULL;</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordtype">char</span> * prt = NULL;</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <span class="comment">/* Get working copy of port name */</span></div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_variable" href="pilot-debug_8c.html#a63c89c04d1feae07ca35558055155ffb">port</a> = env-&gt;GetStringUTFChars(jprt, NULL);</div>
<div class="line"><span class="lineno">   44</span>    prt = (<span class="keywordtype">char</span> *)malloc(strlen(<a class="code hl_variable" href="pilot-debug_8c.html#a63c89c04d1feae07ca35558055155ffb">port</a>) + 1);</div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordflow">if</span> (prt != NULL) strcpy(prt, <a class="code hl_variable" href="pilot-debug_8c.html#a63c89c04d1feae07ca35558055155ffb">port</a>);</div>
<div class="line"><span class="lineno">   46</span>    env-&gt;ReleaseStringUTFChars(jprt, <a class="code hl_variable" href="pilot-debug_8c.html#a63c89c04d1feae07ca35558055155ffb">port</a>);</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>    iResult = <a class="code hl_function" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988">pilot_connect</a>(env, prt);</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">if</span> (prt != NULL) free(prt);</div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordflow">return</span> iResult;</div>
<div class="line"><span class="lineno">   51</span>}</div>
<div class="ttc" id="alibjpisock_8c_html_a201020848015baf4f5015d6d0f736988"><div class="ttname"><a href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988">pilot_connect</a></div><div class="ttdeci">int pilot_connect(JNIEnv *env, const char *port)</div><div class="ttdef"><b>Definition</b> libjpisock.c:808</div></div>
<div class="ttc" id="apilot-debug_8c_html_a63c89c04d1feae07ca35558055155ffb"><div class="ttname"><a href="pilot-debug_8c.html#a63c89c04d1feae07ca35558055155ffb">port</a></div><div class="ttdeci">int port</div><div class="ttdef"><b>Definition</b> pilot-debug.c:87</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00808">pilot_connect()</a>, and <a class="el" href="#l00087">port</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a9979c97ac30160e6ce158870508d81f7_cgraph.png" border="0" usemap="#alibjpisock_8h_a9979c97ac30160e6ce158870508d81f7_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a9979c97ac30160e6ce158870508d81f7_cgraph" id="alibjpisock_8h_a9979c97ac30160e6ce158870508d81f7_cgraph">
<area shape="rect" title=" " alt="" coords="5,752,159,793"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="207,760,305,786"/>
<area shape="poly" title=" " alt="" coords="159,770,191,770,191,776,159,776"/>
<area shape="rect" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b" title=" " alt="" coords="1011,1161,1133,1187"/>
<area shape="poly" title=" " alt="" coords="264,785,297,865,326,920,362,977,406,1032,457,1078,485,1096,516,1109,547,1118,581,1121,749,1121,817,1124,886,1132,1004,1155,1003,1160,885,1137,817,1129,749,1126,581,1126,546,1123,514,1114,483,1100,454,1082,402,1035,358,980,321,922,293,867,259,787"/>
<area shape="rect" href="dlp_8c.html#a9f0c8f272d342b38d3c05c2e1906d08d" title=" " alt="" coords="1011,1088,1133,1114"/>
<area shape="poly" title=" " alt="" coords="305,766,404,762,535,769,607,779,680,794,750,816,817,846,852,869,877,892,896,917,912,942,943,995,965,1022,994,1051,1033,1078,1030,1082,991,1055,961,1026,939,998,907,945,892,920,873,896,848,873,815,851,749,821,678,799,606,784,535,774,404,768,306,771"/>
<area shape="rect" href="socket_8c.html#a822f6b3639c99cb43468b11ff7c41799" title=" " alt="" coords="700,620,796,646"/>
<area shape="poly" title=" " alt="" coords="280,757,352,724,441,695,532,672,684,641,685,646,533,677,443,701,354,729,282,762"/>
<area shape="rect" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484" title=" " alt="" coords="870,532,939,558"/>
<area shape="poly" title=" " alt="" coords="266,758,302,722,326,703,352,686,418,655,489,628,630,587,758,561,854,547,855,553,759,567,631,592,490,633,421,660,354,691,329,707,305,726,270,762"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="388,860,450,886"/>
<area shape="poly" title=" " alt="" coords="280,784,385,849,382,854,277,789"/>
<area shape="rect" href="socket_8c.html#a251bfe75de5f2d1c4ff58701c887a4e0" title=" " alt="" coords="548,709,617,735"/>
<area shape="poly" title=" " alt="" coords="305,760,353,752,532,726,533,731,353,757,306,766"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="1740,1468,1842,1494"/>
<area shape="poly" title=" " alt="" coords="262,785,297,944,328,1065,367,1196,413,1321,438,1378,465,1428,493,1470,521,1502,551,1522,581,1529,1441,1529,1567,1524,1691,1504,1728,1495,1730,1501,1692,1509,1568,1529,1442,1534,581,1534,549,1527,518,1506,488,1473,460,1431,433,1380,408,1323,362,1197,323,1067,292,946,257,787"/>
<area shape="rect" href="socket_8c.html#aa2d1d1b59340099588ea7bc15508745b" title=" " alt="" coords="380,191,458,216"/>
<area shape="poly" title=" " alt="" coords="258,759,407,231,413,232,263,761"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="353,1569,485,1595"/>
<area shape="poly" title=" " alt="" coords="260,786,262,926,273,1154,285,1275,302,1389,325,1483,339,1520,355,1549,365,1559,361,1562,351,1552,334,1522,320,1485,297,1390,280,1276,268,1154,256,926,254,786"/>
<area shape="poly" title=" " alt="" coords="1043,1162,1038,1153,1041,1143,1053,1137,1072,1135,1092,1137,1103,1144,1100,1148,1091,1142,1072,1140,1055,1142,1045,1147,1043,1152,1048,1160"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="1227,1211,1300,1236"/>
<area shape="poly" title=" " alt="" coords="1126,1185,1212,1208,1211,1213,1124,1190"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1914,1316,2003,1342"/>
<area shape="poly" title=" " alt="" coords="1079,1187,1091,1229,1115,1287,1151,1347,1174,1374,1201,1396,1232,1414,1260,1426,1286,1432,1312,1434,1369,1431,1439,1428,1624,1428,1686,1427,1735,1424,1782,1415,1841,1396,1887,1374,1927,1349,1930,1353,1890,1379,1843,1401,1783,1420,1735,1429,1686,1432,1624,1433,1439,1433,1369,1436,1312,1439,1286,1437,1259,1431,1230,1419,1198,1400,1171,1377,1147,1350,1110,1289,1086,1231,1074,1188"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="1582,1468,1663,1494"/>
<area shape="poly" title=" " alt="" coords="1077,1187,1086,1238,1107,1310,1123,1349,1144,1386,1170,1419,1201,1447,1245,1471,1293,1488,1343,1498,1393,1503,1489,1501,1567,1490,1568,1495,1490,1506,1393,1508,1342,1504,1291,1493,1243,1476,1198,1451,1166,1423,1139,1389,1118,1351,1102,1312,1081,1239,1072,1188"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="1205,1063,1322,1088"/>
<area shape="poly" title=" " alt="" coords="1093,1159,1198,1097,1209,1092,1211,1097,1201,1102,1096,1163"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="1204,1161,1323,1187"/>
<area shape="poly" title=" " alt="" coords="1133,1172,1188,1172,1188,1177,1133,1177"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="1200,1112,1327,1138"/>
<area shape="poly" title=" " alt="" coords="1124,1158,1195,1140,1196,1145,1126,1163"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="1210,1013,1317,1039"/>
<area shape="poly" title=" " alt="" coords="1101,1158,1126,1143,1150,1124,1165,1105,1172,1086,1181,1067,1198,1048,1203,1045,1206,1049,1201,1052,1185,1070,1177,1088,1169,1107,1154,1128,1129,1148,1103,1163"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="1378,1113,1502,1139"/>
<area shape="poly" title=" " alt="" coords="1299,1209,1326,1197,1369,1172,1407,1146,1410,1151,1372,1177,1328,1202,1301,1214"/>
<area shape="poly" title=" " alt="" coords="1279,1235,1320,1270,1347,1287,1376,1301,1446,1321,1519,1335,1593,1343,1665,1346,1797,1344,1898,1334,1899,1340,1797,1349,1665,1352,1592,1348,1518,1340,1445,1326,1374,1306,1344,1292,1317,1274,1276,1239"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="1375,1265,1505,1291"/>
<area shape="poly" title=" " alt="" coords="1301,1232,1382,1258,1381,1263,1300,1237"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="1553,1215,1692,1240"/>
<area shape="poly" title=" " alt="" coords="1300,1221,1538,1224,1538,1229,1300,1227"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="1579,1064,1666,1090"/>
<area shape="poly" title=" " alt="" coords="1490,1110,1563,1090,1564,1095,1491,1115"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1589,861,1656,887"/>
<area shape="poly" title=" " alt="" coords="1488,1111,1504,1100,1525,1078,1544,1053,1576,998,1598,945,1612,901,1617,903,1603,947,1580,1000,1549,1056,1529,1081,1507,1104,1491,1115"/>
<area shape="poly" title=" " alt="" coords="1503,1122,1594,1128,1644,1137,1693,1150,1766,1184,1833,1226,1891,1268,1934,1304,1930,1308,1888,1272,1830,1230,1763,1188,1691,1155,1643,1142,1593,1133,1502,1127"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="2093,861,2198,887"/>
<area shape="poly" title=" " alt="" coords="1656,872,2077,872,2077,877,1656,877"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1742,608,1840,634"/>
<area shape="poly" title=" " alt="" coords="1630,859,1770,645,1775,648,1635,862"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="2271,280,2376,306"/>
<area shape="poly" title=" " alt="" coords="2148,860,2311,320,2316,321,2153,862"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="2264,204,2383,230"/>
<area shape="poly" title=" " alt="" coords="2146,861,2158,750,2183,575,2218,394,2239,320,2261,266,2287,237,2291,241,2266,269,2244,321,2223,395,2188,575,2164,751,2151,861"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="2280,861,2367,887"/>
<area shape="poly" title=" " alt="" coords="2198,872,2264,872,2264,877,2198,877"/>
<area shape="poly" title=" " alt="" coords="1963,1315,2131,900,2136,902,1968,1317"/>
<area shape="poly" title=" " alt="" coords="1506,1279,1660,1290,1842,1308,1899,1316,1899,1321,1842,1313,1659,1295,1506,1284"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="1575,1165,1670,1191"/>
<area shape="poly" title=" " alt="" coords="1457,1263,1499,1232,1552,1200,1563,1195,1565,1200,1555,1205,1502,1236,1460,1267"/>
<area shape="poly" title=" " alt="" coords="1488,1262,1559,1242,1560,1248,1490,1267"/>
<area shape="poly" title=" " alt="" coords="1455,1290,1601,1455,1597,1458,1451,1293"/>
<area shape="poly" title=" " alt="" coords="1665,1212,1691,1201,1790,1152,1866,1109,1938,1061,2026,992,2079,943,2121,897,2125,901,2083,947,2029,996,1941,1065,1869,1114,1793,1156,1693,1206,1667,1217"/>
<area shape="poly" title=" " alt="" coords="1640,1492,1683,1525,1711,1541,1740,1553,1803,1560,1895,1560,1982,1556,2011,1551,2026,1547,2043,1527,2058,1500,2085,1427,2105,1336,2119,1237,2136,1040,2141,902,2146,902,2141,1041,2125,1237,2110,1337,2090,1428,2063,1502,2047,1530,2029,1551,2013,1557,1982,1561,1895,1566,1802,1565,1739,1558,1708,1546,1680,1529,1637,1496"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="1740,1517,1842,1543"/>
<area shape="poly" title=" " alt="" coords="1664,1490,1731,1510,1730,1515,1662,1495"/>
<area shape="poly" title=" " alt="" coords="1843,1538,1887,1542,1936,1540,1984,1528,2006,1518,2025,1503,2041,1484,2056,1458,2080,1390,2100,1306,2115,1214,2133,1032,2141,902,2146,903,2139,1032,2120,1215,2105,1308,2085,1392,2060,1461,2046,1487,2029,1507,2009,1522,1986,1533,1937,1545,1887,1547,1842,1543"/>
<area shape="poly" title=" " alt="" coords="1825,1515,1840,1504,1874,1468,1903,1428,1943,1355,1948,1357,1908,1430,1879,1471,1844,1508,1828,1519"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1890,1467,2027,1492"/>
<area shape="poly" title=" " alt="" coords="1835,1514,1898,1495,1900,1500,1837,1519"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="1394,1064,1486,1090"/>
<area shape="poly" title=" " alt="" coords="1323,1073,1379,1074,1379,1079,1323,1079"/>
<area shape="poly" title=" " alt="" coords="1324,1172,1560,1175,1560,1180,1324,1177"/>
<area shape="poly" title=" " alt="" coords="1306,1158,1326,1148,1340,1136,1349,1124,1358,1111,1373,1099,1380,1095,1383,1099,1377,1103,1362,1115,1353,1127,1344,1140,1328,1152,1308,1163"/>
<area shape="poly" title=" " alt="" coords="1313,1109,1379,1091,1380,1096,1314,1114"/>
<area shape="poly" title=" " alt="" coords="1318,1025,1446,1025,1624,1016,1723,1006,1826,990,1928,969,2026,941,2073,920,2114,894,2116,899,2076,924,2028,946,1929,974,1827,996,1724,1011,1624,1021,1446,1031,1318,1031"/>
<area shape="poly" title=" " alt="" coords="1135,1112,1153,1123,1170,1142,1178,1161,1186,1179,1201,1198,1214,1206,1211,1210,1198,1201,1181,1182,1174,1163,1166,1144,1150,1127,1132,1117"/>
<area shape="poly" title=" " alt="" coords="1098,1085,1150,1051,1164,1037,1173,1024,1182,1011,1198,999,1260,961,1312,938,1367,926,1439,922,1792,922,1869,919,1946,910,2077,887,2078,892,1947,915,1869,924,1792,927,1439,927,1368,931,1314,943,1262,966,1201,1003,1186,1015,1177,1027,1168,1040,1153,1055,1101,1090"/>
<area shape="poly" title=" " alt="" coords="1134,1110,1153,1123,1167,1138,1174,1154,1180,1185,1184,1216,1191,1231,1202,1247,1256,1306,1305,1346,1332,1360,1362,1369,1397,1375,1439,1377,1624,1377,1698,1373,1773,1364,1898,1341,1899,1346,1773,1370,1699,1379,1624,1382,1439,1382,1397,1380,1361,1374,1330,1365,1302,1351,1252,1310,1198,1251,1186,1234,1179,1217,1175,1186,1169,1156,1162,1141,1150,1127,1132,1115"/>
<area shape="poly" title=" " alt="" coords="1133,1090,1190,1083,1190,1088,1133,1095"/>
<area shape="poly" title=" " alt="" coords="1123,1112,1153,1122,1201,1148,1212,1153,1210,1158,1199,1153,1151,1127,1121,1117"/>
<area shape="poly" title=" " alt="" coords="1133,1106,1185,1112,1184,1118,1133,1111"/>
<area shape="poly" title=" " alt="" coords="1106,1085,1199,1048,1212,1043,1214,1047,1201,1053,1108,1090"/>
<area shape="poly" title=" " alt="" coords="1043,1089,1038,1079,1041,1070,1053,1064,1072,1061,1092,1064,1103,1071,1100,1075,1091,1069,1072,1067,1055,1069,1045,1073,1043,1079,1048,1086"/>
<area shape="poly" title=" " alt="" coords="796,633,945,644,1103,660,1173,666,1262,669,1792,669,1916,664,1968,673,1997,684,2029,701,2067,733,2097,772,2121,812,2136,846,2132,848,2116,814,2093,775,2063,737,2026,706,1995,689,1967,678,1915,669,1792,674,1262,674,1172,672,1103,665,944,649,796,639"/>
<area shape="rect" href="socket_8c.html#a74cb1559592c8a983bfe0c9b0d04e689" title=" " alt="" coords="864,659,944,684"/>
<area shape="poly" title=" " alt="" coords="797,642,849,655,848,660,795,647"/>
<area shape="poly" title=" " alt="" coords="771,617,865,564,867,568,774,622"/>
<area shape="poly" title=" " alt="" coords="940,546,1080,560,1262,568,1792,568,1864,570,1921,582,1972,607,2029,651,2071,698,2103,751,2125,803,2139,846,2134,848,2120,805,2098,754,2066,701,2026,655,1969,612,1919,587,1864,576,1792,573,1262,573,1080,565,939,552"/>
<area shape="poly" title=" " alt="" coords="910,530,941,486,964,462,991,443,1029,425,1062,415,1093,410,1122,409,1184,413,1262,417,1960,417,2091,419,2147,410,2215,385,2240,371,2263,353,2300,316,2304,319,2267,357,2243,375,2217,390,2148,415,2092,424,1960,422,1262,422,1184,418,1122,414,1093,415,1063,420,1031,430,994,447,967,466,945,489,915,533"/>
<area shape="poly" title=" " alt="" coords="907,530,918,504,935,470,959,436,991,408,1027,387,1059,373,1090,365,1120,362,1183,363,1262,366,1960,366,2035,362,2092,348,2146,324,2214,290,2257,265,2294,238,2297,242,2260,269,2217,295,2149,329,2093,353,2035,367,1960,371,1262,371,1183,369,1120,367,1091,371,1061,378,1029,392,994,412,963,440,940,473,923,506,912,532"/>
<area shape="poly" title=" " alt="" coords="928,556,958,572,993,586,1067,606,1126,615,1185,618,1262,618,1442,618,1726,618,1726,624,1442,624,1262,623,1185,623,1125,621,1066,611,991,591,956,577,925,561"/>
<area shape="rect" href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43" title=" " alt="" coords="1016,1015,1128,1040"/>
<area shape="poly" title=" " alt="" coords="913,557,947,645,1016,848,1064,999,1059,1001,1011,849,942,647,908,559"/>
<area shape="rect" href="socket_8c.html#ab636d5244f935701991791240583295a" title=" " alt="" coords="992,457,1152,483"/>
<area shape="poly" title=" " alt="" coords="924,529,991,492,1005,486,1007,491,993,497,927,534"/>
<area shape="rect" href="socket_8c.html#af6e9a4a5aabc48480dbd6961d24819ec" title=" " alt="" coords="1017,507,1127,532"/>
<area shape="poly" title=" " alt="" coords="939,537,1002,527,1002,533,940,542"/>
<area shape="poly" title=" " alt="" coords="1130,1035,1153,1050,1168,1068,1176,1087,1179,1125,1182,1161,1188,1179,1202,1198,1214,1207,1211,1212,1198,1201,1184,1182,1176,1163,1174,1125,1171,1089,1164,1071,1150,1053,1127,1039"/>
<area shape="poly" title=" " alt="" coords="1082,1012,1129,961,1162,930,1198,904,1260,866,1312,840,1367,826,1439,821,1792,821,1869,824,1947,833,2078,856,2077,861,1946,838,1869,830,1792,826,1439,826,1368,831,1314,845,1263,871,1201,908,1165,935,1132,964,1086,1016"/>
<area shape="poly" title=" " alt="" coords="1125,1011,1199,998,1340,984,1399,980,1453,980,1506,986,1562,999,1623,1019,1693,1049,1737,1074,1779,1104,1817,1138,1851,1175,1907,1246,1944,1301,1940,1304,1903,1249,1847,1178,1813,1142,1775,1108,1734,1078,1690,1054,1621,1024,1561,1004,1505,992,1453,986,1399,985,1341,989,1200,1003,1126,1017"/>
<area shape="poly" title=" " alt="" coords="1127,1038,1196,1056,1194,1061,1126,1044"/>
<area shape="poly" title=" " alt="" coords="1130,1036,1153,1050,1172,1074,1179,1100,1185,1124,1202,1148,1205,1151,1201,1155,1198,1152,1180,1126,1174,1101,1167,1077,1150,1053,1127,1040"/>
<area shape="poly" title=" " alt="" coords="1130,1038,1153,1049,1169,1062,1178,1074,1187,1086,1201,1099,1208,1103,1205,1107,1198,1103,1183,1090,1174,1077,1165,1065,1150,1054,1128,1043"/>
<area shape="poly" title=" " alt="" coords="1128,1024,1194,1024,1194,1029,1128,1030"/>
<area shape="poly" title=" " alt="" coords="1043,1016,1038,1006,1041,996,1053,990,1072,988,1092,991,1103,997,1100,1002,1091,996,1072,993,1055,995,1045,1000,1043,1005,1048,1013"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="533,887,632,912"/>
<area shape="poly" title=" " alt="" coords="451,875,518,886,517,892,450,880"/>
<area shape="poly" title=" " alt="" coords="603,884,638,864,679,846,786,810,871,786,958,774,1071,770,1792,770,1860,773,1912,782,2028,818,2107,851,2105,856,2026,823,1911,787,1859,778,1792,775,1071,775,959,779,872,791,787,815,681,851,640,869,606,888"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="680,960,816,986"/>
<area shape="poly" title=" " alt="" coords="609,911,681,946,693,951,691,956,679,951,607,915"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="696,1009,800,1035"/>
<area shape="poly" title=" " alt="" coords="596,911,631,953,655,976,681,996,688,1000,685,1004,678,1000,651,980,627,956,592,915"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="691,861,805,887"/>
<area shape="poly" title=" " alt="" coords="632,889,675,883,676,888,633,895"/>
<area shape="rect" href="usb_8c.html#a68c518ca08dac477013ed3b56ee8c174" title=" " alt="" coords="696,911,800,936"/>
<area shape="poly" title=" " alt="" coords="633,904,681,911,680,916,632,909"/>
<area shape="poly" title=" " alt="" coords="618,720,903,720,1792,720,1861,722,1915,732,1966,750,2029,780,2080,813,2122,848,2118,852,2077,817,2026,785,1964,755,1913,737,1861,727,1792,725,903,725,618,725"/>
<area shape="poly" title=" " alt="" coords="1841,1465,1886,1449,1936,1425,1984,1393,2025,1352,2061,1296,2089,1234,2110,1170,2125,1105,2139,987,2142,903,2148,903,2145,987,2130,1106,2115,1171,2094,1236,2066,1299,2029,1356,1988,1397,1938,1430,1888,1454,1842,1470"/>
<area shape="poly" title=" " alt="" coords="1815,1465,1840,1447,1865,1417,1888,1384,1926,1350,1930,1354,1892,1388,1869,1420,1844,1451,1818,1470"/>
<area shape="poly" title=" " alt="" coords="1843,1478,1874,1478,1874,1483,1843,1483"/>
<area shape="rect" href="socket_8c.html#aeb6cb5d5a1d0d9e5ed6222318ec7e2fe" title=" " alt="" coords="1906,153,2011,179"/>
<area shape="poly" title=" " alt="" coords="458,194,586,175,666,167,746,164,1624,164,1890,164,1890,169,1624,169,747,169,666,172,586,180,459,199"/>
<area shape="rect" href="socket_8c.html#adb4121505778ba4f07deb4ffd88a8a5e" title=" " alt="" coords="544,229,621,255"/>
<area shape="poly" title=" " alt="" coords="459,210,530,227,529,232,458,215"/>
<area shape="rect" href="socket_8c.html#aeb10f9e94747279130170a2e215372b2" title=" " alt="" coords="2075,5,2216,31"/>
<area shape="poly" title=" " alt="" coords="437,188,487,154,561,114,605,95,651,79,698,69,746,65,1792,65,1866,62,1940,54,2069,32,2070,37,1941,59,1867,67,1792,70,747,70,699,74,652,84,607,100,564,118,490,159,440,192"/>
<area shape="rect" href="debug_8c.html#abd03666d15449d894636a7ecfbcf65dd" title=" " alt="" coords="2084,153,2207,179"/>
<area shape="poly" title=" " alt="" coords="2012,164,2069,164,2069,169,2012,169"/>
<area shape="rect" href="debug_8c.html#a55d56e02de746d38beb2cba0dc738407" title=" " alt="" coords="2079,255,2212,280"/>
<area shape="poly" title=" " alt="" coords="1986,177,2108,245,2106,249,1983,182"/>
<area shape="rect" href="debug_8c.html#aed5adc39777c9433f1ed3d0ceb1fb6b6" title=" " alt="" coords="2077,104,2214,130"/>
<area shape="poly" title=" " alt="" coords="2010,150,2079,132,2080,137,2011,155"/>
<area shape="rect" href="utils_8c.html#a5ffaef3fc3f7ddb9856ccd4bcb79e9bc" title=" " alt="" coords="2117,55,2174,80"/>
<area shape="poly" title=" " alt="" coords="1976,151,2020,121,2074,89,2101,78,2103,83,2077,94,2022,125,1979,155"/>
<area shape="poly" title=" " alt="" coords="2166,177,2293,269,2290,273,2163,181"/>
<area shape="poly" title=" " alt="" coords="2194,177,2262,197,2261,202,2193,182"/>
<area shape="poly" title=" " alt="" coords="2212,274,2256,281,2255,286,2212,280"/>
<area shape="poly" title=" " alt="" coords="2193,251,2261,232,2262,237,2194,257"/>
<area shape="rect" href="socket_8c.html#a99c531b7eca6aacaf6a3c2fdac7cf5de" title=" " alt="" coords="720,255,776,280"/>
<area shape="poly" title=" " alt="" coords="622,245,705,258,704,264,621,251"/>
<area shape="poly" title=" " alt="" coords="777,272,903,299,986,311,1071,316,1960,316,2119,309,2255,298,2256,303,2119,315,1960,321,1071,321,986,316,902,304,776,277"/>
<area shape="poly" title=" " alt="" coords="776,258,902,231,986,219,1071,214,1960,214,2248,214,2248,220,1960,220,1071,219,986,224,903,236,777,263"/>
<area shape="poly" title=" " alt="" coords="759,280,890,517,886,520,754,282"/>
<area shape="poly" title=" " alt="" coords="2204,29,2218,40,2236,66,2245,90,2248,114,2248,138,2247,187,2253,213,2266,241,2291,269,2287,272,2261,244,2248,215,2242,188,2242,138,2243,115,2240,92,2231,68,2214,44,2200,34"/>
<area shape="poly" title=" " alt="" coords="2200,29,2217,40,2251,75,2279,115,2300,155,2315,188,2310,191,2295,157,2275,118,2247,78,2214,44,2197,34"/>
<area shape="rect" href="socket_8c.html#a42a997ae220c4f9cc036af1af32b03f6" title=" " alt="" coords="2269,5,2378,31"/>
<area shape="poly" title=" " alt="" coords="2216,16,2254,16,2254,21,2216,21"/>
</map>
</div>

</div>
</div>
<a id="a71c8c092c5168e640d1c8ed864b79c26" name="a71c8c092c5168e640d1c8ed864b79c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71c8c092c5168e640d1c8ed864b79c26">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_createDB__IJLjava_lang_String_2J()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jint JNICALL Java_org_gnu_pilotlink_PilotLink_createDB__IJLjava_lang_String_2J </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jlong</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jstring</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jlong</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aac0eb5956f464dbc17890f3f42061277" name="aac0eb5956f464dbc17890f3f42061277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac0eb5956f464dbc17890f3f42061277">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_createDB__IJLjava_lang_String_2JII()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jint JNICALL Java_org_gnu_pilotlink_PilotLink_createDB__IJLjava_lang_String_2JII </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jlong</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jstring</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jlong</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afc2a660d93c249a9caafca7a512ca394" name="afc2a660d93c249a9caafca7a512ca394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc2a660d93c249a9caafca7a512ca394">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_deleteDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jint JNICALL Java_org_gnu_pilotlink_PilotLink_deleteDB </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jstring</td>          <td class="paramname"><span class="paramname"><em>jdbname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  525</span>                                                             {</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>    <span class="comment">/* Get working copy of database name */</span></div>
<div class="line"><span class="lineno">  530</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> * dbname = env-&gt;GetStringUTFChars(jdbname,NULL);</div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordtype">char</span> * dbn = (<span class="keywordtype">char</span>*)malloc(strlen(dbname)+1);</div>
<div class="line"><span class="lineno">  532</span>    <span class="keywordflow">if</span> (dbn != NULL) strcpy(dbn,dbname);</div>
<div class="line"><span class="lineno">  533</span>    env-&gt;ReleaseStringUTFChars(jdbname, dbname);</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">if</span> (dbn != NULL) {</div>
<div class="line"><span class="lineno">  536</span>        ret = <a class="code hl_function" href="dlp_8c.html#ad54e8e7a8b1173cc8f53bb20a32c4774">dlp_DeleteDB</a>(handle,0,dbn);</div>
<div class="line"><span class="lineno">  537</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  538</span>        <span class="comment">/* debug message replaced by Java exception */</span></div>
<div class="line"><span class="lineno">  539</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  540</span><span class="comment">            printf(&quot;Error deleting db %s %d:\n&quot;,dbn,ret);</span></div>
<div class="line"><span class="lineno">  541</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  542</span>            <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Could not delete database&quot;</span>,</div>
<div class="line"><span class="lineno">  543</span>                ret, errno);</div>
<div class="line"><span class="lineno">  544</span>        }</div>
<div class="line"><span class="lineno">  545</span>        free(dbn);</div>
<div class="line"><span class="lineno">  546</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  547</span>        <span class="comment">/* Unable to create copy - memory heap may be corrupted */</span></div>
<div class="line"><span class="lineno">  548</span>        <a class="code hl_function" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b">postJavaException</a>(env,</div>
<div class="line"><span class="lineno">  549</span>            <span class="stringliteral">&quot;org/gnu/pilotlink/PilotLinkException&quot;</span>,</div>
<div class="line"><span class="lineno">  550</span>            <span class="stringliteral">&quot;Unable to create working copy of database name&quot;</span>);</div>
<div class="line"><span class="lineno">  551</span>    }</div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  553</span>}</div>
<div class="ttc" id="adlp_8c_html_ad54e8e7a8b1173cc8f53bb20a32c4774"><div class="ttname"><a href="dlp_8c.html#ad54e8e7a8b1173cc8f53bb20a32c4774">dlp_DeleteDB</a></div><div class="ttdeci">int dlp_DeleteDB(int sd, int card, const char *name)</div><div class="ttdef"><b>Definition</b> dlp.c:1479</div></div>
<div class="ttc" id="alibjpisock_8c_html_a9a7876ca677105db81baef1035a72d7b"><div class="ttname"><a href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b">postJavaException</a></div><div class="ttdeci">static void postJavaException(JNIEnv *, const char *, const char *)</div><div class="ttdef"><b>Definition</b> libjpisock.c:1255</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01479">dlp_DeleteDB()</a>, <a class="el" href="#l01255">postJavaException()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_afc2a660d93c249a9caafca7a512ca394_cgraph.png" border="0" usemap="#alibjpisock_8h_afc2a660d93c249a9caafca7a512ca394_cgraph" alt=""/></div>
<map name="alibjpisock_8h_afc2a660d93c249a9caafca7a512ca394_cgraph" id="alibjpisock_8h_afc2a660d93c249a9caafca7a512ca394_cgraph">
<area shape="rect" title=" " alt="" coords="5,284,159,325"/>
<area shape="rect" href="dlp_8c.html#ad54e8e7a8b1173cc8f53bb20a32c4774" title=" " alt="" coords="233,144,335,170"/>
<area shape="poly" title=" " alt="" coords="110,282,251,177,254,181,113,286"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="409,319,541,344"/>
<area shape="poly" title=" " alt="" coords="159,307,394,323,393,329,159,313"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="207,343,361,368"/>
<area shape="poly" title=" " alt="" coords="160,322,216,336,214,341,159,327"/>
<area shape="poly" title=" " alt="" coords="252,145,245,135,249,126,262,120,284,117,307,120,319,126,317,131,305,125,284,123,264,125,253,129,251,135,256,142"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="438,269,512,295"/>
<area shape="poly" title=" " alt="" coords="307,168,443,258,440,263,304,172"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1128,396,1218,422"/>
<area shape="poly" title=" " alt="" coords="335,154,653,154,838,154,871,162,911,181,954,210,999,245,1086,321,1150,383,1146,387,1082,325,996,249,951,215,908,186,870,167,838,159,653,160,335,160"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="416,44,534,70"/>
<area shape="poly" title=" " alt="" coords="303,141,350,111,408,78,419,74,421,78,410,83,352,115,306,146"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="416,195,535,220"/>
<area shape="poly" title=" " alt="" coords="336,168,410,188,409,193,335,173"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="412,93,539,119"/>
<area shape="poly" title=" " alt="" coords="335,141,409,121,410,126,336,146"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="601,5,708,31"/>
<area shape="poly" title=" " alt="" coords="291,142,335,85,369,53,408,29,452,14,499,7,544,5,586,6,585,12,544,10,499,12,454,20,410,34,372,58,339,88,295,145"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="775,695,898,720"/>
<area shape="poly" title=" " alt="" coords="513,287,529,294,543,304,558,324,567,342,574,378,577,416,582,436,592,458,631,525,667,574,710,618,769,668,794,685,791,689,766,672,706,622,663,578,627,528,587,461,577,438,572,417,568,379,562,344,554,326,539,308,526,298,511,291"/>
<area shape="poly" title=" " alt="" coords="512,279,609,282,746,292,902,315,981,334,1057,357,1082,371,1106,386,1115,390,1113,395,1103,391,1079,376,1055,362,980,339,901,321,745,297,609,287,512,285"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="589,421,720,447"/>
<area shape="poly" title=" " alt="" coords="514,289,543,304,572,328,599,355,639,407,635,410,595,359,569,332,540,308,511,294"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="768,195,906,220"/>
<area shape="poly" title=" " alt="" coords="512,272,755,221,756,227,513,277"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="962,745,1049,771"/>
<area shape="poly" title=" " alt="" coords="883,718,948,738,946,743,881,723"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1140,696,1206,722"/>
<area shape="poly" title=" " alt="" coords="899,705,1124,706,1124,711,899,710"/>
<area shape="poly" title=" " alt="" coords="850,693,876,665,904,630,918,604,925,581,934,558,952,534,992,498,1036,468,1120,426,1123,430,1039,473,995,502,956,537,939,561,930,583,923,606,908,633,880,668,854,696"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="972,795,1038,820"/>
<area shape="poly" title=" " alt="" coords="858,719,955,781,962,785,960,790,953,786,856,723"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1290,521,1395,547"/>
<area shape="poly" title=" " alt="" coords="1206,699,1224,693,1240,683,1269,655,1294,622,1327,560,1332,563,1298,625,1273,658,1243,687,1226,697,1208,704"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1293,696,1392,722"/>
<area shape="poly" title=" " alt="" coords="1206,706,1277,706,1277,712,1206,712"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1450,472,1555,498"/>
<area shape="poly" title=" " alt="" coords="1386,518,1443,500,1444,505,1388,523"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1443,521,1562,547"/>
<area shape="poly" title=" " alt="" coords="1395,532,1427,532,1427,537,1395,537"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1459,571,1546,596"/>
<area shape="poly" title=" " alt="" coords="1388,545,1445,563,1444,568,1386,550"/>
<area shape="poly" title=" " alt="" coords="1194,420,1313,510,1310,514,1191,424"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1140,745,1206,771"/>
<area shape="poly" title=" " alt="" coords="1038,795,1124,770,1126,775,1040,800"/>
<area shape="poly" title=" " alt="" coords="1206,750,1224,743,1240,732,1275,692,1301,645,1320,599,1332,561,1337,563,1325,601,1306,647,1279,695,1243,736,1226,747,1208,754"/>
<area shape="poly" title=" " alt="" coords="1206,746,1281,724,1282,729,1207,751"/>
<area shape="poly" title=" " alt="" coords="677,418,718,398,767,381,847,367,911,365,1057,381,1114,391,1113,396,1056,386,911,371,848,373,768,386,720,403,679,423"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="790,244,884,270"/>
<area shape="poly" title=" " alt="" coords="667,419,809,279,813,283,671,423"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="772,544,902,570"/>
<area shape="poly" title=" " alt="" coords="670,446,711,487,739,510,769,531,777,535,775,540,766,535,736,514,708,491,666,449"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="787,593,887,619"/>
<area shape="poly" title=" " alt="" coords="665,446,703,510,733,547,769,580,775,584,772,588,766,584,730,551,699,513,660,449"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="786,495,888,520"/>
<area shape="poly" title=" " alt="" coords="686,445,769,481,783,486,781,491,767,486,683,450"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="789,396,884,422"/>
<area shape="poly" title=" " alt="" coords="720,422,773,415,774,420,721,428"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="974,644,1037,670"/>
<area shape="poly" title=" " alt="" coords="665,446,719,550,749,602,769,629,815,651,866,661,915,663,958,661,958,666,915,669,865,666,814,656,766,634,745,605,714,552,660,449"/>
<area shape="poly" title=" " alt="" coords="657,420,669,383,691,332,723,277,743,252,766,229,770,226,773,231,769,234,747,255,728,280,696,334,674,385,662,422"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="797,445,877,471"/>
<area shape="poly" title=" " alt="" coords="721,440,782,448,781,454,720,445"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="960,396,1050,422"/>
<area shape="poly" title=" " alt="" coords="885,406,945,406,945,412,885,412"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1141,647,1205,672"/>
<area shape="poly" title=" " alt="" coords="1037,655,1126,656,1126,661,1037,660"/>
<area shape="poly" title=" " alt="" coords="1204,649,1240,633,1285,596,1320,558,1324,561,1289,600,1243,638,1206,654"/>
<area shape="poly" title=" " alt="" coords="1206,666,1282,689,1280,694,1205,671"/>
<area shape="poly" title=" " alt="" coords="899,218,974,240,1065,274,1158,320,1203,349,1243,382,1272,412,1296,445,1331,506,1326,508,1292,448,1268,415,1240,385,1200,353,1156,325,1062,279,972,245,897,223"/>
<area shape="poly" title=" " alt="" coords="878,461,1275,521,1274,527,877,467"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="954,548,1056,574"/>
<area shape="poly" title=" " alt="" coords="879,466,907,480,933,503,956,527,970,537,967,541,952,531,929,506,905,484,876,471"/>
<area shape="poly" title=" " alt="" coords="1057,554,1274,537,1274,542,1057,559"/>
<area shape="poly" title=" " alt="" coords="1019,545,1144,430,1148,434,1023,549"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1104,597,1242,623"/>
<area shape="poly" title=" " alt="" coords="1052,572,1113,590,1112,595,1051,577"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="608,93,701,119"/>
<area shape="poly" title=" " alt="" coords="525,68,594,87,593,92,524,73"/>
<area shape="poly" title=" " alt="" coords="536,213,775,246,774,251,535,218"/>
<area shape="poly" title=" " alt="" coords="499,192,616,124,619,129,501,196"/>
<area shape="poly" title=" " alt="" coords="539,104,593,104,593,109,539,109"/>
<area shape="poly" title=" " alt="" coords="707,29,815,64,884,91,958,123,1034,162,1109,208,1180,260,1244,319,1278,365,1305,417,1324,466,1337,506,1332,507,1319,467,1300,419,1274,368,1240,323,1177,264,1106,212,1031,167,956,128,882,96,814,69,705,34"/>
<area shape="poly" title=" " alt="" coords="361,343,394,339,394,344,362,348"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="432,368,518,394"/>
<area shape="poly" title=" " alt="" coords="362,363,417,371,416,376,361,368"/>
</map>
</div>

</div>
</div>
<a id="a0b9a39a807a4d17600a1838e33f07001" name="a0b9a39a807a4d17600a1838e33f07001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9a39a807a4d17600a1838e33f07001">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_deleteRecordById()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jint JNICALL Java_org_gnu_pilotlink_PilotLink_deleteRecordById </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>db</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jlong</td>          <td class="paramname"><span class="paramname"><em>id</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  727</span>                                                             {</div>
<div class="line"><span class="lineno">  728</span>      <span class="keywordtype">int</span> ret=<a class="code hl_function" href="dlp_8c.html#afd5ac2d77236e27f48380bb41be8244a">dlp_DeleteRecord</a>(handle,<a class="code hl_struct" href="structdb.html">db</a>,0,<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  729</span>      <span class="keywordflow">if</span> (ret&lt;0) {</div>
<div class="line"><span class="lineno">  730</span>          <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env,<span class="stringliteral">&quot;Deletition not possible!&quot;</span>,ret,errno);</div>
<div class="line"><span class="lineno">  731</span>      }</div>
<div class="line"><span class="lineno">  732</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  733</span>}</div>
<div class="ttc" id="adlp_8c_html_afd5ac2d77236e27f48380bb41be8244a"><div class="ttname"><a href="dlp_8c.html#afd5ac2d77236e27f48380bb41be8244a">dlp_DeleteRecord</a></div><div class="ttdeci">int dlp_DeleteRecord(int sd, int dbhandle, int all, recordid_t recID)</div><div class="ttdef"><b>Definition</b> dlp.c:2583</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l02583">dlp_DeleteRecord()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a0b9a39a807a4d17600a1838e33f07001_cgraph.png" border="0" usemap="#alibjpisock_8h_a0b9a39a807a4d17600a1838e33f07001_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a0b9a39a807a4d17600a1838e33f07001_cgraph" id="alibjpisock_8h_a0b9a39a807a4d17600a1838e33f07001_cgraph">
<area shape="rect" title=" " alt="" coords="5,236,195,277"/>
<area shape="rect" href="dlp_8c.html#afd5ac2d77236e27f48380bb41be8244a" title=" " alt="" coords="257,144,382,170"/>
<area shape="poly" title=" " alt="" coords="146,233,275,174,277,179,148,238"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="243,319,397,344"/>
<area shape="poly" title=" " alt="" coords="163,275,266,311,265,316,162,280"/>
<area shape="poly" title=" " alt="" coords="288,145,281,135,285,126,298,120,320,117,343,120,355,126,353,131,341,125,320,123,300,125,289,129,287,135,292,142"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="474,269,548,295"/>
<area shape="poly" title=" " alt="" coords="343,168,479,258,476,263,340,172"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1164,396,1254,422"/>
<area shape="poly" title=" " alt="" coords="383,154,689,154,874,154,907,162,947,181,990,210,1035,245,1122,321,1186,383,1182,387,1118,325,1032,249,987,215,944,186,906,167,874,159,689,160,383,160"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="452,44,570,70"/>
<area shape="poly" title=" " alt="" coords="339,141,386,111,444,78,455,74,457,78,446,83,388,115,342,146"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="452,195,571,220"/>
<area shape="poly" title=" " alt="" coords="372,168,446,188,445,193,371,173"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="448,93,575,119"/>
<area shape="poly" title=" " alt="" coords="371,141,445,121,446,126,372,146"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="637,5,744,31"/>
<area shape="poly" title=" " alt="" coords="327,142,371,85,405,53,444,29,488,14,535,7,580,5,622,6,621,12,580,10,535,12,490,20,446,34,408,58,375,88,331,145"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="811,695,934,720"/>
<area shape="poly" title=" " alt="" coords="549,287,565,294,579,304,594,324,603,342,610,378,613,416,618,436,628,458,667,525,703,574,746,618,805,668,830,685,827,689,802,672,742,622,699,578,663,528,623,461,613,438,608,417,604,379,598,344,590,326,575,308,562,298,547,291"/>
<area shape="poly" title=" " alt="" coords="548,279,645,282,782,292,938,315,1017,334,1093,357,1118,371,1142,386,1151,390,1149,395,1139,391,1115,376,1091,362,1016,339,937,321,781,297,645,287,548,285"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="625,421,756,447"/>
<area shape="poly" title=" " alt="" coords="550,289,579,304,608,328,635,355,675,407,671,410,631,359,605,332,576,308,547,294"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="804,195,942,220"/>
<area shape="poly" title=" " alt="" coords="548,272,791,221,792,227,549,277"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="998,745,1085,771"/>
<area shape="poly" title=" " alt="" coords="919,718,984,738,982,743,917,723"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1176,696,1242,722"/>
<area shape="poly" title=" " alt="" coords="935,705,1160,706,1160,711,935,710"/>
<area shape="poly" title=" " alt="" coords="886,693,912,665,940,630,954,604,961,581,970,558,988,534,1028,498,1072,468,1156,426,1159,430,1075,473,1031,502,992,537,975,561,966,583,959,606,944,633,916,668,890,696"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="1008,795,1074,820"/>
<area shape="poly" title=" " alt="" coords="894,719,991,781,998,785,996,790,989,786,892,723"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1326,521,1431,547"/>
<area shape="poly" title=" " alt="" coords="1242,699,1260,693,1276,683,1305,655,1330,622,1363,560,1368,563,1334,625,1309,658,1279,687,1262,697,1244,704"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1329,696,1428,722"/>
<area shape="poly" title=" " alt="" coords="1242,706,1313,706,1313,712,1242,712"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1486,472,1591,498"/>
<area shape="poly" title=" " alt="" coords="1422,518,1479,500,1480,505,1424,523"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1479,521,1598,547"/>
<area shape="poly" title=" " alt="" coords="1431,532,1463,532,1463,537,1431,537"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1495,571,1582,596"/>
<area shape="poly" title=" " alt="" coords="1424,545,1481,563,1480,568,1422,550"/>
<area shape="poly" title=" " alt="" coords="1230,420,1349,510,1346,514,1227,424"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1176,745,1242,771"/>
<area shape="poly" title=" " alt="" coords="1074,795,1160,770,1162,775,1076,800"/>
<area shape="poly" title=" " alt="" coords="1242,750,1260,743,1276,732,1311,692,1337,645,1356,599,1368,561,1373,563,1361,601,1342,647,1315,695,1279,736,1262,747,1244,754"/>
<area shape="poly" title=" " alt="" coords="1242,746,1317,724,1318,729,1243,751"/>
<area shape="poly" title=" " alt="" coords="713,418,754,398,803,381,883,367,947,365,1093,381,1150,391,1149,396,1092,386,947,371,884,373,804,386,756,403,715,423"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="826,244,920,270"/>
<area shape="poly" title=" " alt="" coords="703,419,845,279,849,283,707,423"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="808,544,938,570"/>
<area shape="poly" title=" " alt="" coords="706,446,747,487,775,510,805,531,813,535,811,540,802,535,772,514,744,491,702,449"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="823,593,923,619"/>
<area shape="poly" title=" " alt="" coords="701,446,739,510,769,547,805,580,811,584,808,588,802,584,766,551,735,513,696,449"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="822,495,924,520"/>
<area shape="poly" title=" " alt="" coords="722,445,805,481,819,486,817,491,803,486,719,450"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="825,396,920,422"/>
<area shape="poly" title=" " alt="" coords="756,422,809,415,810,420,757,428"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="1010,644,1073,670"/>
<area shape="poly" title=" " alt="" coords="701,446,755,550,785,602,805,629,851,651,902,661,951,663,994,661,994,666,951,669,901,666,850,656,802,634,781,605,750,552,696,449"/>
<area shape="poly" title=" " alt="" coords="693,420,705,383,727,332,759,277,779,252,802,229,806,226,809,231,805,234,783,255,764,280,732,334,710,385,698,422"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="833,445,913,471"/>
<area shape="poly" title=" " alt="" coords="757,440,818,448,817,454,756,445"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="996,396,1086,422"/>
<area shape="poly" title=" " alt="" coords="921,406,981,406,981,412,921,412"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1177,647,1241,672"/>
<area shape="poly" title=" " alt="" coords="1073,655,1162,656,1162,661,1073,660"/>
<area shape="poly" title=" " alt="" coords="1240,649,1276,633,1321,596,1356,558,1360,561,1325,600,1279,638,1242,654"/>
<area shape="poly" title=" " alt="" coords="1242,666,1318,689,1316,694,1241,671"/>
<area shape="poly" title=" " alt="" coords="935,218,1010,240,1101,274,1194,320,1239,349,1279,382,1308,412,1332,445,1367,506,1362,508,1328,448,1304,415,1276,385,1236,353,1192,325,1098,279,1008,245,933,223"/>
<area shape="poly" title=" " alt="" coords="914,461,1311,521,1310,527,913,467"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="990,548,1092,574"/>
<area shape="poly" title=" " alt="" coords="915,466,943,480,969,503,992,527,1006,537,1003,541,988,531,965,506,941,484,912,471"/>
<area shape="poly" title=" " alt="" coords="1093,554,1310,537,1310,542,1093,559"/>
<area shape="poly" title=" " alt="" coords="1055,545,1180,430,1184,434,1059,549"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1140,597,1278,623"/>
<area shape="poly" title=" " alt="" coords="1088,572,1149,590,1148,595,1087,577"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="644,93,737,119"/>
<area shape="poly" title=" " alt="" coords="561,68,630,87,629,92,560,73"/>
<area shape="poly" title=" " alt="" coords="572,213,811,246,810,251,571,218"/>
<area shape="poly" title=" " alt="" coords="535,192,652,124,655,129,537,196"/>
<area shape="poly" title=" " alt="" coords="575,104,629,104,629,109,575,109"/>
<area shape="poly" title=" " alt="" coords="743,29,851,64,920,91,994,123,1070,162,1145,208,1216,260,1280,319,1314,365,1341,417,1360,466,1373,506,1368,507,1355,467,1336,419,1310,368,1276,323,1213,264,1142,212,1067,167,992,128,918,96,850,69,741,34"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="468,319,554,344"/>
<area shape="poly" title=" " alt="" coords="397,329,452,329,452,334,397,334"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="445,368,577,394"/>
<area shape="poly" title=" " alt="" coords="373,342,444,361,443,366,372,348"/>
</map>
</div>

</div>
</div>
<a id="ae58082f6a3967828d6ca9d636a86ed39" name="ae58082f6a3967828d6ca9d636a86ed39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae58082f6a3967828d6ca9d636a86ed39">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_endSync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_gnu_pilotlink_PilotLink_endSync </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  796</span>                                      {</div>
<div class="line"><span class="lineno">  797</span>    <span class="keywordtype">int</span> iResult = <a class="code hl_function" href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43">dlp_EndOfSync</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, dlpEndCodeNormal);</div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">if</span> (iResult &lt; 0) <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to signal endSync&quot;</span>,</div>
<div class="line"><span class="lineno">  799</span>        iResult, errno);</div>
<div class="line"><span class="lineno">  800</span>}</div>
<div class="ttc" id="adlp_8c_html_a27617d8e73e875c7df186ee02fd96b43"><div class="ttname"><a href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43">dlp_EndOfSync</a></div><div class="ttdeci">int dlp_EndOfSync(int sd, int status)</div><div class="ttdef"><b>Definition</b> dlp.c:1908</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01908">dlp_EndOfSync()</a>, <a class="el" href="#l01217">postPilotLinkException()</a>, and <a class="el" href="#l00107">sd</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_ae58082f6a3967828d6ca9d636a86ed39_cgraph.png" border="0" usemap="#alibjpisock_8h_ae58082f6a3967828d6ca9d636a86ed39_cgraph" alt=""/></div>
<map name="alibjpisock_8h_ae58082f6a3967828d6ca9d636a86ed39_cgraph" id="alibjpisock_8h_ae58082f6a3967828d6ca9d636a86ed39_cgraph">
<area shape="rect" title=" " alt="" coords="5,677,159,718"/>
<area shape="rect" href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43" title=" " alt="" coords="228,584,340,610"/>
<area shape="poly" title=" " alt="" coords="124,674,241,615,244,620,126,679"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="207,760,361,786"/>
<area shape="poly" title=" " alt="" coords="139,716,234,752,232,757,137,721"/>
<area shape="poly" title=" " alt="" coords="252,585,245,576,249,566,262,560,284,558,307,560,319,567,317,571,305,565,284,563,264,565,253,570,251,575,256,582"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="438,456,512,482"/>
<area shape="poly" title=" " alt="" coords="297,582,344,540,408,495,423,487,425,491,410,499,348,545,301,586"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1290,456,1395,482"/>
<area shape="poly" title=" " alt="" coords="304,608,350,640,410,671,476,695,529,710,583,718,653,720,1007,720,1077,720,1132,717,1158,711,1183,701,1240,664,1276,626,1303,580,1321,535,1332,496,1337,498,1326,537,1307,583,1280,629,1243,669,1186,706,1159,716,1133,722,1077,726,1006,725,653,725,583,723,528,716,474,701,408,676,348,645,301,613"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1128,406,1218,431"/>
<area shape="poly" title=" " alt="" coords="292,582,338,519,371,479,407,442,497,355,570,289,609,262,652,237,704,214,767,192,805,181,837,177,869,180,907,192,932,205,962,225,1030,280,1150,393,1146,397,1026,284,959,229,929,209,905,197,868,186,837,182,806,186,768,197,706,219,655,242,612,266,574,293,501,359,411,446,375,483,342,522,296,585"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="416,608,534,634"/>
<area shape="poly" title=" " alt="" coords="341,602,402,609,401,615,340,607"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="416,510,535,535"/>
<area shape="poly" title=" " alt="" coords="316,581,408,544,421,539,423,544,410,549,318,586"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="412,559,539,585"/>
<area shape="poly" title=" " alt="" coords="340,587,396,580,397,585,341,592"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="601,659,708,685"/>
<area shape="poly" title=" " alt="" coords="314,608,358,627,410,644,501,660,586,667,586,673,501,665,408,649,356,632,311,613"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="775,55,898,81"/>
<area shape="poly" title=" " alt="" coords="486,454,811,91,815,94,490,458"/>
<area shape="poly" title=" " alt="" coords="512,464,1112,420,1113,425,513,469"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="589,380,720,406"/>
<area shape="poly" title=" " alt="" coords="507,453,608,410,610,415,509,458"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="768,556,906,582"/>
<area shape="poly" title=" " alt="" coords="513,477,774,549,772,554,512,482"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="962,80,1049,106"/>
<area shape="poly" title=" " alt="" coords="899,75,947,82,946,87,899,80"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1140,183,1206,209"/>
<area shape="poly" title=" " alt="" coords="857,52,895,31,946,11,974,5,1003,3,1031,6,1058,16,1079,30,1098,48,1129,89,1151,131,1166,167,1161,169,1146,133,1124,91,1094,51,1076,35,1055,21,1030,11,1003,8,975,10,948,16,898,36,859,57"/>
<area shape="poly" title=" " alt="" coords="870,79,983,130,1058,167,1073,187,1082,205,1089,240,1093,277,1107,319,1130,358,1154,392,1149,395,1125,361,1102,321,1088,278,1084,241,1077,207,1068,190,1055,171,981,134,868,84"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="972,31,1038,57"/>
<area shape="poly" title=" " alt="" coords="899,56,956,48,957,53,899,62"/>
<area shape="poly" title=" " alt="" coords="1207,199,1226,206,1243,218,1266,243,1285,272,1313,333,1331,393,1340,440,1335,441,1325,394,1308,335,1280,274,1262,247,1240,222,1224,211,1206,204"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1293,232,1392,258"/>
<area shape="poly" title=" " alt="" coords="1207,203,1282,225,1281,230,1206,208"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1450,407,1555,433"/>
<area shape="poly" title=" " alt="" coords="1386,453,1443,435,1444,440,1388,458"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1443,456,1562,482"/>
<area shape="poly" title=" " alt="" coords="1395,467,1427,467,1427,472,1395,472"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1459,506,1546,531"/>
<area shape="poly" title=" " alt="" coords="1388,480,1445,498,1444,503,1386,485"/>
<area shape="poly" title=" " alt="" coords="1219,429,1283,449,1282,454,1217,434"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1140,232,1206,258"/>
<area shape="poly" title=" " alt="" coords="1040,52,1058,66,1072,87,1079,107,1082,145,1085,182,1092,201,1106,219,1127,233,1124,237,1103,223,1088,203,1080,184,1077,146,1074,108,1067,89,1054,70,1037,57"/>
<area shape="poly" title=" " alt="" coords="1208,249,1226,256,1243,267,1279,308,1306,356,1325,402,1337,441,1332,442,1320,404,1301,358,1275,312,1240,271,1224,261,1206,254"/>
<area shape="poly" title=" " alt="" coords="1206,243,1277,243,1277,248,1206,248"/>
<area shape="poly" title=" " alt="" coords="720,394,1113,413,1113,418,720,399"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="790,606,884,631"/>
<area shape="poly" title=" " alt="" coords="662,406,675,443,696,493,728,546,747,571,769,592,777,598,774,603,766,597,743,574,723,549,692,495,670,445,657,407"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="772,207,902,233"/>
<area shape="poly" title=" " alt="" coords="660,379,699,314,729,275,766,242,772,238,775,242,769,246,733,279,703,317,665,381"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="787,256,887,282"/>
<area shape="poly" title=" " alt="" coords="666,378,708,336,736,312,766,291,775,286,777,291,769,295,739,316,711,340,670,382"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="786,306,888,331"/>
<area shape="poly" title=" " alt="" coords="683,377,767,340,781,335,783,340,769,345,685,382"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="789,355,884,381"/>
<area shape="poly" title=" " alt="" coords="720,381,773,374,774,379,721,387"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="974,182,1037,207"/>
<area shape="poly" title=" " alt="" coords="656,379,667,340,687,288,720,234,741,211,766,192,790,181,815,174,866,168,916,171,959,179,958,184,915,177,866,174,816,179,792,186,769,197,745,215,724,237,692,290,672,342,661,380"/>
<area shape="poly" title=" " alt="" coords="665,405,703,471,733,509,769,543,775,547,772,551,766,547,729,513,699,474,660,408"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="797,507,877,533"/>
<area shape="poly" title=" " alt="" coords="676,404,806,496,803,500,673,409"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="960,355,1050,381"/>
<area shape="poly" title=" " alt="" coords="885,365,945,365,945,371,885,371"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1141,282,1205,307"/>
<area shape="poly" title=" " alt="" coords="1030,206,1058,224,1081,248,1106,268,1127,279,1125,284,1103,273,1078,252,1055,229,1027,210"/>
<area shape="poly" title=" " alt="" coords="1189,306,1320,443,1316,447,1185,309"/>
<area shape="poly" title=" " alt="" coords="1205,283,1280,260,1282,265,1206,288"/>
<area shape="poly" title=" " alt="" coords="893,580,965,592,1053,599,1101,599,1149,594,1196,585,1241,569,1266,555,1289,535,1323,493,1327,497,1293,539,1269,559,1243,574,1197,590,1150,599,1101,604,1053,605,964,598,892,585"/>
<area shape="poly" title=" " alt="" coords="878,529,948,546,1039,560,1090,563,1141,562,1192,555,1241,543,1283,520,1317,491,1321,495,1286,524,1243,548,1193,560,1141,567,1090,568,1039,565,947,551,877,535"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="954,507,1056,533"/>
<area shape="poly" title=" " alt="" coords="877,517,938,517,938,523,877,523"/>
<area shape="poly" title=" " alt="" coords="1052,504,1104,492,1193,479,1274,471,1275,476,1193,484,1105,497,1053,509"/>
<area shape="poly" title=" " alt="" coords="1027,504,1055,486,1078,467,1103,448,1125,436,1128,441,1106,453,1082,471,1058,490,1030,509"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1104,507,1242,533"/>
<area shape="poly" title=" " alt="" coords="1057,517,1089,517,1089,523,1057,523"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="608,608,701,634"/>
<area shape="poly" title=" " alt="" coords="534,619,593,619,593,624,534,624"/>
<area shape="poly" title=" " alt="" coords="527,533,776,600,774,605,526,539"/>
<area shape="poly" title=" " alt="" coords="521,534,543,544,567,565,591,587,610,599,607,603,588,591,564,569,540,549,519,538"/>
<area shape="poly" title=" " alt="" coords="525,583,594,602,593,607,524,588"/>
<area shape="poly" title=" " alt="" coords="709,677,814,686,879,687,951,684,1025,676,1100,661,1173,638,1240,606,1270,582,1295,553,1328,495,1332,497,1299,556,1274,586,1243,610,1174,643,1101,666,1026,681,951,689,879,692,813,691,709,682"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="432,760,518,786"/>
<area shape="poly" title=" " alt="" coords="361,771,416,771,416,776,361,776"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="409,810,541,835"/>
<area shape="poly" title=" " alt="" coords="337,784,408,803,407,808,336,789"/>
</map>
</div>

</div>
</div>
<a id="a31d0d8a4dbf8c08ac71cd809a9e43b44" name="a31d0d8a4dbf8c08ac71cd809a9e43b44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31d0d8a4dbf8c08ac71cd809a9e43b44">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_getAppInfoBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jobject JNICALL Java_org_gnu_pilotlink_PilotLink_getAppInfoBlock </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jstring</td>          <td class="paramname"><span class="paramname"><em>jdbname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  556</span>                                                                                                                                 {</div>
<div class="line"><span class="lineno">  557</span>    <span class="keywordtype">int</span> <a class="code hl_struct" href="structdb.html">db</a>;</div>
<div class="line"><span class="lineno">  558</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> * dbname = env-&gt;GetStringUTFChars(jdbname, NULL);</div>
<div class="line"><span class="lineno">  559</span>        <span class="keywordtype">char</span> * dbn = (<span class="keywordtype">char</span> *)malloc(strlen(dbname) + 1);</div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">if</span> (dbn != NULL) strcpy(dbn, dbname);</div>
<div class="line"><span class="lineno">  561</span>        env-&gt;ReleaseStringUTFChars(jdbname, dbname);</div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a>(handle,0,0x80|0x40,dbn,&amp;<a class="code hl_struct" href="structdb.html">db</a>)&lt;0) {</div>
<div class="line"><span class="lineno">  563</span>    </div>
<div class="line"><span class="lineno">  564</span>        printf(<span class="stringliteral">&quot;Fehler!&quot;</span>);</div>
<div class="line"><span class="lineno">  565</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  566</span>    }</div>
<div class="line"><span class="lineno">  567</span>    jbyte buff[0xffff];</div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordtype">int</span> l=<a class="code hl_function" href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394">dlp_ReadAppBlock</a>(handle,<a class="code hl_struct" href="structdb.html">db</a>,0,0xffff,(pi_buffer_t*)&amp;buff);</div>
<div class="line"><span class="lineno">  569</span>    printf(<span class="stringliteral">&quot;read app-Block of size %d\n&quot;</span>,l);</div>
<div class="line"><span class="lineno">  570</span>    fflush(stdout);</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>    jclass      jClass_appInfo = NULL;</div>
<div class="line"><span class="lineno">  573</span>    jobject     jObject_appInfo = NULL;</div>
<div class="line"><span class="lineno">  574</span>    jmethodID   jMethod_appInfo = NULL;</div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordtype">int</span> bProceed = 1;</div>
<div class="line"><span class="lineno">  576</span>    <span class="keywordtype">int</span> iNumBytesRead = 0;</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  579</span>        <span class="comment">/* Look up RawAppInfo class */</span></div>
<div class="line"><span class="lineno">  580</span>        jClass_appInfo = env-&gt;FindClass(<span class="stringliteral">&quot;org/gnu/pilotlink/RawAppInfo&quot;</span>);</div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordflow">if</span> (jClass_appInfo == NULL) {</div>
<div class="line"><span class="lineno">  582</span>            <span class="comment">/* pending ClassNotFoundException in env */</span></div>
<div class="line"><span class="lineno">  583</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  584</span>        }</div>
<div class="line"><span class="lineno">  585</span>    }</div>
<div class="line"><span class="lineno">  586</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  587</span>        <span class="comment">/* Look up constructor method with byte array argument */</span></div>
<div class="line"><span class="lineno">  588</span>        jMethod_appInfo = env-&gt;GetMethodID(jClass_appInfo, <span class="stringliteral">&quot;&lt;init&gt;&quot;</span>,<span class="stringliteral">&quot;([B)V&quot;</span>);</div>
<div class="line"><span class="lineno">  589</span>        <span class="keywordflow">if</span> (jMethod_appInfo == NULL) {</div>
<div class="line"><span class="lineno">  590</span>            <span class="comment">/* pending NoSuchMethodException in env */</span></div>
<div class="line"><span class="lineno">  591</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  592</span>        }</div>
<div class="line"><span class="lineno">  593</span>    }</div>
<div class="line"><span class="lineno">  594</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  595</span>        jbyteArray jArray_buffer = env-&gt;NewByteArray(l);</div>
<div class="line"><span class="lineno">  596</span>        env-&gt;SetByteArrayRegion(jArray_buffer, 0, (jint)l, buff);</div>
<div class="line"><span class="lineno">  597</span>        jObject_appInfo = env-&gt;NewObject(jClass_appInfo, jMethod_appInfo, jArray_buffer);</div>
<div class="line"><span class="lineno">  598</span>    }</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    <a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(handle,<a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">return</span> jObject_appInfo;</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>    </div>
<div class="line"><span class="lineno">  605</span>}</div>
<div class="ttc" id="adlp_8c_html_a4d91eaed276eea5b726f5e4434594394"><div class="ttname"><a href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394">dlp_ReadAppBlock</a></div><div class="ttdeci">int dlp_ReadAppBlock(int sd, int dbhandle, int offset, int reqbytes, pi_buffer_t *retbuf)</div><div class="ttdef"><b>Definition</b> dlp.c:2926</div></div>
<div class="ttc" id="adlp_8c_html_a65b92f7bcde2de3c34eba289c6780a57"><div class="ttname"><a href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a></div><div class="ttdeci">int dlp_OpenDB(int sd, int cardno, int mode, PI_CONST char *name, int *dbhandle)</div><div class="ttdef"><b>Definition</b> dlp.c:1445</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01545">dlp_CloseDB()</a>, <a class="el" href="#l01445">dlp_OpenDB()</a>, and <a class="el" href="#l02926">dlp_ReadAppBlock()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a31d0d8a4dbf8c08ac71cd809a9e43b44_cgraph.png" border="0" usemap="#alibjpisock_8h_a31d0d8a4dbf8c08ac71cd809a9e43b44_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a31d0d8a4dbf8c08ac71cd809a9e43b44_cgraph" id="alibjpisock_8h_a31d0d8a4dbf8c08ac71cd809a9e43b44_cgraph">
<area shape="rect" title=" " alt="" coords="5,210,187,250"/>
<area shape="rect" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991" title=" " alt="" coords="252,144,350,170"/>
<area shape="poly" title=" " alt="" coords="154,207,247,173,249,178,156,212"/>
<area shape="rect" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57" title=" " alt="" coords="253,217,348,243"/>
<area shape="poly" title=" " alt="" coords="187,227,237,227,237,233,187,233"/>
<area shape="rect" href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394" title=" " alt="" coords="235,291,367,316"/>
<area shape="poly" title=" " alt="" coords="156,248,249,282,247,287,154,253"/>
<area shape="poly" title=" " alt="" coords="271,145,265,135,268,126,281,119,301,117,322,120,334,126,331,131,321,125,301,123,282,124,272,129,270,135,275,142"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="442,243,515,268"/>
<area shape="poly" title=" " alt="" coords="348,168,368,178,384,192,393,204,402,217,417,229,429,236,427,241,413,234,398,220,389,208,380,195,366,183,345,172"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1129,247,1219,272"/>
<area shape="poly" title=" " alt="" coords="309,142,350,93,380,66,414,44,477,17,530,5,585,3,654,3,839,3,907,9,958,25,1005,54,1059,96,1093,128,1122,165,1162,232,1157,234,1117,168,1089,132,1056,100,1002,58,956,30,906,14,839,9,654,9,585,8,531,10,479,22,416,48,383,70,354,97,313,145"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="420,95,537,120"/>
<area shape="poly" title=" " alt="" coords="349,141,414,122,416,127,351,146"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="419,193,538,219"/>
<area shape="poly" title=" " alt="" coords="351,168,416,186,414,191,349,173"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="415,144,542,170"/>
<area shape="poly" title=" " alt="" coords="350,154,400,154,400,159,350,159"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="425,292,532,318"/>
<area shape="poly" title=" " alt="" coords="352,168,369,179,387,205,394,230,400,255,417,279,420,281,416,285,413,282,395,257,388,231,382,207,365,183,349,172"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="776,673,900,699"/>
<area shape="poly" title=" " alt="" coords="517,260,532,267,544,278,566,312,575,345,576,378,572,410,568,441,567,474,574,507,593,542,632,585,680,620,731,646,777,665,775,670,728,651,677,624,629,589,588,545,569,509,562,474,562,441,566,409,570,377,570,346,561,314,540,281,529,271,514,265"/>
<area shape="poly" title=" " alt="" coords="515,244,610,225,745,207,821,201,900,199,980,202,1058,213,1097,223,1133,237,1131,242,1095,228,1057,218,979,208,900,204,821,206,745,212,611,230,516,249"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="590,384,721,410"/>
<area shape="poly" title=" " alt="" coords="517,264,544,277,572,299,598,323,638,370,634,373,594,327,568,303,541,282,514,268"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="769,572,907,598"/>
<area shape="poly" title=" " alt="" coords="517,261,531,267,544,277,558,296,567,314,572,348,576,383,582,401,593,421,632,471,669,505,712,532,770,562,771,563,768,568,767,567,710,537,666,509,628,475,588,424,577,403,571,384,567,349,561,315,554,298,540,281,528,272,514,265"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="962,673,1050,699"/>
<area shape="poly" title=" " alt="" coords="900,683,947,683,947,689,900,689"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1141,723,1207,748"/>
<area shape="poly" title=" " alt="" coords="895,697,955,709,1126,729,1125,734,955,714,894,702"/>
<area shape="poly" title=" " alt="" coords="853,671,880,644,905,609,917,578,923,551,924,500,927,450,936,423,953,394,989,354,1032,321,1077,295,1119,276,1121,281,1080,300,1035,325,993,358,957,397,941,425,933,451,929,500,928,551,922,580,909,611,884,647,857,674"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="973,775,1039,800"/>
<area shape="poly" title=" " alt="" coords="886,697,908,708,934,730,957,753,971,763,968,768,953,757,930,734,906,712,884,702"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1291,572,1396,598"/>
<area shape="poly" title=" " alt="" coords="1206,725,1241,709,1267,686,1291,660,1325,610,1330,613,1295,663,1271,690,1244,714,1209,730"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1294,723,1392,748"/>
<area shape="poly" title=" " alt="" coords="1207,733,1278,733,1278,738,1207,738"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1451,523,1556,548"/>
<area shape="poly" title=" " alt="" coords="1387,569,1444,551,1445,556,1389,574"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1444,572,1563,598"/>
<area shape="poly" title=" " alt="" coords="1396,582,1428,582,1428,587,1396,587"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1460,621,1547,647"/>
<area shape="poly" title=" " alt="" coords="1389,596,1446,614,1445,619,1387,601"/>
<area shape="poly" title=" " alt="" coords="1187,271,1214,311,1245,362,1297,469,1334,556,1329,558,1292,471,1240,365,1210,314,1183,274"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1141,772,1207,798"/>
<area shape="poly" title=" " alt="" coords="1040,784,1125,783,1125,788,1040,790"/>
<area shape="poly" title=" " alt="" coords="1207,776,1225,769,1241,759,1273,724,1299,684,1318,645,1331,611,1336,613,1323,647,1303,687,1277,728,1244,763,1227,774,1209,781"/>
<area shape="poly" title=" " alt="" coords="1207,773,1282,750,1283,756,1208,778"/>
<area shape="poly" title=" " alt="" coords="667,381,709,344,737,324,768,308,813,291,859,279,954,263,1042,256,1114,255,1114,260,1042,261,954,268,860,284,814,297,770,312,740,328,712,348,671,385"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="791,120,885,146"/>
<area shape="poly" title=" " alt="" coords="664,382,817,157,821,160,668,385"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="773,372,902,398"/>
<area shape="poly" title=" " alt="" coords="721,390,757,387,758,393,721,395"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="788,421,888,447"/>
<area shape="poly" title=" " alt="" coords="722,407,773,418,772,423,721,413"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="787,323,889,348"/>
<area shape="poly" title=" " alt="" coords="695,381,782,351,784,356,697,386"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="790,723,886,748"/>
<area shape="poly" title=" " alt="" coords="660,410,667,465,684,545,698,589,717,632,741,673,771,709,778,716,775,720,767,713,736,676,712,635,693,591,679,546,661,465,655,410"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="974,572,1038,598"/>
<area shape="poly" title=" " alt="" coords="675,408,723,451,745,481,755,494,770,506,804,523,854,540,960,571,958,576,853,546,802,528,767,511,751,497,741,484,719,454,671,412"/>
<area shape="poly" title=" " alt="" coords="677,408,700,427,723,451,738,479,745,504,753,527,771,551,785,562,781,566,767,555,748,529,740,505,733,481,719,454,697,431,674,412"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="798,471,878,496"/>
<area shape="poly" title=" " alt="" coords="679,408,770,457,784,463,782,468,768,462,677,412"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="961,824,1051,850"/>
<area shape="poly" title=" " alt="" coords="859,747,956,810,963,814,961,819,954,815,856,751"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1142,673,1206,699"/>
<area shape="poly" title=" " alt="" coords="1031,596,1140,663,1137,667,1028,600"/>
<area shape="poly" title=" " alt="" coords="1205,670,1241,652,1311,605,1314,609,1244,656,1207,675"/>
<area shape="poly" title=" " alt="" coords="1207,693,1283,715,1281,720,1206,698"/>
<area shape="poly" title=" " alt="" coords="889,569,955,557,1041,552,1128,555,1276,571,1275,576,1128,560,1042,557,955,562,890,574"/>
<area shape="poly" title=" " alt="" coords="878,484,1039,502,1141,519,1243,542,1301,563,1299,568,1242,547,1140,524,1038,507,878,489"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="955,408,1057,434"/>
<area shape="poly" title=" " alt="" coords="877,467,906,457,957,437,959,442,908,462,879,472"/>
<area shape="poly" title=" " alt="" coords="1042,405,1085,393,1138,385,1192,387,1219,394,1244,405,1264,419,1281,437,1308,478,1327,520,1338,556,1333,558,1322,522,1304,480,1277,440,1260,423,1241,410,1217,399,1192,392,1138,390,1087,398,1044,410"/>
<area shape="poly" title=" " alt="" coords="1021,406,1055,375,1148,281,1152,285,1059,379,1025,409"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1105,420,1243,446"/>
<area shape="poly" title=" " alt="" coords="1058,422,1090,424,1089,429,1058,427"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="609,95,702,120"/>
<area shape="poly" title=" " alt="" coords="538,105,594,105,594,110,538,110"/>
<area shape="poly" title=" " alt="" coords="538,191,775,143,776,148,539,197"/>
<area shape="poly" title=" " alt="" coords="520,190,541,180,565,159,589,137,608,125,611,130,592,141,568,163,544,184,522,195"/>
<area shape="poly" title=" " alt="" coords="527,141,594,122,595,127,528,146"/>
<area shape="poly" title=" " alt="" coords="485,318,495,360,515,420,547,485,568,515,592,541,650,589,703,617,761,630,837,633,1007,633,1079,629,1151,621,1275,598,1276,603,1152,626,1080,635,1008,638,836,638,760,635,701,622,647,593,588,545,564,518,543,488,510,422,490,362,480,319"/>
<area shape="poly" title=" " alt="" coords="349,234,427,245,426,251,349,239"/>
<area shape="poly" title=" " alt="" coords="324,215,345,199,365,180,380,153,385,128,393,103,401,91,413,80,445,61,473,50,501,44,527,44,584,49,654,54,839,54,890,60,939,74,986,96,1029,123,1103,182,1153,233,1150,237,1099,186,1026,128,983,101,937,79,889,65,839,59,654,59,584,55,527,49,501,50,475,55,447,66,417,84,405,95,397,105,390,129,385,155,369,184,349,204,327,219"/>
<area shape="poly" title=" " alt="" coords="321,214,365,180,388,154,398,142,413,129,420,125,423,130,417,134,402,146,392,157,369,184,324,219"/>
<area shape="poly" title=" " alt="" coords="349,221,403,214,404,219,349,226"/>
<area shape="poly" title=" " alt="" coords="331,214,414,178,426,173,428,178,416,183,333,219"/>
<area shape="poly" title=" " alt="" coords="342,241,368,252,416,278,427,283,425,288,414,283,366,256,340,246"/>
<area shape="poly" title=" " alt="" coords="271,218,265,209,268,199,281,193,301,191,322,193,334,200,331,204,321,198,301,196,282,198,272,202,270,208,275,215"/>
<area shape="poly" title=" " alt="" coords="351,287,427,267,428,272,352,292"/>
<area shape="poly" title=" " alt="" coords="349,314,415,327,479,332,542,327,606,316,655,301,704,285,768,270,861,256,955,250,1038,249,1114,252,1113,258,1038,254,955,255,862,261,769,275,705,290,657,306,607,321,543,333,479,338,415,333,348,319"/>
<area shape="poly" title=" " alt="" coords="312,315,347,376,409,466,448,516,492,565,540,612,592,652,624,668,671,686,776,717,774,722,670,691,622,673,589,656,537,616,488,569,444,520,405,470,343,379,307,318"/>
<area shape="poly" title=" " alt="" coords="325,288,346,273,365,254,375,237,381,221,386,191,392,161,400,145,413,130,416,127,419,131,417,133,405,148,397,163,391,192,386,223,380,239,369,257,349,277,328,292"/>
<area shape="poly" title=" " alt="" coords="319,288,361,259,414,228,424,223,426,228,416,232,364,263,322,292"/>
<area shape="poly" title=" " alt="" coords="322,288,365,254,379,234,387,215,396,197,413,179,418,175,421,179,417,183,401,200,392,218,384,236,369,257,326,292"/>
<area shape="poly" title=" " alt="" coords="367,301,409,302,409,307,367,307"/>
<area shape="poly" title=" " alt="" coords="271,292,265,282,268,272,281,266,301,264,322,266,334,273,331,278,321,272,301,269,282,271,272,276,270,281,275,289"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="418,724,539,750"/>
<area shape="poly" title=" " alt="" coords="305,316,309,382,324,484,338,541,357,598,383,653,417,703,428,714,425,718,413,706,379,656,352,600,332,542,318,485,303,383,300,317"/>
<area shape="rect" href="pi-buffer_8c.html#a8211b352afee03bf34db668018f029c2" title=" " alt="" coords="426,773,532,799"/>
<area shape="poly" title=" " alt="" coords="306,316,319,404,342,538,358,608,375,672,395,724,417,760,418,762,415,765,413,764,390,727,370,673,352,609,337,539,313,405,301,317"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="597,724,714,750"/>
<area shape="poly" title=" " alt="" coords="539,734,582,734,582,739,539,739"/>
</map>
</div>

</div>
</div>
<a id="a55465bda8a169f9645f35423d5e6f50f" name="a55465bda8a169f9645f35423d5e6f50f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55465bda8a169f9645f35423d5e6f50f">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_getRecordByIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jobject JNICALL Java_org_gnu_pilotlink_PilotLink_getRecordByIndex </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>db</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>idx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  659</span>                                                               {</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>    jbyte <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>[<a class="code hl_define" href="libjpisock_8c.html#a52dae0ee4063edd7dcc7485bb996765b">MAX_RESOURCE_SIZE</a>];</div>
<div class="line"><span class="lineno">  662</span>    recordid_t id;</div>
<div class="line"><span class="lineno">  663</span>    jint <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>, attr, category;</div>
<div class="line"><span class="lineno">  664</span>    <span class="comment">//printf(&quot;Getting record..\n&quot;);</span></div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordtype">int</span> ret = <a class="code hl_function" href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8">dlp_ReadRecordByIndex</a>(handle, <a class="code hl_struct" href="structdb.html">db</a>, idx, (pi_buffer_t*)<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>,</div>
<div class="line"><span class="lineno">  666</span>        &amp;<span class="keywordtype">id</span>, &amp;attr, &amp;category);</div>
<div class="line"><span class="lineno">  667</span>    <span class="keywordflow">if</span> (ret&lt;0) {</div>
<div class="line"><span class="lineno">  668</span>        <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env,<span class="stringliteral">&quot;Error reading database by index&quot;</span>,ret,errno);</div>
<div class="line"><span class="lineno">  669</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  670</span>    }</div>
<div class="line"><span class="lineno">  671</span>      <span class="comment">//printf(&quot;getting class!\n&quot;);</span></div>
<div class="line"><span class="lineno">  672</span>      jclass rcls=env-&gt;FindClass(<span class="stringliteral">&quot;org/gnu/pilotlink/RawRecord&quot;</span>);</div>
<div class="line"><span class="lineno">  673</span>      <span class="keywordflow">if</span> (rcls==NULL) {</div>
<div class="line"><span class="lineno">  674</span>          <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  675</span>      }</div>
<div class="line"><span class="lineno">  676</span>      jmethodID rid=env-&gt;GetMethodID(rcls,<span class="stringliteral">&quot;&lt;init&gt;&quot;</span>,<span class="stringliteral">&quot;([BJIII)V&quot;</span>);</div>
<div class="line"><span class="lineno">  677</span>      <span class="keywordflow">if</span> (rid==NULL) {</div>
<div class="line"><span class="lineno">  678</span>          printf(<span class="stringliteral">&quot;jmethodID is null!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  679</span>          <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  680</span>      }</div>
<div class="line"><span class="lineno">  681</span>      jbyteArray array=env-&gt;NewByteArray(<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  682</span>      env-&gt;SetByteArrayRegion(array,0,<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>,<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno">  683</span>      jobject <a class="code hl_struct" href="structrecord.html">record</a>=env-&gt;NewObject(rcls, rid, array, (jlong)<span class="keywordtype">id</span>,<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>,attr,category );</div>
<div class="line"><span class="lineno">  684</span>      <span class="keywordflow">return</span> <a class="code hl_struct" href="structrecord.html">record</a>;</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>    <span class="comment">/*jbyte * buffer;</span></div>
<div class="line"><span class="lineno">  688</span><span class="comment">    jobject jObject_RawRecord = NULL;</span></div>
<div class="line"><span class="lineno">  689</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  690</span><span class="comment">    if ((buffer = (jbyte *)malloc(MAX_RESOURCE_SIZE)) != NULL) {</span></div>
<div class="line"><span class="lineno">  691</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  692</span><span class="comment">        recordid_t id;</span></div>
<div class="line"><span class="lineno">  693</span><span class="comment">        jint iRecSize, iRecAttr, iRecCategory;</span></div>
<div class="line"><span class="lineno">  694</span><span class="comment">        jclass jClass_RawRecord;</span></div>
<div class="line"><span class="lineno">  695</span><span class="comment">        jmethodID jMethod_RawRecord;</span></div>
<div class="line"><span class="lineno">  696</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  697</span><span class="comment">        int iResult = dlp_ReadRecordByIndex(handle, db, idx, buffer,</span></div>
<div class="line"><span class="lineno">  698</span><span class="comment">            &amp;id, &amp;iRecSize, &amp;iRecAttr, &amp;iRecCategory);</span></div>
<div class="line"><span class="lineno">  699</span><span class="comment">        if (iResult &lt; 0) {</span></div>
<div class="line"><span class="lineno">  700</span><span class="comment">            postPilotLinkException(env, &quot;Could not read database record by index&quot;,</span></div>
<div class="line"><span class="lineno">  701</span><span class="comment">                iResult, errno);</span></div>
<div class="line"><span class="lineno">  702</span><span class="comment">        } else if ((jClass_RawRecord = env-&gt;FindClass(</span></div>
<div class="line"><span class="lineno">  703</span><span class="comment">            &quot;org/gnu/pilotlink/RawRecord&quot;)) == NULL) {</span></div>
<div class="line"><span class="lineno">  704</span><span class="comment">            </span></div>
<div class="line"><span class="lineno">  705</span><span class="comment">        } else if ((jMethod_RawRecord = env-&gt;GetMethodID(jClass_RawRecord,</span></div>
<div class="line"><span class="lineno">  706</span><span class="comment">            &quot;&lt;init&gt;&quot;, &quot;([BJIII)V&quot;)) == NULL) {</span></div>
<div class="line"><span class="lineno">  707</span><span class="comment">            </span></div>
<div class="line"><span class="lineno">  708</span><span class="comment">        } else {</span></div>
<div class="line"><span class="lineno">  709</span><span class="comment">            jbyteArray jArray_buffer = env-&gt;NewByteArray(iRecSize);</span></div>
<div class="line"><span class="lineno">  710</span><span class="comment">            env-&gt;SetByteArrayRegion(jArray_buffer, 0, iRecSize, buffer);</span></div>
<div class="line"><span class="lineno">  711</span><span class="comment">            jObject_RawRecord = env-&gt;NewObject(jClass_RawRecord, jMethod_RawRecord,</span></div>
<div class="line"><span class="lineno">  712</span><span class="comment">                jArray_buffer, (jlong)id, (jint)iRecSize, (jint)iRecAttr, (jint)iRecCategory);</span></div>
<div class="line"><span class="lineno">  713</span><span class="comment">        }</span></div>
<div class="line"><span class="lineno">  714</span><span class="comment">        free(buffer);</span></div>
<div class="line"><span class="lineno">  715</span><span class="comment">    } else {</span></div>
<div class="line"><span class="lineno">  716</span><span class="comment">        postJavaException(env,</span></div>
<div class="line"><span class="lineno">  717</span><span class="comment">            &quot;org/gnu/pilotlink/PilotLinkException&quot;,</span></div>
<div class="line"><span class="lineno">  718</span><span class="comment">            &quot;Unable to allocate buffer for record data&quot;);</span></div>
<div class="line"><span class="lineno">  719</span><span class="comment">    }</span></div>
<div class="line"><span class="lineno">  720</span><span class="comment">    return jObject_RawRecord;*/</span></div>
<div class="line"><span class="lineno">  721</span>}</div>
<div class="ttc" id="adlp_8c_html_afb39659f8e12d53b9c431e8cf4ccd1e8"><div class="ttname"><a href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8">dlp_ReadRecordByIndex</a></div><div class="ttdeci">int dlp_ReadRecordByIndex(int sd, int dbhandle, int recindex, pi_buffer_t *buffer, recordid_t *recuid, int *attr, int *category)</div><div class="ttdef"><b>Definition</b> dlp.c:3672</div></div>
<div class="ttc" id="alibjpisock_8c_html_a52dae0ee4063edd7dcc7485bb996765b"><div class="ttname"><a href="libjpisock_8c.html#a52dae0ee4063edd7dcc7485bb996765b">MAX_RESOURCE_SIZE</a></div><div class="ttdeci">#define MAX_RESOURCE_SIZE</div><div class="ttdef"><b>Definition</b> libjpisock.c:22</div></div>
<div class="ttc" id="apilot-debug_8c_html_a0ab27356885000c0b9430ce5f9b4a4ec"><div class="ttname"><a href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a></div><div class="ttdeci">unsigned char buffer[0xffff]</div><div class="ttdef"><b>Definition</b> pilot-debug.c:767</div></div>
<div class="ttc" id="astructrecord_html"><div class="ttname"><a href="structrecord.html">record</a></div><div class="ttdef"><b>Definition</b> pilot-dedupe.c:31</div></div>
<div class="ttc" id="avalidate_8cc_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> validate.cc:81</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>, <a class="el" href="#l03672">dlp_ReadRecordByIndex()</a>, <a class="el" href="#l00022">MAX_RESOURCE_SIZE</a>, <a class="el" href="#l01217">postPilotLinkException()</a>, and <a class="el" href="#l00081">size</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a55465bda8a169f9645f35423d5e6f50f_cgraph.png" border="0" usemap="#alibjpisock_8h_a55465bda8a169f9645f35423d5e6f50f_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a55465bda8a169f9645f35423d5e6f50f_cgraph" id="alibjpisock_8h_a55465bda8a169f9645f35423d5e6f50f_cgraph">
<area shape="rect" title=" " alt="" coords="5,556,199,597"/>
<area shape="rect" href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8" title=" " alt="" coords="247,409,413,435"/>
<area shape="poly" title=" " alt="" coords="132,554,295,442,298,446,135,558"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="253,711,407,736"/>
<area shape="poly" title=" " alt="" coords="137,595,297,700,294,704,134,600"/>
<area shape="poly" title=" " alt="" coords="295,411,289,401,293,391,307,385,330,383,355,385,368,392,366,397,354,390,330,388,308,390,296,395,294,400,300,407"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="500,409,573,435"/>
<area shape="poly" title=" " alt="" coords="413,420,484,420,484,425,413,425"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1198,457,1288,483"/>
<area shape="poly" title=" " alt="" coords="363,433,427,458,516,486,618,509,671,516,723,518,908,518,983,515,1057,506,1183,482,1184,487,1058,511,983,520,908,523,723,523,670,521,617,514,515,491,426,463,361,438"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="867,559,947,584"/>
<area shape="poly" title=" " alt="" coords="343,434,390,486,424,515,462,537,513,555,565,568,673,581,772,581,851,576,851,581,772,587,672,586,565,573,511,560,460,542,421,519,386,490,339,437"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="478,147,595,172"/>
<area shape="poly" title=" " alt="" coords="332,408,346,365,371,304,408,239,432,208,459,181,463,178,467,183,463,186,436,212,413,242,375,306,351,367,337,410"/>
<area shape="rect" href="dlp_8c.html#afe306b7b3888367eebf1222196b1b815" title=" " alt="" coords="461,344,611,385"/>
<area shape="poly" title=" " alt="" coords="378,406,446,387,447,392,380,411"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="472,196,600,222"/>
<area shape="poly" title=" " alt="" coords="334,408,351,373,377,325,414,275,459,231,465,227,468,231,463,235,418,278,382,328,355,375,339,410"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="476,245,596,271"/>
<area shape="poly" title=" " alt="" coords="338,407,385,347,420,311,460,280,467,275,470,280,462,284,423,315,389,350,342,411"/>
<area shape="rect" href="pi-buffer_8c.html#a8211b352afee03bf34db668018f029c2" title=" " alt="" coords="483,295,589,320"/>
<area shape="poly" title=" " alt="" coords="346,407,395,370,460,330,474,324,477,329,462,335,398,374,349,411"/>
<area shape="rect" href="socket_8c.html#ac8ea1ffc8384bcf6719daabbf4cee496" title=" " alt="" coords="672,609,777,635"/>
<area shape="poly" title=" " alt="" coords="339,434,356,467,382,510,418,553,439,572,462,588,510,608,561,620,611,625,656,625,656,630,610,630,560,625,508,613,460,593,436,576,414,557,378,513,351,470,335,437"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="671,685,778,711"/>
<area shape="poly" title=" " alt="" coords="338,435,353,474,378,527,415,583,437,609,463,631,509,657,559,675,610,686,656,693,655,698,609,692,558,680,506,662,459,635,433,613,410,587,373,530,348,476,333,436"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="845,405,968,431"/>
<area shape="poly" title=" " alt="" coords="573,419,830,416,830,422,573,424"/>
<area shape="poly" title=" " alt="" coords="573,422,838,441,1183,464,1183,469,837,446,573,427"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="659,303,790,328"/>
<area shape="poly" title=" " alt="" coords="572,411,610,395,624,384,634,372,658,348,680,334,683,338,661,352,638,376,628,387,613,399,575,416"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="838,356,976,382"/>
<area shape="poly" title=" " alt="" coords="573,413,659,400,822,377,823,382,660,405,574,419"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="1032,356,1119,382"/>
<area shape="poly" title=" " alt="" coords="953,402,1016,383,1017,388,954,407"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1210,255,1276,280"/>
<area shape="poly" title=" " alt="" coords="954,402,975,392,989,380,998,367,1007,354,1022,341,1066,318,1111,299,1194,275,1195,280,1113,304,1068,322,1026,346,1011,358,1002,370,993,383,977,396,957,407"/>
<area shape="poly" title=" " alt="" coords="969,425,1127,449,1184,458,1183,463,1126,454,968,430"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="1042,153,1108,179"/>
<area shape="poly" title=" " alt="" coords="960,403,974,392,988,375,997,359,1005,326,1009,290,1022,248,1054,190,1059,193,1026,250,1014,291,1010,327,1002,361,993,378,978,396,963,407"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1360,457,1465,483"/>
<area shape="poly" title=" " alt="" coords="1257,279,1393,444,1389,447,1253,282"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1363,153,1462,179"/>
<area shape="poly" title=" " alt="" coords="1265,252,1375,185,1378,190,1268,256"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1520,408,1625,434"/>
<area shape="poly" title=" " alt="" coords="1456,454,1513,436,1514,441,1458,459"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1513,457,1632,483"/>
<area shape="poly" title=" " alt="" coords="1465,468,1497,468,1497,473,1465,473"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1529,507,1616,532"/>
<area shape="poly" title=" " alt="" coords="1458,481,1515,499,1514,504,1456,486"/>
<area shape="poly" title=" " alt="" coords="1288,468,1344,468,1344,473,1288,473"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1210,153,1276,179"/>
<area shape="poly" title=" " alt="" coords="1109,164,1194,164,1194,169,1109,169"/>
<area shape="poly" title=" " alt="" coords="1278,173,1297,183,1314,196,1336,226,1356,258,1384,326,1401,391,1410,442,1405,442,1396,392,1379,328,1351,260,1332,229,1310,200,1294,187,1276,178"/>
<area shape="poly" title=" " alt="" coords="1276,164,1347,164,1347,169,1276,169"/>
<area shape="poly" title=" " alt="" coords="790,303,862,298,949,299,1040,312,1085,324,1128,341,1160,362,1188,389,1229,442,1224,446,1184,392,1157,366,1125,346,1083,329,1039,317,948,304,862,303,790,309"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="860,5,954,31"/>
<area shape="poly" title=" " alt="" coords="765,300,788,282,805,252,813,223,813,195,811,167,808,138,809,110,817,80,836,49,847,38,850,42,840,52,822,82,814,110,813,138,816,166,819,195,818,224,810,254,792,285,768,304"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="842,255,972,280"/>
<area shape="poly" title=" " alt="" coords="776,299,840,282,842,287,777,305"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="857,107,957,132"/>
<area shape="poly" title=" " alt="" coords="763,300,788,282,800,264,806,247,810,212,814,177,822,160,836,142,842,136,845,141,840,145,826,162,819,179,815,213,812,248,805,266,792,285,766,304"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="856,205,958,231"/>
<area shape="poly" title=" " alt="" coords="755,300,788,281,812,260,836,240,845,235,847,240,839,244,815,264,791,286,757,305"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="859,156,954,182"/>
<area shape="poly" title=" " alt="" coords="761,300,788,282,804,259,810,237,818,214,836,191,844,185,847,189,840,195,823,216,815,238,808,261,792,285,764,304"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="1044,55,1107,80"/>
<area shape="poly" title=" " alt="" coords="764,300,788,282,802,257,808,233,807,185,805,161,808,138,817,115,836,92,857,77,881,66,933,54,984,52,1028,56,1028,61,984,57,933,59,883,71,860,82,839,96,821,117,813,139,811,161,812,185,814,234,807,259,792,285,767,304"/>
<area shape="poly" title=" " alt="" coords="772,326,846,348,845,354,770,332"/>
<area shape="poly" title=" " alt="" coords="737,327,890,544,885,547,733,330"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="1030,104,1120,130"/>
<area shape="poly" title=" " alt="" coords="950,153,1016,132,1018,137,952,158"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1211,104,1275,130"/>
<area shape="poly" title=" " alt="" coords="1108,74,1197,101,1196,106,1106,79"/>
<area shape="poly" title=" " alt="" coords="1276,119,1296,126,1314,139,1342,174,1364,214,1381,256,1394,299,1408,380,1413,441,1408,442,1403,380,1388,301,1376,258,1359,216,1337,177,1310,143,1293,131,1274,124"/>
<area shape="poly" title=" " alt="" coords="1276,123,1352,146,1350,151,1275,129"/>
<area shape="poly" title=" " alt="" coords="922,353,987,303,1034,273,1087,246,1144,224,1202,214,1231,213,1259,217,1287,226,1313,240,1337,260,1357,284,1386,339,1403,395,1411,441,1406,442,1398,396,1381,341,1353,287,1333,264,1310,244,1285,231,1258,223,1231,219,1203,219,1145,230,1089,251,1037,278,990,308,925,358"/>
<area shape="poly" title=" " alt="" coords="947,564,1126,537,1219,517,1311,493,1344,485,1345,490,1312,498,1220,522,1127,542,948,569"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="1024,609,1126,635"/>
<area shape="poly" title=" " alt="" coords="948,581,1017,602,1015,607,947,586"/>
<area shape="poly" title=" " alt="" coords="1126,606,1214,578,1310,537,1348,515,1381,491,1385,495,1351,519,1313,542,1216,583,1128,611"/>
<area shape="poly" title=" " alt="" coords="1089,607,1214,492,1218,496,1093,611"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1174,609,1312,635"/>
<area shape="poly" title=" " alt="" coords="1127,620,1159,620,1159,625,1127,625"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="678,152,771,178"/>
<area shape="poly" title=" " alt="" coords="595,158,663,160,663,166,595,164"/>
<area shape="poly" title=" " alt="" coords="590,342,610,331,633,309,658,288,696,273,728,267,758,260,773,252,788,238,803,215,811,193,813,150,814,104,821,80,836,55,856,37,859,41,840,59,826,82,819,105,818,150,816,194,808,218,792,241,776,256,760,265,729,273,697,278,661,292,637,313,613,335,593,346"/>
<area shape="poly" title=" " alt="" coords="596,342,609,331,622,313,629,296,632,260,636,224,643,206,657,187,663,182,667,186,661,191,648,208,641,225,638,261,634,297,627,316,613,335,600,346"/>
<area shape="poly" title=" " alt="" coords="594,193,663,176,664,182,595,198"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="666,201,783,227"/>
<area shape="poly" title=" " alt="" coords="594,242,652,228,653,234,595,247"/>
<area shape="poly" title=" " alt="" coords="761,633,861,665,929,680,1003,692,1082,697,1161,693,1239,677,1275,663,1310,645,1329,631,1346,615,1373,575,1391,533,1402,497,1407,499,1396,535,1377,577,1350,618,1333,635,1313,650,1277,668,1240,682,1162,698,1082,703,1003,698,928,686,860,670,759,638"/>
<area shape="poly" title=" " alt="" coords="773,606,851,584,852,589,774,611"/>
<area shape="poly" title=" " alt="" coords="765,709,868,737,936,751,1010,759,1088,761,1166,753,1241,733,1277,717,1310,697,1333,678,1352,654,1381,599,1397,544,1406,498,1411,499,1403,545,1386,601,1357,657,1337,681,1313,702,1279,722,1243,738,1167,758,1089,766,1010,765,935,756,867,743,763,714"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="493,711,579,736"/>
<area shape="poly" title=" " alt="" coords="408,721,478,721,478,726,408,726"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="470,760,602,786"/>
<area shape="poly" title=" " alt="" coords="387,734,465,753,464,758,386,740"/>
</map>
</div>

</div>
</div>
<a id="abe72f366d61c035099abb71e924f1659" name="abe72f366d61c035099abb71e924f1659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe72f366d61c035099abb71e924f1659">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_getRecordCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jint JNICALL Java_org_gnu_pilotlink_PilotLink_getRecordCount </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>dbh</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  644</span>                                                    {</div>
<div class="line"><span class="lineno">  645</span>     jint num;</div>
<div class="line"><span class="lineno">  646</span>     <span class="keywordtype">int</span> iResult;</div>
<div class="line"><span class="lineno">  647</span>     iResult = <a class="code hl_function" href="dlp_8c.html#a45c114c1b0edffeaf68344b9467d5a38">dlp_ReadOpenDBInfo</a>(handle,dbh,&amp;num);</div>
<div class="line"><span class="lineno">  648</span>     <span class="keywordflow">if</span> (iResult &lt; 0) {</div>
<div class="line"><span class="lineno">  649</span>        <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Could not get record count for database&quot;</span>,</div>
<div class="line"><span class="lineno">  650</span>                iResult, errno);</div>
<div class="line"><span class="lineno">  651</span>     }</div>
<div class="line"><span class="lineno">  652</span>     <span class="keywordflow">return</span> num;</div>
<div class="line"><span class="lineno">  653</span>}</div>
<div class="ttc" id="adlp_8c_html_a45c114c1b0edffeaf68344b9467d5a38"><div class="ttname"><a href="dlp_8c.html#a45c114c1b0edffeaf68344b9467d5a38">dlp_ReadOpenDBInfo</a></div><div class="ttdeci">int dlp_ReadOpenDBInfo(int sd, int dbhandle, int *records)</div><div class="ttdef"><b>Definition</b> dlp.c:1775</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01775">dlp_ReadOpenDBInfo()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_abe72f366d61c035099abb71e924f1659_cgraph.png" border="0" usemap="#alibjpisock_8h_abe72f366d61c035099abb71e924f1659_cgraph" alt=""/></div>
<map name="alibjpisock_8h_abe72f366d61c035099abb71e924f1659_cgraph" id="alibjpisock_8h_abe72f366d61c035099abb71e924f1659_cgraph">
<area shape="rect" title=" " alt="" coords="5,236,186,277"/>
<area shape="rect" href="dlp_8c.html#a45c114c1b0edffeaf68344b9467d5a38" title=" " alt="" coords="237,144,385,170"/>
<area shape="poly" title=" " alt="" coords="140,233,267,174,269,179,143,238"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="234,319,388,344"/>
<area shape="poly" title=" " alt="" coords="158,275,258,311,256,316,156,280"/>
<area shape="poly" title=" " alt="" coords="279,145,272,135,276,126,289,120,311,117,334,120,346,126,344,131,332,125,311,123,291,125,280,129,278,135,283,142"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="466,269,539,295"/>
<area shape="poly" title=" " alt="" coords="334,168,470,258,467,263,331,172"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1155,396,1245,422"/>
<area shape="poly" title=" " alt="" coords="385,154,680,154,865,154,898,162,938,181,981,210,1026,245,1113,321,1177,383,1173,387,1109,325,1023,249,978,215,935,186,897,167,865,159,680,160,385,160"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="444,44,561,70"/>
<area shape="poly" title=" " alt="" coords="330,141,377,111,435,78,446,74,448,78,437,83,379,115,333,146"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="442,195,562,220"/>
<area shape="poly" title=" " alt="" coords="363,168,437,188,436,193,362,173"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="438,93,566,119"/>
<area shape="poly" title=" " alt="" coords="362,141,436,121,437,126,363,146"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="628,5,735,31"/>
<area shape="poly" title=" " alt="" coords="318,142,362,85,396,53,435,29,479,14,526,7,571,5,613,6,612,12,571,10,526,12,481,20,437,34,399,58,366,88,322,145"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="802,695,926,720"/>
<area shape="poly" title=" " alt="" coords="540,287,556,294,570,304,585,324,594,342,601,378,604,416,609,436,619,458,658,525,694,574,737,618,796,668,821,685,818,689,793,672,733,622,690,578,654,528,614,461,604,438,599,417,595,379,589,344,581,326,566,308,553,298,538,291"/>
<area shape="poly" title=" " alt="" coords="539,279,636,282,773,292,929,315,1008,334,1084,357,1109,371,1133,386,1142,390,1140,395,1130,391,1106,376,1082,362,1007,339,928,321,772,297,636,287,539,285"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="616,421,747,447"/>
<area shape="poly" title=" " alt="" coords="541,289,570,304,599,328,626,355,666,407,662,410,622,359,596,332,567,308,538,294"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="795,195,933,220"/>
<area shape="poly" title=" " alt="" coords="539,272,782,221,783,227,540,277"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="988,745,1076,771"/>
<area shape="poly" title=" " alt="" coords="910,718,975,738,973,743,908,723"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1167,696,1233,722"/>
<area shape="poly" title=" " alt="" coords="926,705,1151,706,1151,711,926,710"/>
<area shape="poly" title=" " alt="" coords="877,693,903,665,931,630,945,604,952,581,961,558,979,534,1019,498,1063,468,1147,426,1150,430,1066,473,1022,502,983,537,966,561,957,583,950,606,935,633,907,668,881,696"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="999,795,1065,820"/>
<area shape="poly" title=" " alt="" coords="885,719,982,781,989,785,987,790,980,786,883,723"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1317,521,1422,547"/>
<area shape="poly" title=" " alt="" coords="1233,699,1251,693,1267,683,1296,655,1321,622,1354,560,1359,563,1325,625,1300,658,1270,687,1253,697,1235,704"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1320,696,1418,722"/>
<area shape="poly" title=" " alt="" coords="1233,706,1304,706,1304,712,1233,712"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1477,472,1582,498"/>
<area shape="poly" title=" " alt="" coords="1413,518,1470,500,1471,505,1415,523"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1470,521,1589,547"/>
<area shape="poly" title=" " alt="" coords="1422,532,1454,532,1454,537,1422,537"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1486,571,1573,596"/>
<area shape="poly" title=" " alt="" coords="1415,545,1472,563,1471,568,1413,550"/>
<area shape="poly" title=" " alt="" coords="1221,420,1340,510,1337,514,1218,424"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1167,745,1233,771"/>
<area shape="poly" title=" " alt="" coords="1065,795,1151,770,1153,775,1067,800"/>
<area shape="poly" title=" " alt="" coords="1233,750,1251,743,1267,732,1302,692,1328,645,1347,599,1359,561,1364,563,1352,601,1333,647,1306,695,1270,736,1253,747,1235,754"/>
<area shape="poly" title=" " alt="" coords="1233,746,1308,724,1309,729,1234,751"/>
<area shape="poly" title=" " alt="" coords="704,418,745,398,794,381,874,367,938,365,1084,381,1141,391,1140,396,1083,386,938,371,875,373,795,386,747,403,706,423"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="817,244,911,270"/>
<area shape="poly" title=" " alt="" coords="694,419,836,279,840,283,698,423"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="799,544,928,570"/>
<area shape="poly" title=" " alt="" coords="697,446,738,487,766,510,796,531,804,535,802,540,793,535,763,514,735,491,693,449"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="814,593,914,619"/>
<area shape="poly" title=" " alt="" coords="692,446,730,510,760,547,796,580,802,584,799,588,793,584,757,551,726,513,687,449"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="813,495,915,520"/>
<area shape="poly" title=" " alt="" coords="713,445,796,481,810,486,808,491,794,486,710,450"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="816,396,912,422"/>
<area shape="poly" title=" " alt="" coords="747,422,800,415,801,420,748,428"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="1000,644,1064,670"/>
<area shape="poly" title=" " alt="" coords="692,446,746,550,776,602,796,629,842,651,893,661,942,663,985,661,985,666,942,669,892,666,841,656,793,634,772,605,741,552,687,449"/>
<area shape="poly" title=" " alt="" coords="684,420,696,383,718,332,750,277,770,252,793,229,797,226,800,231,796,234,774,255,755,280,723,334,701,385,689,422"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="824,445,904,471"/>
<area shape="poly" title=" " alt="" coords="748,440,809,448,808,454,747,445"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="987,396,1077,422"/>
<area shape="poly" title=" " alt="" coords="912,406,972,406,972,412,912,412"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1168,647,1232,672"/>
<area shape="poly" title=" " alt="" coords="1064,655,1153,656,1153,661,1064,660"/>
<area shape="poly" title=" " alt="" coords="1231,649,1267,633,1312,596,1347,558,1351,561,1316,600,1270,638,1233,654"/>
<area shape="poly" title=" " alt="" coords="1233,666,1309,689,1307,694,1232,671"/>
<area shape="poly" title=" " alt="" coords="926,218,1001,240,1092,274,1185,320,1230,349,1270,382,1299,412,1323,445,1358,506,1353,508,1319,448,1295,415,1267,385,1227,353,1183,325,1089,279,999,245,924,223"/>
<area shape="poly" title=" " alt="" coords="905,461,1302,521,1301,527,904,467"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="981,548,1083,574"/>
<area shape="poly" title=" " alt="" coords="906,466,934,480,960,503,983,527,997,537,994,541,979,531,956,506,932,484,903,471"/>
<area shape="poly" title=" " alt="" coords="1084,554,1301,537,1301,542,1084,559"/>
<area shape="poly" title=" " alt="" coords="1046,545,1171,430,1175,434,1050,549"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1131,597,1269,623"/>
<area shape="poly" title=" " alt="" coords="1079,572,1140,590,1139,595,1078,577"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="635,93,728,119"/>
<area shape="poly" title=" " alt="" coords="552,68,621,87,620,92,551,73"/>
<area shape="poly" title=" " alt="" coords="563,213,802,246,801,251,562,218"/>
<area shape="poly" title=" " alt="" coords="526,192,643,124,646,129,528,196"/>
<area shape="poly" title=" " alt="" coords="566,104,620,104,620,109,566,109"/>
<area shape="poly" title=" " alt="" coords="734,29,842,64,911,91,985,123,1061,162,1136,208,1207,260,1271,319,1305,365,1332,417,1351,466,1364,506,1359,507,1346,467,1327,419,1301,368,1267,323,1204,264,1133,212,1058,167,983,128,909,96,841,69,732,34"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="459,319,545,344"/>
<area shape="poly" title=" " alt="" coords="388,329,443,329,443,334,388,334"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="436,368,568,394"/>
<area shape="poly" title=" " alt="" coords="364,342,435,361,434,366,363,348"/>
</map>
</div>

</div>
</div>
<a id="ab495d54eeb381101f41306217a22d891" name="ab495d54eeb381101f41306217a22d891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab495d54eeb381101f41306217a22d891">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_getResourceByIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jobject JNICALL Java_org_gnu_pilotlink_PilotLink_getResourceByIndex </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>iSockHandle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>iDBHandle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>iRsrcIndex</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1042</span>                                                                                 {</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> iRsrcType;    <span class="comment">/* Resource type */</span></div>
<div class="line"><span class="lineno"> 1045</span>    <span class="keywordtype">int</span> iRsrcID;                <span class="comment">/* Resource ID */</span></div>
<div class="line"><span class="lineno"> 1046</span>    <span class="keywordtype">int</span> iRsrcSize;              <span class="comment">/* Actual resource size */</span></div>
<div class="line"><span class="lineno"> 1047</span>    jbyte * pRsrcData;          <span class="comment">/* Buffer for resource data */</span></div>
<div class="line"><span class="lineno"> 1048</span>    <span class="keywordtype">int</span> iResult;                <span class="comment">/* Result of library call */</span></div>
<div class="line"><span class="lineno"> 1049</span>    jobject pRecordObject = NULL;</div>
<div class="line"><span class="lineno"> 1050</span> </div>
<div class="line"><span class="lineno"> 1051</span>    <span class="comment">/* Get &quot;enough&quot; memory for incoming resource data */</span></div>
<div class="line"><span class="lineno"> 1052</span>    <span class="keywordflow">if</span> ((pRsrcData = (jbyte *)malloc(<a class="code hl_define" href="libjpisock_8c.html#a52dae0ee4063edd7dcc7485bb996765b">MAX_RESOURCE_SIZE</a> * <span class="keyword">sizeof</span>(jbyte))) != NULL) {</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>        <span class="comment">/* Invoke C library function */</span></div>
<div class="line"><span class="lineno"> 1055</span>        iResult = <a class="code hl_function" href="dlp_8c.html#a06ddfb2a464d7582aad10332673e962a">dlp_ReadResourceByIndex</a>(iSockHandle, iDBHandle, iRsrcIndex,</div>
<div class="line"><span class="lineno"> 1056</span>            (pi_buffer_t*)pRsrcData, &amp;iRsrcType, &amp;iRsrcID);</div>
<div class="line"><span class="lineno"> 1057</span>        <span class="keywordflow">if</span> (iResult &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1058</span>            jclass pRecordClass;</div>
<div class="line"><span class="lineno"> 1059</span>            jmethodID pRecordConstructor;</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>            <span class="comment">/* Look up class and constructor method */</span></div>
<div class="line"><span class="lineno"> 1062</span>            <span class="keywordflow">if</span> ((pRecordClass = env-&gt;FindClass(<span class="stringliteral">&quot;org/gnu/pilotlink/RawRecord&quot;</span>)) != NULL &amp;&amp;</div>
<div class="line"><span class="lineno"> 1063</span>                (pRecordConstructor = env-&gt;GetMethodID(pRecordClass, <span class="stringliteral">&quot;&lt;init&gt;&quot;</span>,</div>
<div class="line"><span class="lineno"> 1064</span>                <span class="stringliteral">&quot;([BJIII)V&quot;</span>)) != NULL ) {</div>
<div class="line"><span class="lineno"> 1065</span> </div>
<div class="line"><span class="lineno"> 1066</span>                <span class="comment">/* Fill a Java array with resource data &amp;&amp; invoke constructor */</span></div>
<div class="line"><span class="lineno"> 1067</span>                jbyteArray pJavaArray = env-&gt;NewByteArray(iRsrcSize);</div>
<div class="line"><span class="lineno"> 1068</span>                env-&gt;SetByteArrayRegion(pJavaArray, 0, iRsrcSize, pRsrcData);</div>
<div class="line"><span class="lineno"> 1069</span>                pRecordObject = env-&gt;NewObject(pRecordClass, pRecordConstructor,</div>
<div class="line"><span class="lineno"> 1070</span>                    pJavaArray, (jlong)iRsrcID, (jint)iRsrcSize, (jint)0, (jint)iRsrcType);</div>
<div class="line"><span class="lineno"> 1071</span>            }</div>
<div class="line"><span class="lineno"> 1072</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1073</span>            <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to read resource by index&quot;</span>, iResult, errno);</div>
<div class="line"><span class="lineno"> 1074</span>        }</div>
<div class="line"><span class="lineno"> 1075</span>        free(pRsrcData);</div>
<div class="line"><span class="lineno"> 1076</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1077</span>        <a class="code hl_function" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b">postJavaException</a>(env,</div>
<div class="line"><span class="lineno"> 1078</span>            <span class="stringliteral">&quot;org/gnu/pilotlink/PilotLinkException&quot;</span>,</div>
<div class="line"><span class="lineno"> 1079</span>            <span class="stringliteral">&quot;Unable to allocate buffer for copy of resource&quot;</span>);</div>
<div class="line"><span class="lineno"> 1080</span>    }</div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>    <span class="keywordflow">return</span> pRecordObject;</div>
<div class="line"><span class="lineno"> 1083</span>}</div>
<div class="ttc" id="adlp_8c_html_a06ddfb2a464d7582aad10332673e962a"><div class="ttname"><a href="dlp_8c.html#a06ddfb2a464d7582aad10332673e962a">dlp_ReadResourceByIndex</a></div><div class="ttdeci">int dlp_ReadResourceByIndex(int sd, int dbhandle, unsigned int resindex, pi_buffer_t *buffer, unsigned long *type, int *resID)</div><div class="ttdef"><b>Definition</b> dlp.c:2745</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l02745">dlp_ReadResourceByIndex()</a>, <a class="el" href="#l00022">MAX_RESOURCE_SIZE</a>, <a class="el" href="#l01255">postJavaException()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_ab495d54eeb381101f41306217a22d891_cgraph.png" border="0" usemap="#alibjpisock_8h_ab495d54eeb381101f41306217a22d891_cgraph" alt=""/></div>
<map name="alibjpisock_8h_ab495d54eeb381101f41306217a22d891_cgraph" id="alibjpisock_8h_ab495d54eeb381101f41306217a22d891_cgraph">
<area shape="rect" title=" " alt="" coords="5,826,213,866"/>
<area shape="rect" href="dlp_8c.html#a06ddfb2a464d7582aad10332673e962a" title=" " alt="" coords="261,559,441,584"/>
<area shape="poly" title=" " alt="" coords="126,824,326,595,330,598,130,827"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="489,860,621,886"/>
<area shape="poly" title=" " alt="" coords="213,850,474,865,473,871,213,855"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="274,884,428,910"/>
<area shape="poly" title=" " alt="" coords="210,865,272,878,271,883,209,870"/>
<area shape="poly" title=" " alt="" coords="317,560,310,550,314,540,328,534,351,532,376,535,389,542,386,546,374,540,351,537,329,539,318,544,315,549,321,557"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="518,356,592,382"/>
<area shape="poly" title=" " alt="" coords="358,557,407,484,444,440,487,399,505,387,508,391,491,403,448,443,411,488,362,560"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1208,356,1298,382"/>
<area shape="poly" title=" " alt="" coords="369,556,428,518,515,472,566,451,621,433,677,421,733,417,918,417,993,413,1067,404,1193,381,1194,386,1068,410,993,419,918,422,733,422,677,427,622,438,568,456,517,477,431,523,372,560"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="869,559,964,584"/>
<area shape="poly" title=" " alt="" coords="412,582,489,594,589,598,688,595,853,578,854,584,689,600,589,604,489,599,411,588"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="877,457,957,483"/>
<area shape="poly" title=" " alt="" coords="382,556,431,536,488,518,591,497,693,483,861,469,861,475,694,488,591,502,490,523,433,541,384,561"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="496,709,614,735"/>
<area shape="poly" title=" " alt="" coords="365,583,416,637,452,668,490,696,498,700,495,705,488,700,448,672,412,641,361,587"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="496,559,615,584"/>
<area shape="poly" title=" " alt="" coords="441,569,480,569,480,574,441,574"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="492,660,619,686"/>
<area shape="poly" title=" " alt="" coords="380,582,490,638,515,651,512,655,488,643,377,587"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="495,811,615,836"/>
<area shape="poly" title=" " alt="" coords="360,584,377,623,405,677,443,736,491,790,506,801,503,805,487,793,439,739,400,680,372,625,355,586"/>
<area shape="rect" href="pi-buffer_8c.html#a8211b352afee03bf34db668018f029c2" title=" " alt="" coords="502,257,608,283"/>
<area shape="poly" title=" " alt="" coords="352,558,366,509,391,438,431,360,457,324,487,292,490,289,494,294,491,296,461,328,436,363,396,440,371,510,358,559"/>
<area shape="rect" href="socket_8c.html#ac8ea1ffc8384bcf6719daabbf4cee496" title=" " alt="" coords="682,508,787,534"/>
<area shape="poly" title=" " alt="" coords="418,555,489,544,666,524,667,529,489,549,419,561"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="681,735,788,760"/>
<area shape="poly" title=" " alt="" coords="360,583,376,618,404,664,442,710,465,730,490,745,533,760,579,766,624,765,666,760,666,765,625,770,579,771,532,765,488,750,462,734,438,714,400,667,372,621,355,586"/>
<area shape="rect" href="utils_8c.html#a16173a2940fee2ae9756d00109d096ee" title=" " alt="" coords="520,307,590,332"/>
<area shape="poly" title=" " alt="" coords="354,557,370,516,398,458,437,396,460,367,487,341,504,331,507,335,491,346,464,371,441,399,402,461,375,518,359,559"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="855,5,978,31"/>
<area shape="poly" title=" " alt="" coords="591,359,607,353,619,343,633,325,641,308,645,274,649,238,655,219,667,198,709,151,749,122,793,98,846,64,882,38,885,42,849,68,796,103,752,127,712,155,672,201,660,221,654,239,651,275,646,310,638,328,623,347,609,357,594,364"/>
<area shape="poly" title=" " alt="" coords="592,366,1192,366,1192,372,592,372"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="669,280,800,306"/>
<area shape="poly" title=" " alt="" coords="591,354,620,342,691,310,693,315,622,347,593,359"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="848,107,986,132"/>
<area shape="poly" title=" " alt="" coords="591,358,620,343,636,325,644,307,652,287,667,266,711,223,750,194,846,141,857,136,859,141,849,146,753,198,715,227,671,269,657,290,649,309,640,328,623,347,594,363"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="1042,104,1129,130"/>
<area shape="poly" title=" " alt="" coords="953,29,988,48,1012,69,1036,91,1041,94,1038,99,1032,95,1008,73,984,52,950,34"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1220,55,1286,80"/>
<area shape="poly" title=" " alt="" coords="979,20,1137,40,1206,53,1205,59,1136,45,979,26"/>
<area shape="poly" title=" " alt="" coords="934,29,960,57,988,93,1003,120,1011,143,1020,165,1036,190,1081,238,1130,281,1219,345,1216,350,1127,286,1077,242,1032,193,1015,167,1006,145,998,122,984,96,956,61,930,33"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="1052,55,1118,80"/>
<area shape="poly" title=" " alt="" coords="964,29,1038,51,1037,56,963,34"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1370,356,1475,382"/>
<area shape="poly" title=" " alt="" coords="1288,70,1307,78,1323,90,1348,119,1368,151,1397,221,1414,288,1421,340,1416,341,1408,289,1392,222,1363,153,1344,122,1320,93,1304,82,1286,75"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1373,104,1472,130"/>
<area shape="poly" title=" " alt="" coords="1287,74,1362,97,1361,102,1286,80"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1530,307,1635,332"/>
<area shape="poly" title=" " alt="" coords="1466,353,1523,335,1524,340,1468,358"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1523,356,1642,382"/>
<area shape="poly" title=" " alt="" coords="1475,366,1507,366,1507,372,1475,372"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1539,405,1626,431"/>
<area shape="poly" title=" " alt="" coords="1468,380,1525,398,1524,403,1466,385"/>
<area shape="poly" title=" " alt="" coords="1298,366,1354,366,1354,372,1298,372"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1220,104,1286,130"/>
<area shape="poly" title=" " alt="" coords="1120,75,1206,100,1204,105,1118,80"/>
<area shape="poly" title=" " alt="" coords="1288,120,1306,127,1323,139,1344,162,1362,187,1390,243,1408,296,1419,340,1414,341,1403,298,1385,245,1358,190,1340,165,1320,143,1304,132,1286,125"/>
<area shape="poly" title=" " alt="" coords="1286,114,1357,114,1357,120,1286,120"/>
<area shape="poly" title=" " alt="" coords="800,299,1137,348,1194,357,1193,362,1136,353,800,304"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="870,508,964,534"/>
<area shape="poly" title=" " alt="" coords="742,305,755,342,776,393,808,447,827,471,849,493,857,499,854,504,846,498,823,475,804,450,772,395,750,344,737,307"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="852,156,982,182"/>
<area shape="poly" title=" " alt="" coords="746,277,788,235,816,212,846,191,855,186,857,191,849,195,819,216,791,239,750,281"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="867,205,967,231"/>
<area shape="poly" title=" " alt="" coords="763,277,847,240,861,234,863,239,849,245,765,282"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="866,255,968,280"/>
<area shape="poly" title=" " alt="" coords="800,281,850,274,850,279,801,286"/>
<area shape="poly" title=" " alt="" coords="741,305,750,350,770,414,802,483,824,516,849,544,857,550,854,555,846,548,820,519,798,486,765,416,745,352,735,306"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="1054,153,1117,179"/>
<area shape="poly" title=" " alt="" coords="736,279,747,240,767,187,800,134,821,111,846,92,883,75,916,71,949,77,987,92,1004,102,1013,114,1022,127,1036,140,1041,144,1038,148,1032,144,1018,131,1009,118,1000,106,985,97,947,82,915,76,884,80,849,96,825,115,804,137,772,190,752,241,741,280"/>
<area shape="poly" title=" " alt="" coords="745,278,797,211,819,174,829,158,846,141,851,138,854,142,849,146,833,161,823,177,802,214,749,281"/>
<area shape="poly" title=" " alt="" coords="751,304,893,444,889,448,747,308"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="1040,559,1130,584"/>
<area shape="poly" title=" " alt="" coords="965,569,1025,569,1025,574,965,574"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1221,153,1285,179"/>
<area shape="poly" title=" " alt="" coords="1117,164,1206,164,1206,169,1117,169"/>
<area shape="poly" title=" " alt="" coords="1286,174,1306,183,1323,196,1354,231,1380,270,1413,340,1409,342,1375,272,1350,234,1320,200,1303,188,1284,179"/>
<area shape="poly" title=" " alt="" coords="1285,154,1360,132,1362,137,1286,160"/>
<area shape="poly" title=" " alt="" coords="966,131,987,141,1003,153,1012,165,1022,177,1036,189,1122,242,1212,286,1297,322,1366,348,1364,353,1295,327,1210,291,1119,246,1032,194,1018,181,1008,169,999,157,985,146,964,135"/>
<area shape="poly" title=" " alt="" coords="955,481,1025,502,1119,519,1170,522,1222,520,1273,511,1320,493,1349,474,1373,448,1407,394,1411,397,1378,451,1353,478,1323,498,1274,516,1223,525,1170,528,1119,524,1024,507,953,486"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="1034,457,1136,483"/>
<area shape="poly" title=" " alt="" coords="957,468,1018,468,1018,473,957,473"/>
<area shape="poly" title=" " alt="" coords="1130,454,1361,384,1363,389,1132,459"/>
<area shape="poly" title=" " alt="" coords="1107,455,1135,436,1158,417,1183,399,1205,386,1208,391,1186,403,1162,421,1138,440,1110,459"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1184,457,1322,483"/>
<area shape="poly" title=" " alt="" coords="1137,468,1169,468,1169,473,1137,473"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="688,660,781,686"/>
<area shape="poly" title=" " alt="" coords="604,706,673,687,674,692,605,711"/>
<area shape="poly" title=" " alt="" coords="615,565,702,556,799,544,855,533,856,538,800,549,703,562,615,570"/>
<area shape="poly" title=" " alt="" coords="581,583,699,650,696,655,579,587"/>
<area shape="poly" title=" " alt="" coords="619,670,673,670,673,676,619,676"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="676,811,793,836"/>
<area shape="poly" title=" " alt="" coords="616,821,660,821,660,826,616,826"/>
<area shape="poly" title=" " alt="" coords="751,532,793,566,819,582,848,594,927,613,990,617,1055,609,1136,594,1192,585,1235,576,1275,559,1320,528,1350,497,1375,462,1409,395,1413,397,1380,464,1354,501,1323,532,1277,564,1237,581,1193,590,1137,599,1056,614,991,622,926,618,847,599,817,587,789,570,748,536"/>
<area shape="poly" title=" " alt="" coords="783,505,861,483,862,488,784,510"/>
<area shape="poly" title=" " alt="" coords="788,746,896,740,964,733,1037,720,1112,700,1186,674,1257,638,1320,593,1341,572,1359,548,1387,493,1404,440,1414,396,1419,397,1410,441,1392,495,1364,550,1345,576,1323,598,1259,643,1188,679,1114,705,1038,725,965,738,897,746,789,751"/>
<area shape="poly" title=" " alt="" coords="428,885,473,880,474,885,429,890"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="512,909,598,935"/>
<area shape="poly" title=" " alt="" coords="429,904,497,912,496,918,428,909"/>
</map>
</div>

</div>
</div>
<a id="a79804f7a79211e8229691d8f94746f95" name="a79804f7a79211e8229691d8f94746f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79804f7a79211e8229691d8f94746f95">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_openConduit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_gnu_pilotlink_PilotLink_openConduit </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  479</span>                                          {</div>
<div class="line"><span class="lineno">  480</span>  <span class="keywordtype">int</span> iResult = <a class="code hl_function" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b">dlp_OpenConduit</a>(handle);</div>
<div class="line"><span class="lineno">  481</span>  <span class="keywordflow">if</span> (iResult &lt; 0) <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to open conduit&quot;</span>, iResult, errno);</div>
<div class="line"><span class="lineno">  482</span>}</div>
<div class="ttc" id="adlp_8c_html_ae7892afecc1f271dac5596703412a63b"><div class="ttname"><a href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b">dlp_OpenConduit</a></div><div class="ttdeci">int dlp_OpenConduit(int sd)</div><div class="ttdef"><b>Definition</b> dlp.c:1880</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01880">dlp_OpenConduit()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a79804f7a79211e8229691d8f94746f95_cgraph.png" border="0" usemap="#alibjpisock_8h_a79804f7a79211e8229691d8f94746f95_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a79804f7a79211e8229691d8f94746f95_cgraph" id="alibjpisock_8h_a79804f7a79211e8229691d8f94746f95_cgraph">
<area shape="rect" title=" " alt="" coords="5,359,164,400"/>
<area shape="rect" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b" title=" " alt="" coords="228,190,350,216"/>
<area shape="poly" title=" " alt="" coords="108,356,259,224,263,228,112,360"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="212,441,366,467"/>
<area shape="poly" title=" " alt="" coords="143,398,238,433,236,438,142,403"/>
<area shape="poly" title=" " alt="" coords="257,192,250,182,254,172,267,166,289,164,312,166,324,173,322,178,310,171,289,169,269,171,258,176,256,181,261,188"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="444,392,517,417"/>
<area shape="poly" title=" " alt="" coords="304,215,459,379,455,383,301,218"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1133,342,1223,368"/>
<area shape="poly" title=" " alt="" coords="316,214,361,235,415,251,489,262,553,263,609,259,662,251,715,244,772,239,837,241,912,251,970,267,1013,287,1055,309,1110,333,1119,336,1118,341,1108,338,1052,314,1010,292,968,272,910,256,836,246,772,245,716,249,663,256,610,264,553,269,488,267,413,256,359,240,314,219"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="802,165,882,191"/>
<area shape="poly" title=" " alt="" coords="350,198,786,178,786,183,350,203"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="422,114,539,140"/>
<area shape="poly" title=" " alt="" coords="322,187,431,144,433,149,324,192"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="420,216,540,241"/>
<area shape="poly" title=" " alt="" coords="350,209,405,216,405,221,350,214"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="416,65,544,91"/>
<area shape="poly" title=" " alt="" coords="301,188,348,146,413,100,421,95,424,100,415,104,352,150,305,192"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="606,26,713,52"/>
<area shape="poly" title=" " alt="" coords="294,189,310,159,336,120,370,81,413,50,457,34,503,26,549,24,590,26,590,31,549,29,504,31,458,39,415,55,374,85,340,123,315,161,299,191"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="780,717,904,743"/>
<area shape="poly" title=" " alt="" coords="518,409,534,416,548,427,564,448,572,470,575,511,577,552,583,573,596,595,636,635,682,667,731,692,777,709,775,714,729,696,680,672,632,639,592,598,579,575,572,553,570,511,567,471,559,451,544,430,532,420,516,414"/>
<area shape="poly" title=" " alt="" coords="517,396,705,370,831,356,959,346,1061,346,1118,348,1117,354,1061,351,959,351,831,361,706,375,518,402"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="594,444,725,469"/>
<area shape="poly" title=" " alt="" coords="518,413,599,436,597,441,516,418"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="773,668,911,693"/>
<area shape="poly" title=" " alt="" coords="518,412,548,426,564,439,574,452,596,480,683,558,774,629,811,656,807,660,771,633,679,562,592,484,570,455,560,443,545,431,516,417"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="966,744,1054,769"/>
<area shape="poly" title=" " alt="" coords="904,737,952,745,951,750,903,742"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1145,692,1211,717"/>
<area shape="poly" title=" " alt="" coords="904,723,1129,705,1130,711,904,728"/>
<area shape="poly" title=" " alt="" coords="892,714,909,704,926,686,935,669,943,650,957,628,984,598,1008,577,1032,556,1059,527,1116,448,1159,380,1164,383,1121,451,1063,530,1036,560,1012,581,988,602,961,632,948,653,940,671,930,689,913,708,895,719"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="977,642,1043,668"/>
<area shape="poly" title=" " alt="" coords="883,714,910,703,971,674,973,678,912,708,885,719"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1295,417,1400,443"/>
<area shape="poly" title=" " alt="" coords="1211,697,1229,690,1245,679,1267,654,1285,625,1313,564,1331,505,1340,457,1345,458,1336,506,1318,566,1290,628,1271,657,1248,683,1231,694,1212,701"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1298,642,1396,668"/>
<area shape="poly" title=" " alt="" coords="1211,692,1286,670,1287,675,1212,698"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1455,368,1560,393"/>
<area shape="poly" title=" " alt="" coords="1391,414,1448,396,1449,401,1393,419"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1448,417,1567,443"/>
<area shape="poly" title=" " alt="" coords="1400,427,1432,427,1432,433,1400,433"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1464,466,1551,492"/>
<area shape="poly" title=" " alt="" coords="1393,441,1450,459,1449,464,1391,446"/>
<area shape="poly" title=" " alt="" coords="1210,366,1303,408,1301,413,1208,371"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1145,642,1211,668"/>
<area shape="poly" title=" " alt="" coords="1044,653,1129,653,1129,658,1044,658"/>
<area shape="poly" title=" " alt="" coords="1211,642,1229,633,1245,621,1278,581,1304,536,1323,493,1336,456,1341,458,1328,495,1308,539,1282,584,1249,625,1231,638,1213,647"/>
<area shape="poly" title=" " alt="" coords="1211,653,1282,653,1282,658,1211,658"/>
<area shape="poly" title=" " alt="" coords="684,441,724,421,772,403,865,382,960,368,1118,354,1118,360,960,373,866,387,773,408,726,426,686,445"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="795,266,889,292"/>
<area shape="poly" title=" " alt="" coords="672,441,814,301,818,305,676,445"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="777,418,906,444"/>
<area shape="poly" title=" " alt="" coords="725,445,761,440,762,445,726,450"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="792,468,892,493"/>
<area shape="poly" title=" " alt="" coords="726,463,777,469,776,475,725,468"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="791,517,893,543"/>
<area shape="poly" title=" " alt="" coords="691,467,774,503,788,509,786,514,772,508,688,472"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="794,566,890,592"/>
<area shape="poly" title=" " alt="" coords="675,468,716,509,744,532,774,553,782,557,780,562,771,557,741,537,713,513,671,472"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="978,490,1042,516"/>
<area shape="poly" title=" " alt="" coords="676,468,727,524,740,548,747,569,756,587,774,602,810,619,841,624,873,618,910,602,927,588,935,572,942,553,957,533,970,523,973,527,961,537,947,556,940,574,931,592,912,607,875,623,842,629,808,624,771,607,751,590,742,571,735,550,722,527,672,471"/>
<area shape="poly" title=" " alt="" coords="678,468,702,493,727,525,742,559,748,589,755,617,775,647,788,658,784,662,771,650,750,619,743,590,737,561,722,527,698,496,674,471"/>
<area shape="poly" title=" " alt="" coords="665,442,705,360,736,306,771,252,814,200,818,204,775,255,741,308,710,362,669,444"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="965,441,1055,467"/>
<area shape="poly" title=" " alt="" coords="889,565,909,553,925,535,933,516,941,496,957,476,960,473,964,477,961,480,946,499,938,518,930,538,913,557,891,570"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1146,490,1210,516"/>
<area shape="poly" title=" " alt="" coords="1042,501,1131,501,1131,506,1042,506"/>
<area shape="poly" title=" " alt="" coords="1209,487,1301,447,1303,452,1211,492"/>
<area shape="poly" title=" " alt="" coords="1196,515,1322,630,1318,634,1192,519"/>
<area shape="poly" title=" " alt="" coords="871,665,958,627,1040,601,1106,585,1170,565,1205,549,1245,526,1290,491,1324,453,1328,457,1293,495,1248,531,1208,554,1172,570,1108,590,1042,606,960,632,873,670"/>
<area shape="poly" title=" " alt="" coords="883,183,956,200,1050,229,1152,271,1202,298,1248,328,1292,366,1327,403,1323,407,1288,369,1245,332,1199,302,1150,276,1048,234,954,205,882,188"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="959,141,1061,167"/>
<area shape="poly" title=" " alt="" coords="882,170,943,161,944,166,883,175"/>
<area shape="poly" title=" " alt="" coords="1037,138,1081,120,1136,107,1165,104,1194,105,1222,113,1248,126,1278,154,1302,188,1320,226,1332,265,1346,341,1349,401,1344,402,1341,342,1327,267,1315,228,1297,191,1274,158,1245,131,1221,118,1194,111,1165,109,1137,112,1082,126,1039,143"/>
<area shape="poly" title=" " alt="" coords="1024,165,1158,329,1154,332,1020,169"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1109,141,1247,167"/>
<area shape="poly" title=" " alt="" coords="1062,151,1094,151,1094,157,1062,157"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="613,114,706,140"/>
<area shape="poly" title=" " alt="" coords="539,125,598,125,598,130,539,130"/>
<area shape="poly" title=" " alt="" coords="541,234,780,268,779,273,540,239"/>
<area shape="poly" title=" " alt="" coords="504,213,621,146,624,150,506,217"/>
<area shape="poly" title=" " alt="" coords="530,89,599,108,598,113,529,94"/>
<area shape="poly" title=" " alt="" coords="713,24,822,8,891,4,964,4,1040,11,1114,28,1185,56,1218,75,1248,97,1280,130,1304,168,1322,210,1335,254,1347,337,1350,401,1344,401,1342,338,1329,255,1317,212,1299,171,1276,133,1245,101,1215,79,1182,61,1113,33,1039,17,964,9,891,9,823,14,714,30"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="437,441,523,467"/>
<area shape="poly" title=" " alt="" coords="366,451,421,451,421,457,366,457"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="414,490,546,516"/>
<area shape="poly" title=" " alt="" coords="342,465,413,483,412,488,341,470"/>
</map>
</div>

</div>
</div>
<a id="a6da33f78a010be1f79b05df7e4a3782a" name="a6da33f78a010be1f79b05df7e4a3782a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6da33f78a010be1f79b05df7e4a3782a">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_openDB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jint JNICALL Java_org_gnu_pilotlink_PilotLink_openDB </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jstring</td>          <td class="paramname"><span class="paramname"><em>jdbname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  611</span>                                                           {</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>    jint <a class="code hl_struct" href="structdb.html">db</a> = 0;</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>    <span class="comment">/* Get working copy of database name */</span></div>
<div class="line"><span class="lineno">  616</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* dbname = env-&gt;GetStringUTFChars(jdbname,NULL);</div>
<div class="line"><span class="lineno">  617</span>    <span class="keywordtype">char</span>* dbn = (<span class="keywordtype">char</span>*)malloc(strlen(dbname)+1);</div>
<div class="line"><span class="lineno">  618</span>    <span class="keywordflow">if</span> (dbn != NULL) strcpy(dbn,dbname);</div>
<div class="line"><span class="lineno">  619</span>    env-&gt;ReleaseStringUTFChars(jdbname, dbname);</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>    <span class="keywordflow">if</span> (dbn != NULL) {</div>
<div class="line"><span class="lineno">  622</span>        <span class="keywordtype">int</span> ret=<a class="code hl_function" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a>(handle,0,dlpOpenReadWrite,dbn,&amp;<a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno">  623</span>        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line"><span class="lineno">  624</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  625</span><span class="comment">            printf(&quot;Error opening db %s: %d\n&quot;,dbn, ret);</span></div>
<div class="line"><span class="lineno">  626</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  627</span>            <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Could not open database&quot;</span>,</div>
<div class="line"><span class="lineno">  628</span>                ret, errno);</div>
<div class="line"><span class="lineno">  629</span>            <span class="keywordflow">return</span> (jint)ret;</div>
<div class="line"><span class="lineno">  630</span>        }</div>
<div class="line"><span class="lineno">  631</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  632</span>        <span class="comment">/* Unable to create copy - memory heap may be corrupted */</span></div>
<div class="line"><span class="lineno">  633</span>        <a class="code hl_function" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b">postJavaException</a>(env,</div>
<div class="line"><span class="lineno">  634</span>            <span class="stringliteral">&quot;org/gnu/pilotlink/PilotLinkException&quot;</span>,</div>
<div class="line"><span class="lineno">  635</span>            <span class="stringliteral">&quot;Unable to create working copy of database name&quot;</span>);</div>
<div class="line"><span class="lineno">  636</span>    }</div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordflow">return</span> <a class="code hl_struct" href="structdb.html">db</a>;</div>
<div class="line"><span class="lineno">  638</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01445">dlp_OpenDB()</a>, <a class="el" href="#l01255">postJavaException()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a6da33f78a010be1f79b05df7e4a3782a_cgraph.png" border="0" usemap="#alibjpisock_8h_a6da33f78a010be1f79b05df7e4a3782a_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a6da33f78a010be1f79b05df7e4a3782a_cgraph" id="alibjpisock_8h_a6da33f78a010be1f79b05df7e4a3782a_cgraph">
<area shape="rect" title=" " alt="" coords="5,284,159,325"/>
<area shape="rect" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57" title=" " alt="" coords="236,144,332,170"/>
<area shape="poly" title=" " alt="" coords="110,282,251,177,254,181,113,286"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="409,319,541,344"/>
<area shape="poly" title=" " alt="" coords="159,307,394,323,393,329,159,313"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="207,343,361,368"/>
<area shape="poly" title=" " alt="" coords="160,322,216,336,214,341,159,327"/>
<area shape="poly" title=" " alt="" coords="252,145,245,135,249,126,262,120,284,117,307,120,319,126,317,131,305,125,284,123,264,125,253,129,251,135,256,142"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="438,269,512,295"/>
<area shape="poly" title=" " alt="" coords="307,168,443,258,440,263,304,172"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1128,396,1218,422"/>
<area shape="poly" title=" " alt="" coords="332,154,653,154,838,154,871,162,911,181,954,210,999,245,1086,321,1150,383,1146,387,1082,325,996,249,951,215,908,186,870,167,838,159,653,160,332,160"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="416,44,534,70"/>
<area shape="poly" title=" " alt="" coords="303,141,350,111,408,78,419,74,421,78,410,83,352,115,306,146"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="416,195,535,220"/>
<area shape="poly" title=" " alt="" coords="332,167,410,188,409,193,331,172"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="412,93,539,119"/>
<area shape="poly" title=" " alt="" coords="331,142,409,121,410,126,332,147"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="601,5,708,31"/>
<area shape="poly" title=" " alt="" coords="291,142,335,85,369,53,408,29,452,14,499,7,544,5,586,6,585,12,544,10,499,12,454,20,410,34,372,58,339,88,295,145"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="775,695,898,720"/>
<area shape="poly" title=" " alt="" coords="513,287,529,294,543,304,558,324,567,342,574,378,577,416,582,436,592,458,631,525,667,574,710,618,769,668,794,685,791,689,766,672,706,622,663,578,627,528,587,461,577,438,572,417,568,379,562,344,554,326,539,308,526,298,511,291"/>
<area shape="poly" title=" " alt="" coords="512,279,609,282,746,292,902,315,981,334,1057,357,1082,371,1106,386,1115,390,1113,395,1103,391,1079,376,1055,362,980,339,901,321,745,297,609,287,512,285"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="589,421,720,447"/>
<area shape="poly" title=" " alt="" coords="514,289,543,304,572,328,599,355,639,407,635,410,595,359,569,332,540,308,511,294"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="768,195,906,220"/>
<area shape="poly" title=" " alt="" coords="512,272,755,221,756,227,513,277"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="962,745,1049,771"/>
<area shape="poly" title=" " alt="" coords="883,718,948,738,946,743,881,723"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1140,696,1206,722"/>
<area shape="poly" title=" " alt="" coords="899,705,1124,706,1124,711,899,710"/>
<area shape="poly" title=" " alt="" coords="850,693,876,665,904,630,918,604,925,581,934,558,952,534,992,498,1036,468,1120,426,1123,430,1039,473,995,502,956,537,939,561,930,583,923,606,908,633,880,668,854,696"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="972,795,1038,820"/>
<area shape="poly" title=" " alt="" coords="858,719,955,781,962,785,960,790,953,786,856,723"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1290,521,1395,547"/>
<area shape="poly" title=" " alt="" coords="1206,699,1224,693,1240,683,1269,655,1294,622,1327,560,1332,563,1298,625,1273,658,1243,687,1226,697,1208,704"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1293,696,1392,722"/>
<area shape="poly" title=" " alt="" coords="1206,706,1277,706,1277,712,1206,712"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1450,472,1555,498"/>
<area shape="poly" title=" " alt="" coords="1386,518,1443,500,1444,505,1388,523"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1443,521,1562,547"/>
<area shape="poly" title=" " alt="" coords="1395,532,1427,532,1427,537,1395,537"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1459,571,1546,596"/>
<area shape="poly" title=" " alt="" coords="1388,545,1445,563,1444,568,1386,550"/>
<area shape="poly" title=" " alt="" coords="1194,420,1313,510,1310,514,1191,424"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1140,745,1206,771"/>
<area shape="poly" title=" " alt="" coords="1038,795,1124,770,1126,775,1040,800"/>
<area shape="poly" title=" " alt="" coords="1206,750,1224,743,1240,732,1275,692,1301,645,1320,599,1332,561,1337,563,1325,601,1306,647,1279,695,1243,736,1226,747,1208,754"/>
<area shape="poly" title=" " alt="" coords="1206,746,1281,724,1282,729,1207,751"/>
<area shape="poly" title=" " alt="" coords="677,418,718,398,767,381,847,367,911,365,1057,381,1114,391,1113,396,1056,386,911,371,848,373,768,386,720,403,679,423"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="790,244,884,270"/>
<area shape="poly" title=" " alt="" coords="667,419,809,279,813,283,671,423"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="772,544,902,570"/>
<area shape="poly" title=" " alt="" coords="670,446,711,487,739,510,769,531,777,535,775,540,766,535,736,514,708,491,666,449"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="787,593,887,619"/>
<area shape="poly" title=" " alt="" coords="665,446,703,510,733,547,769,580,775,584,772,588,766,584,730,551,699,513,660,449"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="786,495,888,520"/>
<area shape="poly" title=" " alt="" coords="686,445,769,481,783,486,781,491,767,486,683,450"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="789,396,884,422"/>
<area shape="poly" title=" " alt="" coords="720,422,773,415,774,420,721,428"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="974,644,1037,670"/>
<area shape="poly" title=" " alt="" coords="665,446,719,550,749,602,769,629,815,651,866,661,915,663,958,661,958,666,915,669,865,666,814,656,766,634,745,605,714,552,660,449"/>
<area shape="poly" title=" " alt="" coords="657,420,669,383,691,332,723,277,743,252,766,229,770,226,773,231,769,234,747,255,728,280,696,334,674,385,662,422"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="797,445,877,471"/>
<area shape="poly" title=" " alt="" coords="721,440,782,448,781,454,720,445"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="960,396,1050,422"/>
<area shape="poly" title=" " alt="" coords="885,406,945,406,945,412,885,412"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1141,647,1205,672"/>
<area shape="poly" title=" " alt="" coords="1037,655,1126,656,1126,661,1037,660"/>
<area shape="poly" title=" " alt="" coords="1204,649,1240,633,1285,596,1320,558,1324,561,1289,600,1243,638,1206,654"/>
<area shape="poly" title=" " alt="" coords="1206,666,1282,689,1280,694,1205,671"/>
<area shape="poly" title=" " alt="" coords="899,218,974,240,1065,274,1158,320,1203,349,1243,382,1272,412,1296,445,1331,506,1326,508,1292,448,1268,415,1240,385,1200,353,1156,325,1062,279,972,245,897,223"/>
<area shape="poly" title=" " alt="" coords="878,461,1275,521,1274,527,877,467"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="954,548,1056,574"/>
<area shape="poly" title=" " alt="" coords="879,466,907,480,933,503,956,527,970,537,967,541,952,531,929,506,905,484,876,471"/>
<area shape="poly" title=" " alt="" coords="1057,554,1274,537,1274,542,1057,559"/>
<area shape="poly" title=" " alt="" coords="1019,545,1144,430,1148,434,1023,549"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1104,597,1242,623"/>
<area shape="poly" title=" " alt="" coords="1052,572,1113,590,1112,595,1051,577"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="608,93,701,119"/>
<area shape="poly" title=" " alt="" coords="525,68,594,87,593,92,524,73"/>
<area shape="poly" title=" " alt="" coords="536,213,775,246,774,251,535,218"/>
<area shape="poly" title=" " alt="" coords="499,192,616,124,619,129,501,196"/>
<area shape="poly" title=" " alt="" coords="539,104,593,104,593,109,539,109"/>
<area shape="poly" title=" " alt="" coords="707,29,815,64,884,91,958,123,1034,162,1109,208,1180,260,1244,319,1278,365,1305,417,1324,466,1337,506,1332,507,1319,467,1300,419,1274,368,1240,323,1177,264,1106,212,1031,167,956,128,882,96,814,69,705,34"/>
<area shape="poly" title=" " alt="" coords="361,343,394,339,394,344,362,348"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="432,368,518,394"/>
<area shape="poly" title=" " alt="" coords="362,363,417,371,416,376,361,368"/>
</map>
</div>

</div>
</div>
<a id="a380434a6fe78bbe7350a3ac3cb5c7f9d" name="a380434a6fe78bbe7350a3ac3cb5c7f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a380434a6fe78bbe7350a3ac3cb5c7f9d">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_readAppInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jobject JNICALL Java_org_gnu_pilotlink_PilotLink_readAppInfo </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>db</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   58</span>{</div>
<div class="line"><span class="lineno">   59</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">   60</span><span class="comment">    unsigned char buffer[MAX_RESOURCE_SIZE];</span></div>
<div class="line"><span class="lineno">   61</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">   62</span><span class="comment">    int size=dlp_ReadAppBlock(handle,db, 0,buffer,MAX_RESOURCE_SIZE);</span></div>
<div class="line"><span class="lineno">   63</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">   64</span><span class="comment">    //printf(&quot;STill alive...\n&quot;);</span></div>
<div class="line"><span class="lineno">   65</span><span class="comment">    //fflush(stdout);</span></div>
<div class="line"><span class="lineno">   66</span><span class="comment">    jclass appinfo_cls=env-&gt;FindClass(&quot;org/gnu/pilotlink/RawAppInfo&quot;);</span></div>
<div class="line"><span class="lineno">   67</span><span class="comment">    if (appinfo_cls==NULL) {</span></div>
<div class="line"><span class="lineno">   68</span><span class="comment">        printf(&quot;Class not found! Sysinfo!\n&quot;);</span></div>
<div class="line"><span class="lineno">   69</span><span class="comment">        return NULL;</span></div>
<div class="line"><span class="lineno">   70</span><span class="comment">    }</span></div>
<div class="line"><span class="lineno">   71</span><span class="comment">    //printf(&quot;STill alive...\n&quot;);</span></div>
<div class="line"><span class="lineno">   72</span><span class="comment">    fflush(stdout);</span></div>
<div class="line"><span class="lineno">   73</span><span class="comment">    jmethodID appinfo_mid=env-&gt;GetMethodID(appinfo_cls, &quot;&lt;init&gt;&quot;,&quot;([B)V&quot;);</span></div>
<div class="line"><span class="lineno">   74</span><span class="comment">    if (appinfo_mid==NULL) {</span></div>
<div class="line"><span class="lineno">   75</span><span class="comment">        printf(&quot;Problem mid!\n&quot;);</span></div>
<div class="line"><span class="lineno">   76</span><span class="comment">        fflush(stdout);</span></div>
<div class="line"><span class="lineno">   77</span><span class="comment">        return NULL;</span></div>
<div class="line"><span class="lineno">   78</span><span class="comment">    }</span></div>
<div class="line"><span class="lineno">   79</span><span class="comment">    //printf(&quot;STill alive...\n&quot;);</span></div>
<div class="line"><span class="lineno">   80</span><span class="comment">    //fflush(stdout);</span></div>
<div class="line"><span class="lineno">   81</span><span class="comment">    jbyteArray array=env-&gt;NewByteArray(size);</span></div>
<div class="line"><span class="lineno">   82</span><span class="comment">    env-&gt;SetByteArrayRegion(array,0,(jint)size,(jbyte*)buffer);</span></div>
<div class="line"><span class="lineno">   83</span><span class="comment">    jobject appinfo=env-&gt;NewObject(appinfo_cls, appinfo_mid, array);</span></div>
<div class="line"><span class="lineno">   84</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">   85</span><span class="comment">    return appinfo;</span></div>
<div class="line"><span class="lineno">   86</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    jclass      jClass_appInfo = NULL;</div>
<div class="line"><span class="lineno">   89</span>    jobject     jObject_appInfo = NULL;</div>
<div class="line"><span class="lineno">   90</span>    jmethodID   jMethod_appInfo = NULL;</div>
<div class="line"><span class="lineno">   91</span>    jbyte * pBuffer = NULL;</div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordtype">int</span> bProceed = 1;</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordtype">int</span> iNumBytesRead = 0;</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">   96</span>        <span class="comment">/* Allocate memory for maximum data size */</span></div>
<div class="line"><span class="lineno">   97</span>        pBuffer = (jbyte *)malloc(<a class="code hl_define" href="libjpisock_8c.html#a52dae0ee4063edd7dcc7485bb996765b">MAX_RESOURCE_SIZE</a>);</div>
<div class="line"><span class="lineno">   98</span>        <span class="keywordflow">if</span> (pBuffer == NULL) {</div>
<div class="line"><span class="lineno">   99</span>            <a class="code hl_function" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b">postJavaException</a>(env,</div>
<div class="line"><span class="lineno">  100</span>                <span class="stringliteral">&quot;org/gnu/pilotlink/PilotLinkException&quot;</span>,</div>
<div class="line"><span class="lineno">  101</span>                <span class="stringliteral">&quot;Unable to allocate buffer for app-info block&quot;</span>);</div>
<div class="line"><span class="lineno">  102</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  103</span>        }</div>
<div class="line"><span class="lineno">  104</span>    }</div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  106</span>        <span class="comment">/* Read app-info block &amp;&amp; verify successful read */</span></div>
<div class="line"><span class="lineno">  107</span>        iNumBytesRead = <a class="code hl_function" href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394">dlp_ReadAppBlock</a>(handle, <a class="code hl_struct" href="structdb.html">db</a>, 0, <a class="code hl_define" href="libjpisock_8c.html#a52dae0ee4063edd7dcc7485bb996765b">MAX_RESOURCE_SIZE</a>, (pi_buffer_t*)pBuffer);</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">if</span> (iNumBytesRead &lt; 0) {</div>
<div class="line"><span class="lineno">  109</span>            <span class="comment">/* Throw Java exception, iNumBytesRead is actually an error code */</span></div>
<div class="line"><span class="lineno">  110</span>            <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to read app-block&quot;</span>, iNumBytesRead, errno);</div>
<div class="line"><span class="lineno">  111</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  112</span>        }</div>
<div class="line"><span class="lineno">  113</span>    }</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  115</span>        <span class="comment">/* Look up RawAppInfo class */</span></div>
<div class="line"><span class="lineno">  116</span>        jClass_appInfo = env-&gt;FindClass(<span class="stringliteral">&quot;org/gnu/pilotlink/RawAppInfo&quot;</span>);</div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">if</span> (jClass_appInfo == NULL) {</div>
<div class="line"><span class="lineno">  118</span>            <span class="comment">/* pending ClassNotFoundException in env */</span></div>
<div class="line"><span class="lineno">  119</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  120</span>        }</div>
<div class="line"><span class="lineno">  121</span>    }</div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  123</span>        <span class="comment">/* Look up constructor method with byte array argument */</span></div>
<div class="line"><span class="lineno">  124</span>        jMethod_appInfo = env-&gt;GetMethodID(jClass_appInfo, <span class="stringliteral">&quot;&lt;init&gt;&quot;</span>,<span class="stringliteral">&quot;([B)V&quot;</span>);</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">if</span> (jMethod_appInfo == NULL) {</div>
<div class="line"><span class="lineno">  126</span>            <span class="comment">/* pending NoSuchMethodException in env */</span></div>
<div class="line"><span class="lineno">  127</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  128</span>        }</div>
<div class="line"><span class="lineno">  129</span>    }</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  131</span>        jbyteArray jArray_buffer = env-&gt;NewByteArray(iNumBytesRead);</div>
<div class="line"><span class="lineno">  132</span>        env-&gt;SetByteArrayRegion(jArray_buffer, 0, (jint)iNumBytesRead, pBuffer);</div>
<div class="line"><span class="lineno">  133</span>        jObject_appInfo = env-&gt;NewObject(jClass_appInfo, jMethod_appInfo, jArray_buffer);</div>
<div class="line"><span class="lineno">  134</span>    }</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordflow">if</span> (pBuffer != NULL) free(pBuffer);</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">return</span> jObject_appInfo;</div>
<div class="line"><span class="lineno">  138</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l02926">dlp_ReadAppBlock()</a>, <a class="el" href="#l00022">MAX_RESOURCE_SIZE</a>, <a class="el" href="#l01255">postJavaException()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a380434a6fe78bbe7350a3ac3cb5c7f9d_cgraph.png" border="0" usemap="#alibjpisock_8h_a380434a6fe78bbe7350a3ac3cb5c7f9d_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a380434a6fe78bbe7350a3ac3cb5c7f9d_cgraph" id="alibjpisock_8h_a380434a6fe78bbe7350a3ac3cb5c7f9d_cgraph">
<area shape="rect" title=" " alt="" coords="5,724,161,764"/>
<area shape="rect" href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394" title=" " alt="" coords="220,534,352,559"/>
<area shape="poly" title=" " alt="" coords="104,721,259,568,262,572,107,725"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="411,758,543,783"/>
<area shape="poly" title=" " alt="" coords="161,746,396,762,396,768,161,752"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="209,782,363,807"/>
<area shape="poly" title=" " alt="" coords="162,761,218,775,216,780,160,766"/>
<area shape="poly" title=" " alt="" coords="254,535,247,525,251,515,264,509,286,507,309,510,321,516,319,521,307,515,286,512,266,514,255,519,253,525,258,532"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="440,330,514,355"/>
<area shape="poly" title=" " alt="" coords="295,532,343,473,409,398,447,363,450,367,413,402,347,476,299,535"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1130,354,1220,379"/>
<area shape="poly" title=" " alt="" coords="302,531,348,498,378,481,410,467,472,449,553,433,753,405,957,383,1114,369,1115,374,958,388,754,410,554,439,473,455,412,472,381,486,351,503,305,536"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="791,555,886,581"/>
<area shape="poly" title=" " alt="" coords="311,531,356,510,410,493,498,479,568,476,638,487,723,512,747,526,771,542,782,547,780,551,768,546,745,530,721,517,636,492,568,481,499,484,412,498,358,515,313,536"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="418,607,536,633"/>
<area shape="poly" title=" " alt="" coords="321,557,412,593,426,599,424,604,410,598,319,562"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="418,508,537,534"/>
<area shape="poly" title=" " alt="" coords="352,535,402,528,403,534,353,540"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="414,558,541,583"/>
<area shape="poly" title=" " alt="" coords="353,552,398,558,398,563,352,558"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="417,708,537,734"/>
<area shape="poly" title=" " alt="" coords="298,558,343,618,376,654,413,687,430,699,427,703,409,691,372,658,339,622,294,562"/>
<area shape="rect" href="pi-buffer_8c.html#a8211b352afee03bf34db668018f029c2" title=" " alt="" coords="424,280,530,306"/>
<area shape="poly" title=" " alt="" coords="288,533,301,491,325,433,361,371,384,341,409,315,413,312,416,316,413,319,388,345,366,373,330,436,306,493,293,534"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="603,658,710,683"/>
<area shape="poly" title=" " alt="" coords="301,558,346,602,378,625,412,643,456,657,502,665,588,671,587,676,501,671,455,662,410,648,375,629,343,606,297,562"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="777,54,900,79"/>
<area shape="poly" title=" " alt="" coords="513,334,529,327,541,317,559,289,566,262,565,234,562,206,558,178,559,150,568,123,590,97,628,71,673,57,718,52,762,53,762,58,719,57,674,63,631,76,593,101,573,126,565,151,564,178,567,205,571,233,571,262,564,291,545,320,531,332,515,339"/>
<area shape="poly" title=" " alt="" coords="513,328,542,316,590,290,674,238,744,198,779,185,817,178,859,180,909,191,948,211,1012,253,1143,342,1140,347,1009,257,945,216,907,196,859,185,817,184,780,190,746,202,677,243,593,294,544,321,515,333"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="591,304,722,330"/>
<area shape="poly" title=" " alt="" coords="514,335,576,326,576,331,515,340"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="770,506,908,531"/>
<area shape="poly" title=" " alt="" coords="515,352,612,391,668,418,723,450,747,472,771,492,779,497,777,501,768,497,744,476,720,454,666,423,610,396,513,357"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="964,30,1051,55"/>
<area shape="poly" title=" " alt="" coords="901,55,948,48,949,54,901,60"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1142,156,1208,182"/>
<area shape="poly" title=" " alt="" coords="859,51,898,30,948,11,976,5,1005,3,1033,6,1060,15,1096,41,1126,74,1149,110,1165,141,1160,143,1144,112,1122,77,1093,45,1057,20,1032,11,1005,8,977,10,950,16,900,35,862,56"/>
<area shape="poly" title=" " alt="" coords="872,78,985,128,1060,166,1081,198,1088,227,1094,258,1109,292,1128,318,1150,341,1146,345,1124,322,1104,295,1089,259,1083,228,1076,200,1057,170,983,133,870,82"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="974,79,1040,105"/>
<area shape="poly" title=" " alt="" coords="901,73,959,82,958,87,901,78"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1292,379,1397,405"/>
<area shape="poly" title=" " alt="" coords="1210,173,1228,180,1245,191,1281,232,1308,279,1327,325,1339,363,1334,365,1322,327,1303,281,1277,235,1242,195,1226,185,1208,178"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1295,206,1394,231"/>
<area shape="poly" title=" " alt="" coords="1209,176,1284,198,1283,203,1208,181"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1452,330,1557,355"/>
<area shape="poly" title=" " alt="" coords="1388,376,1445,358,1446,363,1390,381"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1445,379,1564,405"/>
<area shape="poly" title=" " alt="" coords="1397,389,1429,389,1429,395,1397,395"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1461,428,1548,454"/>
<area shape="poly" title=" " alt="" coords="1390,403,1447,421,1446,426,1388,408"/>
<area shape="poly" title=" " alt="" coords="1221,371,1277,379,1276,384,1220,376"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1142,206,1208,231"/>
<area shape="poly" title=" " alt="" coords="1035,103,1060,122,1075,141,1084,159,1092,176,1108,192,1129,204,1126,209,1105,197,1088,179,1079,162,1071,144,1056,126,1032,108"/>
<area shape="poly" title=" " alt="" coords="1210,223,1228,230,1245,240,1275,269,1300,302,1334,363,1329,366,1295,305,1271,273,1242,245,1226,235,1208,228"/>
<area shape="poly" title=" " alt="" coords="1208,216,1279,216,1279,221,1208,221"/>
<area shape="poly" title=" " alt="" coords="709,328,770,340,864,351,959,358,1115,363,1115,369,958,363,864,356,769,345,708,333"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="792,604,886,630"/>
<area shape="poly" title=" " alt="" coords="665,330,718,473,749,550,772,592,779,598,776,602,768,595,744,552,713,475,660,331"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="774,206,904,231"/>
<area shape="poly" title=" " alt="" coords="673,302,715,272,768,240,779,235,781,240,771,245,718,276,676,306"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="789,255,889,281"/>
<area shape="poly" title=" " alt="" coords="706,301,773,283,774,288,708,306"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="788,304,890,330"/>
<area shape="poly" title=" " alt="" coords="722,315,772,315,772,320,722,320"/>
<area shape="poly" title=" " alt="" coords="666,329,724,450,772,542,779,548,776,552,768,546,719,453,661,331"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="976,180,1039,206"/>
<area shape="poly" title=" " alt="" coords="663,302,678,277,701,245,732,214,769,191,818,176,869,172,919,174,961,180,960,185,918,179,870,177,819,181,771,196,735,219,705,249,682,280,667,305"/>
<area shape="poly" title=" " alt="" coords="698,328,724,347,737,367,744,386,747,423,751,458,758,475,772,493,774,495,770,498,768,496,753,478,746,459,742,423,739,387,732,369,720,351,695,333"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="799,456,879,482"/>
<area shape="poly" title=" " alt="" coords="691,328,723,347,778,395,820,442,816,446,774,399,720,351,688,333"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="962,607,1052,633"/>
<area shape="poly" title=" " alt="" coords="884,579,950,599,948,605,882,584"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1143,255,1207,281"/>
<area shape="poly" title=" " alt="" coords="1033,204,1107,241,1130,250,1128,255,1105,246,1031,209"/>
<area shape="poly" title=" " alt="" coords="1196,279,1315,368,1312,372,1193,283"/>
<area shape="poly" title=" " alt="" coords="1207,256,1282,234,1284,239,1208,261"/>
<area shape="poly" title=" " alt="" coords="880,529,952,548,1046,562,1096,563,1147,558,1196,547,1242,527,1272,504,1297,476,1330,418,1334,420,1301,479,1276,508,1245,532,1198,552,1148,564,1097,568,1045,567,951,553,879,535"/>
<area shape="poly" title=" " alt="" coords="879,461,1058,433,1276,400,1276,405,1059,439,880,466"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="956,506,1058,531"/>
<area shape="poly" title=" " alt="" coords="880,478,948,498,946,504,879,483"/>
<area shape="poly" title=" " alt="" coords="1059,520,1100,520,1147,517,1196,508,1243,491,1267,475,1289,456,1324,416,1328,419,1293,460,1270,480,1245,496,1198,513,1148,522,1100,526,1059,525"/>
<area shape="poly" title=" " alt="" coords="1021,503,1146,388,1150,392,1025,507"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1106,455,1244,481"/>
<area shape="poly" title=" " alt="" coords="1052,503,1115,483,1116,488,1053,508"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="610,559,703,585"/>
<area shape="poly" title=" " alt="" coords="527,604,595,586,596,591,529,609"/>
<area shape="poly" title=" " alt="" coords="537,514,580,514,627,518,676,528,723,544,739,555,748,567,757,579,771,591,779,595,776,600,768,595,753,583,744,570,735,559,720,549,675,533,626,524,579,520,537,520"/>
<area shape="poly" title=" " alt="" coords="526,532,596,552,595,557,525,537"/>
<area shape="poly" title=" " alt="" coords="541,568,595,569,595,574,541,574"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="598,708,715,734"/>
<area shape="poly" title=" " alt="" coords="538,719,582,719,582,724,538,724"/>
<area shape="poly" title=" " alt="" coords="711,676,820,683,888,683,961,678,1037,665,1111,644,1180,612,1212,592,1242,569,1274,533,1299,493,1332,419,1337,421,1304,495,1278,536,1245,573,1215,596,1183,617,1112,649,1038,670,962,683,888,688,820,689,710,681"/>
<area shape="poly" title=" " alt="" coords="363,782,396,778,396,783,364,788"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="434,807,520,833"/>
<area shape="poly" title=" " alt="" coords="364,802,419,810,418,815,363,807"/>
</map>
</div>

</div>
</div>
<a id="a6a18be322938d074843ee20bb5080db6" name="a6a18be322938d074843ee20bb5080db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a18be322938d074843ee20bb5080db6">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_readDBList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jobject JNICALL Java_org_gnu_pilotlink_PilotLink_readDBList </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>iSockHandle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>cardno</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>start</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1173</span>{</div>
<div class="line"><span class="lineno"> 1174</span>    <span class="keywordtype">int</span> iResult = 0;</div>
<div class="line"><span class="lineno"> 1175</span>    <span class="keyword">struct </span>DBInfo rInfoDB;</div>
<div class="line"><span class="lineno"> 1176</span>    jobject pDBInfoObject = NULL;</div>
<div class="line"><span class="lineno"> 1177</span> </div>
<div class="line"><span class="lineno"> 1178</span>    <span class="comment">/* Execute low-level library call... */</span></div>
<div class="line"><span class="lineno"> 1179</span>    iResult = <a class="code hl_function" href="dlp_8c.html#a3a9ae96d7438730f3f8e1d85e116333d">dlp_ReadDBList</a>(iSockHandle, cardno, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>, start, (pi_buffer_t*)&amp;rInfoDB);</div>
<div class="line"><span class="lineno"> 1180</span>    <span class="keywordflow">if</span> (iResult &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1181</span>        jclass pDBInfoClass = NULL;</div>
<div class="line"><span class="lineno"> 1182</span>        jmethodID pDBInfoMethod = NULL;</div>
<div class="line"><span class="lineno"> 1183</span>        <span class="keywordtype">int</span> bProceed = 1;</div>
<div class="line"><span class="lineno"> 1184</span> </div>
<div class="line"><span class="lineno"> 1185</span>        <span class="comment">/* Find class for DBInfo - throws ClassNotFoundException if not found */</span></div>
<div class="line"><span class="lineno"> 1186</span>        <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno"> 1187</span>            pDBInfoClass = env-&gt;FindClass(<span class="stringliteral">&quot;org/gnu/pilotlink/DBInfo&quot;</span>);</div>
<div class="line"><span class="lineno"> 1188</span>            <span class="keywordflow">if</span> (pDBInfoClass == NULL) bProceed = 0;</div>
<div class="line"><span class="lineno"> 1189</span>        }</div>
<div class="line"><span class="lineno"> 1190</span> </div>
<div class="line"><span class="lineno"> 1191</span>        <span class="comment">/* Find constructor method for class DBInfo */</span></div>
<div class="line"><span class="lineno"> 1192</span>        <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno"> 1193</span>            pDBInfoMethod = env-&gt;GetMethodID(pDBInfoClass, <span class="stringliteral">&quot;&lt;init&gt;&quot;</span>,</div>
<div class="line"><span class="lineno"> 1194</span>                <span class="stringliteral">&quot;(Ljava/lang/String;IIIIIISSSBB)V&quot;</span>);</div>
<div class="line"><span class="lineno"> 1195</span>            <span class="keywordflow">if</span> (pDBInfoMethod != NULL &amp;&amp; env-&gt;ExceptionOccurred() == NULL) {</div>
<div class="line"><span class="lineno"> 1196</span>                <span class="comment">/* Build new object, propagate any exception into Java caller */</span></div>
<div class="line"><span class="lineno"> 1197</span>                jstring jString_nombre = env-&gt;NewStringUTF(rInfoDB.name);</div>
<div class="line"><span class="lineno"> 1198</span>                pDBInfoObject = env-&gt;NewObject(pDBInfoClass, pDBInfoMethod,</div>
<div class="line"><span class="lineno"> 1199</span>                    jString_nombre, (jint)rInfoDB.createDate, (jint)rInfoDB.modifyDate,</div>
<div class="line"><span class="lineno"> 1200</span>                    (jint)rInfoDB.backupDate, (jint)rInfoDB.type, (jint)rInfoDB.creator,</div>
<div class="line"><span class="lineno"> 1201</span>                    (jint)rInfoDB.modnum, (jshort)rInfoDB.flags, (jshort)rInfoDB.version,</div>
<div class="line"><span class="lineno"> 1202</span>                    (jshort)rInfoDB.index, (jbyte)rInfoDB.miscFlags, (jbyte)rInfoDB.more);</div>
<div class="line"><span class="lineno"> 1203</span>                <span class="keywordflow">if</span> (env-&gt;ExceptionOccurred() != NULL) bProceed = 0;</div>
<div class="line"><span class="lineno"> 1204</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1205</span>                <span class="comment">/* pending NoSuchMethodException in env */</span></div>
<div class="line"><span class="lineno"> 1206</span>                bProceed = 0;</div>
<div class="line"><span class="lineno"> 1207</span>            }</div>
<div class="line"><span class="lineno"> 1208</span>        }</div>
<div class="line"><span class="lineno"> 1209</span> </div>
<div class="line"><span class="lineno"> 1210</span>    <span class="comment">/* &quot;Not Found&quot; error returns null, else throw Java exception to inform problem with listing */</span></div>
<div class="line"><span class="lineno"> 1211</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iResult != -5) {</div>
<div class="line"><span class="lineno"> 1212</span>        <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to read DB list entry&quot;</span>, iResult, errno);</div>
<div class="line"><span class="lineno"> 1213</span>    }</div>
<div class="line"><span class="lineno"> 1214</span>    <span class="keywordflow">return</span> pDBInfoObject;</div>
<div class="line"><span class="lineno"> 1215</span>}</div>
<div class="ttc" id="adarwinusb_8c_html_a1cbb17ede73ea044a04a129bf4d86976"><div class="ttname"><a href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a></div><div class="ttdeci">unsigned short flags</div><div class="ttdef"><b>Definition</b> darwinusb.c:311</div></div>
<div class="ttc" id="adlp_8c_html_a3a9ae96d7438730f3f8e1d85e116333d"><div class="ttname"><a href="dlp_8c.html#a3a9ae96d7438730f3f8e1d85e116333d">dlp_ReadDBList</a></div><div class="ttdeci">int dlp_ReadDBList(int sd, int cardno, int flags, int start, pi_buffer_t *info)</div><div class="ttdef"><b>Definition</b> dlp.c:1040</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01040">dlp_ReadDBList()</a>, <a class="el" href="#l00311">flags</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a6a18be322938d074843ee20bb5080db6_cgraph.png" border="0" usemap="#alibjpisock_8h_a6a18be322938d074843ee20bb5080db6_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a6a18be322938d074843ee20bb5080db6_cgraph" id="alibjpisock_8h_a6a18be322938d074843ee20bb5080db6_cgraph">
<area shape="rect" title=" " alt="" coords="5,775,159,816"/>
<area shape="rect" href="dlp_8c.html#a3a9ae96d7438730f3f8e1d85e116333d" title=" " alt="" coords="226,657,342,683"/>
<area shape="poly" title=" " alt="" coords="115,772,247,689,250,694,118,777"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="207,908,361,934"/>
<area shape="poly" title=" " alt="" coords="118,814,250,897,247,902,115,819"/>
<area shape="poly" title=" " alt="" coords="252,658,245,649,249,639,262,633,284,631,307,633,319,640,317,644,305,638,284,636,264,638,253,643,251,648,256,655"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="438,457,512,483"/>
<area shape="poly" title=" " alt="" coords="289,656,305,623,331,579,365,533,407,492,422,483,425,487,411,496,369,536,335,582,310,626,293,658"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1128,431,1218,456"/>
<area shape="poly" title=" " alt="" coords="342,658,409,649,485,641,550,637,661,635,714,632,770,625,832,613,905,592,974,564,1040,529,1141,463,1144,468,1043,534,976,569,907,597,834,618,771,631,714,638,661,640,550,643,485,646,409,654,343,664"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="797,657,877,683"/>
<area shape="poly" title=" " alt="" coords="343,668,781,668,781,673,343,673"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="416,708,534,734"/>
<area shape="poly" title=" " alt="" coords="336,681,410,701,409,706,335,686"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="416,807,535,832"/>
<area shape="poly" title=" " alt="" coords="297,682,343,735,375,766,410,793,418,798,415,802,408,798,371,770,339,739,293,685"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="412,757,539,783"/>
<area shape="poly" title=" " alt="" coords="306,681,352,712,410,744,421,749,419,753,408,749,350,716,303,686"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="415,281,535,307"/>
<area shape="poly" title=" " alt="" coords="289,656,458,320,463,322,294,658"/>
<area shape="rect" href="pi-buffer_8c.html#a8211b352afee03bf34db668018f029c2" title=" " alt="" coords="422,507,528,532"/>
<area shape="poly" title=" " alt="" coords="293,655,339,601,371,569,408,541,414,537,417,542,410,546,375,573,342,605,297,659"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="601,857,708,883"/>
<area shape="poly" title=" " alt="" coords="293,683,307,717,332,761,367,806,387,826,410,843,453,861,498,871,544,875,586,875,586,880,544,881,497,876,451,866,408,847,384,830,363,810,328,764,303,719,288,685"/>
<area shape="rect" href="utils_8c.html#a16173a2940fee2ae9756d00109d096ee" title=" " alt="" coords="440,556,510,582"/>
<area shape="poly" title=" " alt="" coords="307,654,408,598,431,587,434,591,410,603,310,659"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="775,107,898,132"/>
<area shape="poly" title=" " alt="" coords="479,456,527,349,559,289,587,250,620,226,650,215,681,207,718,192,803,139,806,144,721,197,683,212,652,220,623,231,591,253,563,292,532,351,484,458"/>
<area shape="poly" title=" " alt="" coords="491,455,536,422,602,380,681,339,724,321,767,308,848,287,915,277,947,277,980,283,1016,293,1058,310,1091,332,1120,359,1160,415,1155,419,1116,363,1088,336,1055,315,1015,298,979,288,946,283,915,282,849,292,768,313,726,326,684,343,605,385,539,427,494,459"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="589,457,720,483"/>
<area shape="poly" title=" " alt="" coords="512,468,574,468,574,473,512,473"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="768,556,906,582"/>
<area shape="poly" title=" " alt="" coords="513,477,773,549,772,554,512,483"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="962,107,1049,132"/>
<area shape="poly" title=" " alt="" coords="899,117,946,117,946,122,899,122"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1140,183,1206,208"/>
<area shape="poly" title=" " alt="" coords="866,104,906,89,955,78,1007,77,1033,82,1058,92,1077,109,1084,130,1091,150,1106,169,1126,181,1124,186,1103,174,1086,153,1079,132,1072,112,1055,96,1032,87,1007,82,955,83,907,94,868,109"/>
<area shape="poly" title=" " alt="" coords="859,131,955,192,985,207,1009,217,1032,229,1058,250,1094,291,1123,336,1163,415,1158,418,1119,339,1089,294,1054,253,1029,233,1007,222,982,212,953,196,857,135"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="972,5,1038,31"/>
<area shape="poly" title=" " alt="" coords="859,104,968,37,971,42,862,108"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1290,493,1395,519"/>
<area shape="poly" title=" " alt="" coords="1208,198,1227,206,1243,218,1269,248,1289,282,1318,354,1335,424,1342,478,1337,479,1329,425,1313,356,1284,284,1264,251,1240,221,1224,210,1206,203"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1293,183,1392,208"/>
<area shape="poly" title=" " alt="" coords="1206,193,1277,193,1277,198,1206,198"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1450,444,1555,470"/>
<area shape="poly" title=" " alt="" coords="1386,490,1443,472,1444,477,1388,495"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1443,493,1562,519"/>
<area shape="poly" title=" " alt="" coords="1395,504,1427,504,1427,509,1395,509"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1459,543,1546,568"/>
<area shape="poly" title=" " alt="" coords="1388,517,1445,535,1444,540,1386,522"/>
<area shape="poly" title=" " alt="" coords="1211,454,1292,485,1290,490,1209,459"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1140,133,1206,159"/>
<area shape="poly" title=" " alt="" coords="1030,29,1058,48,1147,121,1144,125,1055,52,1027,34"/>
<area shape="poly" title=" " alt="" coords="1208,149,1227,156,1244,168,1272,205,1295,245,1312,289,1325,333,1339,415,1343,478,1338,478,1334,416,1319,334,1307,290,1290,248,1268,208,1240,172,1224,161,1206,154"/>
<area shape="poly" title=" " alt="" coords="1207,153,1282,175,1281,180,1206,158"/>
<area shape="poly" title=" " alt="" coords="661,455,676,430,699,398,730,367,766,344,845,315,878,309,911,307,943,310,978,318,1057,344,1086,358,1113,377,1154,417,1150,421,1109,381,1084,363,1055,349,976,323,943,316,911,313,879,314,846,321,769,349,733,371,703,402,680,433,665,458"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="790,732,884,758"/>
<area shape="poly" title=" " alt="" coords="662,483,699,576,730,637,770,694,801,721,798,725,766,697,726,640,694,579,657,485"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="772,408,902,434"/>
<area shape="poly" title=" " alt="" coords="704,454,771,436,772,441,706,459"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="787,457,887,483"/>
<area shape="poly" title=" " alt="" coords="720,468,771,468,771,473,720,473"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="786,507,888,532"/>
<area shape="poly" title=" " alt="" coords="706,481,772,499,771,505,704,486"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="789,359,884,384"/>
<area shape="poly" title=" " alt="" coords="671,455,713,425,766,393,777,388,779,393,769,398,716,429,674,459"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="974,156,1037,182"/>
<area shape="poly" title=" " alt="" coords="660,456,699,385,729,341,766,300,813,262,865,230,958,184,960,189,867,235,816,267,769,304,734,344,703,387,664,458"/>
<area shape="poly" title=" " alt="" coords="674,481,716,511,769,542,779,547,777,552,766,547,713,516,671,486"/>
<area shape="poly" title=" " alt="" coords="670,482,815,644,811,647,666,485"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="960,359,1050,384"/>
<area shape="poly" title=" " alt="" coords="885,369,945,369,945,374,885,374"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1141,232,1205,258"/>
<area shape="poly" title=" " alt="" coords="1031,180,1105,218,1128,227,1126,232,1103,223,1028,185"/>
<area shape="poly" title=" " alt="" coords="1185,257,1327,479,1322,482,1181,260"/>
<area shape="poly" title=" " alt="" coords="1205,233,1280,211,1282,216,1206,238"/>
<area shape="poly" title=" " alt="" coords="906,558,1274,512,1274,517,907,563"/>
<area shape="poly" title=" " alt="" coords="876,655,1241,538,1288,522,1290,527,1243,543,878,661"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="954,657,1056,683"/>
<area shape="poly" title=" " alt="" coords="877,668,938,668,938,673,877,673"/>
<area shape="poly" title=" " alt="" coords="1057,671,1099,671,1146,667,1195,656,1240,636,1269,614,1293,586,1327,531,1331,534,1297,589,1273,618,1243,640,1197,661,1147,672,1099,677,1057,677"/>
<area shape="poly" title=" " alt="" coords="1014,656,1151,467,1155,470,1018,659"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1104,708,1242,734"/>
<area shape="poly" title=" " alt="" coords="1051,681,1114,700,1113,706,1050,686"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="608,756,701,782"/>
<area shape="poly" title=" " alt="" coords="527,732,594,750,593,755,525,737"/>
<area shape="poly" title=" " alt="" coords="535,816,623,809,719,792,759,778,796,762,798,767,761,783,720,797,623,814,536,821"/>
<area shape="poly" title=" " alt="" coords="523,803,593,783,594,789,524,809"/>
<area shape="poly" title=" " alt="" coords="539,767,593,767,593,772,539,772"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="596,156,713,182"/>
<area shape="poly" title=" " alt="" coords="489,279,531,241,588,199,609,187,611,191,591,203,535,245,492,283"/>
<area shape="poly" title=" " alt="" coords="708,872,817,872,884,868,957,859,1032,843,1106,820,1177,787,1240,744,1262,722,1281,696,1309,638,1326,581,1335,534,1340,535,1332,582,1314,640,1286,698,1266,725,1243,748,1179,792,1108,825,1034,849,958,864,885,874,817,878,708,877"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="432,908,518,934"/>
<area shape="poly" title=" " alt="" coords="361,918,416,918,416,924,361,924"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="409,957,541,983"/>
<area shape="poly" title=" " alt="" coords="337,932,408,950,407,955,336,937"/>
</map>
</div>

</div>
</div>
<a id="a01fdfb692e641eafcae662b4ad55be89" name="a01fdfb692e641eafcae662b4ad55be89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01fdfb692e641eafcae662b4ad55be89">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_readSysInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jobject JNICALL Java_org_gnu_pilotlink_PilotLink_readSysInfo </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  143</span>                                          {</div>
<div class="line"><span class="lineno">  144</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  145</span><span class="comment">    struct SysInfo s;</span></div>
<div class="line"><span class="lineno">  146</span><span class="comment">    s.prodID[s.prodIDLength]=0;</span></div>
<div class="line"><span class="lineno">  147</span><span class="comment">    int r=dlp_ReadSysInfo(handle,&amp;s);</span></div>
<div class="line"><span class="lineno">  148</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  149</span><span class="comment">    jstring prod=env-&gt;NewStringUTF(s.prodID);</span></div>
<div class="line"><span class="lineno">  150</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  151</span><span class="comment">    //printf(&quot;STill alive...\n&quot;);</span></div>
<div class="line"><span class="lineno">  152</span><span class="comment">    fflush(stdout);</span></div>
<div class="line"><span class="lineno">  153</span><span class="comment">    jclass sysinfo_cls=env-&gt;FindClass(&quot;org/gnu/pilotlink/SysInfo&quot;);</span></div>
<div class="line"><span class="lineno">  154</span><span class="comment">    if (sysinfo_cls==NULL) {</span></div>
<div class="line"><span class="lineno">  155</span><span class="comment">        printf(&quot;Class not found! Sysinfo!\n&quot;);</span></div>
<div class="line"><span class="lineno">  156</span><span class="comment">        return NULL;</span></div>
<div class="line"><span class="lineno">  157</span><span class="comment">    }</span></div>
<div class="line"><span class="lineno">  158</span><span class="comment">    //printf(&quot;STill alive...\n&quot;);</span></div>
<div class="line"><span class="lineno">  159</span><span class="comment">    fflush(stdout);</span></div>
<div class="line"><span class="lineno">  160</span><span class="comment">    jmethodID sysinfo_mid=env-&gt;GetMethodID(sysinfo_cls, &quot;&lt;init&gt;&quot;,&quot;(Ljava/lang/String;JJSSSSJ)V&quot;);</span></div>
<div class="line"><span class="lineno">  161</span><span class="comment">    if (sysinfo_mid==NULL) {</span></div>
<div class="line"><span class="lineno">  162</span><span class="comment">        printf(&quot;Problem mid!\n&quot;);</span></div>
<div class="line"><span class="lineno">  163</span><span class="comment">        fflush(stdout);</span></div>
<div class="line"><span class="lineno">  164</span><span class="comment">        return NULL;</span></div>
<div class="line"><span class="lineno">  165</span><span class="comment">    }</span></div>
<div class="line"><span class="lineno">  166</span><span class="comment">    //printf(&quot;STill alive...\n&quot;);</span></div>
<div class="line"><span class="lineno">  167</span><span class="comment">    fflush(stdout);</span></div>
<div class="line"><span class="lineno">  168</span><span class="comment">    jobject sysinfo=env-&gt;NewObject(sysinfo_cls, sysinfo_mid, prod, s.romVersion, s.locale, s.dlpMajorVersion, s.dlpMinorVersion,s.compatMajorVersion,s.compatMinorVersion,s.maxRecSize);</span></div>
<div class="line"><span class="lineno">  169</span><span class="comment">    printf(&quot;Returning from getsysinfo...\n&quot;);</span></div>
<div class="line"><span class="lineno">  170</span><span class="comment">    fflush(stdout);</span></div>
<div class="line"><span class="lineno">  171</span><span class="comment">    return sysinfo;</span></div>
<div class="line"><span class="lineno">  172</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  173</span>    jclass      jClass_sysInfo = NULL;</div>
<div class="line"><span class="lineno">  174</span>    jobject     jObject_sysInfo = NULL;</div>
<div class="line"><span class="lineno">  175</span>    jmethodID   jMethod_sysInfo = NULL;</div>
<div class="line"><span class="lineno">  176</span>    <span class="keyword">struct </span>SysInfo rSysInfo;</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordtype">int</span> bProceed = 1;</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordtype">int</span> iResult;</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>        <span class="comment">/* Check that dlp_ReadSysInfo call actually succeeded */</span></div>
<div class="line"><span class="lineno">  183</span>        memset(&amp;rSysInfo, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> SysInfo));</div>
<div class="line"><span class="lineno">  184</span>        iResult = <a class="code hl_function" href="dlp_8c.html#a9f0c8f272d342b38d3c05c2e1906d08d">dlp_ReadSysInfo</a>(handle, &amp;rSysInfo);</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">if</span> (iResult &lt; 0) {</div>
<div class="line"><span class="lineno">  186</span>            <span class="comment">/* Throw Java exception in case of failure */</span></div>
<div class="line"><span class="lineno">  187</span>            <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to read SysInfo&quot;</span>, iResult, errno);</div>
<div class="line"><span class="lineno">  188</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  189</span>        }</div>
<div class="line"><span class="lineno">  190</span>    }</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  192</span>        <span class="comment">/* Look up SysInfo class */</span></div>
<div class="line"><span class="lineno">  193</span>        jClass_sysInfo = env-&gt;FindClass(<span class="stringliteral">&quot;org/gnu/pilotlink/SysInfo&quot;</span>);</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">if</span> (jClass_sysInfo == NULL) {</div>
<div class="line"><span class="lineno">  195</span>            <span class="comment">/* pending ClassNotFoundException in env */</span></div>
<div class="line"><span class="lineno">  196</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  197</span>        }</div>
<div class="line"><span class="lineno">  198</span>    }</div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  200</span>        <span class="comment">/* Look up constructor method with complete-specification argument */</span></div>
<div class="line"><span class="lineno">  201</span>        jMethod_sysInfo = env-&gt;GetMethodID(jClass_sysInfo, <span class="stringliteral">&quot;&lt;init&gt;&quot;</span>,</div>
<div class="line"><span class="lineno">  202</span>            <span class="stringliteral">&quot;(Ljava/lang/String;JJSSSSJ)V&quot;</span>);</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">if</span> (jMethod_sysInfo == NULL) {</div>
<div class="line"><span class="lineno">  204</span>            <span class="comment">/* pending NoSuchMethodException in env */</span></div>
<div class="line"><span class="lineno">  205</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  206</span>        }</div>
<div class="line"><span class="lineno">  207</span>    }</div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  209</span>        <span class="comment">/* Explicit casts to jlong are required because env-&gt;NewObject() works</span></div>
<div class="line"><span class="lineno">  210</span><span class="comment">           very similar to (and probably identical) to printf() and related</span></div>
<div class="line"><span class="lineno">  211</span><span class="comment">           procedures which use stdarg.h routines for variable arguments.</span></div>
<div class="line"><span class="lineno">  212</span><span class="comment">           The constructor requires a jlong (64 bits) for some fields, but the</span></div>
<div class="line"><span class="lineno">  213</span><span class="comment">           corresponding fields in the C struct are of a system-dependent size</span></div>
<div class="line"><span class="lineno">  214</span><span class="comment">           (32 bits for an unsigned long in i386). Failure to cast to an appropriate</span></div>
<div class="line"><span class="lineno">  215</span><span class="comment">           size results in a stack misalignment which, at the very least, causes</span></div>
<div class="line"><span class="lineno">  216</span><span class="comment">           incorrect values to be received at the Java side. For the sake of</span></div>
<div class="line"><span class="lineno">  217</span><span class="comment">           completeness, jshort values are explicitly casted too.</span></div>
<div class="line"><span class="lineno">  218</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  219</span>        jstring jString_prodID = env-&gt;NewStringUTF(rSysInfo.prodID);</div>
<div class="line"><span class="lineno">  220</span>        jObject_sysInfo = env-&gt;NewObject(jClass_sysInfo, jMethod_sysInfo,</div>
<div class="line"><span class="lineno">  221</span>            jString_prodID, (jlong)rSysInfo.romVersion, (jlong)rSysInfo.locale,</div>
<div class="line"><span class="lineno">  222</span>            (jshort)rSysInfo.dlpMajorVersion, (jshort)rSysInfo.dlpMinorVersion,</div>
<div class="line"><span class="lineno">  223</span>            (jshort)rSysInfo.compatMajorVersion,</div>
<div class="line"><span class="lineno">  224</span>            (jshort)rSysInfo.compatMinorVersion, (jlong)rSysInfo.maxRecSize);</div>
<div class="line"><span class="lineno">  225</span>    }</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>    <span class="keywordflow">return</span> jObject_sysInfo;</div>
<div class="line"><span class="lineno">  228</span>}</div>
<div class="ttc" id="adlp_8c_html_a9f0c8f272d342b38d3c05c2e1906d08d"><div class="ttname"><a href="dlp_8c.html#a9f0c8f272d342b38d3c05c2e1906d08d">dlp_ReadSysInfo</a></div><div class="ttdeci">int dlp_ReadSysInfo(int sd, struct SysInfo *s)</div><div class="ttdef"><b>Definition</b> dlp.c:965</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00965">dlp_ReadSysInfo()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a01fdfb692e641eafcae662b4ad55be89_cgraph.png" border="0" usemap="#alibjpisock_8h_a01fdfb692e641eafcae662b4ad55be89_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a01fdfb692e641eafcae662b4ad55be89_cgraph" id="alibjpisock_8h_a01fdfb692e641eafcae662b4ad55be89_cgraph">
<area shape="rect" title=" " alt="" coords="5,677,161,718"/>
<area shape="rect" href="dlp_8c.html#a9f0c8f272d342b38d3c05c2e1906d08d" title=" " alt="" coords="225,584,346,610"/>
<area shape="poly" title=" " alt="" coords="125,674,243,615,245,620,127,679"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="209,760,363,786"/>
<area shape="poly" title=" " alt="" coords="141,716,236,752,234,757,139,721"/>
<area shape="poly" title=" " alt="" coords="254,585,247,576,251,566,264,560,286,558,309,560,321,567,319,571,307,565,286,563,266,565,255,570,253,575,258,582"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="440,456,514,482"/>
<area shape="poly" title=" " alt="" coords="299,582,346,540,410,495,425,487,427,491,412,499,350,545,303,586"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1292,456,1397,482"/>
<area shape="poly" title=" " alt="" coords="306,608,352,640,412,671,478,695,531,710,585,718,655,720,1009,720,1079,720,1134,717,1160,711,1185,701,1242,664,1278,626,1305,580,1323,535,1334,496,1339,498,1328,537,1309,583,1282,629,1245,669,1188,706,1161,716,1135,722,1079,726,1008,725,655,725,585,723,530,716,476,701,410,676,350,645,303,613"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1130,406,1220,431"/>
<area shape="poly" title=" " alt="" coords="294,582,340,519,373,479,409,442,499,355,572,289,611,262,654,237,706,214,769,192,807,181,839,177,871,180,909,192,934,205,964,225,1032,280,1152,393,1148,397,1028,284,961,229,931,209,907,197,870,186,839,182,808,186,770,197,708,219,657,242,614,266,576,293,503,359,413,446,377,483,344,522,298,585"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="418,608,536,634"/>
<area shape="poly" title=" " alt="" coords="347,602,404,609,403,615,347,607"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="418,510,537,535"/>
<area shape="poly" title=" " alt="" coords="318,581,410,544,423,539,425,544,412,549,320,586"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="414,559,541,585"/>
<area shape="poly" title=" " alt="" coords="347,587,398,580,399,585,347,592"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="603,659,710,685"/>
<area shape="poly" title=" " alt="" coords="316,608,360,627,412,644,503,660,588,667,588,673,503,665,410,649,358,632,313,613"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="777,55,900,81"/>
<area shape="poly" title=" " alt="" coords="488,454,813,91,817,94,492,458"/>
<area shape="poly" title=" " alt="" coords="514,464,1114,420,1115,425,515,469"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="591,380,722,406"/>
<area shape="poly" title=" " alt="" coords="509,453,610,410,612,415,511,458"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="770,556,908,582"/>
<area shape="poly" title=" " alt="" coords="515,477,776,549,774,554,514,482"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="964,80,1051,106"/>
<area shape="poly" title=" " alt="" coords="901,75,949,82,948,87,901,80"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1142,183,1208,209"/>
<area shape="poly" title=" " alt="" coords="859,52,897,31,948,11,976,5,1005,3,1033,6,1060,16,1081,30,1100,48,1131,89,1153,131,1168,167,1163,169,1148,133,1126,91,1096,51,1078,35,1057,21,1032,11,1005,8,977,10,950,16,900,36,861,57"/>
<area shape="poly" title=" " alt="" coords="872,79,985,130,1060,167,1075,187,1084,205,1091,240,1095,277,1109,319,1132,358,1156,392,1151,395,1127,361,1104,321,1090,278,1086,241,1079,207,1070,190,1057,171,983,134,870,84"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="974,31,1040,57"/>
<area shape="poly" title=" " alt="" coords="901,56,958,48,959,53,901,62"/>
<area shape="poly" title=" " alt="" coords="1209,199,1228,206,1245,218,1268,243,1287,272,1315,333,1333,393,1342,440,1337,441,1327,394,1310,335,1282,274,1264,247,1242,222,1226,211,1208,204"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1295,232,1394,258"/>
<area shape="poly" title=" " alt="" coords="1209,203,1284,225,1283,230,1208,208"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1452,407,1557,433"/>
<area shape="poly" title=" " alt="" coords="1388,453,1445,435,1446,440,1390,458"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1445,456,1564,482"/>
<area shape="poly" title=" " alt="" coords="1397,467,1429,467,1429,472,1397,472"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1461,506,1548,531"/>
<area shape="poly" title=" " alt="" coords="1390,480,1447,498,1446,503,1388,485"/>
<area shape="poly" title=" " alt="" coords="1221,429,1285,449,1284,454,1219,434"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1142,232,1208,258"/>
<area shape="poly" title=" " alt="" coords="1042,52,1060,66,1074,87,1081,107,1084,145,1087,182,1094,201,1108,219,1129,233,1126,237,1105,223,1090,203,1082,184,1079,146,1076,108,1069,89,1056,70,1039,57"/>
<area shape="poly" title=" " alt="" coords="1210,249,1228,256,1245,267,1281,308,1308,356,1327,402,1339,441,1334,442,1322,404,1303,358,1277,312,1242,271,1226,261,1208,254"/>
<area shape="poly" title=" " alt="" coords="1208,243,1279,243,1279,248,1208,248"/>
<area shape="poly" title=" " alt="" coords="722,394,1115,413,1115,418,722,399"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="792,606,886,631"/>
<area shape="poly" title=" " alt="" coords="664,406,677,443,698,493,730,546,749,571,771,592,779,598,776,603,768,597,745,574,725,549,694,495,672,445,659,407"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="774,207,904,233"/>
<area shape="poly" title=" " alt="" coords="662,379,701,314,731,275,768,242,774,238,777,242,771,246,735,279,705,317,667,381"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="789,256,889,282"/>
<area shape="poly" title=" " alt="" coords="668,378,710,336,738,312,768,291,777,286,779,291,771,295,741,316,713,340,672,382"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="788,306,890,331"/>
<area shape="poly" title=" " alt="" coords="685,377,769,340,783,335,785,340,771,345,687,382"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="791,355,886,381"/>
<area shape="poly" title=" " alt="" coords="722,381,775,374,776,379,723,387"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="976,182,1039,207"/>
<area shape="poly" title=" " alt="" coords="658,379,669,340,689,288,722,234,743,211,768,192,792,181,817,174,868,168,918,171,961,179,960,184,917,177,868,174,818,179,794,186,771,197,747,215,726,237,694,290,674,342,663,380"/>
<area shape="poly" title=" " alt="" coords="667,405,705,471,735,509,771,543,777,547,774,551,768,547,731,513,701,474,662,408"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="799,507,879,533"/>
<area shape="poly" title=" " alt="" coords="678,404,808,496,805,500,675,409"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="962,355,1052,381"/>
<area shape="poly" title=" " alt="" coords="887,365,947,365,947,371,887,371"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1143,282,1207,307"/>
<area shape="poly" title=" " alt="" coords="1032,206,1060,224,1083,248,1108,268,1129,279,1127,284,1105,273,1080,252,1057,229,1029,210"/>
<area shape="poly" title=" " alt="" coords="1191,306,1322,443,1318,447,1187,309"/>
<area shape="poly" title=" " alt="" coords="1207,283,1282,260,1284,265,1208,288"/>
<area shape="poly" title=" " alt="" coords="895,580,967,592,1055,599,1103,599,1151,594,1198,585,1243,569,1268,555,1291,535,1325,493,1329,497,1295,539,1271,559,1245,574,1199,590,1152,599,1103,604,1055,605,966,598,894,585"/>
<area shape="poly" title=" " alt="" coords="880,529,950,546,1041,560,1092,563,1143,562,1194,555,1243,543,1285,520,1319,491,1323,495,1288,524,1245,548,1195,560,1143,567,1092,568,1041,565,949,551,879,535"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="956,507,1058,533"/>
<area shape="poly" title=" " alt="" coords="879,517,940,517,940,523,879,523"/>
<area shape="poly" title=" " alt="" coords="1054,504,1106,492,1195,479,1276,471,1277,476,1195,484,1107,497,1055,509"/>
<area shape="poly" title=" " alt="" coords="1029,504,1057,486,1080,467,1105,448,1127,436,1130,441,1108,453,1084,471,1060,490,1032,509"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1106,507,1244,533"/>
<area shape="poly" title=" " alt="" coords="1059,517,1091,517,1091,523,1059,523"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="610,608,703,634"/>
<area shape="poly" title=" " alt="" coords="536,619,595,619,595,624,536,624"/>
<area shape="poly" title=" " alt="" coords="529,533,778,600,776,605,528,539"/>
<area shape="poly" title=" " alt="" coords="523,534,545,544,569,565,593,587,612,599,609,603,590,591,566,569,542,549,521,538"/>
<area shape="poly" title=" " alt="" coords="527,583,596,602,595,607,526,588"/>
<area shape="poly" title=" " alt="" coords="711,677,816,686,881,687,953,684,1027,676,1102,661,1175,638,1242,606,1272,582,1297,553,1330,495,1334,497,1301,556,1276,586,1245,610,1176,643,1103,666,1028,681,953,689,881,692,815,691,711,682"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="434,760,520,786"/>
<area shape="poly" title=" " alt="" coords="363,771,418,771,418,776,363,776"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="411,810,543,835"/>
<area shape="poly" title=" " alt="" coords="339,784,410,803,409,808,338,789"/>
</map>
</div>

</div>
</div>
<a id="a8b9d9eef7009408a6286fad1e3d3c187" name="a8b9d9eef7009408a6286fad1e3d3c187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b9d9eef7009408a6286fad1e3d3c187">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_readUserInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jobject JNICALL Java_org_gnu_pilotlink_PilotLink_readUserInfo </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handler</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  234</span>                                           {</div>
<div class="line"><span class="lineno">  235</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  236</span><span class="comment">   struct PilotUser U;</span></div>
<div class="line"><span class="lineno">  237</span><span class="comment">   dlp_ReadUserInfo(handler, &amp;U);</span></div>
<div class="line"><span class="lineno">  238</span><span class="comment">   U.username[127]=0;</span></div>
<div class="line"><span class="lineno">  239</span><span class="comment">   U.password[U.passwordLength]=0;</span></div>
<div class="line"><span class="lineno">  240</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  241</span><span class="comment">   printf(&quot;Last sync--&gt;%ld\n&quot;,U.lastSyncDate);</span></div>
<div class="line"><span class="lineno">  242</span><span class="comment">   printf(&quot;Last ssync-&gt;%ld\n&quot;,U.successfulSyncDate);</span></div>
<div class="line"><span class="lineno">  243</span><span class="comment">  jstring str_name=env-&gt;NewStringUTF(U.username);</span></div>
<div class="line"><span class="lineno">  244</span><span class="comment">  if (str_name==NULL) {</span></div>
<div class="line"><span class="lineno">  245</span><span class="comment">    return NULL;</span></div>
<div class="line"><span class="lineno">  246</span><span class="comment"> }</span></div>
<div class="line"><span class="lineno">  247</span><span class="comment">  jstring str_pw=env-&gt;NewStringUTF(U.password);</span></div>
<div class="line"><span class="lineno">  248</span><span class="comment">  if (str_pw==NULL) {</span></div>
<div class="line"><span class="lineno">  249</span><span class="comment">     return NULL;</span></div>
<div class="line"><span class="lineno">  250</span><span class="comment">  }</span></div>
<div class="line"><span class="lineno">  251</span><span class="comment">  jlong vid=U.viewerID;</span></div>
<div class="line"><span class="lineno">  252</span><span class="comment">  jlong uid=U.userID;</span></div>
<div class="line"><span class="lineno">  253</span><span class="comment">  jlong lspc=U.lastSyncPC;</span></div>
<div class="line"><span class="lineno">  254</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  255</span><span class="comment">  jclass calclass=env-&gt;FindClass(&quot;java/util/Date&quot;);</span></div>
<div class="line"><span class="lineno">  256</span><span class="comment">  if (calclass==NULL) {</span></div>
<div class="line"><span class="lineno">  257</span><span class="comment">      return NULL;</span></div>
<div class="line"><span class="lineno">  258</span><span class="comment">  }</span></div>
<div class="line"><span class="lineno">  259</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  260</span><span class="comment">  jmethodID cal_mid=env-&gt;GetMethodID(calclass,&quot;&lt;init&gt;&quot;,&quot;(J)V&quot;);</span></div>
<div class="line"><span class="lineno">  261</span><span class="comment">  if (cal_mid==NULL){</span></div>
<div class="line"><span class="lineno">  262</span><span class="comment">     return NULL;</span></div>
<div class="line"><span class="lineno">  263</span><span class="comment">  }</span></div>
<div class="line"><span class="lineno">  264</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  265</span><span class="comment">  jobject lsd_date=env-&gt;NewObject(calclass,cal_mid,U.lastSyncDate*1000);</span></div>
<div class="line"><span class="lineno">  266</span><span class="comment">  jobject sucd_date=env-&gt;NewObject(calclass,cal_mid,U.successfulSyncDate*1000);</span></div>
<div class="line"><span class="lineno">  267</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  268</span><span class="comment">  jclass usercls=env-&gt;FindClass(&quot;org/gnu/pilotlink/User&quot;);</span></div>
<div class="line"><span class="lineno">  269</span><span class="comment">  if (usercls==NULL) {</span></div>
<div class="line"><span class="lineno">  270</span><span class="comment">    printf(&quot;USERCLASS not found!\n&quot;);</span></div>
<div class="line"><span class="lineno">  271</span><span class="comment">    return NULL;</span></div>
<div class="line"><span class="lineno">  272</span><span class="comment">  } else {</span></div>
<div class="line"><span class="lineno">  273</span><span class="comment">    printf(&quot;ok...\n&quot;);</span></div>
<div class="line"><span class="lineno">  274</span><span class="comment">  }</span></div>
<div class="line"><span class="lineno">  275</span><span class="comment">  jmethodID umid=env-&gt;GetMethodID(usercls,&quot;&lt;init&gt;&quot;,&quot;(Ljava/lang/String;Ljava/lang/String;JJJLjava/util/Date;Ljava/util/Date;)V&quot;);</span></div>
<div class="line"><span class="lineno">  276</span><span class="comment">  if (umid==NULL) {</span></div>
<div class="line"><span class="lineno">  277</span><span class="comment">     printf(&quot;MethodID not found!\n&quot;);</span></div>
<div class="line"><span class="lineno">  278</span><span class="comment">     return NULL;</span></div>
<div class="line"><span class="lineno">  279</span><span class="comment">  } else {</span></div>
<div class="line"><span class="lineno">  280</span><span class="comment">     printf(&quot;ok...\n&quot;);</span></div>
<div class="line"><span class="lineno">  281</span><span class="comment">  }</span></div>
<div class="line"><span class="lineno">  282</span><span class="comment">  //printf(&quot;Returning from getuserinfo...\n&quot;);</span></div>
<div class="line"><span class="lineno">  283</span><span class="comment">  jobject u=env-&gt;NewObject(usercls,umid,str_name,str_pw,uid,vid,lspc,lsd_date, sucd_date);</span></div>
<div class="line"><span class="lineno">  284</span><span class="comment">  return u;</span></div>
<div class="line"><span class="lineno">  285</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>    jclass      jClass_user = NULL;</div>
<div class="line"><span class="lineno">  288</span>    jobject     jObject_user = NULL;</div>
<div class="line"><span class="lineno">  289</span>    jmethodID   jMethod_user = NULL;</div>
<div class="line"><span class="lineno">  290</span>    <span class="keyword">struct </span>PilotUser rUserInfo;</div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordtype">int</span> bProceed = 1;</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordtype">int</span> iResult;</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>        <span class="comment">/* Check that dlp_ReadUserInfo call actually succeeded */</span></div>
<div class="line"><span class="lineno">  297</span>        memset(&amp;rUserInfo, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> PilotUser));</div>
<div class="line"><span class="lineno">  298</span>        iResult = <a class="code hl_function" href="dlp_8c.html#aee1b4f8c0248e65644f605bc58545e68">dlp_ReadUserInfo</a>(handler, &amp;rUserInfo);</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">if</span> (iResult &lt; 0) {</div>
<div class="line"><span class="lineno">  300</span>            <span class="comment">/* Throw Java exception in case of failure */</span></div>
<div class="line"><span class="lineno">  301</span>            <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to read UserInfo&quot;</span>, iResult, errno);</div>
<div class="line"><span class="lineno">  302</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  303</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  304</span>            <span class="comment">/* This was taken from previous code...  */</span></div>
<div class="line"><span class="lineno">  305</span>            rUserInfo.username[<span class="keyword">sizeof</span>(rUserInfo.username) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  306</span>            rUserInfo.password[rUserInfo.passwordLength] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  307</span>        }</div>
<div class="line"><span class="lineno">  308</span>    }</div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  310</span>        <span class="comment">/* Look up User class */</span></div>
<div class="line"><span class="lineno">  311</span>        jClass_user = env-&gt;FindClass(<span class="stringliteral">&quot;org/gnu/pilotlink/User&quot;</span>);</div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">if</span> (jClass_user == NULL) {</div>
<div class="line"><span class="lineno">  313</span>            <span class="comment">/* pending ClassNotFoundException in env */</span></div>
<div class="line"><span class="lineno">  314</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  315</span>        }</div>
<div class="line"><span class="lineno">  316</span>    }</div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  318</span>        <span class="comment">/* Look up constructor method with complete-specification argument.</span></div>
<div class="line"><span class="lineno">  319</span><span class="comment">           NOTE: a new constructor was provided in User.java in order to</span></div>
<div class="line"><span class="lineno">  320</span><span class="comment">           avoid having to create Date objects in C code, AND to fix a subtle</span></div>
<div class="line"><span class="lineno">  321</span><span class="comment">           bug in which the multiplication of time_t * int (miliseconds since</span></div>
<div class="line"><span class="lineno">  322</span><span class="comment">           Epoch) silently overflows because both time_t and int are 32-bit,</span></div>
<div class="line"><span class="lineno">  323</span><span class="comment">           and the result is NOT promoted to at least 64 bits, required for</span></div>
<div class="line"><span class="lineno">  324</span><span class="comment">           the constructor Date(long).</span></div>
<div class="line"><span class="lineno">  325</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  326</span>        jMethod_user = env-&gt;GetMethodID(jClass_user, <span class="stringliteral">&quot;&lt;init&gt;&quot;</span>,</div>
<div class="line"><span class="lineno">  327</span>            <span class="stringliteral">&quot;(Ljava/lang/String;Ljava/lang/String;JJJJJ)V&quot;</span>);</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">if</span> (jMethod_user == NULL) {</div>
<div class="line"><span class="lineno">  329</span>            <span class="comment">/* pending NoSuchMethodException in env */</span></div>
<div class="line"><span class="lineno">  330</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span>    }</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  334</span>        <span class="comment">/* Explicit casts added - see object creation at</span></div>
<div class="line"><span class="lineno">  335</span><span class="comment">        Java_org_gnu_pilotlink_PilotLink_readSysInfo() for explanation. */</span></div>
<div class="line"><span class="lineno">  336</span>        jstring jString_username = env-&gt;NewStringUTF(rUserInfo.username);</div>
<div class="line"><span class="lineno">  337</span>        jstring jString_password = env-&gt;NewStringUTF(rUserInfo.password);</div>
<div class="line"><span class="lineno">  338</span>        jObject_user = env-&gt;NewObject(jClass_user, jMethod_user, jString_username,</div>
<div class="line"><span class="lineno">  339</span>            jString_password, (jlong)rUserInfo.userID, (jlong)rUserInfo.viewerID,</div>
<div class="line"><span class="lineno">  340</span>            (jlong)rUserInfo.lastSyncPC, (jlong)rUserInfo.lastSyncDate,</div>
<div class="line"><span class="lineno">  341</span>            (jlong)rUserInfo.successfulSyncDate);</div>
<div class="line"><span class="lineno">  342</span>    }</div>
<div class="line"><span class="lineno">  343</span>    <span class="keywordflow">return</span> jObject_user;</div>
<div class="line"><span class="lineno">  344</span>}</div>
<div class="ttc" id="adlp_8c_html_aee1b4f8c0248e65644f605bc58545e68"><div class="ttname"><a href="dlp_8c.html#aee1b4f8c0248e65644f605bc58545e68">dlp_ReadUserInfo</a></div><div class="ttdeci">int dlp_ReadUserInfo(int sd, struct PilotUser *User)</div><div class="ttdef"><b>Definition</b> dlp.c:1996</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01996">dlp_ReadUserInfo()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a8b9d9eef7009408a6286fad1e3d3c187_cgraph.png" border="0" usemap="#alibjpisock_8h_a8b9d9eef7009408a6286fad1e3d3c187_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a8b9d9eef7009408a6286fad1e3d3c187_cgraph" id="alibjpisock_8h_a8b9d9eef7009408a6286fad1e3d3c187_cgraph">
<area shape="rect" title=" " alt="" coords="5,236,166,277"/>
<area shape="rect" href="dlp_8c.html#aee1b4f8c0248e65644f605bc58545e68" title=" " alt="" coords="228,144,354,170"/>
<area shape="poly" title=" " alt="" coords="128,233,248,174,250,179,130,238"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="214,319,368,344"/>
<area shape="poly" title=" " alt="" coords="145,275,240,310,238,315,143,280"/>
<area shape="poly" title=" " alt="" coords="259,145,252,135,256,126,269,120,291,117,314,120,326,126,324,131,312,125,291,123,271,125,260,129,258,135,263,142"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="446,269,519,295"/>
<area shape="poly" title=" " alt="" coords="314,168,450,258,447,263,311,172"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1135,396,1225,422"/>
<area shape="poly" title=" " alt="" coords="354,154,660,154,845,154,878,162,918,181,961,210,1006,245,1093,321,1157,383,1153,387,1089,325,1003,249,958,215,915,186,877,167,845,159,660,160,354,160"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="424,44,541,70"/>
<area shape="poly" title=" " alt="" coords="310,141,357,111,415,78,426,74,428,78,417,83,359,115,313,146"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="422,195,542,220"/>
<area shape="poly" title=" " alt="" coords="343,168,417,188,416,193,342,173"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="418,93,546,119"/>
<area shape="poly" title=" " alt="" coords="342,141,416,121,417,126,343,146"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="608,5,715,31"/>
<area shape="poly" title=" " alt="" coords="298,142,342,85,376,53,415,29,459,14,506,7,551,5,593,6,592,12,551,10,506,12,461,20,417,34,379,58,346,88,302,145"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="782,695,906,720"/>
<area shape="poly" title=" " alt="" coords="520,287,536,294,550,304,565,324,574,342,581,378,584,416,589,436,599,458,638,525,674,574,717,618,776,668,801,685,798,689,773,672,713,622,670,578,634,528,594,461,584,438,579,417,575,379,569,344,561,326,546,308,533,298,518,291"/>
<area shape="poly" title=" " alt="" coords="519,279,616,282,753,292,909,315,988,334,1064,357,1089,371,1113,386,1122,390,1120,395,1110,391,1086,376,1062,362,987,339,908,321,752,297,616,287,519,285"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="596,421,727,447"/>
<area shape="poly" title=" " alt="" coords="521,289,550,304,579,328,606,355,646,407,642,410,602,359,576,332,547,308,518,294"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="775,195,913,220"/>
<area shape="poly" title=" " alt="" coords="519,272,762,221,763,227,520,277"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="968,745,1056,771"/>
<area shape="poly" title=" " alt="" coords="890,718,955,738,953,743,888,723"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1147,696,1213,722"/>
<area shape="poly" title=" " alt="" coords="906,705,1131,706,1131,711,906,710"/>
<area shape="poly" title=" " alt="" coords="857,693,883,665,911,630,925,604,932,581,941,558,959,534,999,498,1043,468,1127,426,1130,430,1046,473,1002,502,963,537,946,561,937,583,930,606,915,633,887,668,861,696"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="979,795,1045,820"/>
<area shape="poly" title=" " alt="" coords="865,719,962,781,969,785,967,790,960,786,863,723"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1297,521,1402,547"/>
<area shape="poly" title=" " alt="" coords="1213,699,1231,693,1247,683,1276,655,1301,622,1334,560,1339,563,1305,625,1280,658,1250,687,1233,697,1215,704"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1300,696,1398,722"/>
<area shape="poly" title=" " alt="" coords="1213,706,1284,706,1284,712,1213,712"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1457,472,1562,498"/>
<area shape="poly" title=" " alt="" coords="1393,518,1450,500,1451,505,1395,523"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1450,521,1569,547"/>
<area shape="poly" title=" " alt="" coords="1402,532,1434,532,1434,537,1402,537"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1466,571,1553,596"/>
<area shape="poly" title=" " alt="" coords="1395,545,1452,563,1451,568,1393,550"/>
<area shape="poly" title=" " alt="" coords="1201,420,1320,510,1317,514,1198,424"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1147,745,1213,771"/>
<area shape="poly" title=" " alt="" coords="1045,795,1131,770,1133,775,1047,800"/>
<area shape="poly" title=" " alt="" coords="1213,750,1231,743,1247,732,1282,692,1308,645,1327,599,1339,561,1344,563,1332,601,1313,647,1286,695,1250,736,1233,747,1215,754"/>
<area shape="poly" title=" " alt="" coords="1213,746,1288,724,1289,729,1214,751"/>
<area shape="poly" title=" " alt="" coords="684,418,725,398,774,381,854,367,918,365,1064,381,1121,391,1120,396,1063,386,918,371,855,373,775,386,727,403,686,423"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="797,244,891,270"/>
<area shape="poly" title=" " alt="" coords="674,419,816,279,820,283,678,423"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="779,544,908,570"/>
<area shape="poly" title=" " alt="" coords="677,446,718,487,746,510,776,531,784,535,782,540,773,535,743,514,715,491,673,449"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="794,593,894,619"/>
<area shape="poly" title=" " alt="" coords="672,446,710,510,740,547,776,580,782,584,779,588,773,584,737,551,706,513,667,449"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="793,495,895,520"/>
<area shape="poly" title=" " alt="" coords="693,445,776,481,790,486,788,491,774,486,690,450"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="796,396,892,422"/>
<area shape="poly" title=" " alt="" coords="727,422,780,415,781,420,728,428"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="980,644,1044,670"/>
<area shape="poly" title=" " alt="" coords="672,446,726,550,756,602,776,629,822,651,873,661,922,663,965,661,965,666,922,669,872,666,821,656,773,634,752,605,721,552,667,449"/>
<area shape="poly" title=" " alt="" coords="664,420,676,383,698,332,730,277,750,252,773,229,777,226,780,231,776,234,754,255,735,280,703,334,681,385,669,422"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="804,445,884,471"/>
<area shape="poly" title=" " alt="" coords="728,440,789,448,788,454,727,445"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="967,396,1057,422"/>
<area shape="poly" title=" " alt="" coords="892,406,952,406,952,412,892,412"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1148,647,1212,672"/>
<area shape="poly" title=" " alt="" coords="1044,655,1133,656,1133,661,1044,660"/>
<area shape="poly" title=" " alt="" coords="1211,649,1247,633,1292,596,1327,558,1331,561,1296,600,1250,638,1213,654"/>
<area shape="poly" title=" " alt="" coords="1213,666,1289,689,1287,694,1212,671"/>
<area shape="poly" title=" " alt="" coords="906,218,981,240,1072,274,1165,320,1210,349,1250,382,1279,412,1303,445,1338,506,1333,508,1299,448,1275,415,1247,385,1207,353,1163,325,1069,279,979,245,904,223"/>
<area shape="poly" title=" " alt="" coords="885,461,1282,521,1281,527,884,467"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="961,548,1063,574"/>
<area shape="poly" title=" " alt="" coords="886,466,914,480,940,503,963,527,977,537,974,541,959,531,936,506,912,484,883,471"/>
<area shape="poly" title=" " alt="" coords="1064,554,1281,537,1281,542,1064,559"/>
<area shape="poly" title=" " alt="" coords="1026,545,1151,430,1155,434,1030,549"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1111,597,1249,623"/>
<area shape="poly" title=" " alt="" coords="1059,572,1120,590,1119,595,1058,577"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="615,93,708,119"/>
<area shape="poly" title=" " alt="" coords="532,68,601,87,600,92,531,73"/>
<area shape="poly" title=" " alt="" coords="543,213,782,246,781,251,542,218"/>
<area shape="poly" title=" " alt="" coords="506,192,623,124,626,129,508,196"/>
<area shape="poly" title=" " alt="" coords="546,104,600,104,600,109,546,109"/>
<area shape="poly" title=" " alt="" coords="714,29,822,64,891,91,965,123,1041,162,1116,208,1187,260,1251,319,1285,365,1312,417,1331,466,1344,506,1339,507,1326,467,1307,419,1281,368,1247,323,1184,264,1113,212,1038,167,963,128,889,96,821,69,712,34"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="439,319,525,344"/>
<area shape="poly" title=" " alt="" coords="368,329,423,329,423,334,368,334"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="416,368,548,394"/>
<area shape="poly" title=" " alt="" coords="344,342,415,361,414,366,343,348"/>
</map>
</div>

</div>
</div>
<a id="a27a2b43ed075898373b61d744a111c7e" name="a27a2b43ed075898373b61d744a111c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a2b43ed075898373b61d744a111c7e">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_resetSystem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_gnu_pilotlink_PilotLink_resetSystem </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>iSockHandle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1161</span>{</div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keywordtype">int</span> iResult = <a class="code hl_function" href="dlp_8c.html#a380c8de8b8e82c65a35d3ee6da383046">dlp_ResetSystem</a>(iSockHandle);</div>
<div class="line"><span class="lineno"> 1163</span>    <span class="keywordflow">if</span> (iResult &lt; 0) {</div>
<div class="line"><span class="lineno"> 1164</span>        <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to reset system&quot;</span>, iResult, errno);</div>
<div class="line"><span class="lineno"> 1165</span>    }</div>
<div class="line"><span class="lineno"> 1166</span>}</div>
<div class="ttc" id="adlp_8c_html_a380c8de8b8e82c65a35d3ee6da383046"><div class="ttname"><a href="dlp_8c.html#a380c8de8b8e82c65a35d3ee6da383046">dlp_ResetSystem</a></div><div class="ttdeci">int dlp_ResetSystem(int sd)</div><div class="ttdef"><b>Definition</b> dlp.c:1724</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01724">dlp_ResetSystem()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a27a2b43ed075898373b61d744a111c7e_cgraph.png" border="0" usemap="#alibjpisock_8h_a27a2b43ed075898373b61d744a111c7e_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a27a2b43ed075898373b61d744a111c7e_cgraph" id="alibjpisock_8h_a27a2b43ed075898373b61d744a111c7e_cgraph">
<area shape="rect" title=" " alt="" coords="5,236,165,277"/>
<area shape="rect" href="dlp_8c.html#a380c8de8b8e82c65a35d3ee6da383046" title=" " alt="" coords="227,144,352,170"/>
<area shape="poly" title=" " alt="" coords="128,233,247,174,249,179,130,238"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="213,319,367,344"/>
<area shape="poly" title=" " alt="" coords="144,275,239,310,237,315,142,280"/>
<area shape="poly" title=" " alt="" coords="258,145,251,135,255,126,268,120,290,117,313,120,325,126,323,131,311,125,290,123,270,125,259,129,257,135,262,142"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="444,269,518,295"/>
<area shape="poly" title=" " alt="" coords="313,168,449,258,446,263,310,172"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1134,396,1224,422"/>
<area shape="poly" title=" " alt="" coords="353,154,659,154,844,154,877,162,917,181,960,210,1005,245,1092,321,1156,383,1152,387,1088,325,1002,249,957,215,914,186,876,167,844,159,659,160,353,160"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="422,44,540,70"/>
<area shape="poly" title=" " alt="" coords="309,141,356,111,414,78,425,74,427,78,416,83,358,115,312,146"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="422,195,541,220"/>
<area shape="poly" title=" " alt="" coords="342,168,416,188,415,193,341,173"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="418,93,545,119"/>
<area shape="poly" title=" " alt="" coords="341,141,415,121,416,126,342,146"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="607,5,714,31"/>
<area shape="poly" title=" " alt="" coords="297,142,341,85,375,53,414,29,458,14,505,7,550,5,592,6,591,12,550,10,505,12,460,20,416,34,378,58,345,88,301,145"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="781,695,904,720"/>
<area shape="poly" title=" " alt="" coords="519,287,535,294,549,304,564,324,573,342,580,378,583,416,588,436,598,458,637,525,673,574,716,618,775,668,800,685,797,689,772,672,712,622,669,578,633,528,593,461,583,438,578,417,574,379,568,344,560,326,545,308,532,298,517,291"/>
<area shape="poly" title=" " alt="" coords="518,279,615,282,752,292,908,315,987,334,1063,357,1088,371,1112,386,1121,390,1119,395,1109,391,1085,376,1061,362,986,339,907,321,751,297,615,287,518,285"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="595,421,726,447"/>
<area shape="poly" title=" " alt="" coords="520,289,549,304,578,328,605,355,645,407,641,410,601,359,575,332,546,308,517,294"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="774,195,912,220"/>
<area shape="poly" title=" " alt="" coords="518,272,761,221,762,227,519,277"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="968,745,1055,771"/>
<area shape="poly" title=" " alt="" coords="889,718,954,738,952,743,887,723"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1146,696,1212,722"/>
<area shape="poly" title=" " alt="" coords="905,705,1130,706,1130,711,905,710"/>
<area shape="poly" title=" " alt="" coords="856,693,882,665,910,630,924,604,931,581,940,558,958,534,998,498,1042,468,1126,426,1129,430,1045,473,1001,502,962,537,945,561,936,583,929,606,914,633,886,668,860,696"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="978,795,1044,820"/>
<area shape="poly" title=" " alt="" coords="864,719,961,781,968,785,966,790,959,786,862,723"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1296,521,1401,547"/>
<area shape="poly" title=" " alt="" coords="1212,699,1230,693,1246,683,1275,655,1300,622,1333,560,1338,563,1304,625,1279,658,1249,687,1232,697,1214,704"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1299,696,1398,722"/>
<area shape="poly" title=" " alt="" coords="1212,706,1283,706,1283,712,1212,712"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1456,472,1561,498"/>
<area shape="poly" title=" " alt="" coords="1392,518,1449,500,1450,505,1394,523"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1449,521,1568,547"/>
<area shape="poly" title=" " alt="" coords="1401,532,1433,532,1433,537,1401,537"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1465,571,1552,596"/>
<area shape="poly" title=" " alt="" coords="1394,545,1451,563,1450,568,1392,550"/>
<area shape="poly" title=" " alt="" coords="1200,420,1319,510,1316,514,1197,424"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1146,745,1212,771"/>
<area shape="poly" title=" " alt="" coords="1044,795,1130,770,1132,775,1046,800"/>
<area shape="poly" title=" " alt="" coords="1212,750,1230,743,1246,732,1281,692,1307,645,1326,599,1338,561,1343,563,1331,601,1312,647,1285,695,1249,736,1232,747,1214,754"/>
<area shape="poly" title=" " alt="" coords="1212,746,1287,724,1288,729,1213,751"/>
<area shape="poly" title=" " alt="" coords="683,418,724,398,773,381,853,367,917,365,1063,381,1120,391,1119,396,1062,386,917,371,854,373,774,386,726,403,685,423"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="796,244,890,270"/>
<area shape="poly" title=" " alt="" coords="673,419,815,279,819,283,677,423"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="778,544,908,570"/>
<area shape="poly" title=" " alt="" coords="676,446,717,487,745,510,775,531,783,535,781,540,772,535,742,514,714,491,672,449"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="793,593,893,619"/>
<area shape="poly" title=" " alt="" coords="671,446,709,510,739,547,775,580,781,584,778,588,772,584,736,551,705,513,666,449"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="792,495,894,520"/>
<area shape="poly" title=" " alt="" coords="692,445,775,481,789,486,787,491,773,486,689,450"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="795,396,890,422"/>
<area shape="poly" title=" " alt="" coords="726,422,779,415,780,420,727,428"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="980,644,1043,670"/>
<area shape="poly" title=" " alt="" coords="671,446,725,550,755,602,775,629,821,651,872,661,921,663,964,661,964,666,921,669,871,666,820,656,772,634,751,605,720,552,666,449"/>
<area shape="poly" title=" " alt="" coords="663,420,675,383,697,332,729,277,749,252,772,229,776,226,779,231,775,234,753,255,734,280,702,334,680,385,668,422"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="803,445,883,471"/>
<area shape="poly" title=" " alt="" coords="727,440,788,448,787,454,726,445"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="966,396,1056,422"/>
<area shape="poly" title=" " alt="" coords="891,406,951,406,951,412,891,412"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1147,647,1211,672"/>
<area shape="poly" title=" " alt="" coords="1043,655,1132,656,1132,661,1043,660"/>
<area shape="poly" title=" " alt="" coords="1210,649,1246,633,1291,596,1326,558,1330,561,1295,600,1249,638,1212,654"/>
<area shape="poly" title=" " alt="" coords="1212,666,1288,689,1286,694,1211,671"/>
<area shape="poly" title=" " alt="" coords="905,218,980,240,1071,274,1164,320,1209,349,1249,382,1278,412,1302,445,1337,506,1332,508,1298,448,1274,415,1246,385,1206,353,1162,325,1068,279,978,245,903,223"/>
<area shape="poly" title=" " alt="" coords="884,461,1281,521,1280,527,883,467"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="960,548,1062,574"/>
<area shape="poly" title=" " alt="" coords="885,466,913,480,939,503,962,527,976,537,973,541,958,531,935,506,911,484,882,471"/>
<area shape="poly" title=" " alt="" coords="1063,554,1280,537,1280,542,1063,559"/>
<area shape="poly" title=" " alt="" coords="1025,545,1150,430,1154,434,1029,549"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1110,597,1248,623"/>
<area shape="poly" title=" " alt="" coords="1058,572,1119,590,1118,595,1057,577"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="614,93,707,119"/>
<area shape="poly" title=" " alt="" coords="531,68,600,87,599,92,530,73"/>
<area shape="poly" title=" " alt="" coords="542,213,781,246,780,251,541,218"/>
<area shape="poly" title=" " alt="" coords="505,192,622,124,625,129,507,196"/>
<area shape="poly" title=" " alt="" coords="545,104,599,104,599,109,545,109"/>
<area shape="poly" title=" " alt="" coords="713,29,821,64,890,91,964,123,1040,162,1115,208,1186,260,1250,319,1284,365,1311,417,1330,466,1343,506,1338,507,1325,467,1306,419,1280,368,1246,323,1183,264,1112,212,1037,167,962,128,888,96,820,69,711,34"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="438,319,524,344"/>
<area shape="poly" title=" " alt="" coords="367,329,422,329,422,334,367,334"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="415,368,547,394"/>
<area shape="poly" title=" " alt="" coords="343,342,414,361,413,366,342,348"/>
</map>
</div>

</div>
</div>
<a id="a7c1b920f19204bf4810253e2f623db74" name="a7c1b920f19204bf4810253e2f623db74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c1b920f19204bf4810253e2f623db74">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_writeAppBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jint JNICALL Java_org_gnu_pilotlink_PilotLink_writeAppBlock </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>dbhandle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jbyteArray</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  449</span>                                                                                         {</div>
<div class="line"><span class="lineno">  450</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  451</span><span class="comment">        char buffer[MAX_RESOURCE_SIZE];</span></div>
<div class="line"><span class="lineno">  452</span><span class="comment">        env-&gt;GetByteArrayRegion(data,0,length,(jbyte*)buffer);</span></div>
<div class="line"><span class="lineno">  453</span><span class="comment">        return dlp_WriteAppBlock(handle,dbhandle,buffer,length);</span></div>
<div class="line"><span class="lineno">  454</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  455</span>    jbyte * <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>;</div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordtype">int</span> iResult = 0;</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>    <span class="comment">/* Allocate memory for copy of app block */</span></div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">if</span> ((<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> = (jbyte *)malloc(length * <span class="keyword">sizeof</span>(jbyte))) != NULL) {</div>
<div class="line"><span class="lineno">  460</span>        env-&gt;GetByteArrayRegion(data, 0, length, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno">  461</span>        iResult = <a class="code hl_function" href="dlp_8c.html#aee13b99d71e202b8b040480cde08bc3d">dlp_WriteAppBlock</a>(handle, dbhandle, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, length);</div>
<div class="line"><span class="lineno">  462</span>        <span class="keywordflow">if</span> (iResult &lt; 0) {</div>
<div class="line"><span class="lineno">  463</span>            <span class="comment">/* Throw Java exception to signal error */</span></div>
<div class="line"><span class="lineno">  464</span>            <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to write app-block&quot;</span>, iResult, errno);</div>
<div class="line"><span class="lineno">  465</span>        }</div>
<div class="line"><span class="lineno">  466</span>        free(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno">  467</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  468</span>        <a class="code hl_function" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b">postJavaException</a>(env,</div>
<div class="line"><span class="lineno">  469</span>            <span class="stringliteral">&quot;org/gnu/pilotlink/PilotLinkException&quot;</span>,</div>
<div class="line"><span class="lineno">  470</span>            <span class="stringliteral">&quot;Unable to allocate memory for app block&quot;</span>);</div>
<div class="line"><span class="lineno">  471</span>    }</div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">return</span> iResult;</div>
<div class="line"><span class="lineno">  473</span>}</div>
<div class="ttc" id="adlp_8c_html_aee13b99d71e202b8b040480cde08bc3d"><div class="ttname"><a href="dlp_8c.html#aee13b99d71e202b8b040480cde08bc3d">dlp_WriteAppBlock</a></div><div class="ttdeci">int dlp_WriteAppBlock(int sd, int dbhandle, const void *data, size_t length)</div><div class="ttdef"><b>Definition</b> dlp.c:2977</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>, <a class="el" href="#l02977">dlp_WriteAppBlock()</a>, <a class="el" href="#l01255">postJavaException()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a7c1b920f19204bf4810253e2f623db74_cgraph.png" border="0" usemap="#alibjpisock_8h_a7c1b920f19204bf4810253e2f623db74_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a7c1b920f19204bf4810253e2f623db74_cgraph" id="alibjpisock_8h_a7c1b920f19204bf4810253e2f623db74_cgraph">
<area shape="rect" title=" " alt="" coords="5,284,175,325"/>
<area shape="rect" href="dlp_8c.html#aee13b99d71e202b8b040480cde08bc3d" title=" " alt="" coords="234,144,366,170"/>
<area shape="poly" title=" " alt="" coords="119,282,266,177,269,181,122,286"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="425,319,557,344"/>
<area shape="poly" title=" " alt="" coords="175,308,410,323,410,329,175,313"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="223,343,377,368"/>
<area shape="poly" title=" " alt="" coords="176,323,230,336,228,341,174,328"/>
<area shape="poly" title=" " alt="" coords="268,145,261,135,265,126,278,120,300,117,323,120,335,126,333,131,321,125,300,123,280,125,269,129,267,135,272,142"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="454,269,528,295"/>
<area shape="poly" title=" " alt="" coords="323,168,459,258,456,263,320,172"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1144,396,1234,422"/>
<area shape="poly" title=" " alt="" coords="366,154,669,154,854,154,887,162,927,181,970,210,1015,245,1102,321,1166,383,1162,387,1098,325,1012,249,967,215,924,186,886,167,854,159,669,160,366,160"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="432,44,550,70"/>
<area shape="poly" title=" " alt="" coords="319,141,366,111,424,78,435,74,437,78,426,83,368,115,322,146"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="432,195,551,220"/>
<area shape="poly" title=" " alt="" coords="352,168,426,188,425,193,351,173"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="428,93,555,119"/>
<area shape="poly" title=" " alt="" coords="351,141,425,121,426,126,352,146"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="617,5,724,31"/>
<area shape="poly" title=" " alt="" coords="307,142,351,85,385,53,424,29,468,14,515,7,560,5,602,6,601,12,560,10,515,12,470,20,426,34,388,58,355,88,311,145"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="791,695,914,720"/>
<area shape="poly" title=" " alt="" coords="529,287,545,294,559,304,574,324,583,342,590,378,593,416,598,436,608,458,647,525,683,574,726,618,785,668,810,685,807,689,782,672,722,622,679,578,643,528,603,461,593,438,588,417,584,379,578,344,570,326,555,308,542,298,527,291"/>
<area shape="poly" title=" " alt="" coords="528,279,625,282,762,292,918,315,997,334,1073,357,1098,371,1122,386,1131,390,1129,395,1119,391,1095,376,1071,362,996,339,917,321,761,297,625,287,528,285"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="605,421,736,447"/>
<area shape="poly" title=" " alt="" coords="530,289,559,304,588,328,615,355,655,407,651,410,611,359,585,332,556,308,527,294"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="784,195,922,220"/>
<area shape="poly" title=" " alt="" coords="528,272,771,221,772,227,529,277"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="978,745,1065,771"/>
<area shape="poly" title=" " alt="" coords="899,718,964,738,962,743,897,723"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1156,696,1222,722"/>
<area shape="poly" title=" " alt="" coords="915,705,1140,706,1140,711,915,710"/>
<area shape="poly" title=" " alt="" coords="866,693,892,665,920,630,934,604,941,581,950,558,968,534,1008,498,1052,468,1136,426,1139,430,1055,473,1011,502,972,537,955,561,946,583,939,606,924,633,896,668,870,696"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="988,795,1054,820"/>
<area shape="poly" title=" " alt="" coords="874,719,971,781,978,785,976,790,969,786,872,723"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1306,521,1411,547"/>
<area shape="poly" title=" " alt="" coords="1222,699,1240,693,1256,683,1285,655,1310,622,1343,560,1348,563,1314,625,1289,658,1259,687,1242,697,1224,704"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1309,696,1408,722"/>
<area shape="poly" title=" " alt="" coords="1222,706,1293,706,1293,712,1222,712"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1466,472,1571,498"/>
<area shape="poly" title=" " alt="" coords="1402,518,1459,500,1460,505,1404,523"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1459,521,1578,547"/>
<area shape="poly" title=" " alt="" coords="1411,532,1443,532,1443,537,1411,537"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1475,571,1562,596"/>
<area shape="poly" title=" " alt="" coords="1404,545,1461,563,1460,568,1402,550"/>
<area shape="poly" title=" " alt="" coords="1210,420,1329,510,1326,514,1207,424"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1156,745,1222,771"/>
<area shape="poly" title=" " alt="" coords="1054,795,1140,770,1142,775,1056,800"/>
<area shape="poly" title=" " alt="" coords="1222,750,1240,743,1256,732,1291,692,1317,645,1336,599,1348,561,1353,563,1341,601,1322,647,1295,695,1259,736,1242,747,1224,754"/>
<area shape="poly" title=" " alt="" coords="1222,746,1297,724,1298,729,1223,751"/>
<area shape="poly" title=" " alt="" coords="693,418,734,398,783,381,863,367,927,365,1073,381,1130,391,1129,396,1072,386,927,371,864,373,784,386,736,403,695,423"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="806,244,900,270"/>
<area shape="poly" title=" " alt="" coords="683,419,825,279,829,283,687,423"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="788,544,918,570"/>
<area shape="poly" title=" " alt="" coords="686,446,727,487,755,510,785,531,793,535,791,540,782,535,752,514,724,491,682,449"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="803,593,903,619"/>
<area shape="poly" title=" " alt="" coords="681,446,719,510,749,547,785,580,791,584,788,588,782,584,746,551,715,513,676,449"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="802,495,904,520"/>
<area shape="poly" title=" " alt="" coords="702,445,785,481,799,486,797,491,783,486,699,450"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="805,396,900,422"/>
<area shape="poly" title=" " alt="" coords="736,422,789,415,790,420,737,428"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="990,644,1053,670"/>
<area shape="poly" title=" " alt="" coords="681,446,735,550,765,602,785,629,831,651,882,661,931,663,974,661,974,666,931,669,881,666,830,656,782,634,761,605,730,552,676,449"/>
<area shape="poly" title=" " alt="" coords="673,420,685,383,707,332,739,277,759,252,782,229,786,226,789,231,785,234,763,255,744,280,712,334,690,385,678,422"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="813,445,893,471"/>
<area shape="poly" title=" " alt="" coords="737,440,798,448,797,454,736,445"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="976,396,1066,422"/>
<area shape="poly" title=" " alt="" coords="901,406,961,406,961,412,901,412"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1157,647,1221,672"/>
<area shape="poly" title=" " alt="" coords="1053,655,1142,656,1142,661,1053,660"/>
<area shape="poly" title=" " alt="" coords="1220,649,1256,633,1301,596,1336,558,1340,561,1305,600,1259,638,1222,654"/>
<area shape="poly" title=" " alt="" coords="1222,666,1298,689,1296,694,1221,671"/>
<area shape="poly" title=" " alt="" coords="915,218,990,240,1081,274,1174,320,1219,349,1259,382,1288,412,1312,445,1347,506,1342,508,1308,448,1284,415,1256,385,1216,353,1172,325,1078,279,988,245,913,223"/>
<area shape="poly" title=" " alt="" coords="894,461,1291,521,1290,527,893,467"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="970,548,1072,574"/>
<area shape="poly" title=" " alt="" coords="895,466,923,480,949,503,972,527,986,537,983,541,968,531,945,506,921,484,892,471"/>
<area shape="poly" title=" " alt="" coords="1073,554,1290,537,1290,542,1073,559"/>
<area shape="poly" title=" " alt="" coords="1035,545,1160,430,1164,434,1039,549"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1120,597,1258,623"/>
<area shape="poly" title=" " alt="" coords="1068,572,1129,590,1128,595,1067,577"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="624,93,717,119"/>
<area shape="poly" title=" " alt="" coords="541,68,610,87,609,92,540,73"/>
<area shape="poly" title=" " alt="" coords="552,213,791,246,790,251,551,218"/>
<area shape="poly" title=" " alt="" coords="515,192,632,124,635,129,517,196"/>
<area shape="poly" title=" " alt="" coords="555,104,609,104,609,109,555,109"/>
<area shape="poly" title=" " alt="" coords="723,29,831,64,900,91,974,123,1050,162,1125,208,1196,260,1260,319,1294,365,1321,417,1340,466,1353,506,1348,507,1335,467,1316,419,1290,368,1256,323,1193,264,1122,212,1047,167,972,128,898,96,830,69,721,34"/>
<area shape="poly" title=" " alt="" coords="377,343,410,339,410,344,378,348"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="448,368,534,394"/>
<area shape="poly" title=" " alt="" coords="378,363,433,371,432,376,377,368"/>
</map>
</div>

</div>
</div>
<a id="a6a14c8f9370f9d6dea172999f41a71da" name="a6a14c8f9370f9d6dea172999f41a71da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a14c8f9370f9d6dea172999f41a71da">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_writeRecord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT jint JNICALL Java_org_gnu_pilotlink_PilotLink_writeRecord </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>db</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>record</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  738</span>                                                                   {</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>      jlong <span class="keywordtype">id</span>=0;</div>
<div class="line"><span class="lineno">  741</span>      jclass cls=env-&gt;GetObjectClass(<a class="code hl_struct" href="structrecord.html">record</a>);</div>
<div class="line"><span class="lineno">  742</span>      jmethodID mid=env-&gt;GetMethodID(cls,<span class="stringliteral">&quot;getCategory&quot;</span>,<span class="stringliteral">&quot;()I&quot;</span>);</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>      <span class="keywordflow">if</span> (mid==NULL) { printf(<span class="stringliteral">&quot;Error getting mid!&quot;</span>); <span class="keywordflow">return</span> -1; }</div>
<div class="line"><span class="lineno">  745</span>      jint cat=env-&gt;CallIntMethod(<a class="code hl_struct" href="structrecord.html">record</a>,mid);</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>      jmethodID mid2=env-&gt;GetMethodID(cls,<span class="stringliteral">&quot;getId&quot;</span>,<span class="stringliteral">&quot;()J&quot;</span>);</div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span>      <span class="keywordtype">id</span>=env-&gt;CallLongMethod(<a class="code hl_struct" href="structrecord.html">record</a>,mid2, NULL);</div>
<div class="line"><span class="lineno">  750</span>      <span class="keywordflow">if</span> (<span class="keywordtype">id</span>==0) {</div>
<div class="line"><span class="lineno">  751</span>          printf(<span class="stringliteral">&quot;Creating new entry!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  752</span>      }</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>      mid=env-&gt;GetMethodID(cls,<span class="stringliteral">&quot;getAttribs&quot;</span>,<span class="stringliteral">&quot;()I&quot;</span>);</div>
<div class="line"><span class="lineno">  755</span>      jint attr=env-&gt;CallIntMethod(<a class="code hl_struct" href="structrecord.html">record</a>,mid);</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>      mid=env-&gt;GetMethodID(cls,<span class="stringliteral">&quot;getSize&quot;</span>,<span class="stringliteral">&quot;()I&quot;</span>);</div>
<div class="line"><span class="lineno">  758</span>      jint <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>=env-&gt;CallIntMethod(<a class="code hl_struct" href="structrecord.html">record</a>,mid);</div>
<div class="line"><span class="lineno">  759</span>      printf(<span class="stringliteral">&quot;Got size: %d\n&quot;</span>,<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  760</span>      <span class="keywordtype">char</span> <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>[<a class="code hl_define" href="libjpisock_8c.html#a52dae0ee4063edd7dcc7485bb996765b">MAX_RESOURCE_SIZE</a>];</div>
<div class="line"><span class="lineno">  761</span>      mid=env-&gt;GetMethodID(cls,<span class="stringliteral">&quot;getBuffer&quot;</span>,<span class="stringliteral">&quot;()[B&quot;</span>);</div>
<div class="line"><span class="lineno">  762</span>      jbyteArray arr=(jbyteArray)env-&gt;CallObjectMethod(<a class="code hl_struct" href="structrecord.html">record</a>,mid);</div>
<div class="line"><span class="lineno">  763</span>      env-&gt;GetByteArrayRegion(arr,0,<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>,(jbyte*)<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno">  764</span>      recordid_t i=0;</div>
<div class="line"><span class="lineno">  765</span>      <span class="keywordtype">int</span> ret=<a class="code hl_function" href="dlp_8c.html#af12f6ef29f7efe7dd8d4e25f54535c02">dlp_WriteRecord</a>(handle,<a class="code hl_struct" href="structdb.html">db</a>,attr, <span class="keywordtype">id</span>, cat, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>,<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>,&amp;i);</div>
<div class="line"><span class="lineno">  766</span>      <span class="keywordflow">if</span> (<span class="keywordtype">id</span>==0 &amp;&amp; ret&gt;0) {</div>
<div class="line"><span class="lineno">  767</span>          mid=env-&gt;GetMethodID(cls,<span class="stringliteral">&quot;setId&quot;</span>,<span class="stringliteral">&quot;(J)V&quot;</span>);</div>
<div class="line"><span class="lineno">  768</span>          env-&gt;CallVoidMethod(<a class="code hl_struct" href="structrecord.html">record</a>,mid,(jlong)i);</div>
<div class="line"><span class="lineno">  769</span>      }</div>
<div class="line"><span class="lineno">  770</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>   </div>
<div class="line"><span class="lineno">  774</span>}</div>
<div class="ttc" id="adlp_8c_html_af12f6ef29f7efe7dd8d4e25f54535c02"><div class="ttname"><a href="dlp_8c.html#af12f6ef29f7efe7dd8d4e25f54535c02">dlp_WriteRecord</a></div><div class="ttdeci">int dlp_WriteRecord(int sd, int dbhandle, int flags, recordid_t recID, int catID, const void *data, size_t length, recordid_t *pNewRecID)</div><div class="ttdef"><b>Definition</b> dlp.c:2510</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>, <a class="el" href="#l02510">dlp_WriteRecord()</a>, <a class="el" href="#l00022">MAX_RESOURCE_SIZE</a>, and <a class="el" href="#l00081">size</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a6a14c8f9370f9d6dea172999f41a71da_cgraph.png" border="0" usemap="#alibjpisock_8h_a6a14c8f9370f9d6dea172999f41a71da_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a6a14c8f9370f9d6dea172999f41a71da_cgraph" id="alibjpisock_8h_a6a14c8f9370f9d6dea172999f41a71da_cgraph">
<area shape="rect" title=" " alt="" coords="5,649,161,690"/>
<area shape="rect" href="dlp_8c.html#af12f6ef29f7efe7dd8d4e25f54535c02" title=" " alt="" coords="209,657,326,682"/>
<area shape="poly" title=" " alt="" coords="161,667,193,667,193,672,161,672"/>
<area shape="poly" title=" " alt="" coords="238,658,233,648,236,638,248,632,267,630,288,633,299,639,296,644,286,638,267,635,250,637,240,642,238,647,243,655"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="401,309,474,334"/>
<area shape="poly" title=" " alt="" coords="273,655,421,347,426,349,277,657"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1088,309,1178,334"/>
<area shape="poly" title=" " alt="" coords="267,656,270,602,280,517,298,413,328,302,348,247,371,194,399,146,431,103,469,66,511,39,559,21,613,15,798,15,863,10,916,3,941,4,966,9,991,21,1018,41,1039,64,1050,88,1053,112,1053,136,1051,188,1055,215,1067,244,1085,272,1107,296,1103,299,1081,275,1062,247,1050,216,1046,188,1048,136,1048,112,1044,90,1034,67,1015,45,989,25,964,14,941,9,917,8,863,15,798,20,613,20,560,26,514,44,472,71,435,106,403,149,376,197,353,249,333,303,303,414,285,518,276,603,272,657"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="757,658,837,684"/>
<area shape="poly" title=" " alt="" coords="326,655,374,648,527,634,594,634,680,641,742,653,741,658,679,647,594,639,527,639,374,653,327,660"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="379,757,496,782"/>
<area shape="poly" title=" " alt="" coords="286,681,326,711,375,743,384,748,382,752,373,748,323,716,283,685"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="378,707,497,733"/>
<area shape="poly" title=" " alt="" coords="314,680,379,700,377,705,312,685"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="374,806,501,832"/>
<area shape="poly" title=" " alt="" coords="279,681,316,735,344,765,376,793,381,796,378,801,372,797,340,769,312,738,274,684"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="561,657,668,682"/>
<area shape="poly" title=" " alt="" coords="326,667,545,667,545,672,326,672"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="735,157,858,182"/>
<area shape="poly" title=" " alt="" coords="470,305,749,186,751,191,472,310"/>
<area shape="poly" title=" " alt="" coords="475,319,1073,319,1073,324,475,324"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="549,485,680,510"/>
<area shape="poly" title=" " alt="" coords="454,333,591,472,588,475,450,337"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="728,258,866,284"/>
<area shape="poly" title=" " alt="" coords="474,312,549,300,712,278,713,283,550,305,475,318"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="922,55,1009,81"/>
<area shape="poly" title=" " alt="" coords="819,154,928,87,931,92,822,158"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1100,158,1166,184"/>
<area shape="poly" title=" " alt="" coords="848,153,914,141,965,138,1017,141,1085,155,1084,160,1016,147,965,143,914,147,849,159"/>
<area shape="poly" title=" " alt="" coords="829,180,1090,299,1087,304,827,185"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="932,157,998,182"/>
<area shape="poly" title=" " alt="" coords="859,167,917,167,917,172,859,172"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1250,333,1355,358"/>
<area shape="poly" title=" " alt="" coords="1168,175,1186,182,1203,193,1233,222,1258,255,1292,317,1287,319,1254,258,1229,225,1200,197,1184,187,1166,180"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1253,207,1352,233"/>
<area shape="poly" title=" " alt="" coords="1167,178,1242,200,1241,205,1166,183"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1410,283,1515,309"/>
<area shape="poly" title=" " alt="" coords="1346,329,1403,312,1404,317,1348,335"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1403,333,1522,358"/>
<area shape="poly" title=" " alt="" coords="1355,343,1387,343,1387,348,1355,348"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1419,382,1506,408"/>
<area shape="poly" title=" " alt="" coords="1348,356,1405,375,1404,380,1346,361"/>
<area shape="poly" title=" " alt="" coords="1179,325,1235,333,1234,338,1178,330"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1100,207,1166,233"/>
<area shape="poly" title=" " alt="" coords="1000,177,1086,203,1084,208,998,182"/>
<area shape="poly" title=" " alt="" coords="1168,231,1203,250,1246,285,1281,319,1277,323,1243,289,1200,254,1165,235"/>
<area shape="poly" title=" " alt="" coords="1166,217,1237,217,1237,223,1166,223"/>
<area shape="poly" title=" " alt="" coords="629,482,671,450,727,418,793,395,887,371,1073,330,1074,336,888,376,795,400,729,423,674,454,633,486"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="750,707,844,733"/>
<area shape="poly" title=" " alt="" coords="622,510,635,546,657,596,688,648,707,673,729,694,737,700,734,704,726,698,703,676,684,651,652,598,630,548,617,512"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="732,461,862,486"/>
<area shape="poly" title=" " alt="" coords="680,486,716,481,717,487,681,491"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="747,510,847,536"/>
<area shape="poly" title=" " alt="" coords="681,504,732,511,731,516,680,509"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="746,559,848,585"/>
<area shape="poly" title=" " alt="" coords="645,508,729,546,743,551,741,556,727,551,643,513"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="749,609,844,634"/>
<area shape="poly" title=" " alt="" coords="630,509,671,551,699,574,729,595,737,600,735,604,726,600,696,579,668,555,626,513"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="934,410,997,436"/>
<area shape="poly" title=" " alt="" coords="639,482,680,462,727,446,777,435,829,427,918,421,918,426,829,433,778,440,728,451,682,467,641,486"/>
<area shape="poly" title=" " alt="" coords="624,483,726,352,773,294,777,298,730,355,628,486"/>
<area shape="poly" title=" " alt="" coords="625,509,663,574,693,612,729,645,744,653,741,658,726,649,689,615,659,577,620,512"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="920,509,1010,534"/>
<area shape="poly" title=" " alt="" coords="844,606,865,595,879,583,888,570,898,557,912,543,917,540,920,544,916,548,902,561,893,574,883,586,867,600,846,611"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1101,358,1165,384"/>
<area shape="poly" title=" " alt="" coords="996,411,1086,382,1087,387,998,416"/>
<area shape="poly" title=" " alt="" coords="1165,363,1234,353,1235,358,1166,369"/>
<area shape="poly" title=" " alt="" coords="1164,361,1200,345,1226,322,1250,296,1284,245,1289,248,1254,299,1230,326,1203,349,1166,366"/>
<area shape="poly" title=" " alt="" coords="867,264,937,263,1022,266,1113,276,1202,294,1237,306,1268,322,1266,327,1235,311,1201,299,1112,281,1021,272,937,269,867,270"/>
<area shape="poly" title=" " alt="" coords="837,671,912,672,1008,663,1059,652,1109,636,1157,614,1200,585,1223,562,1242,536,1270,477,1287,420,1295,373,1301,374,1292,421,1275,479,1246,539,1227,566,1203,589,1160,619,1111,641,1060,657,1009,668,912,677,837,677"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="914,558,1016,584"/>
<area shape="poly" title=" " alt="" coords="836,657,865,644,904,619,937,592,940,596,907,623,867,649,839,662"/>
<area shape="poly" title=" " alt="" coords="1017,576,1060,578,1108,575,1156,565,1200,543,1220,526,1238,506,1265,460,1283,412,1293,373,1299,374,1288,414,1270,462,1242,509,1224,530,1203,548,1158,570,1108,581,1060,583,1017,581"/>
<area shape="poly" title=" " alt="" coords="1002,555,1014,545,1030,519,1037,494,1036,445,1035,420,1036,395,1045,370,1062,344,1073,335,1076,339,1066,347,1049,372,1042,396,1040,420,1042,445,1042,495,1035,521,1018,548,1006,559"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1064,507,1202,533"/>
<area shape="poly" title=" " alt="" coords="1010,555,1073,535,1074,540,1011,560"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="568,758,661,784"/>
<area shape="poly" title=" " alt="" coords="497,767,553,768,553,773,497,773"/>
<area shape="poly" title=" " alt="" coords="498,717,734,717,734,723,498,723"/>
<area shape="poly" title=" " alt="" coords="486,731,554,751,553,756,484,736"/>
<area shape="poly" title=" " alt="" coords="487,803,553,785,554,790,489,808"/>
<area shape="poly" title=" " alt="" coords="631,681,673,714,699,731,729,743,801,763,867,777,927,782,983,778,1036,765,1090,741,1143,705,1200,657,1227,625,1249,589,1266,549,1279,509,1293,433,1298,373,1303,374,1298,433,1284,511,1271,551,1254,591,1232,628,1204,661,1147,709,1092,746,1038,770,984,784,927,787,866,782,800,768,727,748,697,735,669,719,628,685"/>
</map>
</div>

</div>
</div>
<a id="ae614a16d2c04fe833c53e9e9b0ce39ac" name="ae614a16d2c04fe833c53e9e9b0ce39ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae614a16d2c04fe833c53e9e9b0ce39ac">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_writeResource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_gnu_pilotlink_PilotLink_writeResource </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>iSockHandle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>iDBHandle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>pRecord</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1090</span>{</div>
<div class="line"><span class="lineno"> 1091</span>    jlong iRsrcID;              <span class="comment">/* Resource ID for record */</span></div>
<div class="line"><span class="lineno"> 1092</span>    jint iRsrcType;             <span class="comment">/* Resource type for record */</span></div>
<div class="line"><span class="lineno"> 1093</span>    jint iRsrcSize;             <span class="comment">/* Actual resource size */</span></div>
<div class="line"><span class="lineno"> 1094</span>    jbyte * pRsrcData = NULL;   <span class="comment">/* Buffer for resource data */</span></div>
<div class="line"><span class="lineno"> 1095</span> </div>
<div class="line"><span class="lineno"> 1096</span>    jclass pRecordClass;        <span class="comment">/* Java class for record */</span></div>
<div class="line"><span class="lineno"> 1097</span>    jmethodID pRecordMethod;    <span class="comment">/* Java instance method for record */</span></div>
<div class="line"><span class="lineno"> 1098</span>    jbyteArray pDataArray;      <span class="comment">/* Java array for resource data */</span></div>
<div class="line"><span class="lineno"> 1099</span>    jint iResult = -1;          <span class="comment">/* Result of library call */</span></div>
<div class="line"><span class="lineno"> 1100</span>    <span class="keywordtype">int</span> bProceed = 1;</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>    <span class="comment">/* Get reference to record class */</span></div>
<div class="line"><span class="lineno"> 1103</span>    pRecordClass = env-&gt;GetObjectClass(pRecord);</div>
<div class="line"><span class="lineno"> 1104</span> </div>
<div class="line"><span class="lineno"> 1105</span>    <span class="comment">/* Find out required attributes for resource write */</span></div>
<div class="line"><span class="lineno"> 1106</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno"> 1107</span>        <span class="comment">/* Find out category (resource type) */</span></div>
<div class="line"><span class="lineno"> 1108</span>        <span class="keywordflow">if</span> ((pRecordMethod = env-&gt;GetMethodID(pRecordClass, <span class="stringliteral">&quot;getCategory&quot;</span>, <span class="stringliteral">&quot;()I&quot;</span>)) != NULL) {</div>
<div class="line"><span class="lineno"> 1109</span>            iRsrcType = env-&gt;CallIntMethod(pRecord, pRecordMethod);</div>
<div class="line"><span class="lineno"> 1110</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1111</span>            <span class="comment">/* Method lookup failed */</span></div>
<div class="line"><span class="lineno"> 1112</span>            bProceed = 0;</div>
<div class="line"><span class="lineno"> 1113</span>        }</div>
<div class="line"><span class="lineno"> 1114</span>    }</div>
<div class="line"><span class="lineno"> 1115</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno"> 1116</span>        <span class="comment">/* Find out resource ID */</span></div>
<div class="line"><span class="lineno"> 1117</span>        <span class="keywordflow">if</span> ((pRecordMethod = env-&gt;GetMethodID(pRecordClass, <span class="stringliteral">&quot;getId&quot;</span>, <span class="stringliteral">&quot;()J&quot;</span>)) != NULL) {</div>
<div class="line"><span class="lineno"> 1118</span>            iRsrcID = env-&gt;CallLongMethod(pRecord, pRecordMethod);</div>
<div class="line"><span class="lineno"> 1119</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1120</span>            <span class="comment">/* Method lookup failed */</span></div>
<div class="line"><span class="lineno"> 1121</span>            bProceed = 0;</div>
<div class="line"><span class="lineno"> 1122</span>        }</div>
<div class="line"><span class="lineno"> 1123</span>    }</div>
<div class="line"><span class="lineno"> 1124</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno"> 1125</span>        <span class="comment">/* Find out resource size &amp;&amp; allocate memory */</span></div>
<div class="line"><span class="lineno"> 1126</span>        <span class="keywordflow">if</span> ((pRecordMethod = env-&gt;GetMethodID(pRecordClass, <span class="stringliteral">&quot;getSize&quot;</span>, <span class="stringliteral">&quot;()I&quot;</span>)) != NULL) {</div>
<div class="line"><span class="lineno"> 1127</span>            iRsrcSize = env-&gt;CallIntMethod(pRecord, pRecordMethod);</div>
<div class="line"><span class="lineno"> 1128</span>            <span class="keywordflow">if</span> (iRsrcSize &gt; 0) pRsrcData = (jbyte *)malloc(iRsrcSize * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div>
<div class="line"><span class="lineno"> 1129</span>            <span class="keywordflow">if</span> (pRsrcData == NULL) {</div>
<div class="line"><span class="lineno"> 1130</span>                <a class="code hl_function" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b">postJavaException</a>(env,</div>
<div class="line"><span class="lineno"> 1131</span>                    <span class="stringliteral">&quot;org/gnu/pilotlink/PilotLinkException&quot;</span>,</div>
<div class="line"><span class="lineno"> 1132</span>                    <span class="stringliteral">&quot;Unable to allocate buffer for copy of resource&quot;</span>);</div>
<div class="line"><span class="lineno"> 1133</span>                bProceed = 0;</div>
<div class="line"><span class="lineno"> 1134</span>            }</div>
<div class="line"><span class="lineno"> 1135</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1136</span>            <span class="comment">/* Method lookup failed */</span></div>
<div class="line"><span class="lineno"> 1137</span>            bProceed = 0;</div>
<div class="line"><span class="lineno"> 1138</span>        }</div>
<div class="line"><span class="lineno"> 1139</span>    }</div>
<div class="line"><span class="lineno"> 1140</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno"> 1141</span>        <span class="comment">/* Get copy of resource data in allocated memory */</span></div>
<div class="line"><span class="lineno"> 1142</span>        <span class="keywordflow">if</span> ((pRecordMethod = env-&gt;GetMethodID(pRecordClass, <span class="stringliteral">&quot;getBuffer&quot;</span>, <span class="stringliteral">&quot;()[B&quot;</span>)) != NULL) {</div>
<div class="line"><span class="lineno"> 1143</span>            pDataArray = (jbyteArray)env-&gt;CallObjectMethod(pRecord, pRecordMethod);</div>
<div class="line"><span class="lineno"> 1144</span>            env-&gt;GetByteArrayRegion(pDataArray, 0, iRsrcSize, pRsrcData);</div>
<div class="line"><span class="lineno"> 1145</span>            iResult = <a class="code hl_function" href="dlp_8c.html#a965685bfbf20d6e453ddaca2422575e7">dlp_WriteResource</a>(iSockHandle, iDBHandle, iRsrcType, iRsrcID,</div>
<div class="line"><span class="lineno"> 1146</span>                pRsrcData, iRsrcSize);</div>
<div class="line"><span class="lineno"> 1147</span>            <span class="keywordflow">if</span> (iResult &lt; 0) {</div>
<div class="line"><span class="lineno"> 1148</span>                <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to write resource&quot;</span>, iResult, errno);</div>
<div class="line"><span class="lineno"> 1149</span>            }</div>
<div class="line"><span class="lineno"> 1150</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1151</span>            <span class="comment">/* Method lookup failed */</span></div>
<div class="line"><span class="lineno"> 1152</span>            bProceed = 0;</div>
<div class="line"><span class="lineno"> 1153</span>        }</div>
<div class="line"><span class="lineno"> 1154</span>    }</div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>    <span class="keywordflow">if</span> (pRsrcData != NULL) free(pRsrcData);</div>
<div class="line"><span class="lineno"> 1157</span>}</div>
<div class="ttc" id="adlp_8c_html_a965685bfbf20d6e453ddaca2422575e7"><div class="ttname"><a href="dlp_8c.html#a965685bfbf20d6e453ddaca2422575e7">dlp_WriteResource</a></div><div class="ttdeci">int dlp_WriteResource(int sd, int dbhandle, unsigned long type, int resID, const void *data, size_t length)</div><div class="ttdef"><b>Definition</b> dlp.c:2845</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l02845">dlp_WriteResource()</a>, <a class="el" href="#l01255">postJavaException()</a>, and <a class="el" href="#l01217">postPilotLinkException()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_ae614a16d2c04fe833c53e9e9b0ce39ac_cgraph.png" border="0" usemap="#alibjpisock_8h_ae614a16d2c04fe833c53e9e9b0ce39ac_cgraph" alt=""/></div>
<map name="alibjpisock_8h_ae614a16d2c04fe833c53e9e9b0ce39ac_cgraph" id="alibjpisock_8h_ae614a16d2c04fe833c53e9e9b0ce39ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,842,175,882"/>
<area shape="rect" href="dlp_8c.html#a965685bfbf20d6e453ddaca2422575e7" title=" " alt="" coords="234,661,366,687"/>
<area shape="poly" title=" " alt="" coords="113,839,271,696,275,699,116,843"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="434,876,566,902"/>
<area shape="poly" title=" " alt="" coords="175,865,419,881,419,886,175,870"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="223,900,377,926"/>
<area shape="poly" title=" " alt="" coords="176,880,230,893,228,898,174,885"/>
<area shape="poly" title=" " alt="" coords="266,662,260,653,264,643,277,637,300,635,324,637,337,644,334,649,323,642,300,640,279,642,267,647,265,652,271,659"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="464,309,537,335"/>
<area shape="poly" title=" " alt="" coords="306,659,482,347,486,350,311,662"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1162,359,1252,384"/>
<area shape="poly" title=" " alt="" coords="316,659,363,627,393,610,424,597,496,577,554,570,687,572,872,572,937,567,987,552,1033,526,1089,489,1117,467,1144,443,1185,395,1189,399,1147,446,1121,472,1092,494,1036,531,989,557,938,572,872,577,687,577,554,576,497,583,426,602,395,615,365,631,319,663"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="831,460,911,486"/>
<area shape="poly" title=" " alt="" coords="309,659,354,607,387,577,424,553,474,531,527,513,635,488,735,475,815,470,815,476,736,480,636,493,529,518,476,536,426,558,390,582,358,611,313,663"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="442,612,559,638"/>
<area shape="poly" title=" " alt="" coords="355,658,429,639,431,645,356,663"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="440,711,560,736"/>
<area shape="poly" title=" " alt="" coords="356,685,431,704,429,709,355,690"/>
<area shape="rect" href="dlp_8c.html#afe306b7b3888367eebf1222196b1b815" title=" " alt="" coords="425,760,575,801"/>
<area shape="poly" title=" " alt="" coords="323,685,426,746,435,751,433,756,424,751,320,690"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="436,661,564,687"/>
<area shape="poly" title=" " alt="" coords="366,672,421,672,421,677,366,677"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="635,819,742,844"/>
<area shape="poly" title=" " alt="" coords="311,686,327,714,353,749,386,783,426,810,474,828,524,837,574,839,619,838,619,843,574,844,524,842,473,833,424,815,383,787,349,752,323,717,306,689"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="809,60,932,86"/>
<area shape="poly" title=" " alt="" coords="511,307,557,257,622,199,707,140,801,94,813,89,815,94,803,99,710,145,625,203,561,261,515,311"/>
<area shape="poly" title=" " alt="" coords="519,333,564,369,631,415,713,461,757,481,802,496,856,504,910,502,964,491,1015,475,1064,454,1107,432,1174,391,1177,396,1110,437,1066,459,1017,480,965,496,910,507,855,509,801,501,756,486,711,466,629,420,561,373,515,338"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="623,309,754,335"/>
<area shape="poly" title=" " alt="" coords="537,320,608,320,608,325,537,325"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="802,109,940,135"/>
<area shape="poly" title=" " alt="" coords="525,306,830,140,833,145,527,311"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="996,107,1083,132"/>
<area shape="poly" title=" " alt="" coords="921,84,981,101,980,106,919,89"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1174,57,1240,83"/>
<area shape="poly" title=" " alt="" coords="933,70,1158,68,1158,73,933,75"/>
<area shape="poly" title=" " alt="" coords="928,84,942,95,959,121,967,146,969,172,967,196,965,221,966,245,973,269,990,294,1015,311,1055,328,1148,355,1147,360,1054,333,1013,316,986,297,969,272,961,246,959,221,961,196,963,172,962,147,955,123,938,99,925,88"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="1006,5,1072,31"/>
<area shape="poly" title=" " alt="" coords="912,57,990,31,992,36,914,62"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1324,183,1429,208"/>
<area shape="poly" title=" " alt="" coords="1242,76,1277,92,1323,129,1358,168,1354,172,1319,133,1274,96,1239,81"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1327,57,1426,83"/>
<area shape="poly" title=" " alt="" coords="1240,68,1311,68,1311,73,1240,73"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1484,133,1589,159"/>
<area shape="poly" title=" " alt="" coords="1420,179,1477,162,1478,167,1422,185"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1477,183,1596,208"/>
<area shape="poly" title=" " alt="" coords="1429,193,1461,193,1461,198,1429,198"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1493,232,1580,258"/>
<area shape="poly" title=" " alt="" coords="1422,206,1479,225,1478,230,1420,212"/>
<area shape="poly" title=" " alt="" coords="1219,356,1350,218,1354,222,1223,360"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1174,8,1240,34"/>
<area shape="poly" title=" " alt="" coords="1073,16,1158,17,1158,23,1073,21"/>
<area shape="poly" title=" " alt="" coords="1242,25,1260,32,1277,43,1307,72,1332,105,1366,167,1361,169,1328,108,1303,75,1274,47,1258,37,1240,30"/>
<area shape="poly" title=" " alt="" coords="1241,28,1316,50,1315,55,1240,33"/>
<area shape="poly" title=" " alt="" coords="705,333,747,366,774,382,802,394,848,405,895,411,989,410,1076,400,1147,385,1148,390,1077,405,989,416,894,416,847,410,801,399,771,387,744,371,702,337"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="824,712,918,738"/>
<area shape="poly" title=" " alt="" coords="698,334,860,697,855,699,693,337"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="806,260,936,286"/>
<area shape="poly" title=" " alt="" coords="738,306,805,288,806,293,740,311"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="821,309,921,335"/>
<area shape="poly" title=" " alt="" coords="754,320,805,320,805,325,754,325"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="820,359,922,384"/>
<area shape="poly" title=" " alt="" coords="740,333,806,351,805,357,738,338"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="823,211,918,236"/>
<area shape="poly" title=" " alt="" coords="705,307,747,277,800,245,811,240,813,245,803,250,750,281,708,311"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="1008,208,1071,234"/>
<area shape="poly" title=" " alt="" coords="695,307,710,282,733,250,764,219,801,196,825,187,851,183,902,182,952,190,994,201,992,206,951,195,902,187,851,188,826,192,803,201,767,223,737,254,714,285,699,310"/>
<area shape="poly" title=" " alt="" coords="696,308,751,221,800,152,817,140,820,145,804,156,756,224,700,310"/>
<area shape="poly" title=" " alt="" coords="702,334,743,383,772,412,803,439,822,450,820,455,800,443,768,416,739,387,698,337"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="994,359,1084,384"/>
<area shape="poly" title=" " alt="" coords="920,232,942,245,960,269,968,291,975,314,990,338,1001,348,997,352,986,341,970,316,963,293,955,271,938,250,917,237"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1175,107,1239,132"/>
<area shape="poly" title=" " alt="" coords="1061,205,1170,138,1173,143,1064,210"/>
<area shape="poly" title=" " alt="" coords="1239,130,1333,174,1331,178,1237,135"/>
<area shape="poly" title=" " alt="" coords="1239,108,1314,85,1316,90,1240,113"/>
<area shape="poly" title=" " alt="" coords="937,133,988,142,1162,167,1309,185,1308,191,1161,173,988,147,937,138"/>
<area shape="poly" title=" " alt="" coords="911,474,985,475,1081,467,1132,458,1182,443,1230,422,1274,395,1294,377,1311,356,1338,309,1356,263,1367,223,1372,224,1361,264,1343,312,1315,359,1298,381,1277,399,1233,427,1184,448,1133,463,1081,472,985,480,911,479"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="988,257,1090,283"/>
<area shape="poly" title=" " alt="" coords="882,458,938,395,1017,294,1021,297,942,399,886,461"/>
<area shape="poly" title=" " alt="" coords="1090,255,1138,244,1308,207,1309,212,1139,249,1091,260"/>
<area shape="poly" title=" " alt="" coords="1064,281,1173,348,1170,353,1061,286"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1138,259,1276,284"/>
<area shape="poly" title=" " alt="" coords="1091,268,1123,268,1123,273,1091,273"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="642,661,735,687"/>
<area shape="poly" title=" " alt="" coords="553,636,628,656,627,661,552,641"/>
<area shape="poly" title=" " alt="" coords="560,721,808,722,808,727,560,726"/>
<area shape="poly" title=" " alt="" coords="552,707,627,687,628,693,553,713"/>
<area shape="poly" title=" " alt="" coords="576,767,808,732,808,737,576,772"/>
<area shape="poly" title=" " alt="" coords="552,758,574,747,656,694,659,698,577,751,554,762"/>
<area shape="poly" title=" " alt="" coords="564,672,627,672,627,677,564,677"/>
<area shape="poly" title=" " alt="" coords="742,818,836,792,889,772,939,748,1047,686,1128,630,1163,599,1198,562,1273,463,1309,400,1336,334,1355,272,1367,223,1372,224,1361,273,1341,335,1314,403,1278,466,1202,565,1167,602,1132,634,1050,690,941,753,891,777,838,797,743,823"/>
<area shape="poly" title=" " alt="" coords="377,901,418,896,419,901,378,906"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="457,925,543,951"/>
<area shape="poly" title=" " alt="" coords="378,920,442,928,442,934,377,925"/>
</map>
</div>

</div>
</div>
<a id="a2b6f9739d23723eca768f025b9655805" name="a2b6f9739d23723eca768f025b9655805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b6f9739d23723eca768f025b9655805">&#9670;&#160;</a></span>Java_org_gnu_pilotlink_PilotLink_writeUserInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JNIEXPORT void JNICALL Java_org_gnu_pilotlink_PilotLink_writeUserInfo </td>
          <td>(</td>
          <td class="paramtype">JNIEnv *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jint</td>          <td class="paramname"><span class="paramname"><em>so</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jobject</td>          <td class="paramname"><span class="paramname"><em>user</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  351</span>                                                    {</div>
<div class="line"><span class="lineno">  352</span><span class="comment">/*</span></div>
<div class="line"><span class="lineno">  353</span><span class="comment">    printf(&quot;Not implemented yet...sorry\n&quot;);</span></div>
<div class="line"><span class="lineno">  354</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno">  355</span>    <span class="comment">/* Now it IS implemented... ;-) */</span></div>
<div class="line"><span class="lineno">  356</span>    jclass      jClass_user = NULL;</div>
<div class="line"><span class="lineno">  357</span>    jmethodID   jMethod_user = NULL;</div>
<div class="line"><span class="lineno">  358</span>    <span class="keyword">struct </span>PilotUser rUserInfo;</div>
<div class="line"><span class="lineno">  359</span>    jlong       jTempValue;</div>
<div class="line"><span class="lineno">  360</span>    jstring     jTempString;</div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordtype">int</span> bProceed = 1;</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    <span class="comment">/* Set everything not explicitly assigned to blanks */</span></div>
<div class="line"><span class="lineno">  364</span>    memset(&amp;rUserInfo, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> PilotUser));</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    <span class="comment">/* Get object class for user... this should not fail */</span></div>
<div class="line"><span class="lineno">  367</span>    jClass_user = env-&gt;GetObjectClass(<a class="code hl_variable" href="pilot-install-user_8c.html#a6b1334b7d911b18440d1fd652de154fe">user</a>);</div>
<div class="line"><span class="lineno">  368</span>    </div>
<div class="line"><span class="lineno">  369</span>    <span class="comment">/* Assign all of the basic fields */</span></div>
<div class="line"><span class="lineno">  370</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  371</span>        bProceed = <a class="code hl_function" href="libjpisock_8c.html#a3306acd2b4424bbdf6a75cdfe1fc0255">getBasicTypeField</a>(env, jClass_user, <a class="code hl_variable" href="pilot-install-user_8c.html#a6b1334b7d911b18440d1fd652de154fe">user</a>,</div>
<div class="line"><span class="lineno">  372</span>            <span class="stringliteral">&quot;J&quot;</span>, <span class="stringliteral">&quot;userid&quot;</span>, &amp;jTempValue);</div>
<div class="line"><span class="lineno">  373</span>        rUserInfo.userID = jTempValue;</div>
<div class="line"><span class="lineno">  374</span>    }</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  376</span>        bProceed = <a class="code hl_function" href="libjpisock_8c.html#a3306acd2b4424bbdf6a75cdfe1fc0255">getBasicTypeField</a>(env, jClass_user, <a class="code hl_variable" href="pilot-install-user_8c.html#a6b1334b7d911b18440d1fd652de154fe">user</a>,</div>
<div class="line"><span class="lineno">  377</span>            <span class="stringliteral">&quot;J&quot;</span>, <span class="stringliteral">&quot;viewerid&quot;</span>, &amp;jTempValue);</div>
<div class="line"><span class="lineno">  378</span>        rUserInfo.viewerID = jTempValue;</div>
<div class="line"><span class="lineno">  379</span>    }</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  381</span>        bProceed = <a class="code hl_function" href="libjpisock_8c.html#a3306acd2b4424bbdf6a75cdfe1fc0255">getBasicTypeField</a>(env, jClass_user, <a class="code hl_variable" href="pilot-install-user_8c.html#a6b1334b7d911b18440d1fd652de154fe">user</a>,</div>
<div class="line"><span class="lineno">  382</span>            <span class="stringliteral">&quot;J&quot;</span>, <span class="stringliteral">&quot;lastSyncPC&quot;</span>, &amp;jTempValue);</div>
<div class="line"><span class="lineno">  383</span>        rUserInfo.lastSyncPC = jTempValue;</div>
<div class="line"><span class="lineno">  384</span>    }</div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  386</span>        jTempString = NULL;</div>
<div class="line"><span class="lineno">  387</span>        bProceed = <a class="code hl_function" href="libjpisock_8c.html#a3306acd2b4424bbdf6a75cdfe1fc0255">getBasicTypeField</a>(env, jClass_user, <a class="code hl_variable" href="pilot-install-user_8c.html#a6b1334b7d911b18440d1fd652de154fe">user</a>,</div>
<div class="line"><span class="lineno">  388</span>            <span class="stringliteral">&quot;Ljava/lang/String;&quot;</span>, <span class="stringliteral">&quot;name&quot;</span>, &amp;jTempString);</div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordflow">if</span> (bProceed &amp;&amp; jTempString != NULL) {</div>
<div class="line"><span class="lineno">  390</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> * sTempString = env-&gt;GetStringUTFChars(jTempString, 0);</div>
<div class="line"><span class="lineno">  391</span>            strncpy(rUserInfo.username, sTempString, <span class="keyword">sizeof</span>(rUserInfo.username) - 1);</div>
<div class="line"><span class="lineno">  392</span>            rUserInfo.username[<span class="keyword">sizeof</span>(rUserInfo.username) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  393</span>            env-&gt;ReleaseStringUTFChars(jTempString, sTempString);</div>
<div class="line"><span class="lineno">  394</span>        }</div>
<div class="line"><span class="lineno">  395</span>    }</div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  397</span>        jTempString = NULL;</div>
<div class="line"><span class="lineno">  398</span>        bProceed = <a class="code hl_function" href="libjpisock_8c.html#a3306acd2b4424bbdf6a75cdfe1fc0255">getBasicTypeField</a>(env, jClass_user, <a class="code hl_variable" href="pilot-install-user_8c.html#a6b1334b7d911b18440d1fd652de154fe">user</a>,</div>
<div class="line"><span class="lineno">  399</span>            <span class="stringliteral">&quot;Ljava/lang/String;&quot;</span>, <span class="stringliteral">&quot;password&quot;</span>, &amp;jTempString);</div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordflow">if</span> (bProceed &amp;&amp; jTempString != NULL) {</div>
<div class="line"><span class="lineno">  401</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> * sTempString = env-&gt;GetStringUTFChars(jTempString, 0);</div>
<div class="line"><span class="lineno">  402</span>            strncpy(rUserInfo.password, sTempString, <span class="keyword">sizeof</span>(rUserInfo.password) - 1);</div>
<div class="line"><span class="lineno">  403</span>            rUserInfo.password[<span class="keyword">sizeof</span>(rUserInfo.password) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  404</span>            rUserInfo.passwordLength = strlen(rUserInfo.password);</div>
<div class="line"><span class="lineno">  405</span>            env-&gt;ReleaseStringUTFChars(jTempString, sTempString);</div>
<div class="line"><span class="lineno">  406</span>        }</div>
<div class="line"><span class="lineno">  407</span>    }</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>    <span class="comment">/* In order to get the correct time_t, a function call is needed. The methods</span></div>
<div class="line"><span class="lineno">  410</span><span class="comment">       User.getLastSyncDate_time_t() and User.getLastSuccessfulSyncDate_time_t()</span></div>
<div class="line"><span class="lineno">  411</span><span class="comment">       were created for this purpose.</span></div>
<div class="line"><span class="lineno">  412</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  414</span>        jMethod_user = env-&gt;GetMethodID(jClass_user, <span class="stringliteral">&quot;getLastSyncDate_time_t&quot;</span>,</div>
<div class="line"><span class="lineno">  415</span>            <span class="stringliteral">&quot;()J&quot;</span>);</div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">if</span> (jMethod_user == NULL) {</div>
<div class="line"><span class="lineno">  417</span>            <span class="comment">/* pending NoSuchMethodException in env */</span></div>
<div class="line"><span class="lineno">  418</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  419</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  420</span>            <span class="comment">/* Use Date.getTime() in Java side and divide by 1000 */</span></div>
<div class="line"><span class="lineno">  421</span>            rUserInfo.lastSyncDate = env-&gt;CallLongMethod(<a class="code hl_variable" href="pilot-install-user_8c.html#a6b1334b7d911b18440d1fd652de154fe">user</a>, jMethod_user);</div>
<div class="line"><span class="lineno">  422</span>        }</div>
<div class="line"><span class="lineno">  423</span>    }</div>
<div class="line"><span class="lineno">  424</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  425</span>        jMethod_user = env-&gt;GetMethodID(jClass_user, <span class="stringliteral">&quot;getLastSuccessfulSyncDate_time_t&quot;</span>,</div>
<div class="line"><span class="lineno">  426</span>            <span class="stringliteral">&quot;()J&quot;</span>);</div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordflow">if</span> (jMethod_user == NULL) {</div>
<div class="line"><span class="lineno">  428</span>            <span class="comment">/* pending NoSuchMethodException in env */</span></div>
<div class="line"><span class="lineno">  429</span>            bProceed = 0;</div>
<div class="line"><span class="lineno">  430</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  431</span>            <span class="comment">/* Use Date.getTime() in Java side and divide by 1000 */</span></div>
<div class="line"><span class="lineno">  432</span>            rUserInfo.successfulSyncDate = env-&gt;CallLongMethod(<a class="code hl_variable" href="pilot-install-user_8c.html#a6b1334b7d911b18440d1fd652de154fe">user</a>, jMethod_user);</div>
<div class="line"><span class="lineno">  433</span>        }</div>
<div class="line"><span class="lineno">  434</span>    }</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>    <span class="comment">/* Write user info if all assignments were successful */</span></div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">if</span> (bProceed) {</div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordtype">int</span> iResult = <a class="code hl_function" href="dlp_8c.html#a457aa00899d53a8cc7dfdcfab8c9f659">dlp_WriteUserInfo</a>(so, &amp;rUserInfo);</div>
<div class="line"><span class="lineno">  439</span>        <span class="keywordflow">if</span> (iResult &lt; 0) {</div>
<div class="line"><span class="lineno">  440</span>            <a class="code hl_function" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d">postPilotLinkException</a>(env, <span class="stringliteral">&quot;Unable to write UserInfo&quot;</span>, iResult, errno);</div>
<div class="line"><span class="lineno">  441</span>        }</div>
<div class="line"><span class="lineno">  442</span>    }</div>
<div class="line"><span class="lineno">  443</span>}</div>
<div class="ttc" id="adlp_8c_html_a457aa00899d53a8cc7dfdcfab8c9f659"><div class="ttname"><a href="dlp_8c.html#a457aa00899d53a8cc7dfdcfab8c9f659">dlp_WriteUserInfo</a></div><div class="ttdeci">int dlp_WriteUserInfo(int sd, const struct PilotUser *User)</div><div class="ttdef"><b>Definition</b> dlp.c:1963</div></div>
<div class="ttc" id="alibjpisock_8c_html_a3306acd2b4424bbdf6a75cdfe1fc0255"><div class="ttname"><a href="libjpisock_8c.html#a3306acd2b4424bbdf6a75cdfe1fc0255">getBasicTypeField</a></div><div class="ttdeci">static int getBasicTypeField(JNIEnv *env, jclass pClass, jobject pObject, const char *sFieldType, const char *sFieldName, void *pLocation)</div><div class="ttdef"><b>Definition</b> libjpisock.c:1262</div></div>
<div class="ttc" id="apilot-install-user_8c_html_a6b1334b7d911b18440d1fd652de154fe"><div class="ttname"><a href="pilot-install-user_8c.html#a6b1334b7d911b18440d1fd652de154fe">user</a></div><div class="ttdeci">const char * user</div><div class="ttdef"><b>Definition</b> pilot-install-user.c:29</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01963">dlp_WriteUserInfo()</a>, <a class="el" href="#l01262">getBasicTypeField()</a>, <a class="el" href="#l01217">postPilotLinkException()</a>, and <a class="el" href="#l00029">user</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="libjpisock_8h_a2b6f9739d23723eca768f025b9655805_cgraph.png" border="0" usemap="#alibjpisock_8h_a2b6f9739d23723eca768f025b9655805_cgraph" alt=""/></div>
<map name="alibjpisock_8h_a2b6f9739d23723eca768f025b9655805_cgraph" id="alibjpisock_8h_a2b6f9739d23723eca768f025b9655805_cgraph">
<area shape="rect" title=" " alt="" coords="5,236,169,277"/>
<area shape="rect" href="dlp_8c.html#a457aa00899d53a8cc7dfdcfab8c9f659" title=" " alt="" coords="231,144,356,170"/>
<area shape="poly" title=" " alt="" coords="130,233,251,174,253,179,132,238"/>
<area shape="rect" href="libjpisock_8c.html#a3306acd2b4424bbdf6a75cdfe1fc0255" title=" " alt="" coords="230,244,358,270"/>
<area shape="poly" title=" " alt="" coords="169,254,214,254,214,260,169,260"/>
<area shape="rect" href="libjpisock_8c.html#a182216b3135f706f4a84831b914b590d" title=" " alt="" coords="217,319,371,344"/>
<area shape="poly" title=" " alt="" coords="147,275,243,311,241,316,145,280"/>
<area shape="poly" title=" " alt="" coords="262,145,255,135,259,126,272,120,294,117,317,120,329,126,327,131,315,125,294,123,274,125,263,129,261,135,266,142"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="448,269,522,295"/>
<area shape="poly" title=" " alt="" coords="317,168,453,258,450,263,314,172"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1138,396,1228,422"/>
<area shape="poly" title=" " alt="" coords="357,154,663,154,848,154,881,162,921,181,964,210,1009,245,1096,321,1160,383,1156,387,1092,325,1006,249,961,215,918,186,880,167,848,159,663,160,357,160"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="426,44,544,70"/>
<area shape="poly" title=" " alt="" coords="313,141,360,111,418,78,429,74,431,78,420,83,362,115,316,146"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="426,195,545,220"/>
<area shape="poly" title=" " alt="" coords="346,168,420,188,419,193,345,173"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="422,93,549,119"/>
<area shape="poly" title=" " alt="" coords="345,141,419,121,420,126,346,146"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="611,5,718,31"/>
<area shape="poly" title=" " alt="" coords="301,142,345,85,379,53,418,29,462,14,509,7,554,5,596,6,595,12,554,10,509,12,464,20,420,34,382,58,349,88,305,145"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="785,695,908,720"/>
<area shape="poly" title=" " alt="" coords="523,287,539,294,553,304,568,324,577,342,584,378,587,416,592,436,602,458,641,525,677,574,720,618,779,668,804,685,801,689,776,672,716,622,673,578,637,528,597,461,587,438,582,417,578,379,572,344,564,326,549,308,536,298,521,291"/>
<area shape="poly" title=" " alt="" coords="522,279,619,282,756,292,912,315,991,334,1067,357,1092,371,1116,386,1125,390,1123,395,1113,391,1089,376,1065,362,990,339,911,321,755,297,619,287,522,285"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="599,421,730,447"/>
<area shape="poly" title=" " alt="" coords="524,289,553,304,582,328,609,355,649,407,645,410,605,359,579,332,550,308,521,294"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="778,195,916,220"/>
<area shape="poly" title=" " alt="" coords="522,272,765,221,766,227,523,277"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="972,745,1059,771"/>
<area shape="poly" title=" " alt="" coords="893,718,958,738,956,743,891,723"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1150,696,1216,722"/>
<area shape="poly" title=" " alt="" coords="909,705,1134,706,1134,711,909,710"/>
<area shape="poly" title=" " alt="" coords="860,693,886,665,914,630,928,604,935,581,944,558,962,534,1002,498,1046,468,1130,426,1133,430,1049,473,1005,502,966,537,949,561,940,583,933,606,918,633,890,668,864,696"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="982,795,1048,820"/>
<area shape="poly" title=" " alt="" coords="868,719,965,781,972,785,970,790,963,786,866,723"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1300,521,1405,547"/>
<area shape="poly" title=" " alt="" coords="1216,699,1234,693,1250,683,1279,655,1304,622,1337,560,1342,563,1308,625,1283,658,1253,687,1236,697,1218,704"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1303,696,1402,722"/>
<area shape="poly" title=" " alt="" coords="1216,706,1287,706,1287,712,1216,712"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1460,472,1565,498"/>
<area shape="poly" title=" " alt="" coords="1396,518,1453,500,1454,505,1398,523"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1453,521,1572,547"/>
<area shape="poly" title=" " alt="" coords="1405,532,1437,532,1437,537,1405,537"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1469,571,1556,596"/>
<area shape="poly" title=" " alt="" coords="1398,545,1455,563,1454,568,1396,550"/>
<area shape="poly" title=" " alt="" coords="1204,420,1323,510,1320,514,1201,424"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="1150,745,1216,771"/>
<area shape="poly" title=" " alt="" coords="1048,795,1134,770,1136,775,1050,800"/>
<area shape="poly" title=" " alt="" coords="1216,750,1234,743,1250,732,1285,692,1311,645,1330,599,1342,561,1347,563,1335,601,1316,647,1289,695,1253,736,1236,747,1218,754"/>
<area shape="poly" title=" " alt="" coords="1216,746,1291,724,1292,729,1217,751"/>
<area shape="poly" title=" " alt="" coords="687,418,728,398,777,381,857,367,921,365,1067,381,1124,391,1123,396,1066,386,921,371,858,373,778,386,730,403,689,423"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="800,244,894,270"/>
<area shape="poly" title=" " alt="" coords="677,419,819,279,823,283,681,423"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="782,544,912,570"/>
<area shape="poly" title=" " alt="" coords="680,446,721,487,749,510,779,531,787,535,785,540,776,535,746,514,718,491,676,449"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="797,593,897,619"/>
<area shape="poly" title=" " alt="" coords="675,446,713,510,743,547,779,580,785,584,782,588,776,584,740,551,709,513,670,449"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="796,495,898,520"/>
<area shape="poly" title=" " alt="" coords="696,445,779,481,793,486,791,491,777,486,693,450"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="799,396,894,422"/>
<area shape="poly" title=" " alt="" coords="730,422,783,415,784,420,731,428"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="984,644,1047,670"/>
<area shape="poly" title=" " alt="" coords="675,446,729,550,759,602,779,629,825,651,876,661,925,663,968,661,968,666,925,669,875,666,824,656,776,634,755,605,724,552,670,449"/>
<area shape="poly" title=" " alt="" coords="667,420,679,383,701,332,733,277,753,252,776,229,780,226,783,231,779,234,757,255,738,280,706,334,684,385,672,422"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="807,445,887,471"/>
<area shape="poly" title=" " alt="" coords="731,440,792,448,791,454,730,445"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="970,396,1060,422"/>
<area shape="poly" title=" " alt="" coords="895,406,955,406,955,412,895,412"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="1151,647,1215,672"/>
<area shape="poly" title=" " alt="" coords="1047,655,1136,656,1136,661,1047,660"/>
<area shape="poly" title=" " alt="" coords="1214,649,1250,633,1295,596,1330,558,1334,561,1299,600,1253,638,1216,654"/>
<area shape="poly" title=" " alt="" coords="1216,666,1292,689,1290,694,1215,671"/>
<area shape="poly" title=" " alt="" coords="909,218,984,240,1075,274,1168,320,1213,349,1253,382,1282,412,1306,445,1341,506,1336,508,1302,448,1278,415,1250,385,1210,353,1166,325,1072,279,982,245,907,223"/>
<area shape="poly" title=" " alt="" coords="888,461,1285,521,1284,527,887,467"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="964,548,1066,574"/>
<area shape="poly" title=" " alt="" coords="889,466,917,480,943,503,966,527,980,537,977,541,962,531,939,506,915,484,886,471"/>
<area shape="poly" title=" " alt="" coords="1067,554,1284,537,1284,542,1067,559"/>
<area shape="poly" title=" " alt="" coords="1029,545,1154,430,1158,434,1033,549"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1114,597,1252,623"/>
<area shape="poly" title=" " alt="" coords="1062,572,1123,590,1122,595,1061,577"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="618,93,711,119"/>
<area shape="poly" title=" " alt="" coords="535,68,604,87,603,92,534,73"/>
<area shape="poly" title=" " alt="" coords="546,213,785,246,784,251,545,218"/>
<area shape="poly" title=" " alt="" coords="509,192,626,124,629,129,511,196"/>
<area shape="poly" title=" " alt="" coords="549,104,603,104,603,109,549,109"/>
<area shape="poly" title=" " alt="" coords="717,29,825,64,894,91,968,123,1044,162,1119,208,1190,260,1254,319,1288,365,1315,417,1334,466,1347,506,1342,507,1329,467,1310,419,1284,368,1250,323,1187,264,1116,212,1041,167,966,128,892,96,824,69,715,34"/>
<area shape="rect" href="dlp_8c.html#aef42a7fc714d5ac351a856f6384a9a2a" title=" " alt="" coords="442,319,528,344"/>
<area shape="poly" title=" " alt="" coords="371,329,426,329,426,334,371,334"/>
<area shape="rect" href="libjpisock_8c.html#a9a7876ca677105db81baef1035a72d7b" title=" " alt="" coords="419,368,551,394"/>
<area shape="poly" title=" " alt="" coords="347,342,418,361,417,366,346,348"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_00240dc4a1a4845ae58be68fbad02d02.html">bindings</a></li><li class="navelem"><a class="el" href="dir_5aa150b139e7e4861ec7641ed37b35d5.html">Java</a></li><li class="navelem"><a class="el" href="libjpisock_8h.html">libjpisock.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
