<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: src/pilot-memos.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('pilot-memos_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pilot-memos.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;regex.h&gt;</code><br />
<code>#include &quot;pi-memo.h&quot;</code><br />
<code>#include &quot;pi-file.h&quot;</code><br />
<code>#include &quot;pi-header.h&quot;</code><br />
<code>#include &quot;pi-userland.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pilot-memos.c:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-memos_8c__incl.png" border="0" usemap="#asrc_2pilot-memos_8c" alt=""/></div>
<map name="asrc_2pilot-memos_8c" id="asrc_2pilot-memos_8c">
<area shape="rect" title=" " alt="" coords="260,5,385,31"/>
<area shape="rect" title=" " alt="" coords="5,79,66,105"/>
<area shape="poly" title=" " alt="" coords="271,34,81,81,80,76,269,29"/>
<area shape="rect" title=" " alt="" coords="89,79,168,105"/>
<area shape="poly" title=" " alt="" coords="290,34,177,76,175,71,288,29"/>
<area shape="rect" title=" " alt="" coords="193,79,257,105"/>
<area shape="poly" title=" " alt="" coords="307,34,255,72,252,68,304,29"/>
<area shape="rect" title=" " alt="" coords="281,79,363,105"/>
<area shape="poly" title=" " alt="" coords="325,31,325,63,320,63,320,31"/>
<area shape="rect" title=" " alt="" coords="388,79,451,105"/>
<area shape="poly" title=" " alt="" coords="340,29,393,68,390,72,337,34"/>
<area shape="rect" title=" " alt="" coords="475,79,559,105"/>
<area shape="poly" title=" " alt="" coords="356,29,470,71,468,76,354,34"/>
<area shape="rect" title=" " alt="" coords="582,79,678,105"/>
<area shape="poly" title=" " alt="" coords="375,29,568,73,566,79,374,34"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9b77e4505117ad4aaed1f6b5a4c35df2" id="r_a9b77e4505117ad4aaed1f6b5a4c35df2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b77e4505117ad4aaed1f6b5a4c35df2">MAXDIRNAMELEN</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a9b77e4505117ad4aaed1f6b5a4c35df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca231ba385c53a54d685022bbbdf1755" id="r_aca231ba385c53a54d685022bbbdf1755"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aca231ba385c53a54d685022bbbdf1755">MEMO_DIRECTORY</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aca231ba385c53a54d685022bbbdf1755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a105f484e5846e37eb8f3248a34b737e0" id="r_a105f484e5846e37eb8f3248a34b737e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a105f484e5846e37eb8f3248a34b737e0">MEMO_MBOX_STDOUT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a105f484e5846e37eb8f3248a34b737e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac0f2228420376f4db7e1274f2b41667c" id="r_ac0f2228420376f4db7e1274f2b41667c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0f2228420376f4db7e1274f2b41667c">main</a> (int argc, const char *argv[])</td></tr>
<tr class="separator:ac0f2228420376f4db7e1274f2b41667c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ba1b2fe3bf97d5a63b60101b2c0b95" id="r_a20ba1b2fe3bf97d5a63b60101b2c0b95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20ba1b2fe3bf97d5a63b60101b2c0b95">write_memo_in_directory</a> (char *dirname, struct Memo m, struct MemoAppInfo mai, int category, int verbose, const char *<a class="el" href="pilot-read-notepad_8c.html#ad785d8a8f8ff378aa21eb1fa7a6085df">progname</a>)</td></tr>
<tr class="separator:a20ba1b2fe3bf97d5a63b60101b2c0b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ddcad0dde8ac64bedb23d26eacf8d4c" id="r_a7ddcad0dde8ac64bedb23d26eacf8d4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ddcad0dde8ac64bedb23d26eacf8d4c">write_memo_mbox</a> (struct Memo m, struct MemoAppInfo mai, int category)</td></tr>
<tr class="separator:a7ddcad0dde8ac64bedb23d26eacf8d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9b77e4505117ad4aaed1f6b5a4c35df2" name="a9b77e4505117ad4aaed1f6b5a4c35df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b77e4505117ad4aaed1f6b5a4c35df2">&#9670;&#160;</a></span>MAXDIRNAMELEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXDIRNAMELEN&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00104">write_memo_in_directory()</a>.</p>

</div>
</div>
<a id="aca231ba385c53a54d685022bbbdf1755" name="aca231ba385c53a54d685022bbbdf1755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca231ba385c53a54d685022bbbdf1755">&#9670;&#160;</a></span>MEMO_DIRECTORY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MEMO_DIRECTORY&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00171">main()</a>.</p>

</div>
</div>
<a id="a105f484e5846e37eb8f3248a34b737e0" name="a105f484e5846e37eb8f3248a34b737e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a105f484e5846e37eb8f3248a34b737e0">&#9670;&#160;</a></span>MEMO_MBOX_STDOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MEMO_MBOX_STDOUT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#l00171">main()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac0f2228420376f4db7e1274f2b41667c" name="ac0f2228420376f4db7e1274f2b41667c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0f2228420376f4db7e1274f2b41667c">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>[]&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  172</span>{</div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordtype">int</span>     attr,</div>
<div class="line"><span class="lineno">  174</span>        c,      <span class="comment">/* switch */</span></div>
<div class="line"><span class="lineno">  175</span>        category,</div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_struct" href="structdb.html">db</a>,</div>
<div class="line"><span class="lineno">  177</span>        idx,</div>
<div class="line"><span class="lineno">  178</span>        ret,</div>
<div class="line"><span class="lineno">  179</span>        <a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>          = -1,</div>
<div class="line"><span class="lineno">  180</span>        verbose     = 0,</div>
<div class="line"><span class="lineno">  181</span>        <span class="keyword">delete</span>      = 0,</div>
<div class="line"><span class="lineno">  182</span>        <a class="code hl_variable" href="pd-tty_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>        = <a class="code hl_define" href="#a105f484e5846e37eb8f3248a34b737e0">MEMO_MBOX_STDOUT</a>,</div>
<div class="line"><span class="lineno">  183</span>        bufsize     = 1024,</div>
<div class="line"><span class="lineno">  184</span>        match_category  = -1,</div>
<div class="line"><span class="lineno">  185</span>        title_matching  = 0;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordtype">size_t</span>  len;</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>    pi_buffer_t *<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>,</div>
<div class="line"><span class="lineno">  190</span>        *appblock;</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    <span class="keyword">const</span> <span class="keywordtype">char</span></div>
<div class="line"><span class="lineno">  193</span>                *<a class="code hl_variable" href="pilot-read-notepad_8c.html#ad785d8a8f8ff378aa21eb1fa7a6085df">progname</a>   = argv[0];</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordtype">char</span>    *<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = NULL,</div>
<div class="line"><span class="lineno">  196</span>        *dirname = NULL,</div>
<div class="line"><span class="lineno">  197</span>        *category_name = NULL,</div>
<div class="line"><span class="lineno">  198</span>        *filename = NULL,</div>
<div class="line"><span class="lineno">  199</span>        *regex = NULL,</div>
<div class="line"><span class="lineno">  200</span>            *ptr;</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="keyword">struct  </span>MemoAppInfo mai;</div>
<div class="line"><span class="lineno">  203</span>    <span class="keyword">struct  </span>pi_file *pif = NULL;</div>
<div class="line"><span class="lineno">  204</span>    <span class="keyword">struct  </span>Memo m;</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>    regex_t title_pattern;</div>
<div class="line"><span class="lineno">  207</span>    recordid_t id;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    poptContext <a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a>;</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>    <span class="keyword">struct </span>poptOption <a class="code hl_variable" href="pilot-install-user_8c.html#a145180624d42b5fa57bff49541e32c6a">options</a>[] = {</div>
<div class="line"><span class="lineno">  212</span>        USERLAND_RESERVED_OPTIONS</div>
<div class="line"><span class="lineno">  213</span>        {<span class="stringliteral">&quot;verbose&quot;</span>, <span class="charliteral">&#39;v&#39;</span>, POPT_ARG_VAL, &amp;verbose, 1, <span class="stringliteral">&quot;Verbose, with -s, print each filename when written&quot;</span>, NULL},</div>
<div class="line"><span class="lineno">  214</span>        {<span class="stringliteral">&quot;delete&quot;</span>,  <span class="charliteral">&#39;d&#39;</span>, POPT_ARG_VAL, &amp;<span class="keyword">delete</span>,  1, <span class="stringliteral">&quot;Delete memo named by number &lt;num&gt;&quot;</span>, <span class="stringliteral">&quot;&lt;num&gt;&quot;</span>},</div>
<div class="line"><span class="lineno">  215</span>        {<span class="stringliteral">&quot;file&quot;</span>,    <span class="charliteral">&#39;f&#39;</span>, POPT_ARG_STRING, &amp;filename, 0, <span class="stringliteral">&quot;Use &lt;file&gt; as input file (instead of MemoDB.pdb)&quot;</span>, <span class="stringliteral">&quot;&lt;file&gt;&quot;</span>},</div>
<div class="line"><span class="lineno">  216</span>        {<span class="stringliteral">&quot;save&quot;</span>,    <span class="charliteral">&#39;s&#39;</span>, POPT_ARG_STRING, &amp;dirname, 0, <span class="stringliteral">&quot;Save memos in &lt;dir&gt; instead of writing to STDOUT&quot;</span>, <span class="stringliteral">&quot;&lt;dir&gt;&quot;</span>},</div>
<div class="line"><span class="lineno">  217</span>        {<span class="stringliteral">&quot;category&quot;</span>,    <span class="charliteral">&#39;c&#39;</span>, POPT_ARG_STRING, &amp;category_name, 0, <span class="stringliteral">&quot;Only upload memos in this category&quot;</span>, <span class="stringliteral">&quot;&lt;category&gt;&quot;</span>},</div>
<div class="line"><span class="lineno">  218</span>        {<span class="stringliteral">&quot;regex&quot;</span>,   <span class="charliteral">&#39;r&#39;</span>, POPT_ARG_STRING, &amp;regex, 0, <span class="stringliteral">&quot;Select memos saved by regular expression on title&quot;</span>, <span class="stringliteral">&quot;&lt;regex&gt;&quot;</span>},</div>
<div class="line"><span class="lineno">  219</span>        POPT_AUTOHELP</div>
<div class="line"><span class="lineno">  220</span>        POPT_TABLEEND</div>
<div class="line"><span class="lineno">  221</span>    };</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    <a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a> = poptGetContext(<span class="stringliteral">&quot;memos&quot;</span>, argc, argv, <a class="code hl_variable" href="pilot-install-user_8c.html#a145180624d42b5fa57bff49541e32c6a">options</a>, 0);</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    poptSetOtherOptionHelp(<a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a>,<span class="stringliteral">&quot;\n\n&quot;</span></div>
<div class="line"><span class="lineno">  226</span>        <span class="stringliteral">&quot;  Manipulate Memo entries from a file or your Palm device\n\n&quot;</span></div>
<div class="line"><span class="lineno">  227</span>        <span class="stringliteral">&quot;  By default, the contents of your Palm&#39;s memo database will be written to\n&quot;</span></div>
<div class="line"><span class="lineno">  228</span>        <span class="stringliteral">&quot;  standard output as a standard UNIX mailbox (mbox-format) file, with each\n&quot;</span></div>
<div class="line"><span class="lineno">  229</span>        <span class="stringliteral">&quot;  memo as a separate message.  The subject of each message will be the\n&quot;</span></div>
<div class="line"><span class="lineno">  230</span>        <span class="stringliteral">&quot;  category.\n\n&quot;</span></div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>        <span class="stringliteral">&quot;  If &#39;-s&#39; is specified, than instead of being written to standard output,\n&quot;</span></div>
<div class="line"><span class="lineno">  233</span>        <span class="stringliteral">&quot;  will be saved in subdirectories of &lt;dir&gt;. Each subdirectory will be the\n&quot;</span></div>
<div class="line"><span class="lineno">  234</span>        <span class="stringliteral">&quot;  name of a category on the Palm, and will contain the memos in that\n&quot;</span></div>
<div class="line"><span class="lineno">  235</span>        <span class="stringliteral">&quot;  category. Each memo&#39;s filename will be the first line (up to the first 40\n&quot;</span></div>
<div class="line"><span class="lineno">  236</span>        <span class="stringliteral">&quot;  characters) of the memo. Control chcters, slashes, and equal signs that\n&quot;</span></div>
<div class="line"><span class="lineno">  237</span>        <span class="stringliteral">&quot;  would otherwise appear in filenames are converted after the fashion of\n&quot;</span></div>
<div class="line"><span class="lineno">  238</span>        <span class="stringliteral">&quot;  MIME&#39;s quoted-printable encoding. Note that if you have two memos in the\n&quot;</span></div>
<div class="line"><span class="lineno">  239</span>        <span class="stringliteral">&quot;  same category whose first lines are identical, one of them will be\n&quot;</span></div>
<div class="line"><span class="lineno">  240</span>        <span class="stringliteral">&quot;  overwritten.\n\n&quot;</span></div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>        <span class="stringliteral">&quot;  If &#39;-f&#39; is specified, the specified file will be treated as a memo\n&quot;</span></div>
<div class="line"><span class="lineno">  243</span>        <span class="stringliteral">&quot;  database from which to read memos, rather than HotSyncing from the Palm.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">if</span> (argc &lt; 2) {</div>
<div class="line"><span class="lineno">  246</span>        poptPrintUsage(<a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a>,stderr,0);</div>
<div class="line"><span class="lineno">  247</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  248</span>    }</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">while</span> ((c = poptGetNextOpt(<a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a>)) &gt;= 0) {</div>
<div class="line"><span class="lineno">  251</span>        fprintf(stderr,<span class="stringliteral">&quot;   ERROR: Unhandled option %d.\n&quot;</span>,c);</div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  253</span>    }</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span> (dirname)</div>
<div class="line"><span class="lineno">  256</span>        <a class="code hl_variable" href="pd-tty_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> = <a class="code hl_define" href="#aca231ba385c53a54d685022bbbdf1755">MEMO_DIRECTORY</a>;</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">if</span> (c &lt; -1)</div>
<div class="line"><span class="lineno">  259</span>        <a class="code hl_function" href="plu__args_8c.html#a29735d17d05c84591f8b2a47fb3e3ef4">plu_badoption</a>(<a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a>, c);</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">if</span> (regex) {</div>
<div class="line"><span class="lineno">  262</span>        ret = regcomp(&amp;title_pattern, regex, REG_NOSUB);</div>
<div class="line"><span class="lineno">  263</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = (<span class="keywordtype">char</span> *) malloc(bufsize);</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">if</span> (ret) {</div>
<div class="line"><span class="lineno">  265</span>            regerror(ret, &amp;title_pattern, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, bufsize);</div>
<div class="line"><span class="lineno">  266</span>            fprintf(stderr,<span class="stringliteral">&quot;   ERROR: Regexp - %s\n&quot;</span>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  267</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  268</span>        }</div>
<div class="line"><span class="lineno">  269</span>        title_matching = 1;</div>
<div class="line"><span class="lineno">  270</span>    }</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <span class="comment">/* FIXME - Need to add tests here for port/filename, clean this. -DD */</span></div>
<div class="line"><span class="lineno">  273</span>    appblock = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a>(0xffff);</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">if</span> (!filename) {</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>            <a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> = <a class="code hl_function" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc">plu_connect</a>();</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> &lt; 0)</div>
<div class="line"><span class="lineno">  279</span>                    <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b">dlp_OpenConduit</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>) &lt; 0)</div>
<div class="line"><span class="lineno">  282</span>                    <span class="keywordflow">goto</span> error_close;</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>        <span class="comment">/* Open the Memo Pad&#39;s database, store access handle in db */</span></div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, 0, 0x80 | 0x40, <span class="stringliteral">&quot;MemoDB&quot;</span>, &amp;<a class="code hl_struct" href="structdb.html">db</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  286</span>            fprintf(stderr,<span class="stringliteral">&quot;   ERROR: Unable to open MemoDB on Palm.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  287</span>            <a class="code hl_function" href="dlp_8c.html#a9cac32ae742584335d86a9fcec40631a">dlp_AddSyncLogEntry</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>,</div>
<div class="line"><span class="lineno">  288</span>                        <span class="stringliteral">&quot;Unable to open MemoDB.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  289</span>            <span class="keywordflow">goto</span> error_close;</div>
<div class="line"><span class="lineno">  290</span>        }</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>        <a class="code hl_function" href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394">dlp_ReadAppBlock</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_struct" href="structdb.html">db</a>, 0, 0xffff, appblock);</div>
<div class="line"><span class="lineno">  293</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  294</span>        pif = <a class="code hl_function" href="pi-file_8c.html#ac653337883ed6afb08f14a7816c439d3">pi_file_open</a>(filename);</div>
<div class="line"><span class="lineno">  295</span>        <span class="keywordflow">if</span> (!pif) {</div>
<div class="line"><span class="lineno">  296</span>            fprintf(stderr,<span class="stringliteral">&quot;   ERROR: pi_file_open: %s\n&quot;</span>,strerror(errno));</div>
<div class="line"><span class="lineno">  297</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  298</span>        }</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        <a class="code hl_function" href="pi-file_8c.html#a7a1101a452ad0cf683effedda7a879ca">pi_file_get_app_info</a>(pif, (<span class="keywordtype">void</span> **) &amp;ptr, &amp;len);</div>
<div class="line"><span class="lineno">  301</span>        <a class="code hl_function" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4">pi_buffer_append</a>(appblock, ptr, len);</div>
<div class="line"><span class="lineno">  302</span>    }</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    <a class="code hl_function" href="memo_8c.html#a7f18a3fbe1872b09b1e8586b6af2cbf3">unpack_MemoAppInfo</a>(&amp;mai, appblock-&gt;data, appblock-&gt;used);</div>
<div class="line"><span class="lineno">  305</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a>(appblock);</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">if</span> (category_name &amp;&amp; category_name[0] != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><span class="lineno">  308</span>        match_category = <a class="code hl_function" href="userland_8c.html#a6fbe6f157495a36157aa4b226cc01d99">plu_findcategory</a>(&amp;mai.category,category_name, PLU_CAT_WARN_UNKNOWN);</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">if</span> (match_category &lt; 0) {</div>
<div class="line"><span class="lineno">  310</span>            <span class="keywordflow">goto</span> error_close;</div>
<div class="line"><span class="lineno">  311</span>        };</div>
<div class="line"><span class="lineno">  312</span>    }</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (0xffff);</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    <span class="keywordflow">for</span> (idx = 0;; idx++) {</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">if</span> (!filename) {</div>
<div class="line"><span class="lineno">  319</span>                        <span class="keywordflow">if</span> (match_category &gt;= 0) {</div>
<div class="line"><span class="lineno">  320</span>                                ret = <a class="code hl_function" href="dlp_8c.html#ad1f00f840100f6bd1e35fc02ba742e8d">dlp_ReadNextRecInCategory</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_struct" href="structdb.html">db</a>,</div>
<div class="line"><span class="lineno">  321</span>                                                                match_category,</div>
<div class="line"><span class="lineno">  322</span>                                                                <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, &amp;<span class="keywordtype">id</span>,</div>
<div class="line"><span class="lineno">  323</span>                                                                0, &amp;attr);</div>
<div class="line"><span class="lineno">  324</span>                                category = match_category;</div>
<div class="line"><span class="lineno">  325</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  326</span>                                ret = <a class="code hl_function" href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8">dlp_ReadRecordByIndex</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_struct" href="structdb.html">db</a>, idx,</div>
<div class="line"><span class="lineno">  327</span>                                                            <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, &amp;<span class="keywordtype">id</span>,</div>
<div class="line"><span class="lineno">  328</span>                                                            &amp;attr,</div>
<div class="line"><span class="lineno">  329</span>                                                            &amp;category);</div>
<div class="line"><span class="lineno">  330</span>                        }</div>
<div class="line"><span class="lineno">  331</span>                        <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line"><span class="lineno">  332</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>                        len = (size_t)ret;</div>
<div class="line"><span class="lineno">  335</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  336</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="pi-file_8c.html#ab1228cfb3af65abf3eaf90c5eb9260ad">pi_file_read_record</a></div>
<div class="line"><span class="lineno">  337</span>                (pif, idx, (<span class="keywordtype">void</span> **) &amp;ptr, &amp;len, &amp;attr, &amp;category,</div>
<div class="line"><span class="lineno">  338</span>                 0) &lt; 0)</div>
<div class="line"><span class="lineno">  339</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  340</span>            memcpy(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>-&gt;data, ptr, len);</div>
<div class="line"><span class="lineno">  341</span>            <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>-&gt;used = len;</div>
<div class="line"><span class="lineno">  342</span>        }</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>        <span class="comment">/* Skip deleted records */</span></div>
<div class="line"><span class="lineno">  345</span>        <span class="keywordflow">if</span> ((attr &amp; dlpRecAttrDeleted)</div>
<div class="line"><span class="lineno">  346</span>            || (attr &amp; dlpRecAttrArchived))</div>
<div class="line"><span class="lineno">  347</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>        <span class="comment">/* Skip memos whose category doesn&#39;t match */</span></div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordflow">if</span>( match_category &gt;= 0 ) {</div>
<div class="line"><span class="lineno">  351</span>            <span class="keywordflow">if</span>( match_category != category )</div>
<div class="line"><span class="lineno">  352</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  353</span>        }</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>        <a class="code hl_function" href="memo_8c.html#ab60ae77e615db8d5e11dbd40a2498862">unpack_Memo</a>(&amp;m, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, memo_v1);</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>        <span class="comment">/* Skip memos whose title does not match with the query */</span></div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">if</span> (title_matching) {</div>
<div class="line"><span class="lineno">  359</span>            <span class="keywordflow">for</span> (len = 0; m.text[len] &amp;&amp; m.text[len] != <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  360</span>                 len++);</div>
<div class="line"><span class="lineno">  361</span>            <span class="keywordflow">if</span> (bufsize &lt; len + 1)</div>
<div class="line"><span class="lineno">  362</span>                <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = (<span class="keywordtype">char</span> *) realloc(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, len + 1);</div>
<div class="line"><span class="lineno">  363</span>            strncpy(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, m.text, len);</div>
<div class="line"><span class="lineno">  364</span>            <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  365</span>            <span class="keywordflow">if</span> (regexec(&amp;title_pattern, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 0, NULL, 0) ==</div>
<div class="line"><span class="lineno">  366</span>                REG_NOMATCH)</div>
<div class="line"><span class="lineno">  367</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  368</span>        }</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="pd-tty_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>) {</div>
<div class="line"><span class="lineno">  371</span>          <span class="keywordflow">case</span> <a class="code hl_define" href="#a105f484e5846e37eb8f3248a34b737e0">MEMO_MBOX_STDOUT</a>:</div>
<div class="line"><span class="lineno">  372</span>              <a class="code hl_function" href="#a7ddcad0dde8ac64bedb23d26eacf8d4c">write_memo_mbox</a>(m, mai, category);</div>
<div class="line"><span class="lineno">  373</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  374</span>          <span class="keywordflow">case</span> <a class="code hl_define" href="#aca231ba385c53a54d685022bbbdf1755">MEMO_DIRECTORY</a>:</div>
<div class="line"><span class="lineno">  375</span>              <a class="code hl_function" href="#a20ba1b2fe3bf97d5a63b60101b2c0b95">write_memo_in_directory</a>(dirname, m, mai,</div>
<div class="line"><span class="lineno">  376</span>                          category, verbose, <a class="code hl_variable" href="pilot-read-notepad_8c.html#ad785d8a8f8ff378aa21eb1fa7a6085df">progname</a>);</div>
<div class="line"><span class="lineno">  377</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  378</span>        }</div>
<div class="line"><span class="lineno">  379</span>    }</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>);</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">if</span> (<span class="keyword">delete</span> &amp;&amp; !filename) {</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">if</span> (verbose)</div>
<div class="line"><span class="lineno">  385</span>            printf(<span class="stringliteral">&quot;Deleting record %d.\n&quot;</span>, (<span class="keywordtype">int</span>) <span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  386</span>                <a class="code hl_function" href="dlp_8c.html#afd5ac2d77236e27f48380bb41be8244a">dlp_DeleteRecord</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_struct" href="structdb.html">db</a>, 0, <span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  387</span>    }</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">if</span> (title_matching) {</div>
<div class="line"><span class="lineno">  390</span>        regfree(&amp;title_pattern);</div>
<div class="line"><span class="lineno">  391</span>        free(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  392</span>    }</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>    <span class="keywordflow">if</span> (!filename) {</div>
<div class="line"><span class="lineno">  395</span>        <span class="comment">/* Close the database */</span></div>
<div class="line"><span class="lineno">  396</span>        <a class="code hl_function" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_struct" href="structdb.html">db</a>);</div>
<div class="line"><span class="lineno">  397</span>        <a class="code hl_function" href="dlp_8c.html#a9cac32ae742584335d86a9fcec40631a">dlp_AddSyncLogEntry</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <span class="stringliteral">&quot;Successfully read memos from Palm.\n&quot;</span></div>
<div class="line"><span class="lineno">  398</span>                    <span class="stringliteral">&quot;Thank you for using pilot-link.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  399</span>        <a class="code hl_function" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">  400</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  401</span>        <a class="code hl_function" href="pi-file_8c.html#a917a7629f465050a293350e2e63f2272">pi_file_close</a>(pif);</div>
<div class="line"><span class="lineno">  402</span>    }</div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>error_close:</div>
<div class="line"><span class="lineno">  406</span>    <span class="keywordflow">if</span> (pif) {</div>
<div class="line"><span class="lineno">  407</span>        <a class="code hl_function" href="pi-file_8c.html#a917a7629f465050a293350e2e63f2272">pi_file_close</a>(pif);</div>
<div class="line"><span class="lineno">  408</span>    }</div>
<div class="line"><span class="lineno">  409</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> &gt;= 0) {</div>
<div class="line"><span class="lineno">  410</span>        <a class="code hl_function" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">  411</span>    }</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span><a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>:</div>
<div class="line"><span class="lineno">  414</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  415</span>}</div>
<div class="ttc" id="adlp_8c_html_a4d91eaed276eea5b726f5e4434594394"><div class="ttname"><a href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394">dlp_ReadAppBlock</a></div><div class="ttdeci">int dlp_ReadAppBlock(int sd, int dbhandle, int offset, int reqbytes, pi_buffer_t *retbuf)</div><div class="ttdef"><b>Definition</b> dlp.c:2926</div></div>
<div class="ttc" id="adlp_8c_html_a65b92f7bcde2de3c34eba289c6780a57"><div class="ttname"><a href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57">dlp_OpenDB</a></div><div class="ttdeci">int dlp_OpenDB(int sd, int cardno, int mode, PI_CONST char *name, int *dbhandle)</div><div class="ttdef"><b>Definition</b> dlp.c:1445</div></div>
<div class="ttc" id="adlp_8c_html_a9cac32ae742584335d86a9fcec40631a"><div class="ttname"><a href="dlp_8c.html#a9cac32ae742584335d86a9fcec40631a">dlp_AddSyncLogEntry</a></div><div class="ttdeci">int dlp_AddSyncLogEntry(int sd, char *entry)</div><div class="ttdef"><b>Definition</b> dlp.c:1746</div></div>
<div class="ttc" id="adlp_8c_html_ac1cecb25a1c31a4cddf17dbbc7b41991"><div class="ttname"><a href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991">dlp_CloseDB</a></div><div class="ttdeci">int dlp_CloseDB(int sd, int dbhandle)</div><div class="ttdef"><b>Definition</b> dlp.c:1545</div></div>
<div class="ttc" id="adlp_8c_html_ad1f00f840100f6bd1e35fc02ba742e8d"><div class="ttname"><a href="dlp_8c.html#ad1f00f840100f6bd1e35fc02ba742e8d">dlp_ReadNextRecInCategory</a></div><div class="ttdeci">int dlp_ReadNextRecInCategory(int sd, int dbhandle, int category, pi_buffer_t *buffer, recordid_t *recuid, int *recindex, int *attr)</div><div class="ttdef"><b>Definition</b> dlp.c:3147</div></div>
<div class="ttc" id="adlp_8c_html_ae7892afecc1f271dac5596703412a63b"><div class="ttname"><a href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b">dlp_OpenConduit</a></div><div class="ttdeci">int dlp_OpenConduit(int sd)</div><div class="ttdef"><b>Definition</b> dlp.c:1880</div></div>
<div class="ttc" id="adlp_8c_html_afb39659f8e12d53b9c431e8cf4ccd1e8"><div class="ttname"><a href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8">dlp_ReadRecordByIndex</a></div><div class="ttdeci">int dlp_ReadRecordByIndex(int sd, int dbhandle, int recindex, pi_buffer_t *buffer, recordid_t *recuid, int *attr, int *category)</div><div class="ttdef"><b>Definition</b> dlp.c:3672</div></div>
<div class="ttc" id="adlp_8c_html_afd5ac2d77236e27f48380bb41be8244a"><div class="ttname"><a href="dlp_8c.html#afd5ac2d77236e27f48380bb41be8244a">dlp_DeleteRecord</a></div><div class="ttdeci">int dlp_DeleteRecord(int sd, int dbhandle, int all, recordid_t recID)</div><div class="ttdef"><b>Definition</b> dlp.c:2583</div></div>
<div class="ttc" id="amemo_8c_html_a7f18a3fbe1872b09b1e8586b6af2cbf3"><div class="ttname"><a href="memo_8c.html#a7f18a3fbe1872b09b1e8586b6af2cbf3">unpack_MemoAppInfo</a></div><div class="ttdeci">int unpack_MemoAppInfo(struct MemoAppInfo *appinfo, const unsigned char *record, size_t len)</div><div class="ttdef"><b>Definition</b> memo.c:121</div></div>
<div class="ttc" id="amemo_8c_html_ab60ae77e615db8d5e11dbd40a2498862"><div class="ttname"><a href="memo_8c.html#ab60ae77e615db8d5e11dbd40a2498862">unpack_Memo</a></div><div class="ttdeci">int unpack_Memo(Memo_t *memo, const pi_buffer_t *record, memoType type)</div><div class="ttdef"><b>Definition</b> memo.c:63</div></div>
<div class="ttc" id="anamespacepisock_html_af10dacfa214e2575bb2e0ee407c242e0"><div class="ttname"><a href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">pisock.error</a></div><div class="ttdeci">error</div><div class="ttdef"><b>Definition</b> pisock.py:41</div></div>
<div class="ttc" id="apd-tty_8c_html_a1ea5d0cb93f22f7d0fdf804bd68c3326"><div class="ttname"><a href="pd-tty_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a></div><div class="ttdeci">static int mode</div><div class="ttdef"><b>Definition</b> pd-tty.c:194</div></div>
<div class="ttc" id="api-buffer_8c_html_a6775d9fcdb4fb3e02ce032337e1d10dc"><div class="ttname"><a href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a></div><div class="ttdeci">pi_buffer_t * pi_buffer_new(size_t capacity)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:31</div></div>
<div class="ttc" id="api-buffer_8c_html_aed67e3ff08313fa288837c0d685adaa4"><div class="ttname"><a href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4">pi_buffer_append</a></div><div class="ttdeci">pi_buffer_t * pi_buffer_append(pi_buffer_t *buf, const void *data, size_t len)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:74</div></div>
<div class="ttc" id="api-buffer_8c_html_af440579d61c8649154b0f0512c285606"><div class="ttname"><a href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a></div><div class="ttdeci">void pi_buffer_free(pi_buffer_t *buf)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:103</div></div>
<div class="ttc" id="api-file_8c_html_a7a1101a452ad0cf683effedda7a879ca"><div class="ttname"><a href="pi-file_8c.html#a7a1101a452ad0cf683effedda7a879ca">pi_file_get_app_info</a></div><div class="ttdeci">void pi_file_get_app_info(pi_file_t *pf, void **datap, size_t *sizep)</div><div class="ttdef"><b>Definition</b> pi-file.c:367</div></div>
<div class="ttc" id="api-file_8c_html_a917a7629f465050a293350e2e63f2272"><div class="ttname"><a href="pi-file_8c.html#a917a7629f465050a293350e2e63f2272">pi_file_close</a></div><div class="ttdeci">int pi_file_close(pi_file_t *pf)</div><div class="ttdef"><b>Definition</b> pi-file.c:343</div></div>
<div class="ttc" id="api-file_8c_html_ab1228cfb3af65abf3eaf90c5eb9260ad"><div class="ttname"><a href="pi-file_8c.html#ab1228cfb3af65abf3eaf90c5eb9260ad">pi_file_read_record</a></div><div class="ttdeci">int pi_file_read_record(pi_file_t *pf, int recindex, void **bufp, size_t *sizep, int *recattrs, int *category, recordid_t *recuid)</div><div class="ttdef"><b>Definition</b> pi-file.c:439</div></div>
<div class="ttc" id="api-file_8c_html_ac653337883ed6afb08f14a7816c439d3"><div class="ttname"><a href="pi-file_8c.html#ac653337883ed6afb08f14a7816c439d3">pi_file_open</a></div><div class="ttdeci">pi_file_t * pi_file_open(const char *name)</div><div class="ttdef"><b>Definition</b> pi-file.c:143</div></div>
<div class="ttc" id="apilot-debug_8c_html_a0ab27356885000c0b9430ce5f9b4a4ec"><div class="ttname"><a href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a></div><div class="ttdeci">unsigned char buffer[0xffff]</div><div class="ttdef"><b>Definition</b> pilot-debug.c:767</div></div>
<div class="ttc" id="apilot-install-memo_8c_html_a2443128754f8d7ca4b43f362af82eca9"><div class="ttname"><a href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a></div><div class="ttdeci">poptContext po</div><div class="ttdef"><b>Definition</b> pilot-install-memo.c:31</div></div>
<div class="ttc" id="apilot-install-user_8c_html_a145180624d42b5fa57bff49541e32c6a"><div class="ttname"><a href="pilot-install-user_8c.html#a145180624d42b5fa57bff49541e32c6a">options</a></div><div class="ttdeci">const struct poptOption options[]</div><div class="ttdef"><b>Definition</b> pilot-install-user.c:33</div></div>
<div class="ttc" id="apilot-memos_8c_html_a105f484e5846e37eb8f3248a34b737e0"><div class="ttname"><a href="#a105f484e5846e37eb8f3248a34b737e0">MEMO_MBOX_STDOUT</a></div><div class="ttdeci">#define MEMO_MBOX_STDOUT</div><div class="ttdef"><b>Definition</b> pilot-memos.c:34</div></div>
<div class="ttc" id="apilot-memos_8c_html_a20ba1b2fe3bf97d5a63b60101b2c0b95"><div class="ttname"><a href="#a20ba1b2fe3bf97d5a63b60101b2c0b95">write_memo_in_directory</a></div><div class="ttdeci">void write_memo_in_directory(char *dirname, struct Memo m, struct MemoAppInfo mai, int category, int verbose, const char *progname)</div><div class="ttdef"><b>Definition</b> pilot-memos.c:104</div></div>
<div class="ttc" id="apilot-memos_8c_html_a7ddcad0dde8ac64bedb23d26eacf8d4c"><div class="ttname"><a href="#a7ddcad0dde8ac64bedb23d26eacf8d4c">write_memo_mbox</a></div><div class="ttdeci">void write_memo_mbox(struct Memo m, struct MemoAppInfo mai, int category)</div><div class="ttdef"><b>Definition</b> pilot-memos.c:54</div></div>
<div class="ttc" id="apilot-memos_8c_html_aca231ba385c53a54d685022bbbdf1755"><div class="ttname"><a href="#aca231ba385c53a54d685022bbbdf1755">MEMO_DIRECTORY</a></div><div class="ttdeci">#define MEMO_DIRECTORY</div><div class="ttdef"><b>Definition</b> pilot-memos.c:35</div></div>
<div class="ttc" id="apilot-read-notepad_8c_html_ad785d8a8f8ff378aa21eb1fa7a6085df"><div class="ttname"><a href="pilot-read-notepad_8c.html#ad785d8a8f8ff378aa21eb1fa7a6085df">progname</a></div><div class="ttdeci">const char * progname</div><div class="ttdef"><b>Definition</b> pilot-read-notepad.c:48</div></div>
<div class="ttc" id="apilot-xfer_8c_html_a06b0afe769d54ae94259d8532bc878b0"><div class="ttname"><a href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a></div><div class="ttdeci">int sd</div><div class="ttdef"><b>Definition</b> pilot-xfer.c:107</div></div>
<div class="ttc" id="apitcl_8c_html_a0dea8f1af961c5e9eb4425acd7c95409"><div class="ttname"><a href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a></div><div class="ttdeci">char buf[0xffff]</div><div class="ttdef"><b>Definition</b> pitcl.c:34</div></div>
<div class="ttc" id="aplu__args_8c_html_a29735d17d05c84591f8b2a47fb3e3ef4"><div class="ttname"><a href="plu__args_8c.html#a29735d17d05c84591f8b2a47fb3e3ef4">plu_badoption</a></div><div class="ttdeci">void plu_badoption(poptContext pc, int optc)</div><div class="ttdef"><b>Definition</b> plu_args.c:72</div></div>
<div class="ttc" id="asocket_8c_html_acc90bbb82f9a58d3635166976e9f3484"><div class="ttname"><a href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a></div><div class="ttdeci">int pi_close(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1415</div></div>
<div class="ttc" id="astructdb_html"><div class="ttname"><a href="structdb.html">db</a></div><div class="ttdef"><b>Definition</b> pilot-xfer.c:926</div></div>
<div class="ttc" id="auserland_8c_html_a21d841df63f1c93b1fc98b4b4a8b0bbc"><div class="ttname"><a href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc">plu_connect</a></div><div class="ttdeci">int plu_connect()</div><div class="ttdef"><b>Definition</b> userland.c:37</div></div>
<div class="ttc" id="auserland_8c_html_a6fbe6f157495a36157aa4b226cc01d99"><div class="ttname"><a href="userland_8c.html#a6fbe6f157495a36157aa4b226cc01d99">plu_findcategory</a></div><div class="ttdeci">int plu_findcategory(const struct CategoryAppInfo *info, const char *name, int flags)</div><div class="ttdef"><b>Definition</b> userland.c:102</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00767">buffer</a>, <a class="el" href="#l01746">dlp_AddSyncLogEntry()</a>, <a class="el" href="#l01545">dlp_CloseDB()</a>, <a class="el" href="#l02583">dlp_DeleteRecord()</a>, <a class="el" href="#l01880">dlp_OpenConduit()</a>, <a class="el" href="#l01445">dlp_OpenDB()</a>, <a class="el" href="#l02926">dlp_ReadAppBlock()</a>, <a class="el" href="#l03147">dlp_ReadNextRecInCategory()</a>, <a class="el" href="#l03672">dlp_ReadRecordByIndex()</a>, <a class="el" href="#l00035">MEMO_DIRECTORY</a>, <a class="el" href="#l00034">MEMO_MBOX_STDOUT</a>, <a class="el" href="#l00194">mode</a>, <a class="el" href="#l00033">options</a>, <a class="el" href="#l00074">pi_buffer_append()</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01415">pi_close()</a>, <a class="el" href="#l00343">pi_file_close()</a>, <a class="el" href="#l00367">pi_file_get_app_info()</a>, <a class="el" href="#l00143">pi_file_open()</a>, <a class="el" href="#l00439">pi_file_read_record()</a>, <a class="el" href="#l00072">plu_badoption()</a>, <a class="el" href="#l00037">plu_connect()</a>, <a class="el" href="#l00102">plu_findcategory()</a>, <a class="el" href="#l00031">po</a>, <a class="el" href="#l00048">progname</a>, <a class="el" href="#l00107">sd</a>, <a class="el" href="#l00063">unpack_Memo()</a>, <a class="el" href="#l00121">unpack_MemoAppInfo()</a>, <a class="el" href="#l00104">write_memo_in_directory()</a>, and <a class="el" href="#l00054">write_memo_mbox()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-memos_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph.png" border="0" usemap="#apilot-memos_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph" alt=""/></div>
<map name="apilot-memos_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph" id="apilot-memos_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph">
<area shape="rect" title=" " alt="" coords="5,1342,55,1368"/>
<area shape="rect" href="dlp_8c.html#a9cac32ae742584335d86a9fcec40631a" title=" " alt="" coords="772,913,922,938"/>
<area shape="poly" title=" " alt="" coords="29,1341,32,1301,42,1244,64,1183,80,1154,101,1129,136,1097,174,1068,257,1021,346,985,438,958,528,940,614,929,756,921,756,926,614,934,529,945,439,963,348,990,260,1026,177,1073,139,1101,105,1133,84,1157,69,1185,47,1245,37,1301,34,1342"/>
<area shape="rect" href="dlp_8c.html#ac1cecb25a1c31a4cddf17dbbc7b41991" title=" " alt="" coords="798,714,896,740"/>
<area shape="poly" title=" " alt="" coords="30,1341,36,1267,50,1159,71,1050,84,1007,100,976,134,937,172,902,213,871,257,844,350,800,448,768,545,746,637,733,717,726,782,724,782,729,718,731,637,738,546,752,450,773,352,805,259,848,216,875,175,906,138,940,105,979,89,1009,76,1052,55,1160,42,1268,35,1342"/>
<area shape="rect" href="dlp_8c.html#afd5ac2d77236e27f48380bb41be8244a" title=" " alt="" coords="784,641,910,666"/>
<area shape="poly" title=" " alt="" coords="29,1342,34,1254,46,1121,67,986,82,931,100,892,131,853,167,818,205,787,247,761,338,718,433,687,528,667,619,655,701,649,769,648,769,653,701,655,620,660,529,672,434,692,340,723,250,765,208,792,170,822,135,856,105,895,87,933,72,987,51,1121,39,1254,35,1342"/>
<area shape="rect" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b" title=" " alt="" coords="786,515,908,541"/>
<area shape="poly" title=" " alt="" coords="29,1342,32,1239,41,1080,50,995,63,917,79,851,100,804,132,764,167,727,206,695,248,666,339,619,435,584,530,559,621,542,703,532,770,527,771,532,704,537,622,547,531,564,436,589,341,624,251,671,209,699,171,731,136,767,105,807,84,853,68,918,56,996,47,1080,37,1240,34,1342"/>
<area shape="rect" href="dlp_8c.html#a65b92f7bcde2de3c34eba289c6780a57" title=" " alt="" coords="799,839,894,865"/>
<area shape="poly" title=" " alt="" coords="28,1342,29,1291,36,1216,45,1174,58,1132,76,1092,101,1056,135,1018,173,986,215,957,260,933,354,894,452,869,549,853,640,845,720,844,784,845,784,850,720,849,640,851,550,858,453,874,356,900,262,937,218,962,177,990,139,1022,105,1059,81,1095,63,1134,50,1175,42,1217,34,1291,33,1342"/>
<area shape="rect" href="dlp_8c.html#a4d91eaed276eea5b726f5e4434594394" title=" " alt="" coords="781,1089,913,1114"/>
<area shape="poly" title=" " alt="" coords="30,1341,36,1309,48,1267,69,1224,83,1204,101,1187,139,1161,180,1138,268,1103,359,1081,452,1070,542,1066,627,1069,765,1084,765,1089,627,1074,542,1071,452,1075,360,1087,269,1108,183,1143,142,1165,104,1192,87,1208,73,1226,53,1269,41,1310,35,1342"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="993,1443,1113,1469"/>
<area shape="poly" title=" " alt="" coords="53,1339,76,1328,102,1320,240,1298,328,1289,420,1284,512,1285,595,1292,666,1309,694,1321,717,1337,738,1363,747,1391,746,1420,742,1449,737,1477,737,1505,745,1530,765,1554,786,1568,805,1577,824,1580,842,1580,882,1571,929,1554,959,1539,986,1520,1030,1479,1033,1483,990,1524,962,1544,931,1559,884,1576,843,1585,823,1586,803,1582,783,1573,762,1558,740,1533,732,1505,732,1477,736,1448,741,1419,741,1392,734,1365,714,1341,692,1326,664,1314,595,1297,511,1290,420,1289,328,1295,240,1303,103,1325,78,1333,55,1344"/>
<area shape="rect" href="dlp_8c.html#ad1f00f840100f6bd1e35fc02ba742e8d" title=" " alt="" coords="523,1190,716,1216"/>
<area shape="poly" title=" " alt="" coords="32,1340,54,1286,74,1256,101,1233,155,1206,213,1187,273,1176,333,1170,391,1169,447,1172,542,1184,541,1189,447,1178,391,1175,333,1175,273,1181,214,1192,157,1211,104,1237,78,1260,59,1289,37,1342"/>
<area shape="rect" href="dlp_8c.html#afb39659f8e12d53b9c431e8cf4ccd1e8" title=" " alt="" coords="764,1518,930,1544"/>
<area shape="poly" title=" " alt="" coords="38,1340,63,1310,81,1294,102,1283,160,1265,236,1249,324,1238,416,1232,508,1232,593,1240,665,1257,694,1269,717,1283,738,1305,748,1328,751,1352,749,1376,747,1426,752,1451,766,1477,782,1494,802,1508,798,1512,779,1498,761,1480,747,1453,741,1426,744,1375,745,1352,743,1329,733,1308,714,1288,691,1273,663,1262,592,1245,508,1238,416,1237,324,1243,237,1255,162,1270,104,1288,84,1299,67,1313,42,1343"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="797,1619,897,1645"/>
<area shape="poly" title=" " alt="" coords="55,1349,190,1337,388,1327,491,1329,585,1336,663,1353,694,1364,717,1379,739,1405,749,1431,750,1459,747,1487,743,1515,742,1543,749,1571,766,1598,784,1613,780,1617,762,1602,744,1573,737,1543,738,1514,741,1486,745,1459,744,1432,735,1407,714,1383,691,1369,662,1358,584,1342,490,1334,388,1333,190,1342,55,1355"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="135,1493,237,1518"/>
<area shape="poly" title=" " alt="" coords="38,1367,60,1422,79,1453,104,1479,122,1490,119,1494,101,1484,75,1456,55,1424,33,1369"/>
<area shape="rect" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484" title=" " alt="" coords="585,194,654,220"/>
<area shape="poly" title=" " alt="" coords="29,1341,36,1165,50,877,71,593,85,488,100,428,142,358,163,331,186,309,241,273,316,238,382,216,451,204,516,200,569,201,569,206,516,206,452,210,383,221,318,243,244,278,189,314,167,335,146,361,105,430,90,489,77,593,55,877,41,1166,34,1341"/>
<area shape="rect" href="pi-file_8c.html#a917a7629f465050a293350e2e63f2272" title=" " alt="" coords="350,1394,443,1420"/>
<area shape="poly" title=" " alt="" coords="56,1359,103,1371,226,1389,334,1400,334,1405,225,1394,102,1376,54,1364"/>
<area shape="rect" href="pi-file_8c.html#a7a1101a452ad0cf683effedda7a879ca" title=" " alt="" coords="118,1542,254,1568"/>
<area shape="poly" title=" " alt="" coords="35,1368,41,1400,53,1444,74,1490,88,1511,105,1529,108,1531,104,1536,101,1533,83,1514,69,1492,48,1446,36,1401,30,1368"/>
<area shape="rect" href="pi-file_8c.html#ac653337883ed6afb08f14a7816c439d3" title=" " alt="" coords="141,1443,231,1469"/>
<area shape="poly" title=" " alt="" coords="44,1366,70,1394,104,1422,128,1435,126,1439,101,1426,66,1398,40,1370"/>
<area shape="rect" href="pi-file_8c.html#ab1228cfb3af65abf3eaf90c5eb9260ad" title=" " alt="" coords="121,1591,251,1617"/>
<area shape="poly" title=" " alt="" coords="34,1368,37,1409,47,1465,68,1526,84,1554,105,1578,109,1582,106,1586,101,1582,80,1557,63,1528,42,1467,32,1409,29,1368"/>
<area shape="rect" href="plu__args_8c.html#a29735d17d05c84591f8b2a47fb3e3ef4" title=" " alt="" coords="135,1641,236,1666"/>
<area shape="poly" title=" " alt="" coords="33,1368,33,1416,41,1486,50,1524,62,1562,81,1597,105,1628,122,1640,119,1644,101,1631,76,1600,58,1564,44,1525,36,1487,28,1417,28,1368"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="140,442,232,468"/>
<area shape="poly" title=" " alt="" coords="29,1342,34,1205,45,981,67,746,82,648,100,575,128,521,160,478,164,481,132,524,105,577,87,649,72,747,51,982,39,1206,34,1342"/>
<area shape="rect" href="userland_8c.html#a6fbe6f157495a36157aa4b226cc01d99" title=" " alt="" coords="128,1690,244,1716"/>
<area shape="poly" title=" " alt="" coords="35,1368,42,1433,56,1526,77,1617,90,1653,105,1677,115,1686,112,1690,101,1681,85,1655,71,1619,50,1527,37,1433,30,1368"/>
<area shape="rect" href="memo_8c.html#ab60ae77e615db8d5e11dbd40a2498862" title=" " alt="" coords="133,1739,239,1765"/>
<area shape="poly" title=" " alt="" coords="35,1368,40,1442,53,1550,74,1657,88,1698,105,1726,120,1738,116,1742,101,1730,83,1701,69,1658,47,1551,35,1443,29,1368"/>
<area shape="rect" href="memo_8c.html#a7f18a3fbe1872b09b1e8586b6af2cbf3" title=" " alt="" coords="110,1789,262,1814"/>
<area shape="poly" title=" " alt="" coords="34,1368,39,1451,50,1573,59,1637,71,1695,86,1743,105,1776,106,1777,102,1780,101,1779,81,1746,66,1697,54,1638,44,1574,33,1451,29,1368"/>
<area shape="rect" href="pilot-memos_8c.html#a20ba1b2fe3bf97d5a63b60101b2c0b95" title=" " alt="" coords="103,1838,269,1864"/>
<area shape="poly" title=" " alt="" coords="34,1368,37,1459,47,1596,56,1668,68,1734,84,1788,105,1825,106,1826,102,1830,100,1828,79,1790,63,1735,50,1669,41,1597,32,1459,29,1368"/>
<area shape="rect" href="pilot-memos_8c.html#a7ddcad0dde8ac64bedb23d26eacf8d4c" title=" " alt="" coords="120,1887,252,1913"/>
<area shape="poly" title=" " alt="" coords="34,1368,35,1467,44,1619,53,1699,65,1773,82,1834,93,1857,105,1874,109,1879,106,1883,101,1878,88,1859,77,1835,60,1774,47,1700,39,1620,30,1467,29,1368"/>
<area shape="poly" title=" " alt="" coords="812,914,806,904,810,894,824,888,847,886,872,889,885,896,883,900,871,894,847,891,825,893,813,898,811,903,817,911"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="1016,849,1090,874"/>
<area shape="poly" title=" " alt="" coords="890,909,1001,875,1002,880,892,915"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1190,774,1280,800"/>
<area shape="poly" title=" " alt="" coords="875,936,925,958,990,976,1025,981,1060,981,1095,975,1127,962,1147,948,1164,931,1192,891,1212,850,1224,814,1229,816,1216,852,1196,894,1168,935,1150,952,1130,966,1096,980,1061,986,1025,986,989,981,923,963,873,941"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="994,750,1112,776"/>
<area shape="poly" title=" " alt="" coords="878,910,904,895,928,876,943,852,950,830,958,807,976,785,980,782,984,786,980,789,963,810,955,832,948,855,932,879,907,899,881,914"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="994,649,1113,674"/>
<area shape="poly" title=" " alt="" coords="881,910,906,895,928,876,940,858,948,841,954,809,959,775,976,736,998,707,1022,683,1025,687,1002,711,980,739,964,777,959,810,953,843,945,860,932,879,909,900,884,914"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="990,898,1117,924"/>
<area shape="poly" title=" " alt="" coords="922,917,973,914,974,919,922,923"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="1000,799,1107,825"/>
<area shape="poly" title=" " alt="" coords="872,910,928,875,952,854,977,834,986,829,989,834,979,838,955,858,932,880,875,914"/>
<area shape="poly" title=" " alt="" coords="1089,848,1127,835,1194,805,1196,809,1129,840,1091,853"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1342,395,1447,421"/>
<area shape="poly" title=" " alt="" coords="1240,773,1291,652,1380,434,1385,436,1296,654,1245,775"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1502,82,1607,108"/>
<area shape="poly" title=" " alt="" coords="1400,394,1493,206,1537,120,1542,123,1497,208,1404,396"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1495,219,1614,245"/>
<area shape="poly" title=" " alt="" coords="1406,393,1530,255,1534,258,1410,397"/>
<area shape="poly" title=" " alt="" coords="1106,797,1127,786,1174,746,1217,700,1256,650,1291,600,1345,505,1379,434,1384,437,1350,508,1295,603,1261,653,1221,703,1178,750,1130,790,1109,802"/>
<area shape="poly" title=" " alt="" coords="864,738,923,791,979,835,1003,846,1001,851,977,840,920,795,861,742"/>
<area shape="poly" title=" " alt="" coords="897,720,1004,719,1067,724,1129,735,1166,748,1200,764,1198,768,1164,752,1128,740,1066,729,1004,724,897,726"/>
<area shape="poly" title=" " alt="" coords="897,733,980,747,979,753,896,738"/>
<area shape="poly" title=" " alt="" coords="889,711,995,677,996,682,891,716"/>
<area shape="poly" title=" " alt="" coords="867,738,899,766,932,801,946,825,954,846,962,866,980,885,984,888,981,892,976,889,958,868,949,848,942,827,928,804,895,769,864,742"/>
<area shape="poly" title=" " alt="" coords="875,738,979,786,994,791,992,796,977,791,873,743"/>
<area shape="poly" title=" " alt="" coords="812,715,806,705,810,696,824,689,847,687,872,690,885,697,883,702,871,695,847,693,825,695,813,699,811,705,817,712"/>
<area shape="poly" title=" " alt="" coords="911,662,932,676,947,696,955,717,957,757,959,797,966,816,980,835,1003,850,1001,855,976,839,961,819,953,798,952,757,950,718,943,698,928,679,909,666"/>
<area shape="poly" title=" " alt="" coords="884,637,934,623,997,613,1065,614,1098,621,1130,634,1164,659,1191,693,1212,727,1226,758,1221,761,1207,730,1187,696,1160,663,1127,638,1097,626,1064,619,998,618,935,628,885,643"/>
<area shape="poly" title=" " alt="" coords="904,664,931,675,983,706,1026,738,1023,742,980,710,929,680,902,669"/>
<area shape="poly" title=" " alt="" coords="910,653,978,656,978,661,910,659"/>
<area shape="poly" title=" " alt="" coords="911,661,932,676,951,702,959,729,960,756,957,782,954,808,955,834,963,859,980,885,981,887,978,890,976,888,958,862,950,835,949,808,952,782,954,756,953,730,946,705,928,679,908,666"/>
<area shape="poly" title=" " alt="" coords="911,663,932,675,944,689,951,704,957,732,962,760,968,773,980,786,988,792,984,796,976,790,964,776,957,761,952,733,946,705,940,692,928,679,908,667"/>
<area shape="poly" title=" " alt="" coords="812,642,806,632,810,622,824,616,847,614,872,617,885,624,883,628,871,622,847,619,825,621,813,626,811,631,817,639"/>
<area shape="poly" title=" " alt="" coords="870,539,903,566,932,603,947,637,952,668,950,726,948,753,951,780,960,807,980,836,1003,851,1000,855,976,839,955,810,945,781,943,753,944,726,947,669,942,638,928,605,899,570,867,544"/>
<area shape="poly" title=" " alt="" coords="903,512,955,505,1014,504,1075,514,1103,524,1130,539,1155,561,1177,588,1194,617,1207,648,1225,709,1234,758,1228,759,1220,710,1202,650,1189,620,1172,591,1152,565,1127,544,1101,529,1073,519,1014,509,955,510,904,517"/>
<area shape="poly" title=" " alt="" coords="867,539,899,567,932,602,947,625,957,644,966,663,980,685,1028,738,1024,741,976,688,961,666,952,646,943,628,928,606,895,571,863,543"/>
<area shape="poly" title=" " alt="" coords="891,539,931,558,986,597,1030,635,1026,639,982,601,929,562,889,544"/>
<area shape="poly" title=" " alt="" coords="871,539,903,566,932,603,949,644,954,682,952,718,948,752,945,785,947,817,957,850,980,885,981,886,977,890,976,888,952,853,941,818,940,784,943,751,947,717,949,682,943,645,928,605,899,570,867,543"/>
<area shape="poly" title=" " alt="" coords="870,539,902,566,932,603,945,629,950,655,951,700,955,743,963,764,980,786,988,793,984,797,976,790,959,767,950,744,946,700,945,655,940,631,928,606,898,570,866,543"/>
<area shape="poly" title=" " alt="" coords="812,516,806,507,810,497,824,491,847,489,872,491,885,498,883,503,871,496,847,494,825,496,813,501,811,506,817,513"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="1195,1430,1275,1456"/>
<area shape="poly" title=" " alt="" coords="909,530,964,540,1025,559,1083,589,1109,610,1131,635,1147,666,1158,704,1165,748,1168,798,1165,908,1156,1027,1147,1146,1143,1256,1146,1306,1152,1350,1163,1387,1179,1417,1184,1423,1180,1427,1174,1420,1158,1389,1147,1351,1141,1306,1138,1256,1141,1146,1150,1027,1159,908,1162,798,1160,749,1153,705,1142,668,1126,638,1105,614,1080,594,1023,564,962,545,908,535"/>
<area shape="poly" title=" " alt="" coords="1274,1431,1292,1417,1302,1395,1312,1359,1331,1252,1347,1113,1360,955,1380,644,1389,436,1395,437,1385,644,1366,956,1352,1114,1336,1253,1317,1360,1307,1397,1296,1420,1277,1435"/>
<area shape="poly" title=" " alt="" coords="895,852,1001,856,1001,862,895,857"/>
<area shape="poly" title=" " alt="" coords="896,858,932,874,947,890,955,906,964,921,979,934,1019,950,1054,956,1088,951,1127,934,1160,909,1187,877,1207,843,1221,813,1226,815,1212,846,1191,880,1164,913,1130,938,1089,956,1053,961,1018,955,977,938,959,925,951,909,943,893,928,878,894,863"/>
<area shape="poly" title=" " alt="" coords="871,836,919,811,977,784,992,779,994,784,979,789,922,816,873,841"/>
<area shape="poly" title=" " alt="" coords="860,837,1025,683,1029,687,864,841"/>
<area shape="poly" title=" " alt="" coords="896,863,991,891,990,896,894,868"/>
<area shape="poly" title=" " alt="" coords="894,840,984,823,985,828,895,846"/>
<area shape="poly" title=" " alt="" coords="812,840,806,831,810,821,824,815,847,813,872,815,885,822,883,827,871,820,847,818,825,820,813,825,811,830,817,837"/>
<area shape="poly" title=" " alt="" coords="875,1086,903,1068,928,1044,940,1022,946,1002,948,963,952,924,961,904,976,883,1001,868,1003,873,980,887,965,906,957,925,954,963,951,1003,945,1025,932,1047,907,1072,878,1090"/>
<area shape="poly" title=" " alt="" coords="913,1087,964,1073,1020,1053,1076,1025,1127,989,1163,947,1190,899,1211,853,1224,814,1229,816,1216,855,1195,902,1167,950,1130,993,1079,1030,1022,1058,965,1078,914,1092"/>
<area shape="poly" title=" " alt="" coords="854,1087,889,1029,927,950,940,903,942,863,950,825,960,805,976,785,980,781,983,785,980,789,964,808,955,826,948,863,945,904,933,952,893,1031,859,1090"/>
<area shape="poly" title=" " alt="" coords="855,1087,890,1029,927,950,943,891,947,842,953,793,962,766,976,736,997,707,1021,683,1025,686,1001,710,980,739,967,768,958,795,952,842,948,892,933,952,894,1031,859,1090"/>
<area shape="poly" title=" " alt="" coords="869,1086,928,1043,985,987,1030,934,1034,938,989,990,932,1047,872,1090"/>
<area shape="poly" title=" " alt="" coords="859,1086,893,1046,928,994,937,971,942,949,945,910,951,873,960,854,976,834,984,828,988,832,980,838,965,857,956,875,950,911,947,950,942,972,932,996,897,1050,863,1090"/>
<area shape="poly" title=" " alt="" coords="812,1090,806,1080,810,1070,824,1064,847,1062,872,1065,885,1072,883,1076,871,1070,847,1067,825,1069,813,1074,811,1079,817,1087"/>
<area shape="poly" title=" " alt="" coords="855,1114,899,1227,935,1304,980,1379,1003,1407,1027,1431,1023,1434,999,1410,976,1382,931,1306,894,1229,850,1115"/>
<area shape="rect" href="pi-buffer_8c.html#a8211b352afee03bf34db668018f029c2" title=" " alt="" coords="1000,1342,1106,1368"/>
<area shape="poly" title=" " alt="" coords="861,1113,1034,1328,1030,1331,857,1116"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="1006,1146,1101,1172"/>
<area shape="poly" title=" " alt="" coords="897,1112,991,1139,990,1144,895,1117"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="1176,1381,1294,1406"/>
<area shape="poly" title=" " alt="" coords="1092,1440,1180,1409,1182,1414,1094,1445"/>
<area shape="poly" title=" " alt="" coords="628,1188,680,1123,718,1084,762,1050,786,1037,809,1030,850,1025,888,1018,908,1008,928,993,939,980,946,967,951,939,957,912,964,897,976,883,1000,869,1003,874,980,887,968,900,962,913,956,941,951,968,944,983,932,997,910,1013,890,1023,850,1030,810,1035,788,1042,765,1054,722,1088,684,1126,632,1191"/>
<area shape="poly" title=" " alt="" coords="663,1214,757,1236,816,1245,880,1249,945,1248,1010,1237,1072,1216,1100,1201,1127,1182,1147,1157,1165,1117,1181,1068,1195,1012,1216,900,1228,815,1233,815,1221,901,1200,1013,1186,1069,1170,1119,1151,1159,1130,1186,1103,1205,1074,1221,1012,1242,946,1253,879,1255,815,1250,756,1241,662,1219"/>
<area shape="poly" title=" " alt="" coords="654,1214,764,1256,870,1281,957,1300,997,1301,1038,1295,1080,1278,1127,1250,1152,1226,1177,1192,1200,1150,1223,1100,1264,984,1301,856,1332,727,1356,606,1386,436,1391,437,1362,607,1337,728,1306,858,1270,986,1228,1102,1205,1152,1181,1195,1156,1230,1130,1254,1083,1283,1039,1300,997,1306,956,1305,869,1286,763,1261,652,1219"/>
<area shape="poly" title=" " alt="" coords="618,1189,623,1119,631,1069,643,1013,660,955,686,898,719,845,762,801,786,784,813,771,869,756,927,750,979,751,979,756,927,755,870,761,815,776,789,789,765,805,723,848,690,900,665,956,648,1014,636,1070,629,1120,624,1190"/>
<area shape="poly" title=" " alt="" coords="619,1189,630,1074,656,895,675,801,699,716,728,647,744,621,762,602,793,584,827,577,863,577,899,584,967,609,1021,638,1018,642,965,613,898,589,862,582,828,582,795,589,765,606,748,624,732,649,704,717,680,802,661,896,636,1075,624,1190"/>
<area shape="poly" title=" " alt="" coords="680,1187,834,1151,929,1124,951,1105,971,1082,1004,1030,1027,979,1042,937,1047,939,1032,981,1008,1033,975,1085,955,1108,931,1129,835,1156,681,1192"/>
<area shape="poly" title=" " alt="" coords="624,1188,643,1152,673,1102,713,1049,762,1003,785,990,808,982,849,978,888,973,908,964,928,949,940,935,946,921,951,893,957,864,964,849,976,834,984,828,988,832,980,838,968,852,962,865,957,894,951,923,944,938,932,953,910,969,889,978,849,983,809,988,788,995,765,1008,717,1053,677,1105,647,1154,629,1191"/>
<area shape="poly" title=" " alt="" coords="688,1214,717,1233,731,1251,738,1269,741,1305,744,1339,751,1355,765,1370,819,1383,933,1401,1180,1433,1179,1439,932,1406,818,1388,762,1374,747,1358,739,1340,736,1305,733,1270,727,1253,714,1237,685,1218"/>
<area shape="poly" title=" " alt="" coords="690,1214,718,1233,734,1258,741,1283,742,1308,740,1332,738,1356,739,1379,748,1401,765,1422,788,1439,814,1451,869,1466,925,1470,978,1467,978,1472,925,1475,868,1471,812,1456,786,1443,762,1426,743,1404,734,1380,733,1356,735,1332,737,1308,736,1284,730,1260,714,1237,687,1218"/>
<area shape="poly" title=" " alt="" coords="684,1214,717,1233,735,1256,741,1279,748,1301,754,1311,765,1321,790,1335,818,1346,875,1359,933,1363,984,1361,985,1367,933,1368,875,1364,816,1351,788,1340,762,1325,750,1315,743,1304,736,1281,730,1258,714,1237,681,1218"/>
<area shape="poly" title=" " alt="" coords="716,1190,990,1162,991,1168,716,1196"/>
<area shape="poly" title=" " alt="" coords="582,1191,575,1181,579,1172,595,1165,620,1163,647,1166,661,1173,658,1178,645,1171,619,1169,596,1171,583,1175,580,1181,587,1188"/>
<area shape="poly" title=" " alt="" coords="691,1214,718,1233,738,1264,748,1294,749,1323,747,1352,744,1381,744,1410,750,1441,766,1473,783,1493,804,1508,801,1512,779,1496,761,1476,745,1443,738,1411,738,1380,741,1351,744,1323,742,1294,733,1266,714,1237,688,1218"/>
<area shape="poly" title=" " alt="" coords="848,1517,927,1126,933,1089,934,1055,932,997,934,969,940,942,954,914,976,884,1000,868,1003,872,980,887,958,916,945,943,939,970,937,997,939,1055,938,1089,933,1127,853,1518"/>
<area shape="poly" title=" " alt="" coords="930,1524,1046,1510,1095,1497,1114,1489,1126,1480,1135,1466,1143,1443,1160,1374,1191,1176,1215,965,1229,815,1234,815,1220,965,1196,1177,1166,1375,1149,1445,1140,1468,1130,1483,1116,1493,1097,1502,1047,1515,931,1529"/>
<area shape="poly" title=" " alt="" coords="849,1517,882,1361,927,1126,933,1050,938,950,949,853,960,814,976,785,980,781,984,784,980,788,965,816,954,854,943,951,939,1050,933,1127,887,1362,854,1518"/>
<area shape="poly" title=" " alt="" coords="850,1517,975,1133,1040,937,1045,939,981,1134,855,1518"/>
<area shape="poly" title=" " alt="" coords="848,1517,881,1360,927,1126,933,1081,933,1041,928,970,929,937,935,905,950,871,976,834,985,827,988,830,980,838,955,873,940,906,934,938,934,970,938,1041,938,1082,933,1127,887,1362,854,1518"/>
<area shape="poly" title=" " alt="" coords="930,1540,976,1543,1027,1542,1078,1536,1127,1523,1151,1512,1174,1497,1210,1465,1214,1469,1177,1501,1154,1516,1129,1528,1079,1541,1027,1547,976,1548,930,1545"/>
<area shape="poly" title=" " alt="" coords="884,1515,1000,1472,1002,1477,885,1520"/>
<area shape="poly" title=" " alt="" coords="862,1516,1023,1376,1027,1380,865,1520"/>
<area shape="poly" title=" " alt="" coords="812,1519,806,1509,810,1500,824,1493,847,1491,872,1494,885,1501,883,1506,871,1499,847,1497,825,1499,813,1503,811,1509,817,1516"/>
<area shape="rect" href="dlp_8c.html#afe306b7b3888367eebf1222196b1b815" title=" " alt="" coords="978,1645,1128,1686"/>
<area shape="poly" title=" " alt="" coords="864,1542,913,1584,979,1631,987,1635,984,1640,977,1636,910,1589,861,1546"/>
<area shape="rect" href="socket_8c.html#ac8ea1ffc8384bcf6719daabbf4cee496" title=" " alt="" coords="1000,1595,1106,1621"/>
<area shape="poly" title=" " alt="" coords="885,1542,1003,1587,1002,1592,883,1547"/>
<area shape="poly" title=" " alt="" coords="1102,1592,1149,1574,1201,1548,1251,1512,1273,1491,1291,1467,1302,1443,1311,1404,1330,1291,1345,1144,1359,979,1379,653,1389,437,1395,437,1384,653,1364,979,1351,1145,1335,1292,1317,1405,1307,1444,1296,1469,1277,1494,1255,1516,1204,1553,1151,1579,1103,1597"/>
<area shape="poly" title=" " alt="" coords="1094,1592,1127,1574,1155,1549,1179,1521,1216,1467,1221,1470,1183,1524,1158,1553,1130,1578,1096,1597"/>
<area shape="poly" title=" " alt="" coords="638,191,692,158,726,142,763,130,809,119,847,115,884,119,931,130,1000,153,1068,183,1133,217,1194,254,1298,327,1368,383,1365,387,1294,331,1191,259,1130,222,1065,188,998,158,929,135,884,124,847,121,810,125,764,135,728,147,694,163,640,196"/>
<area shape="poly" title=" " alt="" coords="628,192,680,129,718,93,762,63,838,27,901,10,968,3,1052,3,1236,3,1314,10,1391,28,1459,51,1513,73,1511,78,1457,56,1389,33,1314,15,1236,8,1052,8,968,9,902,15,840,32,765,68,722,97,684,133,632,195"/>
<area shape="poly" title=" " alt="" coords="633,192,687,148,724,124,763,104,840,75,904,60,969,54,1052,53,1236,53,1283,58,1329,71,1372,89,1413,112,1483,162,1532,207,1529,211,1480,167,1410,117,1370,94,1327,76,1282,63,1236,59,1052,59,969,60,904,65,842,80,765,109,726,129,690,152,637,196"/>
<area shape="rect" href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43" title=" " alt="" coords="791,369,903,394"/>
<area shape="poly" title=" " alt="" coords="640,218,818,357,815,361,636,222"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="798,194,896,220"/>
<area shape="poly" title=" " alt="" coords="654,204,782,204,782,209,654,209"/>
<area shape="rect" href="socket_8c.html#ab636d5244f935701991791240583295a" title=" " alt="" coords="767,243,926,269"/>
<area shape="poly" title=" " alt="" coords="655,212,770,237,769,242,654,217"/>
<area shape="rect" href="socket_8c.html#af6e9a4a5aabc48480dbd6961d24819ec" title=" " alt="" coords="792,145,902,170"/>
<area shape="poly" title=" " alt="" coords="654,197,776,170,778,175,655,202"/>
<area shape="poly" title=" " alt="" coords="905,386,919,393,932,404,952,432,965,459,973,487,975,514,970,568,957,621,945,674,939,728,942,754,949,781,961,808,980,836,990,845,1003,851,1000,856,987,849,976,839,956,811,943,783,936,755,934,728,939,674,952,620,965,567,970,514,967,488,960,461,947,434,928,407,917,397,902,391"/>
<area shape="poly" title=" " alt="" coords="904,379,957,385,1017,398,1077,421,1105,438,1130,458,1159,492,1183,531,1201,573,1214,616,1230,696,1236,758,1230,759,1225,697,1209,617,1196,575,1178,534,1155,496,1126,462,1102,442,1075,426,1016,403,956,390,903,385"/>
<area shape="poly" title=" " alt="" coords="904,377,1078,376,1186,379,1294,387,1327,391,1326,397,1293,392,1185,384,1078,381,904,382"/>
<area shape="poly" title=" " alt="" coords="905,386,919,393,932,404,956,439,968,473,970,506,967,540,962,573,961,608,965,645,980,686,1000,714,1024,738,1020,741,996,717,976,688,960,647,955,609,957,573,961,539,964,506,962,474,952,441,928,407,917,398,903,391"/>
<area shape="poly" title=" " alt="" coords="905,388,932,403,957,429,979,458,1013,521,1036,583,1049,632,1044,634,1031,585,1008,524,975,461,953,432,928,408,902,393"/>
<area shape="poly" title=" " alt="" coords="904,386,919,393,932,404,954,435,968,466,976,497,979,527,973,587,957,646,942,705,936,764,938,794,945,824,959,854,980,885,981,886,977,889,976,888,954,857,940,826,933,795,930,764,937,704,952,645,967,586,974,527,971,497,963,468,949,438,928,407,916,397,902,390"/>
<area shape="poly" title=" " alt="" coords="905,386,919,393,932,404,950,428,962,453,969,477,972,502,968,549,957,597,947,644,943,691,945,714,952,738,963,762,980,786,988,794,984,798,976,790,958,765,947,740,940,715,937,691,941,643,952,596,963,549,966,502,964,478,957,455,945,431,928,407,916,397,902,391"/>
<area shape="poly" title=" " alt="" coords="812,370,806,360,810,350,824,344,847,342,872,345,885,352,883,356,871,350,847,347,825,349,813,354,811,359,817,367"/>
<area shape="rect" href="pi-file_8c.html#aa85c52c17928a7cb3dd4829ea6373fc8" title=" " alt="" coords="544,1443,695,1469"/>
<area shape="poly" title=" " alt="" coords="444,1414,544,1437,542,1442,443,1420"/>
<area shape="rect" href="pi-file_8c.html#a08d48ce60b0eb3b173c93b7902c670a7" title=" " alt="" coords="577,1394,662,1420"/>
<area shape="poly" title=" " alt="" coords="443,1404,562,1404,562,1409,443,1409"/>
<area shape="poly" title=" " alt="" coords="663,1406,692,1413,717,1429,734,1450,742,1472,744,1514,745,1556,751,1577,766,1598,785,1613,781,1617,762,1602,746,1580,739,1557,738,1514,737,1473,729,1453,714,1433,690,1418,662,1411"/>
<area shape="poly" title=" " alt="" coords="231,1443,334,1419,335,1424,232,1448"/>
<area shape="rect" href="pi-file_8c.html#a525c887a4341a2229e82bede810318d0" title=" " alt="" coords="317,1493,475,1518"/>
<area shape="poly" title=" " alt="" coords="232,1464,324,1486,323,1491,231,1469"/>
<area shape="rect" href="utils_8c.html#a16173a2940fee2ae9756d00109d096ee" title=" " alt="" coords="361,1443,431,1469"/>
<area shape="poly" title=" " alt="" coords="231,1453,345,1453,345,1459,231,1459"/>
<area shape="rect" href="pi-file_8c.html#ae61f7cf14c3c66627059dd6a2c285554" title=" " alt="" coords="326,1591,466,1617"/>
<area shape="poly" title=" " alt="" coords="251,1601,311,1601,311,1607,251,1607"/>
<area shape="poly" title=" " alt="" coords="232,457,771,517,770,522,232,462"/>
<area shape="poly" title=" " alt="" coords="191,440,208,408,235,364,271,319,316,281,363,260,430,241,569,212,570,218,432,246,364,265,318,285,275,323,239,367,212,410,196,443"/>
<area shape="rect" href="dlp_8c.html#a9f0c8f272d342b38d3c05c2e1906d08d" title=" " alt="" coords="786,442,908,468"/>
<area shape="poly" title=" " alt="" coords="232,452,771,452,771,457,232,457"/>
<area shape="rect" href="socket_8c.html#a822f6b3639c99cb43468b11ff7c41799" title=" " alt="" coords="348,295,444,321"/>
<area shape="poly" title=" " alt="" coords="204,439,362,328,365,332,208,444"/>
<area shape="poly" title=" " alt="" coords="910,461,932,477,949,500,960,523,967,546,970,569,967,614,957,658,948,702,944,746,953,791,964,813,980,836,1003,851,1000,856,976,839,959,816,948,792,939,747,943,701,952,657,961,613,965,569,962,547,955,525,944,503,928,481,907,466"/>
<area shape="poly" title=" " alt="" coords="908,447,960,447,1019,455,1077,472,1105,486,1130,503,1157,531,1179,563,1197,598,1210,634,1227,704,1235,758,1229,759,1222,705,1205,636,1192,600,1175,566,1153,534,1127,507,1102,490,1076,477,1018,460,960,453,908,452"/>
<area shape="poly" title=" " alt="" coords="908,447,1326,411,1326,417,908,452"/>
<area shape="poly" title=" " alt="" coords="909,462,932,477,951,503,961,528,964,553,964,577,963,629,968,656,980,685,1001,714,1025,738,1021,742,997,717,976,688,963,658,958,629,959,577,959,553,956,529,947,505,928,481,906,466"/>
<area shape="poly" title=" " alt="" coords="909,465,932,477,970,513,1002,555,1026,597,1043,633,1038,635,1022,600,998,558,966,516,928,481,907,469"/>
<area shape="poly" title=" " alt="" coords="910,461,932,477,951,503,964,530,971,556,974,582,969,632,957,683,946,733,941,783,943,808,950,834,962,859,980,885,981,886,977,890,976,888,957,862,945,835,938,809,936,783,940,732,952,682,964,632,968,582,966,557,959,532,946,506,928,481,907,466"/>
<area shape="poly" title=" " alt="" coords="909,461,932,477,947,497,957,517,966,556,964,595,957,633,950,672,948,710,956,748,966,767,980,786,988,794,984,798,976,790,961,770,951,750,943,710,945,671,952,632,959,594,961,557,952,519,942,500,928,481,906,466"/>
<area shape="poly" title=" " alt="" coords="812,443,806,433,810,424,824,417,847,415,872,418,885,425,883,430,871,423,847,421,825,423,813,427,811,433,817,440"/>
<area shape="poly" title=" " alt="" coords="444,305,845,304,1055,304,1097,306,1140,313,1223,334,1297,360,1354,386,1352,390,1295,365,1222,339,1139,318,1097,312,1054,309,846,309,444,311"/>
<area shape="poly" title=" " alt="" coords="430,292,474,274,577,224,580,229,476,279,432,297"/>
</map>
</div>

</div>
</div>
<a id="a20ba1b2fe3bf97d5a63b60101b2c0b95" name="a20ba1b2fe3bf97d5a63b60101b2c0b95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20ba1b2fe3bf97d5a63b60101b2c0b95">&#9670;&#160;</a></span>write_memo_in_directory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_memo_in_directory </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>dirname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct Memo</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct MemoAppInfo</td>          <td class="paramname"><span class="paramname"><em>mai</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>category</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>verbose</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>progname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  106</span>{</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordtype">int</span>     j;</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordtype">char</span>    pathbuffer[<a class="code hl_define" href="#a9b77e4505117ad4aaed1f6b5a4c35df2">MAXDIRNAMELEN</a>] = <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">  109</span>        tmp[5] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  110</span>    FILE *fd;</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="comment">/* Should check if dirname exists and is a directory */</span></div>
<div class="line"><span class="lineno">  113</span>    mkdir(dirname, 0700);</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>    <span class="comment">/* Create a directory for the category */</span></div>
<div class="line"><span class="lineno">  116</span>    strncat(pathbuffer, dirname, <a class="code hl_define" href="#a9b77e4505117ad4aaed1f6b5a4c35df2">MAXDIRNAMELEN</a>);</div>
<div class="line"><span class="lineno">  117</span>    strncat(pathbuffer, <span class="stringliteral">&quot;/&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    <span class="comment">/* Should make sure category doesn&#39;t have slashes in it */</span></div>
<div class="line"><span class="lineno">  120</span>    strncat(pathbuffer, mai.category.name[category], 60);</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>    <span class="comment">/* Should check if pathbuffer exists and is a directory */</span></div>
<div class="line"><span class="lineno">  123</span>    mkdir(pathbuffer, 0700);</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>    <span class="comment">/* Should check if there were problems creating directory */</span></div>
<div class="line"><span class="lineno">  126</span>    <span class="comment">/* open the actual file to write */</span></div>
<div class="line"><span class="lineno">  127</span>    strncat(pathbuffer, <span class="stringliteral">&quot;/&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">for</span> (j = 0; j &lt; 40; j++) {</div>
<div class="line"><span class="lineno">  129</span>        <span class="keywordflow">if</span> ((!m.text[j]) || (m.text[j] == <span class="charliteral">&#39;\n&#39;</span>))</div>
<div class="line"><span class="lineno">  130</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">if</span> (m.text[j] == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><span class="lineno">  132</span>            strncat(pathbuffer, <span class="stringliteral">&quot;=2F&quot;</span>, 3);</div>
<div class="line"><span class="lineno">  133</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  134</span>        }</div>
<div class="line"><span class="lineno">  135</span>        <span class="keywordflow">if</span> (m.text[j] == <span class="charliteral">&#39;=&#39;</span>) {</div>
<div class="line"><span class="lineno">  136</span>            strncat(pathbuffer, <span class="stringliteral">&quot;=3D&quot;</span>, 3);</div>
<div class="line"><span class="lineno">  137</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  138</span>        }</div>
<div class="line"><span class="lineno">  139</span><span class="preprocessor">#ifdef OS2</span></div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">if</span> (m.text[j] == <span class="charliteral">&#39;:&#39;</span>) {</div>
<div class="line"><span class="lineno">  141</span>            strncat(pathbuffer, <span class="stringliteral">&quot;=3A&quot;</span>, 3);</div>
<div class="line"><span class="lineno">  142</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  143</span>        }</div>
<div class="line"><span class="lineno">  144</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  145</span>        <span class="comment">/* escape if it&#39;s an ISO8859 control chcter (note: some</span></div>
<div class="line"><span class="lineno">  146</span><span class="comment">           are printable on the Palm) */</span></div>
<div class="line"><span class="lineno">  147</span>        <span class="keywordflow">if</span> ((m.text[j] | 0x7f) &lt; <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><span class="lineno">  148</span>            tmp[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  149</span>            sprintf(tmp, <span class="stringliteral">&quot;=%2X&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) m.text[j]);</div>
<div class="line"><span class="lineno">  150</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  151</span>            tmp[0] = m.text[j];</div>
<div class="line"><span class="lineno">  152</span>            tmp[1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  153</span>        }</div>
<div class="line"><span class="lineno">  154</span>        strcat(pathbuffer, tmp);</div>
<div class="line"><span class="lineno">  155</span>    }</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">if</span> (verbose) {</div>
<div class="line"><span class="lineno">  158</span>        printf(<span class="stringliteral">&quot;Writing %s\n&quot;</span>, pathbuffer);</div>
<div class="line"><span class="lineno">  159</span>    }</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">if</span> (!(fd = fopen(pathbuffer, <span class="stringliteral">&quot;w&quot;</span>))) {</div>
<div class="line"><span class="lineno">  162</span>        printf(<span class="stringliteral">&quot;%s: can&#39;t open file \&quot;%s\&quot; for writing\n&quot;</span>,</div>
<div class="line"><span class="lineno">  163</span>            <a class="code hl_variable" href="pilot-read-notepad_8c.html#ad785d8a8f8ff378aa21eb1fa7a6085df">progname</a>, pathbuffer);</div>
<div class="line"><span class="lineno">  164</span>        exit(EXIT_FAILURE);</div>
<div class="line"><span class="lineno">  165</span>    }</div>
<div class="line"><span class="lineno">  166</span>    fputs(m.text, fd);</div>
<div class="line"><span class="lineno">  167</span>    fclose(fd);</div>
<div class="line"><span class="lineno">  168</span>}</div>
<div class="ttc" id="apilot-memos_8c_html_a9b77e4505117ad4aaed1f6b5a4c35df2"><div class="ttname"><a href="#a9b77e4505117ad4aaed1f6b5a4c35df2">MAXDIRNAMELEN</a></div><div class="ttdeci">#define MAXDIRNAMELEN</div><div class="ttdef"><b>Definition</b> pilot-memos.c:36</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00036">MAXDIRNAMELEN</a>, and <a class="el" href="#l00048">progname</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00171">main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-memos_8c_a20ba1b2fe3bf97d5a63b60101b2c0b95_icgraph.png" border="0" usemap="#apilot-memos_8c_a20ba1b2fe3bf97d5a63b60101b2c0b95_icgraph" alt=""/></div>
<map name="apilot-memos_8c_a20ba1b2fe3bf97d5a63b60101b2c0b95_icgraph" id="apilot-memos_8c_a20ba1b2fe3bf97d5a63b60101b2c0b95_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,269,31"/>
<area shape="rect" href="pilot-memos_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a7ddcad0dde8ac64bedb23d26eacf8d4c" name="a7ddcad0dde8ac64bedb23d26eacf8d4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ddcad0dde8ac64bedb23d26eacf8d4c">&#9670;&#160;</a></span>write_memo_mbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void write_memo_mbox </td>
          <td>(</td>
          <td class="paramtype">struct Memo</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct MemoAppInfo</td>          <td class="paramname"><span class="paramname"><em>mai</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>category</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   55</span>{</div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordtype">int</span>     j;</div>
<div class="line"><span class="lineno">   57</span>    time_t  now;</div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordtype">char</span>    *time_str;</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>    now = time( NULL );</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    <span class="comment">/* FIXME: might be good to get the time stamp of the memo file for</span></div>
<div class="line"><span class="lineno">   63</span><span class="comment">       the &quot;Received&quot; line */</span></div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>    time_str = ctime(&amp;now);</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    printf(<span class="stringliteral">&quot;From Palm.Handheld %s&quot;</span></div>
<div class="line"><span class="lineno">   68</span>           <span class="stringliteral">&quot;From: pilot-link memos (MemoDB) &lt;Palm.Handheld@your.machine&gt;\n&quot;</span></div>
<div class="line"><span class="lineno">   69</span>           <span class="stringliteral">&quot;Received: %s&quot;</span></div>
<div class="line"><span class="lineno">   70</span>           <span class="stringliteral">&quot;To: You\n&quot;</span></div>
<div class="line"><span class="lineno">   71</span>           <span class="stringliteral">&quot;Date: %s&quot;</span></div>
<div class="line"><span class="lineno">   72</span>           <span class="stringliteral">&quot;Subject: &quot;</span>, time_str, time_str, time_str);</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    <span class="comment">/* print category name in brackets in subject field */</span></div>
<div class="line"><span class="lineno">   75</span>    printf(<span class="stringliteral">&quot;[%s] &quot;</span>, mai.category.name[category]);</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    <span class="comment">/* print (at least part of) first line as part of subject: */</span></div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">for</span> (j = 0; j &lt; 40; j++) {</div>
<div class="line"><span class="lineno">   79</span>        <span class="keywordflow">if</span> ((!m.text[j]) || (m.text[j] == <span class="charliteral">&#39;\n&#39;</span>))</div>
<div class="line"><span class="lineno">   80</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   81</span>        printf(<span class="stringliteral">&quot;%c&quot;</span>, m.text[j]);</div>
<div class="line"><span class="lineno">   82</span>    }</div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">if</span> (j == 40)</div>
<div class="line"><span class="lineno">   84</span>        printf(<span class="stringliteral">&quot;...\n&quot;</span>);</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   86</span>        printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">   87</span>    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">   88</span>    puts(m.text);</div>
<div class="line"><span class="lineno">   89</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00171">main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-memos_8c_a7ddcad0dde8ac64bedb23d26eacf8d4c_icgraph.png" border="0" usemap="#apilot-memos_8c_a7ddcad0dde8ac64bedb23d26eacf8d4c_icgraph" alt=""/></div>
<map name="apilot-memos_8c_a7ddcad0dde8ac64bedb23d26eacf8d4c_icgraph" id="apilot-memos_8c_a7ddcad0dde8ac64bedb23d26eacf8d4c_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,234,31"/>
<area shape="rect" href="pilot-memos_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="pilot-memos_8c.html">pilot-memos.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
