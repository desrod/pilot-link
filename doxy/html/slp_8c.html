<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: libpisock/slp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('slp_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">slp.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &quot;pi-debug.h&quot;</code><br />
<code>#include &quot;pi-source.h&quot;</code><br />
<code>#include &quot;pi-serial.h&quot;</code><br />
<code>#include &quot;pi-slp.h&quot;</code><br />
<code>#include &quot;pi-error.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for slp.c:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c__incl.png" border="0" usemap="#alibpisock_2slp_8c" alt=""/></div>
<map name="alibpisock_2slp_8c" id="alibpisock_2slp_8c">
<area shape="rect" title=" " alt="" coords="566,5,670,31"/>
<area shape="rect" title=" " alt="" coords="5,79,66,105"/>
<area shape="poly" title=" " alt="" coords="566,25,357,42,222,59,81,81,81,76,221,53,357,37,565,20"/>
<area shape="rect" title=" " alt="" coords="89,79,152,105"/>
<area shape="poly" title=" " alt="" coords="566,27,393,46,168,81,167,76,392,41,565,22"/>
<area shape="rect" title=" " alt="" coords="177,79,238,105"/>
<area shape="poly" title=" " alt="" coords="566,29,429,49,254,81,253,76,428,44,565,24"/>
<area shape="rect" title=" " alt="" coords="262,79,326,105"/>
<area shape="poly" title=" " alt="" coords="566,33,342,81,341,76,565,27"/>
<area shape="rect" title=" " alt="" coords="351,79,440,105"/>
<area shape="poly" title=" " alt="" coords="581,34,449,76,447,71,580,29"/>
<area shape="rect" title=" " alt="" coords="465,79,561,105"/>
<area shape="poly" title=" " alt="" coords="602,34,545,72,542,68,599,29"/>
<area shape="rect" title=" " alt="" coords="584,79,652,105"/>
<area shape="poly" title=" " alt="" coords="621,31,621,63,616,63,616,31"/>
<area shape="rect" title=" " alt="" coords="676,79,761,105"/>
<area shape="poly" title=" " alt="" coords="637,29,690,67,687,72,634,34"/>
<area shape="rect" title=" " alt="" coords="786,79,867,105"/>
<area shape="poly" title=" " alt="" coords="654,29,777,71,776,76,653,34"/>
<area shape="rect" title=" " alt="" coords="892,79,977,105"/>
<area shape="poly" title=" " alt="" coords="671,29,877,75,876,80,670,34"/>
<area shape="rect" title=" " alt="" coords="1001,79,1078,105"/>
<area shape="poly" title=" " alt="" coords="671,24,809,45,986,76,985,81,808,50,670,29"/>
<area shape="rect" title=" " alt="" coords="1102,79,1166,105"/>
<area shape="poly" title=" " alt="" coords="671,21,852,40,968,56,1088,76,1087,81,967,61,851,46,671,27"/>
<area shape="rect" title=" " alt="" coords="1190,79,1262,105"/>
<area shape="poly" title=" " alt="" coords="671,20,887,38,1029,55,1175,76,1175,81,1028,60,887,44,671,25"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1d28b91955f92f83aff45e1b5983261a" id="r_a1d28b91955f92f83aff45e1b5983261a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d28b91955f92f83aff45e1b5983261a">slp_dump</a> (const unsigned char *data)</td></tr>
<tr class="separator:a1d28b91955f92f83aff45e1b5983261a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad188b3c495c6437f9b997e23b1299254" id="r_ad188b3c495c6437f9b997e23b1299254"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad188b3c495c6437f9b997e23b1299254">slp_dump_header</a> (const unsigned char *data, int rxtx)</td></tr>
<tr class="separator:ad188b3c495c6437f9b997e23b1299254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae24f0f96c69dd3ee165aa0462a52f422" id="r_ae24f0f96c69dd3ee165aa0462a52f422"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae24f0f96c69dd3ee165aa0462a52f422">slp_flush</a> (pi_socket_t *ps, int <a class="el" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>)</td></tr>
<tr class="separator:ae24f0f96c69dd3ee165aa0462a52f422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a34f18c1b596a633978a53e46224f39" id="r_a4a34f18c1b596a633978a53e46224f39"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a34f18c1b596a633978a53e46224f39">slp_getsockopt</a> (pi_socket_t *ps, int level, int option_name, void *option_value, size_t *option_len)</td></tr>
<tr class="separator:a4a34f18c1b596a633978a53e46224f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08008e07e5c44ef5c2ce64596b544ac8" id="r_a08008e07e5c44ef5c2ce64596b544ac8"><td class="memItemLeft" align="right" valign="top">pi_protocol_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08008e07e5c44ef5c2ce64596b544ac8">slp_protocol</a> (void)</td></tr>
<tr class="separator:a08008e07e5c44ef5c2ce64596b544ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a274da24023419cbdbaeaba9fd0f596fb" id="r_a274da24023419cbdbaeaba9fd0f596fb"><td class="memItemLeft" align="right" valign="top">static pi_protocol_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a274da24023419cbdbaeaba9fd0f596fb">slp_protocol_dup</a> (pi_protocol_t *prot)</td></tr>
<tr class="separator:a274da24023419cbdbaeaba9fd0f596fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472881bc41abf0d3b4f3bdc400d2f412" id="r_a472881bc41abf0d3b4f3bdc400d2f412"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a472881bc41abf0d3b4f3bdc400d2f412">slp_protocol_free</a> (pi_protocol_t *prot)</td></tr>
<tr class="separator:a472881bc41abf0d3b4f3bdc400d2f412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8addd6e0b15768d09426046d6a5c76b" id="r_af8addd6e0b15768d09426046d6a5c76b"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af8addd6e0b15768d09426046d6a5c76b">slp_rx</a> (pi_socket_t *ps, pi_buffer_t *<a class="el" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, size_t len, int <a class="el" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>)</td></tr>
<tr class="separator:af8addd6e0b15768d09426046d6a5c76b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1dfc203e48aab94c18e1539fe2c9317" id="r_ab1dfc203e48aab94c18e1539fe2c9317"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab1dfc203e48aab94c18e1539fe2c9317">slp_setsockopt</a> (pi_socket_t *ps, int level, int option_name, const void *option_value, size_t *option_len)</td></tr>
<tr class="separator:ab1dfc203e48aab94c18e1539fe2c9317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01fdc743847ce35ab44332e53c477eeb" id="r_a01fdc743847ce35ab44332e53c477eeb"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01fdc743847ce35ab44332e53c477eeb">slp_tx</a> (pi_socket_t *ps, const unsigned char *<a class="el" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, size_t len, int <a class="el" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>)</td></tr>
<tr class="separator:a01fdc743847ce35ab44332e53c477eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1d28b91955f92f83aff45e1b5983261a" name="a1d28b91955f92f83aff45e1b5983261a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d28b91955f92f83aff45e1b5983261a">&#9670;&#160;</a></span>slp_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void slp_dump </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  648</span>{</div>
<div class="line"><span class="lineno">  649</span>    <a class="code hl_function" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9">pi_dumpdata</a>((<span class="keywordtype">char</span> *)&amp;data[PI_SLP_HEADER_LEN], get_short(&amp;data[PI_SLP_OFFSET_SIZE]));</div>
<div class="line"><span class="lineno">  650</span>}</div>
<div class="ttc" id="adebug_8c_html_ac942525fcc03cc9c77dfe0628ade03b9"><div class="ttname"><a href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9">pi_dumpdata</a></div><div class="ttdeci">void pi_dumpdata(const char *buf, size_t len)</div><div class="ttdef"><b>Definition</b> debug.c:222</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00222">pi_dumpdata()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00278">slp_rx()</a>, and <a class="el" href="#l00197">slp_tx()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_a1d28b91955f92f83aff45e1b5983261a_cgraph.png" border="0" usemap="#aslp_8c_a1d28b91955f92f83aff45e1b5983261a_cgraph" alt=""/></div>
<map name="aslp_8c_a1d28b91955f92f83aff45e1b5983261a_cgraph" id="aslp_8c_a1d28b91955f92f83aff45e1b5983261a_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,83,31"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="131,5,226,31"/>
<area shape="poly" title=" " alt="" coords="83,16,115,16,115,21,83,21"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="274,5,364,31"/>
<area shape="poly" title=" " alt="" coords="226,16,258,16,258,21,226,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_a1d28b91955f92f83aff45e1b5983261a_icgraph.png" border="0" usemap="#aslp_8c_a1d28b91955f92f83aff45e1b5983261a_icgraph" alt=""/></div>
<map name="aslp_8c_a1d28b91955f92f83aff45e1b5983261a_icgraph" id="aslp_8c_a1d28b91955f92f83aff45e1b5983261a_icgraph">
<area shape="rect" title=" " alt="" coords="1931,107,2009,132"/>
<area shape="rect" href="slp_8c.html#af8addd6e0b15768d09426046d6a5c76b" title=" " alt="" coords="1827,81,1883,107"/>
<area shape="poly" title=" " alt="" coords="1915,110,1883,103,1884,98,1916,105"/>
<area shape="rect" href="slp_8c.html#a01fdc743847ce35ab44332e53c477eeb" title=" " alt="" coords="1827,131,1883,156"/>
<area shape="poly" title=" " alt="" coords="1916,133,1884,140,1883,135,1915,128"/>
<area shape="rect" href="slp_8c.html#a08008e07e5c44ef5c2ce64596b544ac8" title=" " alt="" coords="1688,105,1779,131"/>
<area shape="poly" title=" " alt="" coords="1813,105,1780,112,1779,107,1812,100"/>
<area shape="rect" href="os2serial_8c.html#a0a652a6735dcb5a71256859121ef1562" title=" " alt="" coords="1700,56,1767,82"/>
<area shape="poly" title=" " alt="" coords="1811,88,1767,78,1768,73,1812,83"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,104,651,130"/>
<area shape="poly" title=" " alt="" coords="684,104,651,110,650,104,683,99"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,5,612,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,612,29,614,24,652,40,707,69"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,301,640,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,351,637,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,633,352,630,348,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,153,637,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,203,633,228"/>
<area shape="poly" title=" " alt="" coords="694,236,633,226,634,220,695,231"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,252,625,278"/>
<area shape="poly" title=" " alt="" coords="694,251,626,262,625,256,694,245"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,39,476,80"/>
<area shape="poly" title=" " alt="" coords="529,148,523,144,508,131,498,119,489,106,475,94,456,83,459,78,478,89,493,103,502,115,512,128,526,140,532,144"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,153,436,179"/>
<area shape="poly" title=" " alt="" coords="526,202,436,178,437,173,528,197"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,203,450,228"/>
<area shape="poly" title=" " alt="" coords="526,218,451,218,451,213,526,213"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,252,435,278"/>
<area shape="poly" title=" " alt="" coords="527,234,436,258,435,253,526,229"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,301,424,327"/>
<area shape="poly" title=" " alt="" coords="532,238,526,242,512,254,503,267,493,280,478,292,451,305,425,312,424,307,449,300,475,288,489,276,498,264,508,251,523,237,529,233"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="530,238,526,241,509,266,503,291,497,316,490,329,478,342,452,356,425,363,424,358,450,351,475,337,485,326,492,314,498,289,504,264,522,238,526,234"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,104,424,130"/>
<area shape="poly" title=" " alt="" coords="529,198,523,194,508,180,498,167,489,155,475,143,449,131,424,124,425,119,451,126,478,139,493,151,503,164,512,177,526,189,532,193"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="334,218,273,218,273,213,334,213"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,153,275,179"/>
<area shape="poly" title=" " alt="" coords="336,201,272,182,274,177,338,195"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,179,127,204"/>
<area shape="poly" title=" " alt="" coords="161,209,127,203,128,198,162,203"/>
<area shape="poly" title=" " alt="" coords="160,179,127,184,126,179,159,174"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,252,250,278"/>
<area shape="poly" title=" " alt="" coords="348,268,250,268,250,262,348,262"/>
<area shape="rect" href="os2serial_8c.html#ab60308506cb83fd60c2d61a0ab0e95c8" title=" " alt="" coords="1516,56,1620,82"/>
<area shape="poly" title=" " alt="" coords="1684,72,1621,72,1621,66,1684,66"/>
<area shape="poly" title=" " alt="" coords="1812,137,1779,130,1780,125,1813,132"/>
<area shape="rect" href="pilot-port_8c.html#abb8ea98f18304089d8c3237cb82d226f" title=" " alt="" coords="1700,155,1767,180"/>
<area shape="poly" title=" " alt="" coords="1812,155,1768,163,1767,158,1811,149"/>
<area shape="rect" href="pilot-port_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="1543,155,1593,180"/>
<area shape="poly" title=" " alt="" coords="1684,170,1593,170,1593,165,1684,165"/>
</map>
</div>

</div>
</div>
<a id="ad188b3c495c6437f9b997e23b1299254" name="ad188b3c495c6437f9b997e23b1299254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad188b3c495c6437f9b997e23b1299254">&#9670;&#160;</a></span>slp_dump_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void slp_dump_header </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>rxtx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  622</span>{   </div>
<div class="line"><span class="lineno">  623</span>    LOG((PI_DBG_SLP, PI_DBG_LVL_NONE,</div>
<div class="line"><span class="lineno">  624</span>        <span class="stringliteral">&quot;SLP %s %d-&gt;%d type=%d txid=0x%.2x len=0x%.4x checksum=0x%.2x\n&quot;</span>,</div>
<div class="line"><span class="lineno">  625</span>        rxtx ? <span class="stringliteral">&quot;TX&quot;</span> : <span class="stringliteral">&quot;RX&quot;</span>,</div>
<div class="line"><span class="lineno">  626</span>        get_byte(&amp;data[PI_SLP_OFFSET_DEST]),</div>
<div class="line"><span class="lineno">  627</span>        get_byte(&amp;data[PI_SLP_OFFSET_SRC]),</div>
<div class="line"><span class="lineno">  628</span>        get_byte(&amp;data[PI_SLP_OFFSET_TYPE]),</div>
<div class="line"><span class="lineno">  629</span>        get_byte(&amp;data[PI_SLP_OFFSET_TXID]),</div>
<div class="line"><span class="lineno">  630</span>        get_short(&amp;data[PI_SLP_OFFSET_SIZE]),</div>
<div class="line"><span class="lineno">  631</span>        get_byte(&amp;data[PI_SLP_OFFSET_SUM])));</div>
<div class="line"><span class="lineno">  632</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00278">slp_rx()</a>, and <a class="el" href="#l00197">slp_tx()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_ad188b3c495c6437f9b997e23b1299254_icgraph.png" border="0" usemap="#aslp_8c_ad188b3c495c6437f9b997e23b1299254_icgraph" alt=""/></div>
<map name="aslp_8c_ad188b3c495c6437f9b997e23b1299254_icgraph" id="aslp_8c_ad188b3c495c6437f9b997e23b1299254_icgraph">
<area shape="rect" title=" " alt="" coords="1931,107,2055,132"/>
<area shape="rect" href="slp_8c.html#af8addd6e0b15768d09426046d6a5c76b" title=" " alt="" coords="1827,81,1883,107"/>
<area shape="poly" title=" " alt="" coords="1915,108,1883,102,1884,97,1916,103"/>
<area shape="rect" href="slp_8c.html#a01fdc743847ce35ab44332e53c477eeb" title=" " alt="" coords="1827,131,1883,156"/>
<area shape="poly" title=" " alt="" coords="1916,136,1884,141,1883,136,1915,130"/>
<area shape="rect" href="slp_8c.html#a08008e07e5c44ef5c2ce64596b544ac8" title=" " alt="" coords="1688,105,1779,131"/>
<area shape="poly" title=" " alt="" coords="1813,105,1780,112,1779,107,1812,100"/>
<area shape="rect" href="os2serial_8c.html#a0a652a6735dcb5a71256859121ef1562" title=" " alt="" coords="1700,56,1767,82"/>
<area shape="poly" title=" " alt="" coords="1811,88,1767,78,1768,73,1812,83"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,104,651,130"/>
<area shape="poly" title=" " alt="" coords="684,104,651,110,650,104,683,99"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,5,612,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,612,29,614,24,652,40,707,69"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,301,640,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,351,637,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,633,352,630,348,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,153,637,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,203,633,228"/>
<area shape="poly" title=" " alt="" coords="694,236,633,226,634,220,695,231"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,252,625,278"/>
<area shape="poly" title=" " alt="" coords="694,251,626,262,625,256,694,245"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,39,476,80"/>
<area shape="poly" title=" " alt="" coords="529,148,523,144,508,131,498,119,489,106,475,94,456,83,459,78,478,89,493,103,502,115,512,128,526,140,532,144"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,153,436,179"/>
<area shape="poly" title=" " alt="" coords="526,202,436,178,437,173,528,197"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,203,450,228"/>
<area shape="poly" title=" " alt="" coords="526,218,451,218,451,213,526,213"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,252,435,278"/>
<area shape="poly" title=" " alt="" coords="527,234,436,258,435,253,526,229"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,301,424,327"/>
<area shape="poly" title=" " alt="" coords="532,238,526,242,512,254,503,267,493,280,478,292,451,305,425,312,424,307,449,300,475,288,489,276,498,264,508,251,523,237,529,233"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="530,238,526,241,509,266,503,291,497,316,490,329,478,342,452,356,425,363,424,358,450,351,475,337,485,326,492,314,498,289,504,264,522,238,526,234"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,104,424,130"/>
<area shape="poly" title=" " alt="" coords="529,198,523,194,508,180,498,167,489,155,475,143,449,131,424,124,425,119,451,126,478,139,493,151,503,164,512,177,526,189,532,193"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="334,218,273,218,273,213,334,213"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,153,275,179"/>
<area shape="poly" title=" " alt="" coords="336,201,272,182,274,177,338,195"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,179,127,204"/>
<area shape="poly" title=" " alt="" coords="161,209,127,203,128,198,162,203"/>
<area shape="poly" title=" " alt="" coords="160,179,127,184,126,179,159,174"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,252,250,278"/>
<area shape="poly" title=" " alt="" coords="348,268,250,268,250,262,348,262"/>
<area shape="rect" href="os2serial_8c.html#ab60308506cb83fd60c2d61a0ab0e95c8" title=" " alt="" coords="1516,56,1620,82"/>
<area shape="poly" title=" " alt="" coords="1684,72,1621,72,1621,66,1684,66"/>
<area shape="poly" title=" " alt="" coords="1812,137,1779,130,1780,125,1813,132"/>
<area shape="rect" href="pilot-port_8c.html#abb8ea98f18304089d8c3237cb82d226f" title=" " alt="" coords="1700,155,1767,180"/>
<area shape="poly" title=" " alt="" coords="1812,155,1768,163,1767,158,1811,149"/>
<area shape="rect" href="pilot-port_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="1543,155,1593,180"/>
<area shape="poly" title=" " alt="" coords="1684,170,1593,170,1593,165,1684,165"/>
</map>
</div>

</div>
</div>
<a id="ae24f0f96c69dd3ee165aa0462a52f422" name="ae24f0f96c69dd3ee165aa0462a52f422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae24f0f96c69dd3ee165aa0462a52f422">&#9670;&#160;</a></span>slp_flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int slp_flush </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  442</span>{</div>
<div class="line"><span class="lineno">  443</span>    pi_protocol_t   *prot,</div>
<div class="line"><span class="lineno">  444</span>            *next;</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_SLP);</div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>    next = <a class="code hl_function" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368">pi_protocol_next</a>(ps-&gt;sd, PI_LEVEL_SLP);</div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">if</span> (next == NULL)</div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">return</span> next-&gt;flush(ps, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>);</div>
<div class="line"><span class="lineno">  455</span>}</div>
<div class="ttc" id="adarwinusb_8c_html_a1cbb17ede73ea044a04a129bf4d86976"><div class="ttname"><a href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a></div><div class="ttdeci">unsigned short flags</div><div class="ttdef"><b>Definition</b> darwinusb.c:311</div></div>
<div class="ttc" id="asocket_8c_html_a0d734c11092254f751f06eda9d35d7b3"><div class="ttname"><a href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a></div><div class="ttdeci">pi_protocol_t * pi_protocol(int pi_sd, int level)</div><div class="ttdef"><b>Definition</b> socket.c:659</div></div>
<div class="ttc" id="asocket_8c_html_a415df518818c6813556c5607b29e833e"><div class="ttname"><a href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a></div><div class="ttdeci">int pi_set_error(int pi_sd, int error_code)</div><div class="ttdef"><b>Definition</b> socket.c:1625</div></div>
<div class="ttc" id="asocket_8c_html_a8fe4e2f277f57446a40cc3ccf20dd368"><div class="ttname"><a href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368">pi_protocol_next</a></div><div class="ttdeci">pi_protocol_t * pi_protocol_next(int pi_sd, int level)</div><div class="ttdef"><b>Definition</b> socket.c:672</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00311">flags</a>, <a class="el" href="#l00659">pi_protocol()</a>, <a class="el" href="#l00672">pi_protocol_next()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00145">slp_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_ae24f0f96c69dd3ee165aa0462a52f422_cgraph.png" border="0" usemap="#aslp_8c_ae24f0f96c69dd3ee165aa0462a52f422_cgraph" alt=""/></div>
<map name="aslp_8c_ae24f0f96c69dd3ee165aa0462a52f422_cgraph" id="aslp_8c_ae24f0f96c69dd3ee165aa0462a52f422_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,79,80"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="143,5,227,31"/>
<area shape="poly" title=" " alt="" coords="78,52,130,34,132,39,80,57"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="127,104,243,130"/>
<area shape="poly" title=" " alt="" coords="80,78,132,96,130,101,78,83"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="140,55,230,80"/>
<area shape="poly" title=" " alt="" coords="79,65,125,65,125,70,79,70"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="323,55,428,80"/>
<area shape="poly" title=" " alt="" coords="228,26,309,48,308,53,227,32"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="307,5,444,31"/>
<area shape="poly" title=" " alt="" coords="227,16,291,16,291,21,227,21"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="515,5,621,31"/>
<area shape="poly" title=" " alt="" coords="428,51,500,33,501,38,429,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="508,55,628,80"/>
<area shape="poly" title=" " alt="" coords="429,65,493,65,493,70,429,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="524,104,612,130"/>
<area shape="poly" title=" " alt="" coords="429,78,510,99,509,105,428,84"/>
<area shape="poly" title=" " alt="" coords="237,101,308,82,309,87,238,106"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="291,104,460,130"/>
<area shape="poly" title=" " alt="" coords="244,114,275,114,275,120,244,120"/>
<area shape="poly" title=" " alt="" coords="230,65,307,65,307,70,230,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_ae24f0f96c69dd3ee165aa0462a52f422_icgraph.png" border="0" usemap="#aslp_8c_ae24f0f96c69dd3ee165aa0462a52f422_icgraph" alt=""/></div>
<map name="aslp_8c_ae24f0f96c69dd3ee165aa0462a52f422_icgraph" id="aslp_8c_ae24f0f96c69dd3ee165aa0462a52f422_icgraph">
<area shape="rect" title=" " alt="" coords="1827,105,1900,131"/>
<area shape="rect" href="slp_8c.html#a08008e07e5c44ef5c2ce64596b544ac8" title=" " alt="" coords="1688,105,1779,131"/>
<area shape="poly" title=" " alt="" coords="1811,121,1779,121,1779,116,1811,116"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="a4a34f18c1b596a633978a53e46224f39" name="a4a34f18c1b596a633978a53e46224f39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a34f18c1b596a633978a53e46224f39">&#9670;&#160;</a></span>slp_getsockopt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int slp_getsockopt </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>option_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>option_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>option_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  471</span>{</div>
<div class="line"><span class="lineno">  472</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  473</span>    <span class="keyword">struct  </span>pi_slp_data *data;</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_SLP);</div>
<div class="line"><span class="lineno">  476</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  477</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>    data = (<span class="keyword">struct </span>pi_slp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordflow">switch</span> (option_name) {</div>
<div class="line"><span class="lineno">  482</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#aad08f80b5ea0d26e2cec8533528f4e05">PI_SLP_DEST</a>:</div>
<div class="line"><span class="lineno">  483</span>            <span class="keywordflow">if</span> (*option_len &lt; <span class="keyword">sizeof</span> (data-&gt;dest))</div>
<div class="line"><span class="lineno">  484</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  485</span>            memcpy (option_value, &amp;data-&gt;dest, sizeof (data-&gt;dest));</div>
<div class="line"><span class="lineno">  486</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;dest);</div>
<div class="line"><span class="lineno">  487</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#acfd32279d1a8d1bd77ba5516b676b2a8">PI_SLP_LASTDEST</a>:</div>
<div class="line"><span class="lineno">  489</span>            <span class="keywordflow">if</span> (*option_len &lt; <span class="keyword">sizeof</span> (data-&gt;dest))</div>
<div class="line"><span class="lineno">  490</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  491</span>            memcpy (option_value, &amp;data-&gt;last_dest,</div>
<div class="line"><span class="lineno">  492</span>                    sizeof (data-&gt;last_dest));</div>
<div class="line"><span class="lineno">  493</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;last_dest);</div>
<div class="line"><span class="lineno">  494</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  495</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#af65189e338a87b596eb58d0747ea2627">PI_SLP_SRC</a>:</div>
<div class="line"><span class="lineno">  496</span>            <span class="keywordflow">if</span> (*option_len &lt; <span class="keyword">sizeof</span> (data-&gt;src))</div>
<div class="line"><span class="lineno">  497</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  498</span>            memcpy (option_value, &amp;data-&gt;src, </div>
<div class="line"><span class="lineno">  499</span>                    sizeof (data-&gt;src));</div>
<div class="line"><span class="lineno">  500</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;src);</div>
<div class="line"><span class="lineno">  501</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  502</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a7f607c53d4c170d2294829b174dc744c">PI_SLP_LASTSRC</a>:</div>
<div class="line"><span class="lineno">  503</span>            <span class="keywordflow">if</span> (*option_len &lt; <span class="keyword">sizeof</span> (data-&gt;last_src))</div>
<div class="line"><span class="lineno">  504</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  505</span>            memcpy (option_value, &amp;data-&gt;last_src, </div>
<div class="line"><span class="lineno">  506</span>                    sizeof (data-&gt;last_src));</div>
<div class="line"><span class="lineno">  507</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;last_src);</div>
<div class="line"><span class="lineno">  508</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  509</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a1528a7bfce7f0bd023be82238dcedb6d">PI_SLP_TYPE</a>:</div>
<div class="line"><span class="lineno">  510</span>            <span class="keywordflow">if</span> (*option_len &lt; <span class="keyword">sizeof</span> (data-&gt;type))</div>
<div class="line"><span class="lineno">  511</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  512</span>            memcpy (option_value, &amp;data-&gt;type,</div>
<div class="line"><span class="lineno">  513</span>                    sizeof (data-&gt;type));</div>
<div class="line"><span class="lineno">  514</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;type);</div>
<div class="line"><span class="lineno">  515</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  516</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a66bbccd0577270f8b825525094730bcb">PI_SLP_LASTTYPE</a>:</div>
<div class="line"><span class="lineno">  517</span>            <span class="keywordflow">if</span> (*option_len &lt; <span class="keyword">sizeof</span> (data-&gt;last_type))</div>
<div class="line"><span class="lineno">  518</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  519</span>            memcpy (option_value, &amp;data-&gt;last_type,</div>
<div class="line"><span class="lineno">  520</span>                    sizeof (data-&gt;last_type));</div>
<div class="line"><span class="lineno">  521</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;last_type);</div>
<div class="line"><span class="lineno">  522</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  523</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a9d1b4a3c49a0b8a921a5c452446e8733">PI_SLP_TXID</a>:</div>
<div class="line"><span class="lineno">  524</span>            <span class="keywordflow">if</span> (*option_len &lt; <span class="keyword">sizeof</span> (data-&gt;txid))</div>
<div class="line"><span class="lineno">  525</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  526</span>            memcpy (option_value, &amp;data-&gt;txid,</div>
<div class="line"><span class="lineno">  527</span>                    sizeof (data-&gt;txid));</div>
<div class="line"><span class="lineno">  528</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;txid);</div>
<div class="line"><span class="lineno">  529</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  530</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a69064cf9ddf6d8d36f76ca1644ab531e">PI_SLP_LASTTXID</a>:</div>
<div class="line"><span class="lineno">  531</span>            <span class="keywordflow">if</span> (*option_len &lt; <span class="keyword">sizeof</span> (data-&gt;last_txid))</div>
<div class="line"><span class="lineno">  532</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  533</span>            memcpy (option_value, &amp;data-&gt;last_txid,</div>
<div class="line"><span class="lineno">  534</span>                    sizeof (data-&gt;last_txid));</div>
<div class="line"><span class="lineno">  535</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;last_txid);</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  537</span>    }</div>
<div class="line"><span class="lineno">  538</span>    </div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  540</span>    </div>
<div class="line"><span class="lineno">  541</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>:</div>
<div class="line"><span class="lineno">  542</span>    errno = EINVAL;</div>
<div class="line"><span class="lineno">  543</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_ARGUMENT);</div>
<div class="line"><span class="lineno">  544</span>}</div>
<div class="ttc" id="anamespacepisock_html_a1528a7bfce7f0bd023be82238dcedb6d"><div class="ttname"><a href="namespacepisock.html#a1528a7bfce7f0bd023be82238dcedb6d">pisock.PI_SLP_TYPE</a></div><div class="ttdeci">PI_SLP_TYPE</div><div class="ttdef"><b>Definition</b> pisock.py:95</div></div>
<div class="ttc" id="anamespacepisock_html_a66bbccd0577270f8b825525094730bcb"><div class="ttname"><a href="namespacepisock.html#a66bbccd0577270f8b825525094730bcb">pisock.PI_SLP_LASTTYPE</a></div><div class="ttdeci">PI_SLP_LASTTYPE</div><div class="ttdef"><b>Definition</b> pisock.py:96</div></div>
<div class="ttc" id="anamespacepisock_html_a69064cf9ddf6d8d36f76ca1644ab531e"><div class="ttname"><a href="namespacepisock.html#a69064cf9ddf6d8d36f76ca1644ab531e">pisock.PI_SLP_LASTTXID</a></div><div class="ttdeci">PI_SLP_LASTTXID</div><div class="ttdef"><b>Definition</b> pisock.py:98</div></div>
<div class="ttc" id="anamespacepisock_html_a7f607c53d4c170d2294829b174dc744c"><div class="ttname"><a href="namespacepisock.html#a7f607c53d4c170d2294829b174dc744c">pisock.PI_SLP_LASTSRC</a></div><div class="ttdeci">PI_SLP_LASTSRC</div><div class="ttdef"><b>Definition</b> pisock.py:94</div></div>
<div class="ttc" id="anamespacepisock_html_a9d1b4a3c49a0b8a921a5c452446e8733"><div class="ttname"><a href="namespacepisock.html#a9d1b4a3c49a0b8a921a5c452446e8733">pisock.PI_SLP_TXID</a></div><div class="ttdeci">PI_SLP_TXID</div><div class="ttdef"><b>Definition</b> pisock.py:97</div></div>
<div class="ttc" id="anamespacepisock_html_aad08f80b5ea0d26e2cec8533528f4e05"><div class="ttname"><a href="namespacepisock.html#aad08f80b5ea0d26e2cec8533528f4e05">pisock.PI_SLP_DEST</a></div><div class="ttdeci">PI_SLP_DEST</div><div class="ttdef"><b>Definition</b> pisock.py:91</div></div>
<div class="ttc" id="anamespacepisock_html_acfd32279d1a8d1bd77ba5516b676b2a8"><div class="ttname"><a href="namespacepisock.html#acfd32279d1a8d1bd77ba5516b676b2a8">pisock.PI_SLP_LASTDEST</a></div><div class="ttdeci">PI_SLP_LASTDEST</div><div class="ttdef"><b>Definition</b> pisock.py:92</div></div>
<div class="ttc" id="anamespacepisock_html_af10dacfa214e2575bb2e0ee407c242e0"><div class="ttname"><a href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">pisock.error</a></div><div class="ttdeci">error</div><div class="ttdef"><b>Definition</b> pisock.py:41</div></div>
<div class="ttc" id="anamespacepisock_html_af65189e338a87b596eb58d0747ea2627"><div class="ttname"><a href="namespacepisock.html#af65189e338a87b596eb58d0747ea2627">pisock.PI_SLP_SRC</a></div><div class="ttdeci">PI_SLP_SRC</div><div class="ttdef"><b>Definition</b> pisock.py:93</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00659">pi_protocol()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00145">slp_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_a4a34f18c1b596a633978a53e46224f39_cgraph.png" border="0" usemap="#aslp_8c_a4a34f18c1b596a633978a53e46224f39_cgraph" alt=""/></div>
<map name="aslp_8c_a4a34f18c1b596a633978a53e46224f39_cgraph" id="aslp_8c_a4a34f18c1b596a633978a53e46224f39_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,115,106"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="165,104,250,130"/>
<area shape="poly" title=" " alt="" coords="116,99,150,105,149,110,115,104"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="163,55,252,80"/>
<area shape="poly" title=" " alt="" coords="115,81,147,75,147,80,116,86"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="316,55,421,80"/>
<area shape="poly" title=" " alt="" coords="249,101,309,83,310,88,251,107"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="300,104,437,130"/>
<area shape="poly" title=" " alt="" coords="250,114,285,114,285,120,250,120"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="492,5,598,31"/>
<area shape="poly" title=" " alt="" coords="417,51,481,33,483,38,418,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="485,55,605,80"/>
<area shape="poly" title=" " alt="" coords="422,65,470,65,470,70,422,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="501,104,589,130"/>
<area shape="poly" title=" " alt="" coords="418,78,488,98,486,103,417,84"/>
<area shape="poly" title=" " alt="" coords="252,65,301,65,301,70,252,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_a4a34f18c1b596a633978a53e46224f39_icgraph.png" border="0" usemap="#aslp_8c_a4a34f18c1b596a633978a53e46224f39_icgraph" alt=""/></div>
<map name="aslp_8c_a4a34f18c1b596a633978a53e46224f39_icgraph" id="aslp_8c_a4a34f18c1b596a633978a53e46224f39_icgraph">
<area shape="rect" title=" " alt="" coords="1827,105,1936,131"/>
<area shape="rect" href="slp_8c.html#a08008e07e5c44ef5c2ce64596b544ac8" title=" " alt="" coords="1688,105,1779,131"/>
<area shape="poly" title=" " alt="" coords="1811,121,1779,121,1779,116,1811,116"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="a08008e07e5c44ef5c2ce64596b544ac8" name="a08008e07e5c44ef5c2ce64596b544ac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08008e07e5c44ef5c2ce64596b544ac8">&#9670;&#160;</a></span>slp_protocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pi_protocol_t * slp_protocol </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  146</span>{</div>
<div class="line"><span class="lineno">  147</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  148</span>    <span class="keyword">struct  </span>pi_slp_data *data;</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    prot    = (pi_protocol_t *)malloc (<span class="keyword">sizeof</span> (pi_protocol_t));</div>
<div class="line"><span class="lineno">  151</span>    data    = (<span class="keyword">struct </span>pi_slp_data *)malloc (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> pi_slp_data));</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">if</span> (prot != NULL &amp;&amp; data != NULL) {</div>
<div class="line"><span class="lineno">  154</span>        prot-&gt;level = <a class="code hl_variable" href="namespacepisock.html#a150d1ba4c5b870394d68f4b8e7b50ff7">PI_LEVEL_SLP</a>;</div>
<div class="line"><span class="lineno">  155</span>        prot-&gt;dup = <a class="code hl_function" href="#a274da24023419cbdbaeaba9fd0f596fb">slp_protocol_dup</a>;</div>
<div class="line"><span class="lineno">  156</span>        prot-&gt;free = <a class="code hl_function" href="#a472881bc41abf0d3b4f3bdc400d2f412">slp_protocol_free</a>;</div>
<div class="line"><span class="lineno">  157</span>        prot-&gt;read = <a class="code hl_function" href="#af8addd6e0b15768d09426046d6a5c76b">slp_rx</a>;</div>
<div class="line"><span class="lineno">  158</span>        prot-&gt;write = <a class="code hl_function" href="#a01fdc743847ce35ab44332e53c477eeb">slp_tx</a>;</div>
<div class="line"><span class="lineno">  159</span>        prot-&gt;flush = <a class="code hl_function" href="#ae24f0f96c69dd3ee165aa0462a52f422">slp_flush</a>;</div>
<div class="line"><span class="lineno">  160</span>        prot-&gt;getsockopt = <a class="code hl_function" href="#a4a34f18c1b596a633978a53e46224f39">slp_getsockopt</a>;</div>
<div class="line"><span class="lineno">  161</span>        prot-&gt;setsockopt = <a class="code hl_function" href="#ab1dfc203e48aab94c18e1539fe2c9317">slp_setsockopt</a>;</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>        data-&gt;dest = PI_SLP_SOCK_DLP;</div>
<div class="line"><span class="lineno">  164</span>        data-&gt;last_dest = -1;   </div>
<div class="line"><span class="lineno">  165</span>        data-&gt;src = PI_SLP_SOCK_DLP;</div>
<div class="line"><span class="lineno">  166</span>        data-&gt;last_src  = -1;</div>
<div class="line"><span class="lineno">  167</span>        data-&gt;type = PI_SLP_TYPE_PADP;</div>
<div class="line"><span class="lineno">  168</span>        data-&gt;last_type = -1;</div>
<div class="line"><span class="lineno">  169</span>        data-&gt;txid = 0xfe;</div>
<div class="line"><span class="lineno">  170</span>        data-&gt;last_txid = 0xff;</div>
<div class="line"><span class="lineno">  171</span>        prot-&gt;data = data;</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prot != NULL) {</div>
<div class="line"><span class="lineno">  174</span>        free(prot);</div>
<div class="line"><span class="lineno">  175</span>        prot = NULL;</div>
<div class="line"><span class="lineno">  176</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data != NULL) {</div>
<div class="line"><span class="lineno">  177</span>        free(data);</div>
<div class="line"><span class="lineno">  178</span>        data = NULL;</div>
<div class="line"><span class="lineno">  179</span>    }</div>
<div class="line"><span class="lineno">  180</span>    </div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">return</span> prot;</div>
<div class="line"><span class="lineno">  182</span>}</div>
<div class="ttc" id="anamespacepisock_html_a150d1ba4c5b870394d68f4b8e7b50ff7"><div class="ttname"><a href="namespacepisock.html#a150d1ba4c5b870394d68f4b8e7b50ff7">pisock.PI_LEVEL_SLP</a></div><div class="ttdeci">PI_LEVEL_SLP</div><div class="ttdef"><b>Definition</b> pisock.py:80</div></div>
<div class="ttc" id="aslp_8c_html_a01fdc743847ce35ab44332e53c477eeb"><div class="ttname"><a href="#a01fdc743847ce35ab44332e53c477eeb">slp_tx</a></div><div class="ttdeci">ssize_t slp_tx(pi_socket_t *ps, const unsigned char *buf, size_t len, int flags)</div><div class="ttdef"><b>Definition</b> slp.c:197</div></div>
<div class="ttc" id="aslp_8c_html_a274da24023419cbdbaeaba9fd0f596fb"><div class="ttname"><a href="#a274da24023419cbdbaeaba9fd0f596fb">slp_protocol_dup</a></div><div class="ttdeci">static pi_protocol_t * slp_protocol_dup(pi_protocol_t *prot)</div><div class="ttdef"><b>Definition</b> slp.c:66</div></div>
<div class="ttc" id="aslp_8c_html_a472881bc41abf0d3b4f3bdc400d2f412"><div class="ttname"><a href="#a472881bc41abf0d3b4f3bdc400d2f412">slp_protocol_free</a></div><div class="ttdeci">static void slp_protocol_free(pi_protocol_t *prot)</div><div class="ttdef"><b>Definition</b> slp.c:123</div></div>
<div class="ttc" id="aslp_8c_html_a4a34f18c1b596a633978a53e46224f39"><div class="ttname"><a href="#a4a34f18c1b596a633978a53e46224f39">slp_getsockopt</a></div><div class="ttdeci">static int slp_getsockopt(pi_socket_t *ps, int level, int option_name, void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> slp.c:469</div></div>
<div class="ttc" id="aslp_8c_html_ab1dfc203e48aab94c18e1539fe2c9317"><div class="ttname"><a href="#ab1dfc203e48aab94c18e1539fe2c9317">slp_setsockopt</a></div><div class="ttdeci">static int slp_setsockopt(pi_socket_t *ps, int level, int option_name, const void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> slp.c:559</div></div>
<div class="ttc" id="aslp_8c_html_ae24f0f96c69dd3ee165aa0462a52f422"><div class="ttname"><a href="#ae24f0f96c69dd3ee165aa0462a52f422">slp_flush</a></div><div class="ttdeci">static int slp_flush(pi_socket_t *ps, int flags)</div><div class="ttdef"><b>Definition</b> slp.c:441</div></div>
<div class="ttc" id="aslp_8c_html_af8addd6e0b15768d09426046d6a5c76b"><div class="ttname"><a href="#af8addd6e0b15768d09426046d6a5c76b">slp_rx</a></div><div class="ttdeci">ssize_t slp_rx(pi_socket_t *ps, pi_buffer_t *buf, size_t len, int flags)</div><div class="ttdef"><b>Definition</b> slp.c:278</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00441">slp_flush()</a>, <a class="el" href="#l00469">slp_getsockopt()</a>, <a class="el" href="#l00066">slp_protocol_dup()</a>, <a class="el" href="#l00123">slp_protocol_free()</a>, <a class="el" href="#l00278">slp_rx()</a>, <a class="el" href="#l00559">slp_setsockopt()</a>, and <a class="el" href="#l00197">slp_tx()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00431">protocol_queue_build()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_a08008e07e5c44ef5c2ce64596b544ac8_cgraph.png" border="0" usemap="#aslp_8c_a08008e07e5c44ef5c2ce64596b544ac8_cgraph" alt=""/></div>
<map name="aslp_8c_a08008e07e5c44ef5c2ce64596b544ac8_cgraph" id="aslp_8c_a08008e07e5c44ef5c2ce64596b544ac8_cgraph">
<area shape="rect" title=" " alt="" coords="5,153,97,179"/>
<area shape="rect" href="slp_8c.html#ae24f0f96c69dd3ee165aa0462a52f422" title=" " alt="" coords="168,104,242,130"/>
<area shape="poly" title=" " alt="" coords="93,150,153,131,154,136,94,155"/>
<area shape="rect" href="slp_8c.html#a4a34f18c1b596a633978a53e46224f39" title=" " alt="" coords="150,55,260,80"/>
<area shape="poly" title=" " alt="" coords="64,151,99,121,143,89,151,85,154,90,146,94,102,125,68,155"/>
<area shape="rect" href="slp_8c.html#a274da24023419cbdbaeaba9fd0f596fb" title=" " alt="" coords="145,252,264,278"/>
<area shape="poly" title=" " alt="" coords="68,177,102,207,146,239,154,243,151,247,143,243,99,211,64,181"/>
<area shape="rect" href="slp_8c.html#a472881bc41abf0d3b4f3bdc400d2f412" title=" " alt="" coords="145,301,265,327"/>
<area shape="poly" title=" " alt="" coords="61,178,94,231,118,261,146,288,151,291,148,296,143,292,114,265,89,234,57,181"/>
<area shape="rect" href="slp_8c.html#af8addd6e0b15768d09426046d6a5c76b" title=" " alt="" coords="177,203,233,228"/>
<area shape="poly" title=" " alt="" coords="94,177,162,199,161,204,93,182"/>
<area shape="rect" href="slp_8c.html#ab1dfc203e48aab94c18e1539fe2c9317" title=" " alt="" coords="150,5,260,31"/>
<area shape="poly" title=" " alt="" coords="57,151,89,98,114,67,143,40,148,37,151,41,146,44,118,71,94,101,61,154"/>
<area shape="rect" href="slp_8c.html#a01fdc743847ce35ab44332e53c477eeb" title=" " alt="" coords="177,153,233,179"/>
<area shape="poly" title=" " alt="" coords="97,164,161,164,161,169,97,169"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="332,5,417,31"/>
<area shape="poly" title=" " alt="" coords="240,103,263,91,278,78,287,66,296,53,311,40,318,36,321,40,315,44,300,57,291,69,282,82,267,95,243,108"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="316,104,433,130"/>
<area shape="poly" title=" " alt="" coords="242,114,302,114,302,120,242,120"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="330,55,419,80"/>
<area shape="poly" title=" " alt="" coords="241,104,314,82,316,87,243,109"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="516,55,622,80"/>
<area shape="poly" title=" " alt="" coords="418,26,502,48,501,53,416,31"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="500,5,638,31"/>
<area shape="poly" title=" " alt="" coords="417,16,485,16,485,21,417,21"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="709,5,814,31"/>
<area shape="poly" title=" " alt="" coords="621,51,693,33,695,38,623,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="702,55,821,80"/>
<area shape="poly" title=" " alt="" coords="622,65,686,65,686,70,622,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="718,104,805,130"/>
<area shape="poly" title=" " alt="" coords="623,78,703,99,702,105,621,84"/>
<area shape="poly" title=" " alt="" coords="428,101,501,82,502,87,429,106"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="484,104,654,130"/>
<area shape="poly" title=" " alt="" coords="433,114,469,114,469,120,433,120"/>
<area shape="poly" title=" " alt="" coords="420,65,500,65,500,70,420,70"/>
<area shape="poly" title=" " alt="" coords="251,51,317,32,319,37,253,57"/>
<area shape="poly" title=" " alt="" coords="260,65,315,65,315,70,260,70"/>
<area shape="poly" title=" " alt="" coords="232,207,249,200,263,190,276,171,283,153,286,117,289,79,297,60,311,40,317,35,321,39,315,44,302,62,295,80,292,117,288,154,281,174,267,193,251,205,234,212"/>
<area shape="poly" title=" " alt="" coords="232,205,264,189,278,177,287,165,296,152,311,139,318,135,321,139,315,143,300,155,291,168,282,180,266,194,234,210"/>
<area shape="poly" title=" " alt="" coords="232,207,249,200,263,190,280,165,286,141,293,115,311,90,315,86,318,90,315,93,298,118,292,142,285,167,267,193,251,204,234,212"/>
<area shape="rect" href="utils_8c.html#a135879f5a0f93242c8fdaf9a790833d8" title=" " alt="" coords="348,153,401,179"/>
<area shape="poly" title=" " alt="" coords="233,205,332,175,334,181,234,210"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="314,452,435,478"/>
<area shape="poly" title=" " alt="" coords="234,218,252,226,267,238,284,263,292,288,293,335,293,382,300,406,315,431,326,441,322,445,311,434,295,408,288,383,288,335,287,289,279,265,263,241,249,230,232,223"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="324,301,425,327"/>
<area shape="poly" title=" " alt="" coords="234,221,266,237,282,251,291,263,300,276,315,288,321,292,318,296,311,292,296,279,287,266,278,254,264,242,232,226"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="324,351,426,376"/>
<area shape="poly" title=" " alt="" coords="234,219,251,227,267,238,285,264,292,289,298,313,315,338,317,340,314,344,311,341,293,316,286,290,280,266,263,241,249,231,232,224"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="521,303,617,328"/>
<area shape="poly" title=" " alt="" coords="234,219,251,226,267,238,281,258,287,278,288,318,291,355,299,371,315,387,342,400,371,405,402,402,433,394,492,366,538,336,541,340,494,371,435,399,403,408,371,410,340,405,311,391,295,374,286,356,283,318,282,279,276,260,263,241,249,231,232,224"/>
<area shape="rect" href="slp_8c.html#a1d28b91955f92f83aff45e1b5983261a" title=" " alt="" coords="336,203,413,228"/>
<area shape="poly" title=" " alt="" coords="233,213,321,213,321,218,233,218"/>
<area shape="rect" href="slp_8c.html#ad188b3c495c6437f9b997e23b1299254" title=" " alt="" coords="313,252,436,278"/>
<area shape="poly" title=" " alt="" coords="234,221,314,245,312,250,233,226"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="510,452,628,478"/>
<area shape="poly" title=" " alt="" coords="435,462,495,462,495,468,435,468"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="716,303,806,328"/>
<area shape="poly" title=" " alt="" coords="617,313,700,313,700,318,617,318"/>
<area shape="poly" title=" " alt="" coords="413,226,438,237,535,292,533,296,435,242,411,231"/>
<area shape="poly" title=" " alt="" coords="260,16,317,16,317,21,260,21"/>
<area shape="poly" title=" " alt="" coords="253,29,316,48,314,53,251,34"/>
<area shape="poly" title=" " alt="" coords="232,157,249,150,263,140,280,116,286,91,293,66,311,40,317,35,321,39,315,44,298,68,292,93,285,118,267,144,251,155,234,162"/>
<area shape="poly" title=" " alt="" coords="233,156,312,132,314,137,234,161"/>
<area shape="poly" title=" " alt="" coords="232,156,264,140,278,128,287,115,296,102,311,89,318,85,321,90,315,94,300,106,291,118,282,131,266,144,234,160"/>
<area shape="poly" title=" " alt="" coords="233,164,333,164,333,169,233,169"/>
<area shape="poly" title=" " alt="" coords="234,172,322,197,320,203,233,177"/>
<area shape="poly" title=" " alt="" coords="234,172,266,188,282,201,291,214,300,226,315,239,321,243,318,247,311,243,296,230,287,217,278,205,264,192,232,177"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_a08008e07e5c44ef5c2ce64596b544ac8_icgraph.png" border="0" usemap="#aslp_8c_a08008e07e5c44ef5c2ce64596b544ac8_icgraph" alt=""/></div>
<map name="aslp_8c_a08008e07e5c44ef5c2ce64596b544ac8_icgraph" id="aslp_8c_a08008e07e5c44ef5c2ce64596b544ac8_icgraph">
<area shape="rect" title=" " alt="" coords="1688,105,1779,131"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="a274da24023419cbdbaeaba9fd0f596fb" name="a274da24023419cbdbaeaba9fd0f596fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a274da24023419cbdbaeaba9fd0f596fb">&#9670;&#160;</a></span>slp_protocol_dup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pi_protocol_t * slp_protocol_dup </td>
          <td>(</td>
          <td class="paramtype">pi_protocol_t *</td>          <td class="paramname"><span class="paramname"><em>prot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   67</span>{</div>
<div class="line"><span class="lineno">   68</span>    pi_protocol_t *new_prot;</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <span class="keyword">struct  </span>pi_slp_data *data,</div>
<div class="line"><span class="lineno">   71</span>                *new_data;</div>
<div class="line"><span class="lineno">   72</span>    </div>
<div class="line"><span class="lineno">   73</span>    new_prot = (pi_protocol_t *)malloc (<span class="keyword">sizeof</span> (pi_protocol_t));</div>
<div class="line"><span class="lineno">   74</span>    new_data = (<span class="keyword">struct </span>pi_slp_data *)malloc (<span class="keyword">sizeof</span> (<span class="keyword">struct</span> pi_slp_data));</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">if</span> (new_prot != NULL &amp;&amp; new_data != NULL) {</div>
<div class="line"><span class="lineno">   77</span>        new_prot-&gt;level = prot-&gt;level;</div>
<div class="line"><span class="lineno">   78</span>        new_prot-&gt;dup   = prot-&gt;dup;</div>
<div class="line"><span class="lineno">   79</span>        new_prot-&gt;free  = prot-&gt;free;</div>
<div class="line"><span class="lineno">   80</span>        new_prot-&gt;read  = prot-&gt;read;</div>
<div class="line"><span class="lineno">   81</span>        new_prot-&gt;write = prot-&gt;write;</div>
<div class="line"><span class="lineno">   82</span>        new_prot-&gt;flush = prot-&gt;flush;</div>
<div class="line"><span class="lineno">   83</span>        new_prot-&gt;getsockopt = prot-&gt;getsockopt;</div>
<div class="line"><span class="lineno">   84</span>        new_prot-&gt;setsockopt = prot-&gt;setsockopt;</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>        data = (<span class="keyword">struct </span>pi_slp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">   87</span>    </div>
<div class="line"><span class="lineno">   88</span>        new_data-&gt;dest  = data-&gt;dest;</div>
<div class="line"><span class="lineno">   89</span>        new_data-&gt;last_dest = data-&gt;last_dest;  </div>
<div class="line"><span class="lineno">   90</span>        new_data-&gt;src   = data-&gt;src;</div>
<div class="line"><span class="lineno">   91</span>        new_data-&gt;last_src = data-&gt;last_src;</div>
<div class="line"><span class="lineno">   92</span>        new_data-&gt;type  = data-&gt;type;</div>
<div class="line"><span class="lineno">   93</span>        new_data-&gt;last_type = data-&gt;last_type;</div>
<div class="line"><span class="lineno">   94</span>        new_data-&gt;txid  = data-&gt;txid;</div>
<div class="line"><span class="lineno">   95</span>        new_data-&gt;last_txid = data-&gt;last_txid;</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>        new_prot-&gt;data  = new_data;</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_prot != NULL) {</div>
<div class="line"><span class="lineno">  100</span>        free(new_prot);</div>
<div class="line"><span class="lineno">  101</span>        new_prot = NULL;</div>
<div class="line"><span class="lineno">  102</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_data != NULL) {</div>
<div class="line"><span class="lineno">  103</span>        free(new_data);</div>
<div class="line"><span class="lineno">  104</span>        new_data = NULL;</div>
<div class="line"><span class="lineno">  105</span>    }</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">return</span> new_prot;</div>
<div class="line"><span class="lineno">  108</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00145">slp_protocol()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_a274da24023419cbdbaeaba9fd0f596fb_icgraph.png" border="0" usemap="#aslp_8c_a274da24023419cbdbaeaba9fd0f596fb_icgraph" alt=""/></div>
<map name="aslp_8c_a274da24023419cbdbaeaba9fd0f596fb_icgraph" id="aslp_8c_a274da24023419cbdbaeaba9fd0f596fb_icgraph">
<area shape="rect" title=" " alt="" coords="1827,105,1946,131"/>
<area shape="rect" href="slp_8c.html#a08008e07e5c44ef5c2ce64596b544ac8" title=" " alt="" coords="1688,105,1779,131"/>
<area shape="poly" title=" " alt="" coords="1811,121,1779,121,1779,116,1811,116"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="a472881bc41abf0d3b4f3bdc400d2f412" name="a472881bc41abf0d3b4f3bdc400d2f412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a472881bc41abf0d3b4f3bdc400d2f412">&#9670;&#160;</a></span>slp_protocol_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void slp_protocol_free </td>
          <td>(</td>
          <td class="paramtype">pi_protocol_t *</td>          <td class="paramname"><span class="paramname"><em>prot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  124</span>{</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">if</span> (prot != NULL) {</div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">if</span> (prot-&gt;data != NULL)</div>
<div class="line"><span class="lineno">  127</span>            free(prot-&gt;data);</div>
<div class="line"><span class="lineno">  128</span>        free(prot);</div>
<div class="line"><span class="lineno">  129</span>    }</div>
<div class="line"><span class="lineno">  130</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00145">slp_protocol()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_a472881bc41abf0d3b4f3bdc400d2f412_icgraph.png" border="0" usemap="#aslp_8c_a472881bc41abf0d3b4f3bdc400d2f412_icgraph" alt=""/></div>
<map name="aslp_8c_a472881bc41abf0d3b4f3bdc400d2f412_icgraph" id="aslp_8c_a472881bc41abf0d3b4f3bdc400d2f412_icgraph">
<area shape="rect" title=" " alt="" coords="1827,105,1947,131"/>
<area shape="rect" href="slp_8c.html#a08008e07e5c44ef5c2ce64596b544ac8" title=" " alt="" coords="1688,105,1779,131"/>
<area shape="poly" title=" " alt="" coords="1811,121,1779,121,1779,116,1811,116"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="af8addd6e0b15768d09426046d6a5c76b" name="af8addd6e0b15768d09426046d6a5c76b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8addd6e0b15768d09426046d6a5c76b">&#9670;&#160;</a></span>slp_rx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t slp_rx </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pi_buffer_t *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  279</span>{</div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordtype">int</span>     i,</div>
<div class="line"><span class="lineno">  281</span>        computed_crc,</div>
<div class="line"><span class="lineno">  282</span>        received_crc,</div>
<div class="line"><span class="lineno">  283</span>        b1, </div>
<div class="line"><span class="lineno">  284</span>        b2, </div>
<div class="line"><span class="lineno">  285</span>        b3, </div>
<div class="line"><span class="lineno">  286</span>        <a class="code hl_variable" href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a>,</div>
<div class="line"><span class="lineno">  287</span>        expect      = 0,</div>
<div class="line"><span class="lineno">  288</span>        packet_len,</div>
<div class="line"><span class="lineno">  289</span>        bytes;</div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span></div>
<div class="line"><span class="lineno">  291</span>        header_checksum;</div>
<div class="line"><span class="lineno">  292</span>    pi_protocol_t   *prot,</div>
<div class="line"><span class="lineno">  293</span>            *next;</div>
<div class="line"><span class="lineno">  294</span>    pi_buffer_t *slp_buf;</div>
<div class="line"><span class="lineno">  295</span>    <span class="keyword">struct  </span>pi_slp_data *data;</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    LOG((PI_DBG_SLP, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;SLP RX len=%d flags=0x%04x\n&quot;</span>,</div>
<div class="line"><span class="lineno">  298</span>        len, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>));</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_SLP);</div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    data = (<span class="keyword">struct </span>pi_slp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  305</span>    next = <a class="code hl_function" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368">pi_protocol_next</a>(ps-&gt;sd, PI_LEVEL_SLP);</div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordflow">if</span> (next == NULL)</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    slp_buf = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (PI_SLP_HEADER_LEN + PI_SLP_MTU + PI_SLP_FOOTER_LEN);</div>
<div class="line"><span class="lineno">  310</span>    <span class="keywordflow">if</span> (slp_buf == NULL) {</div>
<div class="line"><span class="lineno">  311</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  313</span>    }</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>    <a class="code hl_variable" href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a>       = 0;</div>
<div class="line"><span class="lineno">  316</span>    packet_len  = 0;</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  319</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a>) {        </div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  321</span>            expect = 3;</div>
<div class="line"><span class="lineno">  322</span>            <a class="code hl_variable" href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a>++;</div>
<div class="line"><span class="lineno">  323</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  326</span>            b1 = slp_buf-&gt;data[PI_SLP_OFFSET_SIG1];</div>
<div class="line"><span class="lineno">  327</span>            b2 = slp_buf-&gt;data[PI_SLP_OFFSET_SIG2];</div>
<div class="line"><span class="lineno">  328</span>            b3 = slp_buf-&gt;data[PI_SLP_OFFSET_SIG3];</div>
<div class="line"><span class="lineno">  329</span>            <span class="keywordflow">if</span> (b1 == PI_SLP_SIG_BYTE1 &amp;&amp;</div>
<div class="line"><span class="lineno">  330</span>                b2 == PI_SLP_SIG_BYTE2 &amp;&amp;</div>
<div class="line"><span class="lineno">  331</span>                b3 == PI_SLP_SIG_BYTE3) {</div>
<div class="line"><span class="lineno">  332</span>                <a class="code hl_variable" href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a>++;</div>
<div class="line"><span class="lineno">  333</span>                expect = PI_SLP_HEADER_LEN - 3;</div>
<div class="line"><span class="lineno">  334</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  335</span>                slp_buf-&gt;data[PI_SLP_OFFSET_SIG1] = slp_buf-&gt;data[PI_SLP_OFFSET_SIG2];</div>
<div class="line"><span class="lineno">  336</span>                slp_buf-&gt;data[PI_SLP_OFFSET_SIG2] = slp_buf-&gt;data[PI_SLP_OFFSET_SIG3];</div>
<div class="line"><span class="lineno">  337</span>                expect = 1;</div>
<div class="line"><span class="lineno">  338</span>                slp_buf-&gt;used = 2;</div>
<div class="line"><span class="lineno">  339</span>                LOG((PI_DBG_SLP, PI_DBG_LVL_WARN,</div>
<div class="line"><span class="lineno">  340</span>                    <span class="stringliteral">&quot;SLP RX Unexpected signature&quot;</span></div>
<div class="line"><span class="lineno">  341</span>                    <span class="stringliteral">&quot; 0x%.2x 0x%.2x 0x%.2x\n&quot;</span>,</div>
<div class="line"><span class="lineno">  342</span>                    b1, b2, b3));</div>
<div class="line"><span class="lineno">  343</span>            }</div>
<div class="line"><span class="lineno">  344</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  347</span>            <span class="comment">/* Addition check sum for header */</span></div>
<div class="line"><span class="lineno">  348</span>            <span class="keywordflow">for</span> (header_checksum = i = 0; i &lt; 9; i++)</div>
<div class="line"><span class="lineno">  349</span>                header_checksum += slp_buf-&gt;data[i];</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>            <span class="comment">/* read in the whole SLP header. */</span></div>
<div class="line"><span class="lineno">  352</span>            <span class="keywordflow">if</span> (header_checksum == slp_buf-&gt;data[PI_SLP_OFFSET_SUM]) {</div>
<div class="line"><span class="lineno">  353</span>                <a class="code hl_variable" href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a>++;</div>
<div class="line"><span class="lineno">  354</span>                packet_len = get_short(&amp;slp_buf-&gt;data[PI_SLP_OFFSET_SIZE]);</div>
<div class="line"><span class="lineno">  355</span>                <span class="keywordflow">if</span> (packet_len &gt; (<span class="keywordtype">int</span>)len) {</div>
<div class="line"><span class="lineno">  356</span>                    LOG((PI_DBG_SLP, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  357</span>                        <span class="stringliteral">&quot;SLP RX Packet size exceed buffer\n&quot;</span>));</div>
<div class="line"><span class="lineno">  358</span>                    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (slp_buf);</div>
<div class="line"><span class="lineno">  359</span>                    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_PROT_BADPACKET);</div>
<div class="line"><span class="lineno">  360</span>                }</div>
<div class="line"><span class="lineno">  361</span>                expect = packet_len;</div>
<div class="line"><span class="lineno">  362</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  363</span>                LOG((PI_DBG_SLP, PI_DBG_LVL_WARN,</div>
<div class="line"><span class="lineno">  364</span>                    <span class="stringliteral">&quot;SLP RX Header checksum failed for header:\n&quot;</span>));</div>
<div class="line"><span class="lineno">  365</span>                <a class="code hl_function" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9">pi_dumpdata</a>((<span class="keyword">const</span> <span class="keywordtype">char</span> *)slp_buf-&gt;data, PI_SLP_HEADER_LEN);</div>
<div class="line"><span class="lineno">  366</span>                <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (slp_buf);</div>
<div class="line"><span class="lineno">  367</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  368</span>            }</div>
<div class="line"><span class="lineno">  369</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>        <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno">  372</span>            <a class="code hl_variable" href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a>++;</div>
<div class="line"><span class="lineno">  373</span>            expect = PI_SLP_FOOTER_LEN;</div>
<div class="line"><span class="lineno">  374</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno">  377</span>            <span class="comment">/* that should be the whole packet. */</span></div>
<div class="line"><span class="lineno">  378</span>            computed_crc = <a class="code hl_function" href="utils_8c.html#a135879f5a0f93242c8fdaf9a790833d8">crc16</a>(slp_buf-&gt;data, PI_SLP_HEADER_LEN + packet_len);</div>
<div class="line"><span class="lineno">  379</span>            received_crc = get_short(&amp;slp_buf-&gt;data[PI_SLP_HEADER_LEN + packet_len]);</div>
<div class="line"><span class="lineno">  380</span>            <span class="keywordflow">if</span> (get_byte(&amp;slp_buf-&gt;data[PI_SLP_OFFSET_TYPE]) == PI_SLP_TYPE_LOOP) {</div>
<div class="line"><span class="lineno">  381</span>                <span class="comment">/* Adjust because every tenth loopback</span></div>
<div class="line"><span class="lineno">  382</span><span class="comment">                 * packet has a bogus check sum */</span></div>
<div class="line"><span class="lineno">  383</span>                <span class="keywordflow">if</span> (computed_crc != received_crc)</div>
<div class="line"><span class="lineno">  384</span>                    computed_crc |= 0x00e0;</div>
<div class="line"><span class="lineno">  385</span>            }</div>
<div class="line"><span class="lineno">  386</span>            <span class="keywordflow">if</span> (computed_crc != received_crc) {</div>
<div class="line"><span class="lineno">  387</span>                LOG((PI_DBG_SLP, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  388</span>                    <span class="stringliteral">&quot;SLP RX packet crc failed: &quot;</span></div>
<div class="line"><span class="lineno">  389</span>                    <span class="stringliteral">&quot;computed=0x%.4x received=0x%.4x\n&quot;</span>,</div>
<div class="line"><span class="lineno">  390</span>                    computed_crc, received_crc));</div>
<div class="line"><span class="lineno">  391</span>                <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (slp_buf);</div>
<div class="line"><span class="lineno">  392</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  393</span>            }</div>
<div class="line"><span class="lineno">  394</span>            </div>
<div class="line"><span class="lineno">  395</span>            <span class="comment">/* Track the info so getsockopt will work */</span></div>
<div class="line"><span class="lineno">  396</span>            data-&gt;last_dest = get_byte(&amp;slp_buf-&gt;data[PI_SLP_OFFSET_DEST]);</div>
<div class="line"><span class="lineno">  397</span>            data-&gt;last_src  = get_byte(&amp;slp_buf-&gt;data[PI_SLP_OFFSET_SRC]);</div>
<div class="line"><span class="lineno">  398</span>            data-&gt;last_type = get_byte(&amp;slp_buf-&gt;data[PI_SLP_OFFSET_TYPE]);</div>
<div class="line"><span class="lineno">  399</span>            data-&gt;last_txid = get_byte(&amp;slp_buf-&gt;data[PI_SLP_OFFSET_TXID]);</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>            CHECK(PI_DBG_SLP, PI_DBG_LVL_INFO, <a class="code hl_function" href="#ad188b3c495c6437f9b997e23b1299254">slp_dump_header</a>(slp_buf-&gt;data, 0));</div>
<div class="line"><span class="lineno">  402</span>            CHECK(PI_DBG_SLP, PI_DBG_LVL_DEBUG, <a class="code hl_function" href="#a1d28b91955f92f83aff45e1b5983261a">slp_dump</a>(slp_buf-&gt;data));</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4">pi_buffer_append</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, &amp;slp_buf-&gt;data[PI_SLP_HEADER_LEN], packet_len) == NULL) {</div>
<div class="line"><span class="lineno">  405</span>                errno = ENOMEM;</div>
<div class="line"><span class="lineno">  406</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  407</span>            }</div>
<div class="line"><span class="lineno">  408</span>            <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (slp_buf);</div>
<div class="line"><span class="lineno">  409</span>            <span class="keywordflow">return</span> packet_len;</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  412</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  413</span>        }</div>
<div class="line"><span class="lineno">  414</span>        </div>
<div class="line"><span class="lineno">  415</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  416</span>            bytes = next-&gt;read(ps, slp_buf, (<span class="keywordtype">size_t</span>)expect, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>);</div>
<div class="line"><span class="lineno">  417</span>            <span class="keywordflow">if</span> (bytes &lt; 0) {</div>
<div class="line"><span class="lineno">  418</span>                LOG((PI_DBG_SLP, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  419</span>                    <span class="stringliteral">&quot;SLP RX Read Error %d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  420</span>                    bytes));</div>
<div class="line"><span class="lineno">  421</span>                <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (slp_buf);</div>
<div class="line"><span class="lineno">  422</span>                <span class="keywordflow">return</span> bytes;</div>
<div class="line"><span class="lineno">  423</span>            }</div>
<div class="line"><span class="lineno">  424</span>            expect -= bytes;</div>
<div class="line"><span class="lineno">  425</span>        } <span class="keywordflow">while</span> (expect &gt; 0);</div>
<div class="line"><span class="lineno">  426</span>    }</div>
<div class="line"><span class="lineno">  427</span>}</div>
<div class="ttc" id="api-buffer_8c_html_a6775d9fcdb4fb3e02ce032337e1d10dc"><div class="ttname"><a href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a></div><div class="ttdeci">pi_buffer_t * pi_buffer_new(size_t capacity)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:31</div></div>
<div class="ttc" id="api-buffer_8c_html_aed67e3ff08313fa288837c0d685adaa4"><div class="ttname"><a href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4">pi_buffer_append</a></div><div class="ttdeci">pi_buffer_t * pi_buffer_append(pi_buffer_t *buf, const void *data, size_t len)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:74</div></div>
<div class="ttc" id="api-buffer_8c_html_af440579d61c8649154b0f0512c285606"><div class="ttname"><a href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a></div><div class="ttdeci">void pi_buffer_free(pi_buffer_t *buf)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:103</div></div>
<div class="ttc" id="apilot-debug_8c_html_a6e33650395d3b674e45b587e0ceef97b"><div class="ttname"><a href="pilot-debug_8c.html#a6e33650395d3b674e45b587e0ceef97b">state</a></div><div class="ttdeci">struct Pilot_state state</div><div class="ttdef"><b>Definition</b> pilot-debug.c:72</div></div>
<div class="ttc" id="apitcl_8c_html_a0dea8f1af961c5e9eb4425acd7c95409"><div class="ttname"><a href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a></div><div class="ttdeci">char buf[0xffff]</div><div class="ttdef"><b>Definition</b> pitcl.c:34</div></div>
<div class="ttc" id="aslp_8c_html_a1d28b91955f92f83aff45e1b5983261a"><div class="ttname"><a href="#a1d28b91955f92f83aff45e1b5983261a">slp_dump</a></div><div class="ttdeci">void slp_dump(const unsigned char *data)</div><div class="ttdef"><b>Definition</b> slp.c:647</div></div>
<div class="ttc" id="aslp_8c_html_ad188b3c495c6437f9b997e23b1299254"><div class="ttname"><a href="#ad188b3c495c6437f9b997e23b1299254">slp_dump_header</a></div><div class="ttdeci">void slp_dump_header(const unsigned char *data, int rxtx)</div><div class="ttdef"><b>Definition</b> slp.c:621</div></div>
<div class="ttc" id="autils_8c_html_a135879f5a0f93242c8fdaf9a790833d8"><div class="ttname"><a href="utils_8c.html#a135879f5a0f93242c8fdaf9a790833d8">crc16</a></div><div class="ttdeci">int crc16(unsigned char *ptr, int count)</div><div class="ttdef"><b>Definition</b> utils.c:61</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00061">crc16()</a>, <a class="el" href="#l00311">flags</a>, <a class="el" href="#l00074">pi_buffer_append()</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l00222">pi_dumpdata()</a>, <a class="el" href="#l00659">pi_protocol()</a>, <a class="el" href="#l00672">pi_protocol_next()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l00647">slp_dump()</a>, <a class="el" href="#l00621">slp_dump_header()</a>, and <a class="el" href="#l00072">state</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00145">slp_protocol()</a>, and <a class="el" href="#l00444">so_read()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_af8addd6e0b15768d09426046d6a5c76b_cgraph.png" border="0" usemap="#aslp_8c_af8addd6e0b15768d09426046d6a5c76b_cgraph" alt=""/></div>
<map name="aslp_8c_af8addd6e0b15768d09426046d6a5c76b_cgraph" id="aslp_8c_af8addd6e0b15768d09426046d6a5c76b_cgraph">
<area shape="rect" title=" " alt="" coords="5,229,62,255"/>
<area shape="rect" href="utils_8c.html#a135879f5a0f93242c8fdaf9a790833d8" title=" " alt="" coords="145,5,198,31"/>
<area shape="poly" title=" " alt="" coords="33,229,39,192,52,142,74,88,89,63,108,40,129,26,132,31,111,44,93,66,78,91,57,144,44,193,39,229"/>
<area shape="rect" href="pi-buffer_8c.html#aed67e3ff08313fa288837c0d685adaa4" title=" " alt="" coords="111,55,232,80"/>
<area shape="poly" title=" " alt="" coords="35,228,58,163,79,124,108,90,111,87,115,91,112,93,84,127,63,165,40,230"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="121,104,222,130"/>
<area shape="poly" title=" " alt="" coords="39,227,66,185,85,160,108,139,113,135,116,140,111,143,89,164,70,188,44,230"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="120,153,222,179"/>
<area shape="poly" title=" " alt="" coords="56,227,108,196,130,184,132,189,111,200,58,231"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="318,229,413,255"/>
<area shape="poly" title=" " alt="" coords="62,240,303,240,303,245,62,245"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="129,304,214,330"/>
<area shape="poly" title=" " alt="" coords="53,253,111,291,120,295,118,300,108,295,51,258"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="113,403,230,428"/>
<area shape="poly" title=" " alt="" coords="41,254,63,318,84,356,112,390,115,392,111,396,108,393,79,359,58,321,35,256"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="127,353,216,379"/>
<area shape="poly" title=" " alt="" coords="44,254,70,296,89,319,111,340,116,343,113,348,108,344,85,323,66,299,39,257"/>
<area shape="rect" href="slp_8c.html#a1d28b91955f92f83aff45e1b5983261a" title=" " alt="" coords="133,255,210,280"/>
<area shape="poly" title=" " alt="" coords="63,245,118,255,117,260,62,250"/>
<area shape="rect" href="slp_8c.html#ad188b3c495c6437f9b997e23b1299254" title=" " alt="" coords="110,452,233,478"/>
<area shape="poly" title=" " alt="" coords="39,255,44,291,57,340,79,393,94,417,112,439,113,441,110,445,108,443,89,420,74,395,52,342,39,292,34,256"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="307,55,424,80"/>
<area shape="poly" title=" " alt="" coords="232,65,292,65,292,70,232,70"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="513,229,603,255"/>
<area shape="poly" title=" " alt="" coords="414,240,497,240,497,245,414,245"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="313,353,418,379"/>
<area shape="poly" title=" " alt="" coords="214,325,299,347,297,352,213,330"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="297,304,434,330"/>
<area shape="poly" title=" " alt="" coords="214,314,281,314,281,320,214,320"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="505,304,611,330"/>
<area shape="poly" title=" " alt="" coords="418,350,490,331,491,337,419,355"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="498,353,618,379"/>
<area shape="poly" title=" " alt="" coords="419,364,483,364,483,369,419,369"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="514,403,602,428"/>
<area shape="poly" title=" " alt="" coords="419,377,500,398,499,403,418,382"/>
<area shape="poly" title=" " alt="" coords="224,399,297,381,299,386,226,405"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="281,403,450,428"/>
<area shape="poly" title=" " alt="" coords="230,413,266,413,266,418,230,418"/>
<area shape="poly" title=" " alt="" coords="217,364,297,364,297,369,217,369"/>
<area shape="poly" title=" " alt="" coords="210,260,302,248,303,253,211,265"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_af8addd6e0b15768d09426046d6a5c76b_icgraph.png" border="0" usemap="#aslp_8c_af8addd6e0b15768d09426046d6a5c76b_icgraph" alt=""/></div>
<map name="aslp_8c_af8addd6e0b15768d09426046d6a5c76b_icgraph" id="aslp_8c_af8addd6e0b15768d09426046d6a5c76b_icgraph">
<area shape="rect" title=" " alt="" coords="1827,131,1883,156"/>
<area shape="rect" href="slp_8c.html#a08008e07e5c44ef5c2ce64596b544ac8" title=" " alt="" coords="1688,105,1779,131"/>
<area shape="poly" title=" " alt="" coords="1812,137,1779,130,1780,125,1813,132"/>
<area shape="rect" href="os2serial_8c.html#a0a652a6735dcb5a71256859121ef1562" title=" " alt="" coords="1700,155,1767,180"/>
<area shape="poly" title=" " alt="" coords="1812,155,1768,163,1767,158,1811,149"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
<area shape="rect" href="os2serial_8c.html#ab60308506cb83fd60c2d61a0ab0e95c8" title=" " alt="" coords="1516,155,1620,180"/>
<area shape="poly" title=" " alt="" coords="1684,170,1621,170,1621,165,1684,165"/>
</map>
</div>

</div>
</div>
<a id="ab1dfc203e48aab94c18e1539fe2c9317" name="ab1dfc203e48aab94c18e1539fe2c9317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1dfc203e48aab94c18e1539fe2c9317">&#9670;&#160;</a></span>slp_setsockopt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int slp_setsockopt </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>option_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>option_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>option_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  561</span>{</div>
<div class="line"><span class="lineno">  562</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  563</span>    <span class="keyword">struct  </span>pi_slp_data *data;</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_SLP);</div>
<div class="line"><span class="lineno">  566</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  567</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  568</span>    data = (<span class="keyword">struct </span>pi_slp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>    <span class="keywordflow">switch</span> (option_name) {</div>
<div class="line"><span class="lineno">  571</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#aad08f80b5ea0d26e2cec8533528f4e05">PI_SLP_DEST</a>:</div>
<div class="line"><span class="lineno">  572</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;dest))</div>
<div class="line"><span class="lineno">  573</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  574</span>            memcpy (&amp;data-&gt;dest, option_value,</div>
<div class="line"><span class="lineno">  575</span>                    sizeof (data-&gt;dest));</div>
<div class="line"><span class="lineno">  576</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;dest);</div>
<div class="line"><span class="lineno">  577</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#af65189e338a87b596eb58d0747ea2627">PI_SLP_SRC</a>:</div>
<div class="line"><span class="lineno">  579</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;src))</div>
<div class="line"><span class="lineno">  580</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  581</span>            memcpy (&amp;data-&gt;src, option_value,</div>
<div class="line"><span class="lineno">  582</span>                    sizeof (data-&gt;src));</div>
<div class="line"><span class="lineno">  583</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;src);</div>
<div class="line"><span class="lineno">  584</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a1528a7bfce7f0bd023be82238dcedb6d">PI_SLP_TYPE</a>:</div>
<div class="line"><span class="lineno">  586</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;type))</div>
<div class="line"><span class="lineno">  587</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  588</span>            memcpy (&amp;data-&gt;type, option_value,</div>
<div class="line"><span class="lineno">  589</span>                    sizeof (data-&gt;type));</div>
<div class="line"><span class="lineno">  590</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;type);</div>
<div class="line"><span class="lineno">  591</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  592</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a9d1b4a3c49a0b8a921a5c452446e8733">PI_SLP_TXID</a>:</div>
<div class="line"><span class="lineno">  593</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;txid))</div>
<div class="line"><span class="lineno">  594</span>                <span class="keywordflow">goto</span> error;</div>
<div class="line"><span class="lineno">  595</span>            memcpy (&amp;data-&gt;txid, option_value,</div>
<div class="line"><span class="lineno">  596</span>                    sizeof (data-&gt;txid));</div>
<div class="line"><span class="lineno">  597</span>            *option_len = <span class="keyword">sizeof</span> (data-&gt;txid);</div>
<div class="line"><span class="lineno">  598</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  599</span>    }</div>
<div class="line"><span class="lineno">  600</span>    </div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  602</span>    </div>
<div class="line"><span class="lineno">  603</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>:</div>
<div class="line"><span class="lineno">  604</span>    errno = EINVAL;</div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_ARGUMENT);</div>
<div class="line"><span class="lineno">  606</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00659">pi_protocol()</a>, and <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00145">slp_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_ab1dfc203e48aab94c18e1539fe2c9317_cgraph.png" border="0" usemap="#aslp_8c_ab1dfc203e48aab94c18e1539fe2c9317_cgraph" alt=""/></div>
<map name="aslp_8c_ab1dfc203e48aab94c18e1539fe2c9317_cgraph" id="aslp_8c_ab1dfc203e48aab94c18e1539fe2c9317_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,115,106"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="165,104,250,130"/>
<area shape="poly" title=" " alt="" coords="116,99,150,105,149,110,115,104"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="163,55,252,80"/>
<area shape="poly" title=" " alt="" coords="115,81,147,75,147,80,116,86"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="316,55,421,80"/>
<area shape="poly" title=" " alt="" coords="249,101,309,83,310,88,251,107"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="300,104,437,130"/>
<area shape="poly" title=" " alt="" coords="250,114,285,114,285,120,250,120"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="492,5,598,31"/>
<area shape="poly" title=" " alt="" coords="417,51,481,33,483,38,418,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="485,55,605,80"/>
<area shape="poly" title=" " alt="" coords="422,65,470,65,470,70,422,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="501,104,589,130"/>
<area shape="poly" title=" " alt="" coords="418,78,488,98,486,103,417,84"/>
<area shape="poly" title=" " alt="" coords="252,65,301,65,301,70,252,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_ab1dfc203e48aab94c18e1539fe2c9317_icgraph.png" border="0" usemap="#aslp_8c_ab1dfc203e48aab94c18e1539fe2c9317_icgraph" alt=""/></div>
<map name="aslp_8c_ab1dfc203e48aab94c18e1539fe2c9317_icgraph" id="aslp_8c_ab1dfc203e48aab94c18e1539fe2c9317_icgraph">
<area shape="rect" title=" " alt="" coords="1827,105,1936,131"/>
<area shape="rect" href="slp_8c.html#a08008e07e5c44ef5c2ce64596b544ac8" title=" " alt="" coords="1688,105,1779,131"/>
<area shape="poly" title=" " alt="" coords="1811,121,1779,121,1779,116,1811,116"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
<a id="a01fdc743847ce35ab44332e53c477eeb" name="a01fdc743847ce35ab44332e53c477eeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01fdc743847ce35ab44332e53c477eeb">&#9670;&#160;</a></span>slp_tx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t slp_tx </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  198</span>{</div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordtype">int</span>     bytes;</div>
<div class="line"><span class="lineno">  200</span>    pi_protocol_t   *prot,</div>
<div class="line"><span class="lineno">  201</span>            *next;</div>
<div class="line"><span class="lineno">  202</span>    <span class="keyword">struct  </span>pi_slp_data *data;</div>
<div class="line"><span class="lineno">  203</span>    <span class="keyword">struct  </span>slp *slp;</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *slp_buf;</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    i,</div>
<div class="line"><span class="lineno">  206</span>            n;</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    prot = <a class="code hl_function" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3">pi_protocol</a>(ps-&gt;sd, PI_LEVEL_SLP);</div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">if</span> (prot == NULL)</div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    data = (<span class="keyword">struct </span>pi_slp_data *)prot-&gt;data;</div>
<div class="line"><span class="lineno">  213</span>    next = <a class="code hl_function" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368">pi_protocol_next</a>(ps-&gt;sd, PI_LEVEL_SLP);</div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">if</span> (next == NULL)</div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_SOCK_INVALID);</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    slp_buf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *) malloc (PI_SLP_HEADER_LEN +</div>
<div class="line"><span class="lineno">  218</span>        PI_SLP_MTU + PI_SLP_FOOTER_LEN);</div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">if</span> (slp_buf == NULL)</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    slp = (<span class="keyword">struct </span>slp *) slp_buf;</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>    <span class="comment">/* Header values */</span></div>
<div class="line"><span class="lineno">  225</span>    slp-&gt;_be    = 0xbe;</div>
<div class="line"><span class="lineno">  226</span>    slp-&gt;_ef    = 0xef;</div>
<div class="line"><span class="lineno">  227</span>    slp-&gt;_ed    = 0xed;</div>
<div class="line"><span class="lineno">  228</span>    slp-&gt;dest   = data-&gt;dest;</div>
<div class="line"><span class="lineno">  229</span>    slp-&gt;src    = data-&gt;src;</div>
<div class="line"><span class="lineno">  230</span>    slp-&gt;type   = data-&gt;type;</div>
<div class="line"><span class="lineno">  231</span>    set_short(&amp;slp-&gt;dlen, len);</div>
<div class="line"><span class="lineno">  232</span>    slp-&gt;id_    = data-&gt;txid;</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">for</span> (n = i = 0; i &lt; 9; i++)</div>
<div class="line"><span class="lineno">  235</span>        n += slp_buf[i];</div>
<div class="line"><span class="lineno">  236</span>    slp-&gt;csum = 0xff &amp; n;</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>    <span class="comment">/* Copy in the packet data */</span></div>
<div class="line"><span class="lineno">  239</span>    memcpy (slp_buf + PI_SLP_HEADER_LEN, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, len);</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    <span class="comment">/* CRC value */</span></div>
<div class="line"><span class="lineno">  242</span>    set_short(&amp;slp_buf[PI_SLP_HEADER_LEN + len],</div>
<div class="line"><span class="lineno">  243</span>        <a class="code hl_function" href="utils_8c.html#a135879f5a0f93242c8fdaf9a790833d8">crc16</a>(slp_buf, (<span class="keywordtype">int</span>)(PI_SLP_HEADER_LEN + len)));</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>    <span class="comment">/* Write out the data */</span></div>
<div class="line"><span class="lineno">  246</span>    bytes = next-&gt;write(ps, slp_buf,</div>
<div class="line"><span class="lineno">  247</span>        PI_SLP_HEADER_LEN + len + PI_SLP_FOOTER_LEN, <a class="code hl_variable" href="darwinusb_8c.html#a1cbb17ede73ea044a04a129bf4d86976">flags</a>);</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>    <span class="keywordflow">if</span> (bytes &gt;= 0) {</div>
<div class="line"><span class="lineno">  250</span>        CHECK(PI_DBG_SLP, PI_DBG_LVL_INFO, <a class="code hl_function" href="#ad188b3c495c6437f9b997e23b1299254">slp_dump_header</a>(slp_buf, 1));</div>
<div class="line"><span class="lineno">  251</span>        CHECK(PI_DBG_SLP, PI_DBG_LVL_DEBUG, <a class="code hl_function" href="#a1d28b91955f92f83aff45e1b5983261a">slp_dump</a>(slp_buf));</div>
<div class="line"><span class="lineno">  252</span>    }</div>
<div class="line"><span class="lineno">  253</span>    </div>
<div class="line"><span class="lineno">  254</span>    free (slp_buf);</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">return</span> bytes;</div>
<div class="line"><span class="lineno">  257</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00061">crc16()</a>, <a class="el" href="#l00311">flags</a>, <a class="el" href="#l00659">pi_protocol()</a>, <a class="el" href="#l00672">pi_protocol_next()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l00647">slp_dump()</a>, and <a class="el" href="#l00621">slp_dump_header()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00057">do_read()</a>, and <a class="el" href="#l00145">slp_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_a01fdc743847ce35ab44332e53c477eeb_cgraph.png" border="0" usemap="#aslp_8c_a01fdc743847ce35ab44332e53c477eeb_cgraph" alt=""/></div>
<map name="aslp_8c_a01fdc743847ce35ab44332e53c477eeb_cgraph" id="aslp_8c_a01fdc743847ce35ab44332e53c477eeb_cgraph">
<area shape="rect" title=" " alt="" coords="5,129,62,155"/>
<area shape="rect" href="utils_8c.html#a135879f5a0f93242c8fdaf9a790833d8" title=" " alt="" coords="145,5,198,31"/>
<area shape="poly" title=" " alt="" coords="39,128,66,85,85,61,108,40,129,28,132,33,111,44,89,65,70,88,44,130"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="129,55,214,80"/>
<area shape="poly" title=" " alt="" coords="51,127,108,89,118,85,120,89,111,94,53,131"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="113,153,230,179"/>
<area shape="poly" title=" " alt="" coords="63,144,98,151,97,156,62,150"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="127,104,216,130"/>
<area shape="poly" title=" " alt="" coords="62,134,111,125,112,130,63,140"/>
<area shape="rect" href="slp_8c.html#a1d28b91955f92f83aff45e1b5983261a" title=" " alt="" coords="133,203,210,228"/>
<area shape="poly" title=" " alt="" coords="54,153,111,189,121,194,118,199,108,194,51,158"/>
<area shape="rect" href="slp_8c.html#ad188b3c495c6437f9b997e23b1299254" title=" " alt="" coords="110,252,233,278"/>
<area shape="poly" title=" " alt="" coords="44,154,70,195,89,219,111,239,116,242,113,246,108,243,85,222,66,199,40,157"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="313,104,418,130"/>
<area shape="poly" title=" " alt="" coords="214,76,299,97,297,102,213,81"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="297,55,434,80"/>
<area shape="poly" title=" " alt="" coords="214,65,281,65,281,70,214,70"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="505,104,611,130"/>
<area shape="poly" title=" " alt="" coords="419,114,490,114,490,120,419,120"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="498,153,618,179"/>
<area shape="poly" title=" " alt="" coords="419,128,491,146,490,152,418,133"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="514,55,602,80"/>
<area shape="poly" title=" " alt="" coords="418,101,499,80,500,85,419,106"/>
<area shape="poly" title=" " alt="" coords="224,150,297,131,299,137,226,155"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="281,153,450,179"/>
<area shape="poly" title=" " alt="" coords="230,164,266,164,266,169,230,169"/>
<area shape="poly" title=" " alt="" coords="217,114,297,114,297,120,217,120"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="318,203,413,228"/>
<area shape="poly" title=" " alt="" coords="211,213,302,213,302,218,211,218"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="513,203,603,228"/>
<area shape="poly" title=" " alt="" coords="414,213,497,213,497,218,414,218"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="slp_8c_a01fdc743847ce35ab44332e53c477eeb_icgraph.png" border="0" usemap="#aslp_8c_a01fdc743847ce35ab44332e53c477eeb_icgraph" alt=""/></div>
<map name="aslp_8c_a01fdc743847ce35ab44332e53c477eeb_icgraph" id="aslp_8c_a01fdc743847ce35ab44332e53c477eeb_icgraph">
<area shape="rect" title=" " alt="" coords="1827,81,1883,107"/>
<area shape="rect" href="pilot-port_8c.html#abb8ea98f18304089d8c3237cb82d226f" title=" " alt="" coords="1700,56,1767,82"/>
<area shape="poly" title=" " alt="" coords="1811,88,1767,78,1768,73,1812,83"/>
<area shape="rect" href="slp_8c.html#a08008e07e5c44ef5c2ce64596b544ac8" title=" " alt="" coords="1688,105,1779,131"/>
<area shape="poly" title=" " alt="" coords="1813,105,1780,112,1779,107,1812,100"/>
<area shape="rect" href="pilot-port_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="1543,56,1593,82"/>
<area shape="poly" title=" " alt="" coords="1684,72,1593,72,1593,66,1684,66"/>
<area shape="rect" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b" title=" " alt="" coords="1496,105,1640,131"/>
<area shape="poly" title=" " alt="" coords="1672,121,1640,121,1640,116,1672,116"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,80,783,106"/>
<area shape="poly" title=" " alt="" coords="1481,111,1363,100,1232,95,1044,96,783,96,783,90,1044,90,1232,90,1363,95,1481,105"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="1347,131,1448,156"/>
<area shape="poly" title=" " alt="" coords="1481,134,1449,139,1448,133,1481,128"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,5,651,31"/>
<area shape="poly" title=" " alt="" coords="704,74,650,45,625,34,627,29,652,40,707,69"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,55,612,80"/>
<area shape="poly" title=" " alt="" coords="683,86,612,74,613,69,684,81"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,104,612,130"/>
<area shape="poly" title=" " alt="" coords="684,104,613,116,612,110,683,99"/>
<area shape="rect" href="bluetooth_8c.html#aff7f06a1dc558ebe49b8488c00d38003" title=" " alt="" coords="1162,131,1299,156"/>
<area shape="poly" title=" " alt="" coords="1331,146,1300,146,1300,141,1331,141"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="977,131,1114,156"/>
<area shape="poly" title=" " alt="" coords="1146,146,1114,146,1114,141,1146,141"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,131,929,156"/>
<area shape="poly" title=" " alt="" coords="962,146,930,146,930,141,962,141"/>
<area shape="poly" title=" " alt="" coords="827,127,777,109,779,104,829,122"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,228,772,254"/>
<area shape="poly" title=" " alt="" coords="850,167,762,230,759,225,847,163"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,153,640,179"/>
<area shape="poly" title=" " alt="" coords="704,222,650,193,625,182,627,177,652,188,707,217"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,203,637,228"/>
<area shape="poly" title=" " alt="" coords="694,236,637,226,638,221,694,231"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,252,637,278"/>
<area shape="poly" title=" " alt="" coords="694,251,637,260,637,255,694,245"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,301,633,327"/>
<area shape="poly" title=" " alt="" coords="705,264,652,293,627,303,625,298,650,288,703,260"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,351,625,376"/>
<area shape="poly" title=" " alt="" coords="724,268,693,306,652,342,627,355,624,350,649,337,689,302,720,265"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,138,476,178"/>
<area shape="poly" title=" " alt="" coords="529,247,523,243,508,230,498,217,489,205,475,192,456,181,459,177,478,188,493,201,502,214,512,226,526,239,532,243"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,203,436,228"/>
<area shape="poly" title=" " alt="" coords="529,296,523,292,508,279,498,266,489,254,475,242,436,225,438,220,478,237,493,250,503,263,512,275,526,288,532,292"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,252,450,278"/>
<area shape="poly" title=" " alt="" coords="526,301,450,281,451,275,527,296"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,301,435,327"/>
<area shape="poly" title=" " alt="" coords="526,317,436,317,436,312,526,312"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,351,424,376"/>
<area shape="poly" title=" " alt="" coords="528,333,425,360,424,355,526,327"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,400,424,426"/>
<area shape="poly" title=" " alt="" coords="532,336,526,340,512,353,503,365,493,378,478,391,451,404,425,411,424,406,449,399,475,387,489,375,498,362,508,349,523,336,529,332"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,449,424,475"/>
<area shape="poly" title=" " alt="" coords="530,337,526,340,509,364,503,389,497,415,490,428,478,440,452,455,425,462,424,457,450,450,475,436,485,424,492,413,498,388,504,362,522,336,526,333"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,203,273,228"/>
<area shape="poly" title=" " alt="" coords="336,250,272,232,274,226,338,245"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,252,275,278"/>
<area shape="poly" title=" " alt="" coords="333,268,275,268,275,262,333,262"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,228,127,254"/>
<area shape="poly" title=" " alt="" coords="162,228,128,234,127,228,161,223"/>
<area shape="poly" title=" " alt="" coords="159,258,126,253,127,247,160,252"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,301,250,327"/>
<area shape="poly" title=" " alt="" coords="348,317,250,317,250,312,348,312"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ef3825c9845ea6880aaea633307886b2.html">libpisock</a></li><li class="navelem"><a class="el" href="slp_8c.html">slp.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
