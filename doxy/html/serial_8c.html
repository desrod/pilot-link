<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: libpisock/serial.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('serial_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">serial.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;pi-debug.h&quot;</code><br />
<code>#include &quot;pi-source.h&quot;</code><br />
<code>#include &quot;pi-socket.h&quot;</code><br />
<code>#include &quot;pi-serial.h&quot;</code><br />
<code>#include &quot;pi-net.h&quot;</code><br />
<code>#include &quot;pi-cmp.h&quot;</code><br />
<code>#include &quot;pi-error.h&quot;</code><br />
<code>#include &quot;pi-util.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for serial.c:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c__incl.png" border="0" usemap="#alibpisock_2serial_8c" alt=""/></div>
<map name="alibpisock_2serial_8c" id="alibpisock_2serial_8c">
<area shape="rect" title=" " alt="" coords="843,5,962,31"/>
<area shape="rect" title=" " alt="" coords="5,79,69,105"/>
<area shape="poly" title=" " alt="" coords="843,23,708,26,522,35,306,52,84,81,84,76,306,47,522,29,708,20,842,17"/>
<area shape="rect" title=" " alt="" coords="92,79,152,105"/>
<area shape="poly" title=" " alt="" coords="843,23,721,28,556,37,365,55,168,82,168,76,364,49,555,32,721,22,843,18"/>
<area shape="rect" title=" " alt="" coords="177,79,244,105"/>
<area shape="poly" title=" " alt="" coords="843,24,592,40,428,57,259,81,258,76,427,52,592,35,843,19"/>
<area shape="rect" title=" " alt="" coords="267,79,324,105"/>
<area shape="poly" title=" " alt="" coords="843,25,625,42,485,59,340,82,339,76,484,53,625,37,843,20"/>
<area shape="rect" title=" " alt="" coords="349,79,413,105"/>
<area shape="poly" title=" " alt="" coords="843,27,662,46,547,62,429,81,428,76,546,56,661,41,843,22"/>
<area shape="rect" title=" " alt="" coords="437,79,498,105"/>
<area shape="poly" title=" " alt="" coords="843,29,697,49,514,81,513,76,696,44,842,24"/>
<area shape="rect" title=" " alt="" coords="523,79,612,105"/>
<area shape="poly" title=" " alt="" coords="846,34,628,80,627,75,845,29"/>
<area shape="rect" title=" " alt="" coords="637,79,733,105"/>
<area shape="poly" title=" " alt="" coords="866,34,737,76,736,71,865,29"/>
<area shape="rect" title=" " alt="" coords="757,79,837,105"/>
<area shape="poly" title=" " alt="" coords="886,34,829,72,826,68,883,29"/>
<area shape="rect" title=" " alt="" coords="861,79,944,105"/>
<area shape="poly" title=" " alt="" coords="905,31,905,63,900,63,900,31"/>
<area shape="rect" title=" " alt="" coords="967,79,1035,105"/>
<area shape="poly" title=" " alt="" coords="921,29,974,68,971,72,918,34"/>
<area shape="rect" title=" " alt="" coords="1059,79,1140,105"/>
<area shape="poly" title=" " alt="" coords="937,29,1053,71,1051,76,935,34"/>
<area shape="rect" title=" " alt="" coords="1165,79,1250,105"/>
<area shape="poly" title=" " alt="" coords="955,29,1151,74,1149,80,954,34"/>
<area shape="rect" title=" " alt="" coords="1274,79,1360,105"/>
<area shape="poly" title=" " alt="" coords="962,26,1260,76,1259,81,961,31"/>
<area shape="rect" title=" " alt="" coords="1384,79,1461,105"/>
<area shape="poly" title=" " alt="" coords="962,23,1140,43,1369,76,1368,81,1140,48,962,28"/>
<area shape="rect" title=" " alt="" coords="1485,79,1549,105"/>
<area shape="poly" title=" " alt="" coords="962,20,1182,38,1324,54,1470,76,1469,81,1323,59,1181,43,962,25"/>
<area shape="rect" title=" " alt="" coords="1573,79,1645,105"/>
<area shape="poly" title=" " alt="" coords="962,19,1217,36,1385,53,1558,76,1558,81,1384,58,1217,41,962,25"/>
<area shape="rect" title=" " alt="" coords="1669,79,1741,105"/>
<area shape="poly" title=" " alt="" coords="962,18,1256,33,1452,50,1654,76,1654,82,1451,56,1255,39,962,24"/>
<area shape="rect" title=" " alt="" coords="1765,79,1829,105"/>
<area shape="poly" title=" " alt="" coords="962,17,1101,20,1294,29,1519,47,1750,76,1750,82,1518,52,1294,35,1100,26,962,23"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afd1f0015559a46379c5a5302589450fa" id="r_afd1f0015559a46379c5a5302589450fa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd1f0015559a46379c5a5302589450fa">pi_serial_accept</a> (pi_socket_t *ps, struct sockaddr *addr, size_t *addrlen)</td></tr>
<tr class="separator:afd1f0015559a46379c5a5302589450fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab631a24dcc9892032dd4f5c6252c76d0" id="r_ab631a24dcc9892032dd4f5c6252c76d0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab631a24dcc9892032dd4f5c6252c76d0">pi_serial_bind</a> (pi_socket_t *ps, struct sockaddr *addr, size_t addrlen)</td></tr>
<tr class="separator:ab631a24dcc9892032dd4f5c6252c76d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082168861487ef5684d9283b1b77d31a" id="r_a082168861487ef5684d9283b1b77d31a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a082168861487ef5684d9283b1b77d31a">pi_serial_close</a> (pi_socket_t *ps)</td></tr>
<tr class="separator:a082168861487ef5684d9283b1b77d31a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10ceb871749f334daf436760d389a238" id="r_a10ceb871749f334daf436760d389a238"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a10ceb871749f334daf436760d389a238">pi_serial_connect</a> (pi_socket_t *ps, struct sockaddr *addr, size_t addrlen)</td></tr>
<tr class="separator:a10ceb871749f334daf436760d389a238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae73e19d76cbb99f66343c25eef4f73eb" id="r_ae73e19d76cbb99f66343c25eef4f73eb"><td class="memItemLeft" align="right" valign="top">pi_device_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae73e19d76cbb99f66343c25eef4f73eb">pi_serial_device</a> (int type)</td></tr>
<tr class="separator:ae73e19d76cbb99f66343c25eef4f73eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0401a1378dad63c55a477de5fd72e7a1" id="r_a0401a1378dad63c55a477de5fd72e7a1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0401a1378dad63c55a477de5fd72e7a1">pi_serial_device_free</a> (pi_device_t *dev)</td></tr>
<tr class="separator:a0401a1378dad63c55a477de5fd72e7a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75a8a1e52d10dbcbad17363335bf4c0" id="r_ab75a8a1e52d10dbcbad17363335bf4c0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab75a8a1e52d10dbcbad17363335bf4c0">pi_serial_getsockopt</a> (pi_socket_t *ps, int level, int option_name, void *option_value, size_t *option_len)</td></tr>
<tr class="separator:ab75a8a1e52d10dbcbad17363335bf4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbd8210e25d9f04a3541a53df4eeb8bc" id="r_adbd8210e25d9f04a3541a53df4eeb8bc"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adbd8210e25d9f04a3541a53df4eeb8bc">pi_serial_listen</a> (pi_socket_t *ps, int backlog)</td></tr>
<tr class="separator:adbd8210e25d9f04a3541a53df4eeb8bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85853ffdd086cbc2223a5ac6f9071d97" id="r_a85853ffdd086cbc2223a5ac6f9071d97"><td class="memItemLeft" align="right" valign="top">static pi_protocol_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85853ffdd086cbc2223a5ac6f9071d97">pi_serial_protocol</a> (pi_device_t *dev)</td></tr>
<tr class="separator:a85853ffdd086cbc2223a5ac6f9071d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bcde37a8062a4328fbf19af4cd3f5d4" id="r_a9bcde37a8062a4328fbf19af4cd3f5d4"><td class="memItemLeft" align="right" valign="top">static pi_protocol_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9bcde37a8062a4328fbf19af4cd3f5d4">pi_serial_protocol_dup</a> (pi_protocol_t *prot)</td></tr>
<tr class="separator:a9bcde37a8062a4328fbf19af4cd3f5d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c8085defddea09dc0c734fbea69e33" id="r_a49c8085defddea09dc0c734fbea69e33"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49c8085defddea09dc0c734fbea69e33">pi_serial_protocol_free</a> (pi_protocol_t *prot)</td></tr>
<tr class="separator:a49c8085defddea09dc0c734fbea69e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3387de816ed7f5d42ad4cec7b5a51bc1" id="r_a3387de816ed7f5d42ad4cec7b5a51bc1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3387de816ed7f5d42ad4cec7b5a51bc1">pi_serial_setsockopt</a> (pi_socket_t *ps, int level, int option_name, const void *option_value, size_t *option_len)</td></tr>
<tr class="separator:a3387de816ed7f5d42ad4cec7b5a51bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67584512ce1964be95668c7a37d7c34" id="r_af67584512ce1964be95668c7a37d7c34"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af67584512ce1964be95668c7a37d7c34">pi_socket_init</a> (pi_socket_t *ps)</td></tr>
<tr class="separator:af67584512ce1964be95668c7a37d7c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="afd1f0015559a46379c5a5302589450fa" name="afd1f0015559a46379c5a5302589450fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd1f0015559a46379c5a5302589450fa">&#9670;&#160;</a></span>pi_serial_accept()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_serial_accept </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>addrlen</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  471</span>{</div>
<div class="line"><span class="lineno">  472</span>    <span class="keyword">struct  </span>pi_serial_data *data =</div>
<div class="line"><span class="lineno">  473</span>        (<span class="keyword">struct </span>pi_serial_data *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordtype">size_t</span>  <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    <span class="comment">/* Wait for data */</span></div>
<div class="line"><span class="lineno">  478</span><span class="preprocessor">#ifdef linux</span></div>
<div class="line"><span class="lineno">  479</span>    <span class="keywordflow">if</span> (ps-&gt;accept_to) {</div>
<div class="line"><span class="lineno">  480</span>        <span class="comment">/* shield against losing the first packet */</span></div>
<div class="line"><span class="lineno">  481</span>        <span class="keywordtype">int</span> result = data-&gt;impl.poll(ps, 1000);</div>
<div class="line"><span class="lineno">  482</span>        LOG((PI_DBG_DEV, PI_DBG_LVL_DEBUG, <span class="stringliteral">&quot;%s: %d, poll result: %d.\n&quot;</span>, __FILE__, __LINE__, result));</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno">  485</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[] = { 0x01, 0x00, 0x00, 0x00, 0x00, 0x00 };</div>
<div class="line"><span class="lineno">  486</span>            data-&gt;impl.write(ps, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, <span class="keyword">sizeof</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>), 1000);</div>
<div class="line"><span class="lineno">  487</span>        }</div>
<div class="line"><span class="lineno">  488</span>    }</div>
<div class="line"><span class="lineno">  489</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">if</span> ((err = data-&gt;impl.poll(ps, ps-&gt;accept_to * 1000)) &lt; 0)</div>
<div class="line"><span class="lineno">  491</span>        <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>    data-&gt;timeout = ps-&gt;accept_to * 1000;</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>    <a class="code hl_function" href="#af67584512ce1964be95668c7a37d7c34">pi_socket_init</a>(ps);</div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_STREAM) {</div>
<div class="line"><span class="lineno">  497</span>        <span class="keyword">struct </span>timeval tv;</div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cmp_flags;</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>        <span class="keywordflow">switch</span> (ps-&gt;cmd) {</div>
<div class="line"><span class="lineno">  501</span>            <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#ab798fd804bcbcac8aa988c4c28e62a5c">PI_CMD_CMP</a>:</div>
<div class="line"><span class="lineno">  502</span>                <span class="keywordflow">if</span> ((err = <a class="code hl_function" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c">cmp_rx_handshake</a>(ps, data-&gt;establishrate, data-&gt;establishhighrate)) &lt; 0)</div>
<div class="line"><span class="lineno">  503</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  504</span>                </div>
<div class="line"><span class="lineno">  505</span>                <span class="comment">/* propagate the long packet format flag to both command and non-command stacks */</span></div>
<div class="line"><span class="lineno">  506</span>                <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span>(cmp_flags);</div>
<div class="line"><span class="lineno">  507</span>                <a class="code hl_function" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5">pi_getsockopt</a>(ps-&gt;sd, PI_LEVEL_CMP, PI_CMP_FLAGS, &amp;cmp_flags, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);   </div>
<div class="line"><span class="lineno">  508</span>                <span class="keywordflow">if</span> (cmp_flags &amp; CMP_FL_LONG_PACKET_SUPPORT) {</div>
<div class="line"><span class="lineno">  509</span>                    <span class="keywordtype">int</span> use_long_format = 1;</div>
<div class="line"><span class="lineno">  510</span>                    <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span>(int);</div>
<div class="line"><span class="lineno">  511</span>                    <a class="code hl_function" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a>(ps-&gt;sd, PI_LEVEL_PADP, PI_PADP_USE_LONG_FORMAT,</div>
<div class="line"><span class="lineno">  512</span>                              &amp;use_long_format, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  513</span>                    ps-&gt;command ^= 1;</div>
<div class="line"><span class="lineno">  514</span>                    <a class="code hl_function" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a>(ps-&gt;sd, PI_LEVEL_PADP, PI_PADP_USE_LONG_FORMAT,</div>
<div class="line"><span class="lineno">  515</span>                              &amp;use_long_format, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  516</span>                    ps-&gt;command ^= 1;</div>
<div class="line"><span class="lineno">  517</span>                }</div>
<div class="line"><span class="lineno">  518</span>                    </div>
<div class="line"><span class="lineno">  519</span>                    <span class="comment">/* We always reconfigure our port, no matter what */</span></div>
<div class="line"><span class="lineno">  520</span>                <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span>(data-&gt;rate);</div>
<div class="line"><span class="lineno">  521</span>                <a class="code hl_function" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5">pi_getsockopt</a>(ps-&gt;sd, PI_LEVEL_CMP, PI_CMP_BAUD, &amp;data-&gt;rate, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  522</span>                <span class="keywordflow">if</span> ((err = data-&gt;impl.changebaud(ps)) &lt; 0)</div>
<div class="line"><span class="lineno">  523</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  524</span>                    </div>
<div class="line"><span class="lineno">  525</span>                <span class="comment">/* Palm device needs some time to reconfigure its port */</span></div>
<div class="line"><span class="lineno">  526</span>                tv.tv_sec   = 0;</div>
<div class="line"><span class="lineno">  527</span>                tv.tv_usec  = 50000;</div>
<div class="line"><span class="lineno">  528</span>                select(0, 0, 0, 0, &amp;tv);</div>
<div class="line"><span class="lineno">  529</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>            <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#ad2643f2a338ea48319d16bed48fbc5d4">PI_CMD_NET</a>:</div>
<div class="line"><span class="lineno">  532</span>                <span class="comment">/* serial/network: make sure we don&#39;t split writes. set socket option</span></div>
<div class="line"><span class="lineno">  533</span><span class="comment">                 * on both the command and non-command instances of the protocol</span></div>
<div class="line"><span class="lineno">  534</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  535</span><span class="preprocessor">#ifdef MACOSX</span></div>
<div class="line"><span class="lineno">  536</span>                <span class="comment">/* We need to turn fragmentation OFF to improve Bluetooth performance</span></div>
<div class="line"><span class="lineno">  537</span><span class="comment">                 * but this code is also used by USB on Linux and Freebsd</span></div>
<div class="line"><span class="lineno">  538</span><span class="comment">                 * therefore, only compile it when running OS X</span></div>
<div class="line"><span class="lineno">  539</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  540</span>                {</div>
<div class="line"><span class="lineno">  541</span>                    <span class="keywordtype">int</span> split = 0;</div>
<div class="line"><span class="lineno">  542</span>                    <span class="keywordtype">size_t</span> chunksize = 0;</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>                    <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span> (split);</div>
<div class="line"><span class="lineno">  545</span>                    <a class="code hl_function" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a>(ps-&gt;sd, PI_LEVEL_NET, PI_NET_SPLIT_WRITES,</div>
<div class="line"><span class="lineno">  546</span>                        &amp;split, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  547</span>                    <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span> (chunksize);</div>
<div class="line"><span class="lineno">  548</span>                    <a class="code hl_function" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a>(ps-&gt;sd, PI_LEVEL_NET, PI_NET_WRITE_CHUNKSIZE,</div>
<div class="line"><span class="lineno">  549</span>                        &amp;chunksize, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>                    ps-&gt;command ^= 1;</div>
<div class="line"><span class="lineno">  552</span>                    <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span> (split);</div>
<div class="line"><span class="lineno">  553</span>                    <a class="code hl_function" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a>(ps-&gt;sd, PI_LEVEL_NET, PI_NET_SPLIT_WRITES,</div>
<div class="line"><span class="lineno">  554</span>                        &amp;split, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  555</span>                    <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span> (chunksize);</div>
<div class="line"><span class="lineno">  556</span>                    <a class="code hl_function" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a>(ps-&gt;sd, PI_LEVEL_NET, PI_NET_WRITE_CHUNKSIZE,</div>
<div class="line"><span class="lineno">  557</span>                        &amp;chunksize, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  558</span>                    ps-&gt;command ^= 1;</div>
<div class="line"><span class="lineno">  559</span>                }</div>
<div class="line"><span class="lineno">  560</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  561</span>                <span class="keywordflow">if</span> ((err = <a class="code hl_function" href="net_8c.html#a228af3513fa40c477512b1d69eea2112">net_rx_handshake</a>(ps)) &lt; 0)</div>
<div class="line"><span class="lineno">  562</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  563</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  564</span>        }</div>
<div class="line"><span class="lineno">  565</span>        ps-&gt;dlprecord = 0;</div>
<div class="line"><span class="lineno">  566</span>    }</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span>    data-&gt;timeout = 0;</div>
<div class="line"><span class="lineno">  569</span>    ps-&gt;command = 0;</div>
<div class="line"><span class="lineno">  570</span>    ps-&gt;state = PI_SOCK_CONN_ACCEPT;</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>    <span class="keywordflow">return</span> ps-&gt;sd;</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span><a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>:</div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  576</span>}</div>
<div class="ttc" id="acmp_8c_html_a94b2861d069ea313208312a38d02644c"><div class="ttname"><a href="cmp_8c.html#a94b2861d069ea313208312a38d02644c">cmp_rx_handshake</a></div><div class="ttdeci">int cmp_rx_handshake(pi_socket_t *ps, int establishrate, int establishhighrate)</div><div class="ttdef"><b>Definition</b> cmp.c:185</div></div>
<div class="ttc" id="anamespacepisock_html_ab798fd804bcbcac8aa988c4c28e62a5c"><div class="ttname"><a href="namespacepisock.html#ab798fd804bcbcac8aa988c4c28e62a5c">pisock.PI_CMD_CMP</a></div><div class="ttdeci">PI_CMD_CMP</div><div class="ttdef"><b>Definition</b> pisock.py:69</div></div>
<div class="ttc" id="anamespacepisock_html_ad2643f2a338ea48319d16bed48fbc5d4"><div class="ttname"><a href="namespacepisock.html#ad2643f2a338ea48319d16bed48fbc5d4">pisock.PI_CMD_NET</a></div><div class="ttdeci">PI_CMD_NET</div><div class="ttdef"><b>Definition</b> pisock.py:70</div></div>
<div class="ttc" id="anet_8c_html_a228af3513fa40c477512b1d69eea2112"><div class="ttname"><a href="net_8c.html#a228af3513fa40c477512b1d69eea2112">net_rx_handshake</a></div><div class="ttdeci">int net_rx_handshake(pi_socket_t *ps)</div><div class="ttdef"><b>Definition</b> net.c:182</div></div>
<div class="ttc" id="apilot-read-palmpix_8c_html_a0d1b4ddc8dbaeec0961a8c824afd9ebd"><div class="ttname"><a href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a></div><div class="ttdeci">static int fail(const char *func)</div><div class="ttdef"><b>Definition</b> pilot-read-palmpix.c:435</div></div>
<div class="ttc" id="apitcl_8c_html_a0dea8f1af961c5e9eb4425acd7c95409"><div class="ttname"><a href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a></div><div class="ttdeci">char buf[0xffff]</div><div class="ttdef"><b>Definition</b> pitcl.c:34</div></div>
<div class="ttc" id="aserial_8c_html_af67584512ce1964be95668c7a37d7c34"><div class="ttname"><a href="#af67584512ce1964be95668c7a37d7c34">pi_socket_init</a></div><div class="ttdeci">int pi_socket_init(pi_socket_t *ps)</div><div class="ttdef"><b>Definition</b> socket.c:981</div></div>
<div class="ttc" id="asocket_8c_html_a082db14a855d890be5f3e23b2ebb12e5"><div class="ttname"><a href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5">pi_getsockopt</a></div><div class="ttdeci">int pi_getsockopt(int pi_sd, int level, int option_name, void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> socket.c:1151</div></div>
<div class="ttc" id="asocket_8c_html_ac046ff247e07d169f5445f2343a06da3"><div class="ttname"><a href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3">pi_setsockopt</a></div><div class="ttdeci">int pi_setsockopt(int pi_sd, int level, int option_name, const void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> socket.c:1199</div></div>
<div class="ttc" id="avalidate_8cc_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> validate.cc:81</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00185">cmp_rx_handshake()</a>, <a class="el" href="#l00435">fail()</a>, <a class="el" href="#l00182">net_rx_handshake()</a>, <a class="el" href="#l01151">pi_getsockopt()</a>, <a class="el" href="#l01199">pi_setsockopt()</a>, <a class="el" href="#l00981">pi_socket_init()</a>, and <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00206">pi_serial_device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_afd1f0015559a46379c5a5302589450fa_cgraph.png" border="0" usemap="#aserial_8c_afd1f0015559a46379c5a5302589450fa_cgraph" alt=""/></div>
<map name="aserial_8c_afd1f0015559a46379c5a5302589450fa_cgraph" id="aserial_8c_afd1f0015559a46379c5a5302589450fa_cgraph">
<area shape="rect" title=" " alt="" coords="5,284,121,310"/>
<area shape="rect" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c" title=" " alt="" coords="169,259,303,284"/>
<area shape="poly" title=" " alt="" coords="121,286,153,281,153,286,121,291"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="650,5,752,31"/>
<area shape="poly" title=" " alt="" coords="72,282,111,237,138,212,167,191,227,157,290,128,419,81,538,48,634,27,635,32,540,53,420,86,292,133,229,162,170,195,141,216,115,241,76,285"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="217,360,255,386"/>
<area shape="poly" title=" " alt="" coords="95,308,204,356,201,361,93,313"/>
<area shape="rect" href="net_8c.html#a228af3513fa40c477512b1d69eea2112" title=" " alt="" coords="351,624,478,650"/>
<area shape="poly" title=" " alt="" coords="121,292,165,294,214,302,262,319,305,346,327,385,356,458,407,608,402,610,351,460,322,387,301,349,260,323,212,308,165,299,121,297"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="650,156,752,182"/>
<area shape="poly" title=" " alt="" coords="85,281,131,255,195,223,271,191,350,169,426,158,502,155,634,159,634,165,502,160,426,164,352,174,273,197,198,227,133,260,87,286"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="185,409,286,435"/>
<area shape="poly" title=" " alt="" coords="77,308,115,351,141,375,170,396,178,400,175,405,167,400,138,379,112,355,73,312"/>
<area shape="rect" href="cmp_8c.html#adc9c309853f9ac66577cf0966a372260" title=" " alt="" coords="374,184,456,210"/>
<area shape="poly" title=" " alt="" coords="265,256,350,218,362,213,364,218,352,223,267,261"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="659,107,743,132"/>
<area shape="poly" title=" " alt="" coords="246,256,289,213,318,190,350,169,387,152,425,139,505,122,580,115,643,114,643,119,581,121,506,128,427,144,388,157,352,174,321,194,292,217,250,260"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="851,257,940,283"/>
<area shape="poly" title=" " alt="" coords="266,283,351,318,409,338,475,356,545,369,618,376,691,373,762,358,793,346,822,328,869,292,872,296,825,333,795,350,764,363,692,378,618,381,544,375,473,361,407,343,349,323,264,287"/>
<area shape="rect" href="cmp_8c.html#a11606925c41885b1bca65ab8c44adc30" title=" " alt="" coords="380,233,450,259"/>
<area shape="poly" title=" " alt="" coords="303,259,364,251,364,256,304,265"/>
<area shape="rect" href="cmp_8c.html#acc715b624e23e1384e4b66c7c66ed93f" title=" " alt="" coords="526,309,591,335"/>
<area shape="poly" title=" " alt="" coords="304,279,511,312,510,317,303,285"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="651,913,751,939"/>
<area shape="poly" title=" " alt="" coords="255,283,282,310,305,346,318,379,325,411,330,470,324,524,315,575,307,625,307,676,321,728,334,755,353,783,381,814,414,840,451,862,489,879,567,904,636,917,635,922,566,909,488,884,448,866,411,845,378,818,349,786,330,757,316,730,302,676,302,625,310,574,319,523,324,469,320,412,313,381,301,349,278,313,251,287"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="650,864,752,890"/>
<area shape="poly" title=" " alt="" coords="255,283,282,310,305,346,322,392,327,434,327,472,323,509,321,544,322,580,332,619,353,661,382,698,415,732,453,761,492,787,572,829,641,856,639,861,570,833,490,792,450,766,412,736,378,702,349,664,327,621,317,581,315,544,318,508,322,472,322,434,316,394,301,349,277,314,251,287"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="526,208,591,234"/>
<area shape="poly" title=" " alt="" coords="457,201,511,210,510,216,456,206"/>
<area shape="poly" title=" " alt="" coords="443,181,526,149,586,134,643,124,644,130,587,140,527,154,445,186"/>
<area shape="poly" title=" " alt="" coords="431,181,488,140,528,117,573,95,621,79,670,71,718,74,742,81,764,92,785,111,794,132,800,155,813,181,842,215,870,244,867,248,838,219,809,184,795,157,789,134,781,114,762,96,740,86,717,79,670,76,622,84,575,100,531,121,491,145,434,186"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="658,308,744,334"/>
<area shape="poly" title=" " alt="" coords="580,232,670,296,667,301,577,236"/>
<area shape="poly" title=" " alt="" coords="571,206,637,141,644,137,647,142,640,146,574,210"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="643,561,759,587"/>
<area shape="poly" title=" " alt="" coords="568,233,593,296,691,546,686,548,588,298,563,235"/>
<area shape="poly" title=" " alt="" coords="592,223,836,259,835,264,591,228"/>
<area shape="poly" title=" " alt="" coords="565,206,595,156,636,93,676,41,681,44,641,96,600,158,570,209"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1028,195,1134,220"/>
<area shape="poly" title=" " alt="" coords="743,111,792,107,853,107,918,113,981,129,1024,153,1059,181,1055,186,1021,157,979,134,917,118,853,112,793,113,743,116"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="827,144,964,170"/>
<area shape="poly" title=" " alt="" coords="744,125,812,138,811,143,743,130"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1189,145,1294,171"/>
<area shape="poly" title=" " alt="" coords="1125,191,1182,174,1183,179,1126,197"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1182,195,1301,220"/>
<area shape="poly" title=" " alt="" coords="1134,205,1166,205,1166,210,1134,210"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1198,244,1285,270"/>
<area shape="poly" title=" " alt="" coords="1126,218,1184,237,1183,242,1125,224"/>
<area shape="poly" title=" " alt="" coords="749,559,762,552,813,515,861,473,948,382,1016,296,1061,232,1065,235,1020,299,952,386,865,477,816,519,764,556,752,563"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="811,561,980,587"/>
<area shape="poly" title=" " alt="" coords="759,572,795,572,795,577,759,577"/>
<area shape="poly" title=" " alt="" coords="935,254,1025,223,1027,228,937,259"/>
<area shape="poly" title=" " alt="" coords="753,23,803,33,862,48,924,70,982,100,1006,118,1029,139,1064,180,1060,183,1025,143,1003,122,979,104,921,75,861,53,802,38,752,28"/>
<area shape="poly" title=" " alt="" coords="731,29,764,48,823,91,871,132,867,136,819,95,762,52,729,34"/>
<area shape="poly" title=" " alt="" coords="740,29,765,48,786,82,793,113,798,145,813,181,840,216,869,245,865,249,836,219,809,184,793,147,787,114,781,84,761,52,736,34"/>
<area shape="poly" title=" " alt="" coords="450,237,510,227,511,232,451,243"/>
<area shape="poly" title=" " alt="" coords="449,232,477,220,525,193,638,141,650,136,652,141,640,146,528,198,479,225,451,237"/>
<area shape="poly" title=" " alt="" coords="451,245,835,265,835,270,450,251"/>
<area shape="poly" title=" " alt="" coords="591,319,643,319,643,324,591,325"/>
<area shape="poly" title=" " alt="" coords="563,308,604,212,637,142,644,136,647,140,641,145,608,214,568,310"/>
<area shape="poly" title=" " alt="" coords="569,334,687,547,683,549,565,337"/>
<area shape="poly" title=" " alt="" coords="592,331,639,344,701,352,728,351,762,344,791,334,818,320,864,290,867,295,821,325,793,338,764,349,729,356,701,357,638,349,591,337"/>
<area shape="poly" title=" " alt="" coords="435,621,522,567,637,500,673,483,702,473,730,460,761,439,798,404,830,365,877,295,882,298,834,368,802,407,765,443,732,465,704,478,675,488,640,505,525,571,438,626"/>
<area shape="poly" title=" " alt="" coords="426,648,455,695,504,762,566,835,602,869,640,900,646,904,643,908,637,904,599,873,563,839,499,765,451,698,421,651"/>
<area shape="poly" title=" " alt="" coords="441,648,513,694,555,727,593,764,608,788,616,810,624,830,641,851,644,853,640,858,637,855,619,833,611,812,603,791,589,768,551,731,510,699,439,652"/>
<area shape="rect" href="net_8c.html#a6c20ece547e720eec693b02b39774c8b" title=" " alt="" coords="530,663,587,688"/>
<area shape="poly" title=" " alt="" coords="466,648,515,661,514,666,464,653"/>
<area shape="rect" href="net_8c.html#a1670601987b6494055bea1a75938955e" title=" " alt="" coords="530,587,587,612"/>
<area shape="poly" title=" " alt="" coords="466,621,514,608,515,613,468,626"/>
<area shape="poly" title=" " alt="" coords="568,661,588,624,597,578,601,519,600,378,601,306,606,240,617,184,625,161,637,142,644,135,647,138,641,145,630,163,622,185,611,241,607,307,606,378,606,519,603,579,593,626,573,663"/>
<area shape="poly" title=" " alt="" coords="577,660,668,594,671,598,580,664"/>
<area shape="poly" title=" " alt="" coords="586,687,624,702,670,715,694,717,718,716,741,710,761,699,884,297,889,298,765,703,743,715,719,721,694,722,669,720,622,707,584,691"/>
<area shape="poly" title=" " alt="" coords="568,661,588,624,608,546,614,478,612,416,607,358,602,299,602,238,612,170,636,93,652,65,672,41,676,44,657,68,641,95,617,171,607,238,607,299,612,357,618,416,620,478,613,547,593,626,573,663"/>
<area shape="poly" title=" " alt="" coords="567,688,641,901,643,902,639,906,636,904,562,690"/>
<area shape="poly" title=" " alt="" coords="576,687,593,709,603,730,608,750,613,785,619,817,627,834,641,851,643,853,639,857,637,855,622,837,614,819,607,785,603,751,598,732,588,712,572,691"/>
<area shape="rect" href="net_8c.html#aa1aa11043c32d2b6ea7a60cadadccb94" title=" " alt="" coords="662,815,740,840"/>
<area shape="poly" title=" " alt="" coords="575,687,593,709,607,733,615,754,624,773,641,794,654,805,651,809,637,797,619,776,610,756,602,735,588,712,570,690"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="848,764,943,790"/>
<area shape="poly" title=" " alt="" coords="574,686,609,719,640,742,688,759,739,770,832,776,832,782,738,775,687,764,637,747,605,723,571,690"/>
<area shape="rect" href="net_8c.html#a8bd2d98d388794603edc8c3ba56e7f85" title=" " alt="" coords="639,663,763,688"/>
<area shape="poly" title=" " alt="" coords="588,673,623,673,623,678,588,678"/>
<area shape="poly" title=" " alt="" coords="568,661,588,624,603,576,611,534,615,461,617,387,624,344,636,295,658,240,681,194,686,197,663,242,641,296,629,345,623,387,620,461,616,535,608,577,593,626,572,663"/>
<area shape="poly" title=" " alt="" coords="740,815,832,791,833,796,741,820"/>
<area shape="rect" href="debug_8c.html#a11a6e0b0ea23a401ca6ce613d8664238" title=" " alt="" coords="1036,764,1126,790"/>
<area shape="poly" title=" " alt="" coords="944,774,1020,774,1020,780,944,780"/>
<area shape="poly" title=" " alt="" coords="753,173,811,180,1013,199,1013,204,811,185,752,178"/>
<area shape="poly" title=" " alt="" coords="752,163,811,159,812,165,753,168"/>
<area shape="poly" title=" " alt="" coords="729,180,764,198,857,247,854,252,762,203,726,185"/>
<area shape="poly" title=" " alt="" coords="559,586,590,351,613,217,625,169,636,142,644,135,648,138,641,145,630,171,618,218,595,352,564,586"/>
<area shape="poly" title=" " alt="" coords="587,592,627,585,628,590,588,597"/>
<area shape="poly" title=" " alt="" coords="577,584,637,546,673,531,703,522,731,512,761,490,779,469,788,449,796,428,809,402,875,295,880,298,813,405,801,430,793,452,783,472,765,493,734,516,705,527,675,536,640,551,580,588"/>
<area shape="poly" title=" " alt="" coords="588,599,670,613,718,627,764,648,799,671,830,698,877,750,873,753,826,702,795,675,762,653,716,632,669,618,587,604"/>
<area shape="poly" title=" " alt="" coords="585,611,640,641,662,653,659,658,637,646,582,615"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_afd1f0015559a46379c5a5302589450fa_icgraph.png" border="0" usemap="#aserial_8c_afd1f0015559a46379c5a5302589450fa_icgraph" alt=""/></div>
<map name="aserial_8c_afd1f0015559a46379c5a5302589450fa_icgraph" id="aserial_8c_afd1f0015559a46379c5a5302589450fa_icgraph">
<area shape="rect" title=" " alt="" coords="1140,242,1255,268"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="ab631a24dcc9892032dd4f5c6252c76d0" name="ab631a24dcc9892032dd4f5c6252c76d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab631a24dcc9892032dd4f5c6252c76d0">&#9670;&#160;</a></span>pi_serial_bind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_serial_bind </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>addrlen</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  347</span>{</div>
<div class="line"><span class="lineno">  348</span>    <span class="keyword">struct  </span>pi_serial_data *data =</div>
<div class="line"><span class="lineno">  349</span>            (<span class="keyword">struct </span>pi_serial_data *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  350</span>    <span class="keyword">struct  </span>pi_sockaddr *pa = (<span class="keyword">struct </span>pi_sockaddr *) addr;</div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordtype">int</span> err, count = 0;</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_STREAM) {</div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordflow">if</span> (data-&gt;establishrate == -1)</div>
<div class="line"><span class="lineno">  355</span>            <a class="code hl_function" href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f">get_pilot_rate</a>(&amp;data-&gt;establishrate, &amp;data-&gt;establishhighrate);</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>        <span class="comment">/* Mandatory CMP connection rate */</span></div>
<div class="line"><span class="lineno">  358</span>        data-&gt;rate = 9600;</div>
<div class="line"><span class="lineno">  359</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_RAW) {</div>
<div class="line"><span class="lineno">  360</span>        <span class="comment">/* Mandatory SysPkt connection rate */</span></div>
<div class="line"><span class="lineno">  361</span>        data-&gt;establishrate = data-&gt;rate = 57600;</div>
<div class="line"><span class="lineno">  362</span>    }</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>begin:</div>
<div class="line"><span class="lineno">  365</span>    <span class="keywordflow">if</span> ((err = data-&gt;impl.open(ps, pa, addrlen)) &lt; 0) {</div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordtype">int</span>     save_errno = errno;</div>
<div class="line"><span class="lineno">  367</span><span class="preprocessor">#ifdef MAXPATHLEN</span></div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordtype">char</span>    realport[MAXPATHLEN];</div>
<div class="line"><span class="lineno">  369</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  370</span><span class="preprocessor"> # ifdef PATH_MAX</span></div>
<div class="line"><span class="lineno">  371</span>        <span class="keywordtype">char</span>    realport[PATH_MAX];</div>
<div class="line"><span class="lineno">  372</span><span class="preprocessor"> # else</span></div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordtype">char</span>    realport[4096];</div>
<div class="line"><span class="lineno">  374</span><span class="preprocessor"> # endif </span><span class="comment">/* PATH_MAX */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  375</span><span class="preprocessor">#endif </span><span class="comment">/* MAXPATHLEN */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>        realpath(pa-&gt;pi_device, realport);</div>
<div class="line"><span class="lineno">  378</span>        errno = save_errno;</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>        <span class="keywordflow">if</span> (errno == ENOENT) {</div>
<div class="line"><span class="lineno">  381</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  382</span>                    <span class="stringliteral">&quot; The device %s does not exist..\n&quot;</span>,</div>
<div class="line"><span class="lineno">  383</span>                    pa-&gt;pi_device));</div>
<div class="line"><span class="lineno">  384</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  385</span>                    <span class="stringliteral">&quot; Possible solution:\n\n\tmknod %s c &quot;</span></div>
<div class="line"><span class="lineno">  386</span>                    <span class="stringliteral">&quot;&lt;major&gt; &lt;minor&gt;\n\n&quot;</span>, pa-&gt;pi_device));</div>
<div class="line"><span class="lineno">  387</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (errno == EACCES) {</div>
<div class="line"><span class="lineno">  388</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  389</span>                    <span class="stringliteral">&quot;   Please check the &quot;</span></div>
<div class="line"><span class="lineno">  390</span>                    <span class="stringliteral">&quot;permissions on %s..\n&quot;</span>, realport));</div>
<div class="line"><span class="lineno">  391</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  392</span>                    <span class="stringliteral">&quot; Possible solution:\n\n\tchmod 0666 &quot;</span></div>
<div class="line"><span class="lineno">  393</span>                    <span class="stringliteral">&quot;%s\n\n&quot;</span>, realport));</div>
<div class="line"><span class="lineno">  394</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (errno == ENODEV) {</div>
<div class="line"><span class="lineno">  395</span>            <span class="keywordflow">while</span> (count &lt;= 5) {</div>
<div class="line"><span class="lineno">  396</span>                <span class="keywordflow">if</span> (isatty(fileno(stdout))) {</div>
<div class="line"><span class="lineno">  397</span>                    LOG((PI_DBG_DEV, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  398</span>                            <span class="stringliteral">&quot;\r   Port not connected,&quot;</span></div>
<div class="line"><span class="lineno">  399</span>                            <span class="stringliteral">&quot; sleeping for 2 seconds, &quot;</span>));</div>
<div class="line"><span class="lineno">  400</span>                    LOG((PI_DBG_DEV, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  401</span>                            <span class="stringliteral">&quot;%d retries..&quot;</span>,</div>
<div class="line"><span class="lineno">  402</span>                            5-count));</div>
<div class="line"><span class="lineno">  403</span>                }</div>
<div class="line"><span class="lineno">  404</span>                sleep(2);</div>
<div class="line"><span class="lineno">  405</span>                count++;</div>
<div class="line"><span class="lineno">  406</span>                <span class="keywordflow">goto</span> begin;</div>
<div class="line"><span class="lineno">  407</span>            }</div>
<div class="line"><span class="lineno">  408</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  409</span>                    <span class="stringliteral">&quot;\n\n   Device not found on %s, \</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">                    Did you hit HotSync?\n\n&quot;</span>, realport));  </div>
<div class="line"><span class="lineno">  411</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (errno == EISDIR) {</div>
<div class="line"><span class="lineno">  412</span>            LOG((PI_DBG_DEV, PI_DBG_LVL_ERR,</div>
<div class="line"><span class="lineno">  413</span>                    <span class="stringliteral">&quot; The port specified must&quot;</span></div>
<div class="line"><span class="lineno">  414</span>                    <span class="stringliteral">&quot; contain a device name, and %s was&quot;</span></div>
<div class="line"><span class="lineno">  415</span>                    <span class="stringliteral">&quot; a directory.\n&quot;</span></div>
<div class="line"><span class="lineno">  416</span>                    <span class="stringliteral">&quot;   Please change that to reference a&quot;</span></div>
<div class="line"><span class="lineno">  417</span>                    <span class="stringliteral">&quot; real device, and try&quot;</span></div>
<div class="line"><span class="lineno">  418</span>                    <span class="stringliteral">&quot; again\n\n&quot;</span>, pa-&gt;pi_device));</div>
<div class="line"><span class="lineno">  419</span>        }</div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  421</span>    }</div>
<div class="line"><span class="lineno">  422</span>    ps-&gt;raddr   = malloc(addrlen);</div>
<div class="line"><span class="lineno">  423</span>    memcpy(ps-&gt;raddr, addr, addrlen);</div>
<div class="line"><span class="lineno">  424</span>    ps-&gt;raddrlen    = addrlen;</div>
<div class="line"><span class="lineno">  425</span>    ps-&gt;laddr   = malloc(addrlen);</div>
<div class="line"><span class="lineno">  426</span>    memcpy(ps-&gt;laddr, addr, addrlen);</div>
<div class="line"><span class="lineno">  427</span>    ps-&gt;laddrlen    = addrlen;</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  430</span>}</div>
<div class="ttc" id="autils_8c_html_a8ecab12c818c7bc5f3a89a33b68eef5f"><div class="ttname"><a href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f">get_pilot_rate</a></div><div class="ttdeci">void get_pilot_rate(int *establishrate, int *establishhighrate)</div><div class="ttdef"><b>Definition</b> utils.c:78</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00078">get_pilot_rate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00206">pi_serial_device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_ab631a24dcc9892032dd4f5c6252c76d0_cgraph.png" border="0" usemap="#aserial_8c_ab631a24dcc9892032dd4f5c6252c76d0_cgraph" alt=""/></div>
<map name="aserial_8c_ab631a24dcc9892032dd4f5c6252c76d0_cgraph" id="aserial_8c_ab631a24dcc9892032dd4f5c6252c76d0_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,106,31"/>
<area shape="rect" href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f" title=" " alt="" coords="154,5,253,31"/>
<area shape="poly" title=" " alt="" coords="106,16,138,16,138,21,106,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_ab631a24dcc9892032dd4f5c6252c76d0_icgraph.png" border="0" usemap="#aserial_8c_ab631a24dcc9892032dd4f5c6252c76d0_icgraph" alt=""/></div>
<map name="aserial_8c_ab631a24dcc9892032dd4f5c6252c76d0_icgraph" id="aserial_8c_ab631a24dcc9892032dd4f5c6252c76d0_icgraph">
<area shape="rect" title=" " alt="" coords="1140,242,1240,268"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a082168861487ef5684d9283b1b77d31a" name="a082168861487ef5684d9283b1b77d31a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a082168861487ef5684d9283b1b77d31a">&#9670;&#160;</a></span>pi_serial_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_serial_close </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  690</span>{</div>
<div class="line"><span class="lineno">  691</span>    <span class="keyword">struct </span>pi_serial_data *data =</div>
<div class="line"><span class="lineno">  692</span>        (<span class="keyword">struct </span>pi_serial_data *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>    <span class="keywordflow">if</span> (ps-&gt;sd) {</div>
<div class="line"><span class="lineno">  695</span>        data-&gt;impl.close (ps);</div>
<div class="line"><span class="lineno">  696</span>        ps-&gt;sd = 0;</div>
<div class="line"><span class="lineno">  697</span>    }</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>    <span class="keywordflow">if</span> (ps-&gt;laddr) {</div>
<div class="line"><span class="lineno">  700</span>        free(ps-&gt;laddr);</div>
<div class="line"><span class="lineno">  701</span>        ps-&gt;laddr = NULL;</div>
<div class="line"><span class="lineno">  702</span>    }</div>
<div class="line"><span class="lineno">  703</span> </div>
<div class="line"><span class="lineno">  704</span>    <span class="keywordflow">if</span> (ps-&gt;raddr) {</div>
<div class="line"><span class="lineno">  705</span>        free(ps-&gt;raddr);</div>
<div class="line"><span class="lineno">  706</span>        ps-&gt;raddr = NULL;</div>
<div class="line"><span class="lineno">  707</span>    }</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  710</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00206">pi_serial_device()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_a082168861487ef5684d9283b1b77d31a_icgraph.png" border="0" usemap="#aserial_8c_a082168861487ef5684d9283b1b77d31a_icgraph" alt=""/></div>
<map name="aserial_8c_a082168861487ef5684d9283b1b77d31a_icgraph" id="aserial_8c_a082168861487ef5684d9283b1b77d31a_icgraph">
<area shape="rect" title=" " alt="" coords="1140,242,1247,268"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a10ceb871749f334daf436760d389a238" name="a10ceb871749f334daf436760d389a238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10ceb871749f334daf436760d389a238">&#9670;&#160;</a></span>pi_serial_connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_serial_connect </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>addrlen</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  268</span>{</div>
<div class="line"><span class="lineno">  269</span>    <span class="keyword">struct  </span>pi_serial_data *data =</div>
<div class="line"><span class="lineno">  270</span>        (<span class="keyword">struct </span>pi_serial_data *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  271</span>    <span class="keyword">struct  </span>pi_sockaddr *pa = (<span class="keyword">struct </span>pi_sockaddr *) addr;</div>
<div class="line"><span class="lineno">  272</span>    <span class="keywordtype">int</span> err;</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_STREAM) {</div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">if</span> (ps-&gt;protocol == PI_PF_SYS) {</div>
<div class="line"><span class="lineno">  276</span>            data-&gt;establishrate = data-&gt;rate = 57600;</div>
<div class="line"><span class="lineno">  277</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  278</span>            <span class="keywordflow">if</span> (data-&gt;establishrate == -1)</div>
<div class="line"><span class="lineno">  279</span>                <a class="code hl_function" href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f">get_pilot_rate</a>(&amp;data-&gt;establishrate, &amp;data-&gt;establishhighrate);</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>            <span class="comment">/* Mandatory CMP connection rate */</span></div>
<div class="line"><span class="lineno">  282</span>            data-&gt;rate = 9600;</div>
<div class="line"><span class="lineno">  283</span>        }</div>
<div class="line"><span class="lineno">  284</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_RAW) {</div>
<div class="line"><span class="lineno">  285</span>        <span class="comment">/* Mandatory SysPkt connection rate */</span></div>
<div class="line"><span class="lineno">  286</span>        data-&gt;establishrate = data-&gt;rate = 57600;</div>
<div class="line"><span class="lineno">  287</span>    }</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">if</span> ((err = data-&gt;impl.open(ps, pa, addrlen)) &lt; 0)</div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">return</span> err; <span class="comment">/* errno already set */</span></div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>    ps-&gt;raddr   = malloc(addrlen);</div>
<div class="line"><span class="lineno">  293</span>    memcpy(ps-&gt;raddr, addr, addrlen);</div>
<div class="line"><span class="lineno">  294</span>    ps-&gt;raddrlen    = addrlen;</div>
<div class="line"><span class="lineno">  295</span>    ps-&gt;laddr   = malloc(addrlen);</div>
<div class="line"><span class="lineno">  296</span>    memcpy(ps-&gt;laddr, addr, addrlen);</div>
<div class="line"><span class="lineno">  297</span>    ps-&gt;laddrlen    = addrlen;</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">if</span> (ps-&gt;type == PI_SOCK_STREAM) {</div>
<div class="line"><span class="lineno">  300</span>        <span class="keywordtype">size_t</span>  <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>;</div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">switch</span> (ps-&gt;cmd) {</div>
<div class="line"><span class="lineno">  302</span>            <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#ab798fd804bcbcac8aa988c4c28e62a5c">PI_CMD_CMP</a>:</div>
<div class="line"><span class="lineno">  303</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10">cmp_tx_handshake</a>(ps) &lt; 0)</div>
<div class="line"><span class="lineno">  304</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>                <a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> = <span class="keyword">sizeof</span>(data-&gt;rate);</div>
<div class="line"><span class="lineno">  307</span>                <a class="code hl_function" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5">pi_getsockopt</a>(ps-&gt;sd, PI_LEVEL_CMP, PI_CMP_BAUD,</div>
<div class="line"><span class="lineno">  308</span>                        &amp;data-&gt;rate, &amp;<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>                <span class="keywordflow">if</span> ((err = data-&gt;impl.changebaud(ps)) &lt; 0)</div>
<div class="line"><span class="lineno">  311</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  312</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  313</span>                </div>
<div class="line"><span class="lineno">  314</span>            <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#ad2643f2a338ea48319d16bed48fbc5d4">PI_CMD_NET</a>:</div>
<div class="line"><span class="lineno">  315</span>                <span class="keywordflow">if</span> ((err = data-&gt;impl.changebaud(ps)) &lt; 0)</div>
<div class="line"><span class="lineno">  316</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  317</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  318</span>                </div>
<div class="line"><span class="lineno">  319</span>            <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a09d171abbc4a5de05aa246413c7761c5">PI_CMD_SYS</a>:</div>
<div class="line"><span class="lineno">  320</span>                <span class="keywordflow">if</span> ((err = data-&gt;impl.changebaud(ps)) &lt; 0)</div>
<div class="line"><span class="lineno">  321</span>                    <span class="keywordflow">goto</span> <a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>;</div>
<div class="line"><span class="lineno">  322</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  323</span>        }</div>
<div class="line"><span class="lineno">  324</span>    }</div>
<div class="line"><span class="lineno">  325</span>    ps-&gt;state = PI_SOCK_CONN_INIT;</div>
<div class="line"><span class="lineno">  326</span>    ps-&gt;command = 0;</div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span><a class="code hl_function" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd">fail</a>:</div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  331</span>}</div>
<div class="ttc" id="acmp_8c_html_a5e3c72b736be2b8d827902975ce79d10"><div class="ttname"><a href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10">cmp_tx_handshake</a></div><div class="ttdeci">int cmp_tx_handshake(pi_socket_t *ps)</div><div class="ttdef"><b>Definition</b> cmp.c:252</div></div>
<div class="ttc" id="anamespacepisock_html_a09d171abbc4a5de05aa246413c7761c5"><div class="ttname"><a href="namespacepisock.html#a09d171abbc4a5de05aa246413c7761c5">pisock.PI_CMD_SYS</a></div><div class="ttdeci">PI_CMD_SYS</div><div class="ttdef"><b>Definition</b> pisock.py:71</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00252">cmp_tx_handshake()</a>, <a class="el" href="#l00435">fail()</a>, <a class="el" href="#l00078">get_pilot_rate()</a>, <a class="el" href="#l01151">pi_getsockopt()</a>, and <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00206">pi_serial_device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_a10ceb871749f334daf436760d389a238_cgraph.png" border="0" usemap="#aserial_8c_a10ceb871749f334daf436760d389a238_cgraph" alt=""/></div>
<map name="aserial_8c_a10ceb871749f334daf436760d389a238_cgraph" id="aserial_8c_a10ceb871749f334daf436760d389a238_cgraph">
<area shape="rect" title=" " alt="" coords="5,181,128,207"/>
<area shape="rect" href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10" title=" " alt="" coords="176,156,310,182"/>
<area shape="poly" title=" " alt="" coords="128,183,160,178,161,183,128,188"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="224,205,262,231"/>
<area shape="poly" title=" " alt="" coords="128,200,208,211,208,216,128,205"/>
<area shape="rect" href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f" title=" " alt="" coords="193,255,292,280"/>
<area shape="poly" title=" " alt="" coords="97,205,177,241,190,246,188,251,175,246,94,210"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="624,5,726,31"/>
<area shape="poly" title=" " alt="" coords="91,178,175,141,293,103,412,71,608,28,609,33,413,76,294,108,177,146,94,183"/>
<area shape="rect" href="cmp_8c.html#acc715b624e23e1384e4b66c7c66ed93f" title=" " alt="" coords="504,207,569,232"/>
<area shape="poly" title=" " alt="" coords="301,180,358,192,489,211,488,217,358,197,300,185"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="633,55,717,80"/>
<area shape="poly" title=" " alt="" coords="293,153,504,100,617,76,618,81,505,105,294,158"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="821,205,910,231"/>
<area shape="poly" title=" " alt="" coords="287,180,311,190,360,218,399,247,461,302,491,328,525,352,566,374,618,393,650,402,676,407,702,405,732,393,751,373,782,333,845,242,850,245,787,336,755,377,734,398,703,410,676,412,649,408,616,398,563,379,522,357,488,332,458,306,396,251,357,223,309,195,284,185"/>
<area shape="rect" href="cmp_8c.html#a9e820941b251af7a76e0d0962f5146a5" title=" " alt="" coords="358,156,456,182"/>
<area shape="poly" title=" " alt="" coords="310,166,343,166,343,172,310,172"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="632,205,718,231"/>
<area shape="poly" title=" " alt="" coords="569,217,617,216,617,221,569,222"/>
<area shape="poly" title=" " alt="" coords="556,204,567,194,582,166,588,141,596,116,615,90,618,87,621,91,619,93,601,118,593,143,587,168,571,197,560,208"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="617,357,733,383"/>
<area shape="poly" title=" " alt="" coords="552,231,654,344,650,348,548,235"/>
<area shape="poly" title=" " alt="" coords="570,229,617,241,666,245,716,243,805,230,806,235,717,248,666,250,616,246,569,234"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="998,155,1104,180"/>
<area shape="poly" title=" " alt="" coords="717,61,766,60,825,63,889,71,951,89,994,113,1028,142,1025,146,991,118,949,94,888,77,825,68,766,66,717,67"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="797,104,934,130"/>
<area shape="poly" title=" " alt="" coords="718,76,799,97,798,102,717,81"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1159,105,1264,131"/>
<area shape="poly" title=" " alt="" coords="1095,151,1152,134,1153,139,1096,157"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1152,155,1271,180"/>
<area shape="poly" title=" " alt="" coords="1104,165,1136,165,1136,170,1104,170"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1168,204,1255,230"/>
<area shape="poly" title=" " alt="" coords="1096,178,1154,197,1153,202,1095,184"/>
<area shape="poly" title=" " alt="" coords="711,354,819,308,885,277,949,241,988,215,1022,188,1025,192,991,219,952,246,887,281,822,313,713,359"/>
<area shape="rect" href="socket_8c.html#af71c99cb810ee32e115acfeebcc4fdcd" title=" " alt="" coords="781,357,950,383"/>
<area shape="poly" title=" " alt="" coords="734,368,765,368,765,373,734,373"/>
<area shape="poly" title=" " alt="" coords="910,203,986,182,987,188,911,209"/>
<area shape="poly" title=" " alt="" coords="443,153,623,84,625,89,445,158"/>
<area shape="poly" title=" " alt="" coords="422,180,457,213,480,230,505,242,545,254,586,260,669,260,747,249,810,233,812,238,748,254,669,266,585,266,544,259,503,247,477,234,453,217,418,184"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="504,157,569,183"/>
<area shape="poly" title=" " alt="" coords="457,167,489,167,489,172,457,172"/>
<area shape="poly" title=" " alt="" coords="570,179,622,197,620,202,568,184"/>
<area shape="poly" title=" " alt="" coords="549,155,615,89,622,85,625,90,618,94,552,159"/>
<area shape="poly" title=" " alt="" coords="559,181,571,192,600,231,626,271,664,342,659,344,622,274,596,234,567,196,555,185"/>
<area shape="poly" title=" " alt="" coords="569,170,733,190,806,203,805,208,733,195,569,176"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="624,104,726,130"/>
<area shape="poly" title=" " alt="" coords="568,155,625,133,627,138,570,160"/>
<area shape="poly" title=" " alt="" coords="726,128,781,140,887,153,983,161,983,167,887,159,781,145,725,133"/>
<area shape="poly" title=" " alt="" coords="727,114,782,114,782,120,727,120"/>
<area shape="poly" title=" " alt="" coords="703,128,735,147,758,166,782,184,809,197,807,201,780,188,755,170,731,151,700,132"/>
<area shape="poly" title=" " alt="" coords="726,13,776,15,834,21,894,34,952,57,978,75,1001,96,1036,140,1031,143,997,100,974,79,949,62,893,39,833,26,775,20,726,19"/>
<area shape="poly" title=" " alt="" coords="711,29,734,40,831,93,828,98,732,45,708,34"/>
<area shape="poly" title=" " alt="" coords="720,29,735,40,754,65,762,89,769,114,783,141,809,169,836,194,832,197,805,173,779,144,764,116,757,91,749,68,731,44,717,34"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_a10ceb871749f334daf436760d389a238_icgraph.png" border="0" usemap="#aserial_8c_a10ceb871749f334daf436760d389a238_icgraph" alt=""/></div>
<map name="aserial_8c_a10ceb871749f334daf436760d389a238_icgraph" id="aserial_8c_a10ceb871749f334daf436760d389a238_icgraph">
<area shape="rect" title=" " alt="" coords="1140,242,1262,268"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="ae73e19d76cbb99f66343c25eef4f73eb" name="ae73e19d76cbb99f66343c25eef4f73eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae73e19d76cbb99f66343c25eef4f73eb">&#9670;&#160;</a></span>pi_serial_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pi_device_t * pi_serial_device </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  207</span>{</div>
<div class="line"><span class="lineno">  208</span>    pi_device_t *dev;</div>
<div class="line"><span class="lineno">  209</span>    <span class="keyword">struct  </span>pi_serial_data *data;</div>
<div class="line"><span class="lineno">  210</span>    </div>
<div class="line"><span class="lineno">  211</span>    dev = (pi_device_t *) malloc(<span class="keyword">sizeof</span> (pi_device_t));</div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">if</span> (dev == NULL)</div>
<div class="line"><span class="lineno">  213</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>    data = (<span class="keyword">struct </span>pi_serial_data *) malloc(<span class="keyword">sizeof</span> (<span class="keyword">struct</span> pi_serial_data));</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">if</span> (data == NULL) {</div>
<div class="line"><span class="lineno">  217</span>        free(dev);</div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  219</span>    }</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>    dev-&gt;free   = <a class="code hl_function" href="#a0401a1378dad63c55a477de5fd72e7a1">pi_serial_device_free</a>;</div>
<div class="line"><span class="lineno">  222</span>    dev-&gt;protocol   = <a class="code hl_function" href="#a85853ffdd086cbc2223a5ac6f9071d97">pi_serial_protocol</a>;   </div>
<div class="line"><span class="lineno">  223</span>    dev-&gt;bind   = <a class="code hl_function" href="#ab631a24dcc9892032dd4f5c6252c76d0">pi_serial_bind</a>;</div>
<div class="line"><span class="lineno">  224</span>    dev-&gt;listen     = <a class="code hl_function" href="#adbd8210e25d9f04a3541a53df4eeb8bc">pi_serial_listen</a>;</div>
<div class="line"><span class="lineno">  225</span>    dev-&gt;accept     = <a class="code hl_function" href="#afd1f0015559a46379c5a5302589450fa">pi_serial_accept</a>;</div>
<div class="line"><span class="lineno">  226</span>    dev-&gt;connect    = <a class="code hl_function" href="#a10ceb871749f334daf436760d389a238">pi_serial_connect</a>;</div>
<div class="line"><span class="lineno">  227</span>    dev-&gt;close  = <a class="code hl_function" href="#a082168861487ef5684d9283b1b77d31a">pi_serial_close</a>;</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">switch</span> (type) {</div>
<div class="line"><span class="lineno">  230</span>        <span class="keywordflow">case</span> PI_SERIAL_DEV:</div>
<div class="line"><span class="lineno">  231</span>            <a class="code hl_function" href="unixserial_8c.html#a19d89643047863920e99b35b183eea50">pi_serial_impl_init</a> (&amp;data-&gt;impl);</div>
<div class="line"><span class="lineno">  232</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  234</span>            <a class="code hl_function" href="unixserial_8c.html#a19d89643047863920e99b35b183eea50">pi_serial_impl_init</a> (&amp;data-&gt;impl);</div>
<div class="line"><span class="lineno">  235</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  236</span>    }</div>
<div class="line"><span class="lineno">  237</span>    </div>
<div class="line"><span class="lineno">  238</span>    data-&gt;buf_size      = 0;</div>
<div class="line"><span class="lineno">  239</span>    data-&gt;rate      = -1;</div>
<div class="line"><span class="lineno">  240</span>    data-&gt;establishrate     = -1;</div>
<div class="line"><span class="lineno">  241</span>    data-&gt;establishhighrate = -1;</div>
<div class="line"><span class="lineno">  242</span>    data-&gt;timeout       = 0;</div>
<div class="line"><span class="lineno">  243</span>    data-&gt;rx_bytes      = 0;</div>
<div class="line"><span class="lineno">  244</span>    data-&gt;rx_errors     = 0;</div>
<div class="line"><span class="lineno">  245</span>    data-&gt;tx_bytes      = 0;</div>
<div class="line"><span class="lineno">  246</span>    data-&gt;tx_errors     = 0;</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>    dev-&gt;data       = data;</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">return</span> dev;</div>
<div class="line"><span class="lineno">  251</span>}</div>
<div class="ttc" id="aserial_8c_html_a0401a1378dad63c55a477de5fd72e7a1"><div class="ttname"><a href="#a0401a1378dad63c55a477de5fd72e7a1">pi_serial_device_free</a></div><div class="ttdeci">static void pi_serial_device_free(pi_device_t *dev)</div><div class="ttdef"><b>Definition</b> serial.c:185</div></div>
<div class="ttc" id="aserial_8c_html_a082168861487ef5684d9283b1b77d31a"><div class="ttname"><a href="#a082168861487ef5684d9283b1b77d31a">pi_serial_close</a></div><div class="ttdeci">static int pi_serial_close(pi_socket_t *ps)</div><div class="ttdef"><b>Definition</b> serial.c:689</div></div>
<div class="ttc" id="aserial_8c_html_a10ceb871749f334daf436760d389a238"><div class="ttname"><a href="#a10ceb871749f334daf436760d389a238">pi_serial_connect</a></div><div class="ttdeci">static int pi_serial_connect(pi_socket_t *ps, struct sockaddr *addr, size_t addrlen)</div><div class="ttdef"><b>Definition</b> serial.c:266</div></div>
<div class="ttc" id="aserial_8c_html_a85853ffdd086cbc2223a5ac6f9071d97"><div class="ttname"><a href="#a85853ffdd086cbc2223a5ac6f9071d97">pi_serial_protocol</a></div><div class="ttdeci">static pi_protocol_t * pi_serial_protocol(pi_device_t *dev)</div><div class="ttdef"><b>Definition</b> serial.c:145</div></div>
<div class="ttc" id="aserial_8c_html_ab631a24dcc9892032dd4f5c6252c76d0"><div class="ttname"><a href="#ab631a24dcc9892032dd4f5c6252c76d0">pi_serial_bind</a></div><div class="ttdeci">static int pi_serial_bind(pi_socket_t *ps, struct sockaddr *addr, size_t addrlen)</div><div class="ttdef"><b>Definition</b> serial.c:346</div></div>
<div class="ttc" id="aserial_8c_html_adbd8210e25d9f04a3541a53df4eeb8bc"><div class="ttname"><a href="#adbd8210e25d9f04a3541a53df4eeb8bc">pi_serial_listen</a></div><div class="ttdeci">static int pi_serial_listen(pi_socket_t *ps, int backlog)</div><div class="ttdef"><b>Definition</b> serial.c:443</div></div>
<div class="ttc" id="aserial_8c_html_afd1f0015559a46379c5a5302589450fa"><div class="ttname"><a href="#afd1f0015559a46379c5a5302589450fa">pi_serial_accept</a></div><div class="ttdeci">static int pi_serial_accept(pi_socket_t *ps, struct sockaddr *addr, size_t *addrlen)</div><div class="ttdef"><b>Definition</b> serial.c:469</div></div>
<div class="ttc" id="aunixserial_8c_html_a19d89643047863920e99b35b183eea50"><div class="ttname"><a href="unixserial_8c.html#a19d89643047863920e99b35b183eea50">pi_serial_impl_init</a></div><div class="ttdeci">void pi_serial_impl_init(struct pi_serial_impl *impl)</div><div class="ttdef"><b>Definition</b> unixserial.c:625</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00469">pi_serial_accept()</a>, <a class="el" href="#l00346">pi_serial_bind()</a>, <a class="el" href="#l00689">pi_serial_close()</a>, <a class="el" href="#l00266">pi_serial_connect()</a>, <a class="el" href="#l00185">pi_serial_device_free()</a>, <a class="el" href="#l00625">pi_serial_impl_init()</a>, <a class="el" href="#l00443">pi_serial_listen()</a>, and <a class="el" href="#l00145">pi_serial_protocol()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01021">pi_devsocket()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_ae73e19d76cbb99f66343c25eef4f73eb_cgraph.png" border="0" usemap="#aserial_8c_ae73e19d76cbb99f66343c25eef4f73eb_cgraph" alt=""/></div>
<map name="aserial_8c_ae73e19d76cbb99f66343c25eef4f73eb_cgraph" id="aserial_8c_ae73e19d76cbb99f66343c25eef4f73eb_cgraph">
<area shape="rect" title=" " alt="" coords="5,1112,120,1138"/>
<area shape="rect" href="serial_8c.html#afd1f0015559a46379c5a5302589450fa" title=" " alt="" coords="182,1087,297,1112"/>
<area shape="poly" title=" " alt="" coords="120,1114,166,1107,167,1113,120,1119"/>
<area shape="rect" href="serial_8c.html#ab631a24dcc9892032dd4f5c6252c76d0" title=" " alt="" coords="189,1413,290,1439"/>
<area shape="poly" title=" " alt="" coords="74,1137,225,1399,221,1401,69,1140"/>
<area shape="rect" href="serial_8c.html#a082168861487ef5684d9283b1b77d31a" title=" " alt="" coords="186,1037,293,1063"/>
<area shape="poly" title=" " alt="" coords="88,1109,167,1072,181,1066,182,1071,169,1077,90,1114"/>
<area shape="rect" href="serial_8c.html#a10ceb871749f334daf436760d389a238" title=" " alt="" coords="178,1213,300,1239"/>
<area shape="poly" title=" " alt="" coords="88,1136,203,1203,201,1208,86,1141"/>
<area shape="rect" href="serial_8c.html#a0401a1378dad63c55a477de5fd72e7a1" title=" " alt="" coords="168,1136,311,1162"/>
<area shape="poly" title=" " alt="" coords="120,1130,153,1134,152,1140,120,1135"/>
<area shape="rect" href="unixserial_8c.html#a19d89643047863920e99b35b183eea50" title=" " alt="" coords="543,379,667,404"/>
<area shape="poly" title=" " alt="" coords="67,1110,102,1029,165,898,252,745,302,668,357,596,410,539,469,487,569,411,572,415,472,491,414,543,361,600,307,671,256,748,170,901,107,1032,72,1113"/>
<area shape="rect" href="serial_8c.html#adbd8210e25d9f04a3541a53df4eeb8bc" title=" " alt="" coords="186,1263,293,1288"/>
<area shape="poly" title=" " alt="" coords="73,1136,110,1191,137,1222,169,1249,176,1253,173,1258,166,1254,134,1226,106,1194,69,1139"/>
<area shape="rect" href="serial_8c.html#a85853ffdd086cbc2223a5ac6f9071d97" title=" " alt="" coords="717,104,839,130"/>
<area shape="poly" title=" " alt="" coords="63,1111,73,1053,92,964,123,861,142,808,165,758,229,650,305,548,388,452,473,365,556,289,632,224,744,137,747,141,635,228,559,293,477,369,392,456,309,551,234,653,170,761,147,810,128,862,97,966,78,1054,68,1112"/>
<area shape="rect" href="cmp_8c.html#a94b2861d069ea313208312a38d02644c" title=" " alt="" coords="359,1087,493,1112"/>
<area shape="poly" title=" " alt="" coords="297,1097,344,1097,344,1102,297,1102"/>
<area shape="rect" href="socket_8c.html#ac046ff247e07d169f5445f2343a06da3" title=" " alt="" coords="912,1313,1014,1339"/>
<area shape="poly" title=" " alt="" coords="296,1110,389,1137,494,1173,542,1197,638,1232,734,1263,897,1308,896,1313,733,1268,636,1237,540,1202,492,1178,388,1142,294,1115"/>
<area shape="rect" href="pilot-read-palmpix_8c.html#a0d1b4ddc8dbaeec0961a8c824afd9ebd" title=" " alt="" coords="407,1188,445,1214"/>
<area shape="poly" title=" " alt="" coords="290,1111,312,1121,328,1133,337,1144,361,1167,394,1185,392,1190,357,1171,333,1147,324,1137,310,1126,288,1115"/>
<area shape="rect" href="net_8c.html#a228af3513fa40c477512b1d69eea2112" title=" " alt="" coords="541,857,669,883"/>
<area shape="poly" title=" " alt="" coords="294,1083,414,1051,465,1034,492,1021,504,1007,511,993,516,964,521,933,528,917,539,900,552,889,556,893,543,904,532,919,526,934,521,965,516,995,508,1010,495,1026,467,1039,415,1056,295,1089"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="912,657,1014,683"/>
<area shape="poly" title=" " alt="" coords="294,1084,309,1074,328,1050,336,1026,342,1001,357,971,399,912,436,868,479,830,540,791,585,767,632,746,729,713,820,691,896,676,897,682,821,696,730,718,634,751,587,772,543,795,482,834,440,871,403,915,361,974,347,1002,341,1028,333,1052,313,1077,296,1088"/>
<area shape="rect" href="socket_8c.html#af67584512ce1964be95668c7a37d7c34" title=" " alt="" coords="376,985,477,1011"/>
<area shape="poly" title=" " alt="" coords="288,1084,310,1073,324,1062,333,1052,357,1028,377,1016,380,1021,361,1032,337,1055,328,1066,312,1078,290,1088"/>
<area shape="rect" href="cmp_8c.html#adc9c309853f9ac66577cf0966a372260" title=" " alt="" coords="564,1161,646,1187"/>
<area shape="poly" title=" " alt="" coords="457,1110,542,1148,555,1153,553,1158,540,1153,455,1115"/>
<area shape="rect" href="socket_8c.html#a0d734c11092254f751f06eda9d35d7b3" title=" " alt="" coords="920,1364,1005,1390"/>
<area shape="poly" title=" " alt="" coords="444,1111,543,1197,608,1249,671,1303,684,1319,693,1334,702,1346,718,1357,764,1374,814,1382,862,1384,905,1382,905,1387,862,1389,813,1387,763,1379,715,1362,698,1350,688,1337,680,1322,667,1307,604,1253,540,1202,441,1115"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1110,859,1200,884"/>
<area shape="poly" title=" " alt="" coords="494,1097,624,1093,784,1083,862,1075,934,1064,994,1050,1037,1032,1073,1003,1102,967,1125,930,1141,897,1145,900,1130,933,1107,970,1077,1007,1040,1036,995,1055,935,1069,863,1080,784,1089,625,1098,494,1102"/>
<area shape="rect" href="cmp_8c.html#a11606925c41885b1bca65ab8c44adc30" title=" " alt="" coords="570,1112,640,1138"/>
<area shape="poly" title=" " alt="" coords="494,1106,555,1115,554,1120,493,1112"/>
<area shape="rect" href="cmp_8c.html#acc715b624e23e1384e4b66c7c66ed93f" title=" " alt="" coords="746,1465,810,1491"/>
<area shape="poly" title=" " alt="" coords="442,1111,495,1174,543,1242,624,1350,662,1394,718,1444,735,1455,732,1460,715,1448,658,1398,620,1354,539,1245,491,1177,438,1114"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="912,808,1013,834"/>
<area shape="poly" title=" " alt="" coords="462,1084,492,1070,556,1037,605,1009,715,944,920,838,922,843,718,949,607,1013,559,1042,494,1075,464,1089"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="912,759,1014,784"/>
<area shape="poly" title=" " alt="" coords="440,1085,466,1057,491,1022,501,997,506,973,507,928,508,907,512,886,522,865,539,843,579,812,623,789,670,773,719,763,815,756,896,760,896,765,815,761,720,768,672,778,625,794,582,817,543,847,526,867,517,887,513,908,512,928,511,973,507,998,496,1025,470,1061,444,1088"/>
<area shape="rect" href="cmp_8c.html#a323b204b884996c0557dc213c6ee4f43" title=" " alt="" coords="746,1212,810,1238"/>
<area shape="poly" title=" " alt="" coords="647,1184,732,1209,730,1214,646,1189"/>
<area shape="poly" title=" " alt="" coords="643,1185,671,1204,687,1228,694,1250,702,1271,718,1292,763,1322,812,1343,861,1358,906,1367,904,1372,860,1363,810,1348,760,1326,715,1296,697,1274,689,1252,682,1230,667,1208,640,1190"/>
<area shape="poly" title=" " alt="" coords="647,1174,739,1179,855,1179,964,1170,1007,1160,1037,1147,1065,1122,1088,1092,1107,1058,1121,1023,1140,955,1149,900,1154,901,1145,956,1126,1025,1111,1061,1093,1095,1069,1125,1040,1151,1008,1165,965,1175,855,1184,739,1184,646,1180"/>
<area shape="rect" href="cmp_8c.html#ae23bcd05a6108067dc8b3abff2ba7f41" title=" " alt="" coords="920,1413,1005,1439"/>
<area shape="poly" title=" " alt="" coords="786,1237,799,1270,820,1314,850,1360,889,1400,906,1411,904,1415,885,1404,846,1364,816,1317,794,1272,781,1239"/>
<area shape="poly" title=" " alt="" coords="812,1235,841,1255,858,1280,865,1304,871,1327,889,1350,907,1361,905,1366,885,1353,867,1330,859,1306,853,1283,837,1259,809,1239"/>
<area shape="rect" href="socket_8c.html#a8fe4e2f277f57446a40cc3ccf20dd368" title=" " alt="" coords="904,1212,1021,1238"/>
<area shape="poly" title=" " alt="" coords="810,1222,889,1222,889,1228,810,1228"/>
<area shape="poly" title=" " alt="" coords="807,1236,855,1255,916,1270,948,1273,979,1271,1009,1263,1037,1248,1057,1225,1076,1187,1093,1141,1108,1088,1132,982,1147,899,1152,900,1138,983,1113,1090,1098,1142,1081,1190,1061,1228,1040,1252,1011,1268,980,1276,948,1278,915,1275,853,1260,805,1241"/>
<area shape="poly" title=" " alt="" coords="808,1236,841,1255,864,1274,888,1292,913,1304,910,1309,886,1296,861,1278,837,1259,805,1241"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1272,1212,1377,1238"/>
<area shape="poly" title=" " alt="" coords="1005,1376,1052,1374,1108,1368,1167,1355,1222,1332,1248,1314,1270,1293,1305,1249,1309,1253,1274,1297,1251,1319,1225,1337,1168,1360,1109,1373,1052,1379,1005,1381"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1086,1263,1224,1288"/>
<area shape="poly" title=" " alt="" coords="1004,1362,1037,1349,1083,1323,1123,1296,1126,1300,1086,1327,1039,1354,1006,1367"/>
<area shape="poly" title=" " alt="" coords="1021,1222,1256,1222,1256,1228,1021,1228"/>
<area shape="poly" title=" " alt="" coords="1165,884,1313,1197,1308,1199,1160,886"/>
<area shape="poly" title=" " alt="" coords="1014,1327,1113,1323,1169,1314,1223,1298,1264,1275,1298,1246,1302,1250,1267,1279,1225,1303,1170,1320,1114,1328,1014,1332"/>
<area shape="poly" title=" " alt="" coords="1014,1310,1088,1290,1090,1295,1015,1315"/>
<area shape="poly" title=" " alt="" coords="1011,1311,1036,1292,1070,1245,1097,1192,1117,1136,1132,1080,1147,976,1151,900,1157,900,1153,977,1137,1081,1122,1138,1102,1194,1075,1248,1040,1296,1014,1315"/>
<area shape="poly" title=" " alt="" coords="642,1134,670,1146,713,1173,750,1200,747,1204,710,1177,667,1151,640,1139"/>
<area shape="poly" title=" " alt="" coords="642,1131,670,1147,689,1173,696,1198,702,1223,719,1248,748,1270,776,1279,806,1287,841,1304,865,1327,874,1338,888,1349,907,1359,905,1363,886,1354,870,1342,861,1331,837,1308,804,1292,774,1284,746,1274,715,1252,697,1225,690,1200,684,1175,667,1151,639,1135"/>
<area shape="poly" title=" " alt="" coords="641,1130,718,1142,822,1146,877,1142,933,1132,987,1115,1037,1089,1060,1070,1080,1048,1112,996,1133,943,1145,899,1151,901,1138,945,1117,998,1085,1051,1064,1074,1040,1094,989,1120,935,1138,878,1148,822,1152,718,1147,640,1135"/>
<area shape="poly" title=" " alt="" coords="810,1467,904,1440,906,1445,811,1472"/>
<area shape="poly" title=" " alt="" coords="807,1462,837,1444,861,1421,870,1410,886,1399,905,1389,907,1394,888,1403,874,1414,864,1425,841,1448,809,1467"/>
<area shape="poly" title=" " alt="" coords="783,1464,823,1392,885,1299,934,1247,937,1250,889,1302,828,1394,788,1466"/>
<area shape="poly" title=" " alt="" coords="811,1483,860,1490,921,1491,952,1488,983,1480,1011,1468,1036,1450,1054,1377,1087,1214,1146,899,1151,900,1092,1215,1060,1378,1041,1453,1014,1472,985,1485,953,1493,921,1497,860,1495,810,1488"/>
<area shape="poly" title=" " alt="" coords="624,855,665,828,715,801,799,765,837,753,886,744,966,726,1001,727,1040,744,1053,756,1061,769,1067,796,1071,824,1077,837,1088,850,1097,856,1094,860,1085,853,1073,840,1066,825,1061,797,1056,771,1049,759,1037,748,1000,732,967,731,888,749,838,758,800,770,718,806,668,833,627,859"/>
<area shape="poly" title=" " alt="" coords="669,859,839,836,896,827,897,833,839,841,669,864"/>
<area shape="poly" title=" " alt="" coords="651,854,716,836,896,786,897,791,717,841,653,859"/>
<area shape="rect" href="net_8c.html#a6c20ece547e720eec693b02b39774c8b" title=" " alt="" coords="749,959,806,984"/>
<area shape="poly" title=" " alt="" coords="630,881,743,948,740,953,628,886"/>
<area shape="rect" href="net_8c.html#a1670601987b6494055bea1a75938955e" title=" " alt="" coords="749,1009,806,1035"/>
<area shape="poly" title=" " alt="" coords="617,882,657,935,686,967,718,995,736,1005,734,1010,715,999,682,971,653,939,613,885"/>
<area shape="poly" title=" " alt="" coords="808,974,826,982,841,995,857,1019,867,1043,876,1088,873,1133,864,1176,856,1219,853,1262,862,1305,873,1327,889,1350,907,1364,904,1368,885,1353,869,1330,857,1307,848,1262,850,1218,859,1175,867,1132,870,1088,862,1044,852,1022,837,999,823,987,806,979"/>
<area shape="poly" title=" " alt="" coords="808,976,825,984,841,995,883,1044,916,1099,940,1153,956,1196,951,1198,935,1155,911,1102,879,1047,837,999,822,989,806,981"/>
<area shape="poly" title=" " alt="" coords="805,956,837,937,860,914,870,904,886,894,939,877,995,867,1048,864,1095,864,1095,870,1048,869,995,873,940,882,888,899,873,908,864,918,841,942,808,961"/>
<area shape="poly" title=" " alt="" coords="808,975,826,982,841,995,862,1028,872,1059,874,1089,873,1119,870,1180,875,1213,889,1249,910,1278,934,1302,930,1306,906,1281,885,1251,870,1214,865,1180,867,1119,869,1089,867,1060,857,1030,837,999,823,987,806,980"/>
<area shape="poly" title=" " alt="" coords="805,959,837,938,853,916,860,895,868,873,885,851,902,839,905,843,889,855,872,876,865,897,858,918,841,941,808,963"/>
<area shape="poly" title=" " alt="" coords="781,957,794,924,816,880,846,834,885,793,896,786,899,791,889,798,850,837,820,883,799,926,786,959"/>
<area shape="rect" href="net_8c.html#aa1aa11043c32d2b6ea7a60cadadccb94" title=" " alt="" coords="924,909,1002,935"/>
<area shape="poly" title=" " alt="" coords="806,961,908,934,909,939,808,967"/>
<area shape="rect" href="net_8c.html#a8bd2d98d388794603edc8c3ba56e7f85" title=" " alt="" coords="900,959,1025,984"/>
<area shape="poly" title=" " alt="" coords="807,969,885,969,885,974,807,974"/>
<area shape="poly" title=" " alt="" coords="781,958,818,866,848,804,885,745,908,716,932,692,936,696,912,720,889,748,853,807,823,868,786,959"/>
<area shape="poly" title=" " alt="" coords="1000,681,1052,705,1113,740,1175,786,1202,814,1226,845,1252,890,1273,939,1302,1039,1318,1130,1324,1196,1319,1197,1313,1130,1297,1040,1268,941,1247,893,1221,848,1198,818,1171,790,1110,744,1049,709,998,686"/>
<area shape="poly" title=" " alt="" coords="983,681,1013,708,1041,745,1059,789,1077,848,1109,994,1136,1141,1152,1247,1147,1248,1130,1141,1104,995,1071,849,1054,790,1036,747,1009,712,980,685"/>
<area shape="poly" title=" " alt="" coords="1008,681,1040,700,1084,759,1139,844,1135,847,1080,762,1037,704,1005,686"/>
<area shape="poly" title=" " alt="" coords="786,1035,842,1199,851,1244,855,1281,864,1315,874,1332,889,1350,908,1363,905,1367,885,1353,869,1335,859,1317,850,1282,846,1245,836,1200,781,1036"/>
<area shape="poly" title=" " alt="" coords="793,1034,941,1199,937,1202,789,1037"/>
<area shape="poly" title=" " alt="" coords="807,1023,853,1026,912,1025,976,1016,1008,1007,1037,994,1068,974,1096,948,1136,896,1140,899,1100,952,1072,978,1040,999,1009,1012,977,1021,913,1030,853,1031,807,1028"/>
<area shape="poly" title=" " alt="" coords="806,1012,898,986,899,992,808,1017"/>
<area shape="rect" href="utils_8c.html#a8ecab12c818c7bc5f3a89a33b68eef5f" title=" " alt="" coords="376,1515,476,1540"/>
<area shape="poly" title=" " alt="" coords="260,1437,304,1468,360,1501,371,1506,368,1511,358,1506,302,1473,257,1442"/>
<area shape="poly" title=" " alt="" coords="301,1215,391,1203,392,1208,301,1221"/>
<area shape="poly" title=" " alt="" coords="278,1237,326,1250,383,1256,413,1255,441,1250,468,1240,492,1224,512,1203,526,1182,534,1160,538,1138,536,1093,525,1046,513,997,507,947,508,921,513,896,523,869,539,843,563,820,599,797,695,753,803,714,897,685,899,690,805,719,697,758,602,802,567,824,543,846,528,872,518,897,513,922,512,947,518,996,530,1044,541,1092,543,1139,539,1162,530,1184,516,1206,495,1228,470,1245,443,1255,413,1261,383,1262,325,1255,277,1242"/>
<area shape="poly" title=" " alt="" coords="300,1238,313,1248,334,1281,342,1314,342,1346,338,1377,334,1408,333,1439,341,1470,361,1502,366,1506,362,1510,357,1505,336,1472,328,1440,328,1408,333,1376,337,1345,337,1314,329,1283,309,1252,296,1242"/>
<area shape="rect" href="cmp_8c.html#a5e3c72b736be2b8d827902975ce79d10" title=" " alt="" coords="359,1465,493,1491"/>
<area shape="poly" title=" " alt="" coords="296,1237,313,1248,335,1271,355,1297,386,1352,408,1406,421,1450,416,1451,403,1408,381,1354,350,1299,331,1274,309,1252,293,1242"/>
<area shape="poly" title=" " alt="" coords="494,1489,583,1504,684,1515,776,1517,812,1511,838,1501,850,1491,857,1480,862,1454,867,1426,874,1412,885,1399,904,1387,907,1391,889,1403,878,1415,872,1428,867,1455,862,1482,854,1494,840,1506,813,1516,776,1522,683,1520,582,1509,493,1494"/>
<area shape="poly" title=" " alt="" coords="479,1489,495,1500,507,1514,513,1528,518,1556,524,1581,531,1592,543,1603,611,1642,676,1671,738,1690,799,1696,858,1690,917,1671,977,1638,1036,1590,1054,1564,1065,1526,1072,1480,1076,1430,1079,1328,1084,1250,1146,899,1151,900,1089,1250,1084,1328,1082,1430,1078,1481,1070,1527,1058,1566,1040,1593,980,1642,919,1676,859,1695,799,1702,737,1695,674,1676,608,1647,540,1607,527,1596,519,1583,513,1557,508,1530,502,1517,492,1504,476,1494"/>
<area shape="poly" title=" " alt="" coords="494,1476,730,1476,730,1481,494,1481"/>
<area shape="rect" href="cmp_8c.html#a9e820941b251af7a76e0d0962f5146a5" title=" " alt="" coords="556,1567,654,1592"/>
<area shape="poly" title=" " alt="" coords="473,1489,495,1500,510,1511,520,1522,543,1545,562,1557,559,1562,540,1550,516,1526,506,1515,492,1504,471,1494"/>
<area shape="poly" title=" " alt="" coords="610,1565,761,1251,766,1253,615,1567"/>
<area shape="poly" title=" " alt="" coords="655,1584,698,1586,746,1582,795,1570,817,1559,837,1545,852,1529,859,1512,862,1476,864,1437,871,1418,885,1399,905,1386,908,1390,889,1403,875,1420,869,1439,867,1476,864,1513,856,1532,841,1550,820,1564,797,1575,747,1588,698,1591,654,1589"/>
<area shape="poly" title=" " alt="" coords="655,1586,741,1595,793,1595,847,1591,901,1581,952,1563,998,1537,1036,1500,1085,1243,1146,899,1151,900,1090,1244,1041,1502,1001,1541,954,1568,902,1586,848,1597,793,1601,741,1600,654,1591"/>
<area shape="rect" href="unixserial_8c.html#a6a66f5c915778aa6a23150f312172172" title=" " alt="" coords="725,304,830,330"/>
<area shape="poly" title=" " alt="" coords="633,376,716,338,727,334,729,338,718,343,635,381"/>
<area shape="rect" href="unixserial_8c.html#a0ba59d5f71b056b6d6215cd7f8eb7562" title=" " alt="" coords="745,205,811,231"/>
<area shape="poly" title=" " alt="" coords="610,377,649,313,679,274,715,240,729,231,732,236,718,244,683,278,653,316,615,380"/>
<area shape="rect" href="unixserial_8c.html#a37de89ad6ab361e7aa96c3eee7f0b3bd" title=" " alt="" coords="746,255,810,280"/>
<area shape="poly" title=" " alt="" coords="616,376,658,334,715,289,731,281,733,286,718,294,661,338,620,380"/>
<area shape="rect" href="unixserial_8c.html#a8191a2622c8fc6f8e77fa1d7b9393f3c" title=" " alt="" coords="746,353,810,379"/>
<area shape="poly" title=" " alt="" coords="667,380,731,370,731,376,668,385"/>
<area shape="rect" href="unixserial_8c.html#ac7f252dc5cbe5fd880003867f9d3ccd1" title=" " alt="" coords="750,404,806,430"/>
<area shape="poly" title=" " alt="" coords="668,398,735,408,734,413,667,403"/>
<area shape="rect" href="unixserial_8c.html#a6a8b54fac6ccac89ed93775eb13f6df1" title=" " alt="" coords="748,479,808,504"/>
<area shape="poly" title=" " alt="" coords="631,403,742,468,740,473,628,407"/>
<area shape="rect" href="unixserial_8c.html#a5b4f2bc38065020c3116d94d7a75e69c" title=" " alt="" coords="746,540,810,566"/>
<area shape="poly" title=" " alt="" coords="618,403,659,455,718,515,739,530,736,534,715,519,655,458,614,406"/>
<area shape="poly" title=" " alt="" coords="818,301,837,291,851,278,860,264,869,251,886,240,929,222,966,213,1002,218,1040,240,1057,259,1073,285,1098,353,1118,437,1132,529,1150,713,1156,843,1150,843,1144,713,1127,530,1113,438,1093,354,1068,287,1053,262,1037,244,1001,223,967,219,930,227,888,245,873,255,864,267,855,281,841,295,821,306"/>
<area shape="rect" href="unixserial_8c.html#a589a2ce610fc4aa2708a87169746daee" title=" " alt="" coords="929,304,996,330"/>
<area shape="poly" title=" " alt="" coords="831,314,913,314,913,320,831,320"/>
<area shape="rect" href="unixserial_8c.html#ad067eb8ca23ae3df5dc1eed536d37651" title=" " alt="" coords="920,255,1005,280"/>
<area shape="poly" title=" " alt="" coords="828,301,904,280,906,285,830,306"/>
<area shape="poly" title=" " alt="" coords="809,355,913,327,914,332,811,360"/>
<area shape="poly" title=" " alt="" coords="808,354,838,340,852,327,861,315,870,302,886,289,904,280,907,285,888,294,874,306,865,318,856,331,840,344,811,359"/>
<area shape="rect" href="socket_8c.html#a4557e5f8a78b0dc87549f63c7de71212" title=" " alt="" coords="904,353,1021,379"/>
<area shape="poly" title=" " alt="" coords="810,364,889,364,889,369,810,369"/>
<area shape="poly" title=" " alt="" coords="1015,378,1040,396,1062,432,1081,483,1114,612,1138,745,1153,843,1147,844,1133,745,1109,613,1076,485,1057,435,1036,400,1012,382"/>
<area shape="poly" title=" " alt="" coords="806,408,854,400,917,399,950,402,982,409,1013,422,1040,440,1063,470,1083,514,1101,569,1116,630,1140,751,1153,843,1148,844,1134,752,1111,631,1096,570,1078,516,1058,472,1037,444,1010,426,980,414,949,407,916,404,855,406,806,413"/>
<area shape="poly" title=" " alt="" coords="809,491,933,507,997,521,1022,531,1040,541,1071,575,1096,613,1116,655,1131,698,1149,780,1155,843,1150,843,1143,781,1126,699,1111,657,1092,616,1067,578,1037,546,1020,535,996,526,933,512,808,496"/>
<area shape="rect" href="pi-buffer_8c.html#aacd28fae920c743be86733c6ab3c1238" title=" " alt="" coords="904,455,1021,480"/>
<area shape="poly" title=" " alt="" coords="808,485,888,474,889,480,809,490"/>
<area shape="rect" href="unixserial_8c.html#a4da03184a9baf1cca6ac1eb831526d00" title=" " alt="" coords="920,556,1005,582"/>
<area shape="poly" title=" " alt="" coords="809,501,917,547,915,552,807,506"/>
<area shape="poly" title=" " alt="" coords="1007,578,1025,587,1040,599,1065,628,1086,659,1118,727,1140,792,1151,843,1146,844,1134,793,1113,729,1081,662,1061,631,1036,603,1022,591,1005,583"/>
<area shape="poly" title=" " alt="" coords="811,562,888,592,932,603,968,609,1003,618,1040,643,1062,665,1082,691,1114,745,1136,799,1149,843,1144,844,1131,801,1109,748,1078,693,1058,669,1037,647,1000,623,967,614,931,608,886,597,809,567"/>
<area shape="rect" href="serial_8c.html#ab75a8a1e52d10dbcbad17363335bf4c0" title=" " alt="" coords="892,55,1033,80"/>
<area shape="poly" title=" " alt="" coords="828,101,897,82,898,87,830,106"/>
<area shape="rect" href="serial_8c.html#a9bcde37a8062a4328fbf19af4cd3f5d4" title=" " alt="" coords="888,104,1038,130"/>
<area shape="poly" title=" " alt="" coords="839,114,872,114,872,120,839,120"/>
<area shape="rect" href="serial_8c.html#a49c8085defddea09dc0c734fbea69e33" title=" " alt="" coords="887,153,1038,179"/>
<area shape="poly" title=" " alt="" coords="830,128,898,146,897,151,828,133"/>
<area shape="rect" href="serial_8c.html#a3387de816ed7f5d42ad4cec7b5a51bc1" title=" " alt="" coords="892,5,1033,31"/>
<area shape="poly" title=" " alt="" coords="793,101,834,71,886,40,897,35,899,39,888,45,837,75,797,106"/>
<area shape="poly" title=" " alt="" coords="1027,79,1040,90,1058,117,1074,151,1100,240,1120,347,1135,464,1151,689,1156,843,1151,843,1146,690,1130,464,1115,348,1095,241,1069,153,1054,119,1036,93,1024,83"/>
<area shape="poly" title=" " alt="" coords="1027,29,1040,40,1059,69,1076,106,1103,201,1123,316,1138,440,1153,681,1156,843,1151,843,1147,681,1132,441,1118,317,1098,202,1071,108,1055,72,1036,44,1024,34"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_ae73e19d76cbb99f66343c25eef4f73eb_icgraph.png" border="0" usemap="#aserial_8c_ae73e19d76cbb99f66343c25eef4f73eb_icgraph" alt=""/></div>
<map name="aserial_8c_ae73e19d76cbb99f66343c25eef4f73eb_icgraph" id="aserial_8c_ae73e19d76cbb99f66343c25eef4f73eb_icgraph">
<area shape="rect" title=" " alt="" coords="977,242,1092,268"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a0401a1378dad63c55a477de5fd72e7a1" name="a0401a1378dad63c55a477de5fd72e7a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0401a1378dad63c55a477de5fd72e7a1">&#9670;&#160;</a></span>pi_serial_device_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pi_serial_device_free </td>
          <td>(</td>
          <td class="paramtype">pi_device_t *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  186</span>{</div>
<div class="line"><span class="lineno">  187</span>    ASSERT (dev != NULL);</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>    free(dev-&gt;data);</div>
<div class="line"><span class="lineno">  190</span>    free(dev);</div>
<div class="line"><span class="lineno">  191</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00206">pi_serial_device()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_a0401a1378dad63c55a477de5fd72e7a1_icgraph.png" border="0" usemap="#aserial_8c_a0401a1378dad63c55a477de5fd72e7a1_icgraph" alt=""/></div>
<map name="aserial_8c_a0401a1378dad63c55a477de5fd72e7a1_icgraph" id="aserial_8c_a0401a1378dad63c55a477de5fd72e7a1_icgraph">
<area shape="rect" title=" " alt="" coords="1140,242,1283,268"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="ab75a8a1e52d10dbcbad17363335bf4c0" name="ab75a8a1e52d10dbcbad17363335bf4c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab75a8a1e52d10dbcbad17363335bf4c0">&#9670;&#160;</a></span>pi_serial_getsockopt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_serial_getsockopt </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>option_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>option_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>option_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  593</span>{</div>
<div class="line"><span class="lineno">  594</span>    <span class="keyword">struct </span>pi_serial_data *data =</div>
<div class="line"><span class="lineno">  595</span>        (<span class="keyword">struct </span>pi_serial_data *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>    <span class="keywordflow">switch</span> (option_name) {</div>
<div class="line"><span class="lineno">  598</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#aef1c6a9364b46addf81c70042abc097a">PI_DEV_RATE</a>:</div>
<div class="line"><span class="lineno">  599</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;rate))</div>
<div class="line"><span class="lineno">  600</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  601</span>            memcpy (option_value, &amp;data-&gt;rate, sizeof (data-&gt;rate));</div>
<div class="line"><span class="lineno">  602</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a904ef211991b6d09779dd7a37d1cb3eb">PI_DEV_ESTRATE</a>:</div>
<div class="line"><span class="lineno">  605</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;establishrate))</div>
<div class="line"><span class="lineno">  606</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  607</span>            memcpy (option_value, &amp;data-&gt;establishrate, sizeof (data-&gt;establishrate));</div>
<div class="line"><span class="lineno">  608</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a27f77c813182e7dda5f8747dc8b1e136">PI_DEV_HIGHRATE</a>:</div>
<div class="line"><span class="lineno">  611</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;establishhighrate))</div>
<div class="line"><span class="lineno">  612</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  613</span>            memcpy (option_value, &amp;data-&gt;establishhighrate, sizeof (data-&gt;establishhighrate));</div>
<div class="line"><span class="lineno">  614</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#aa3c28674694b0215bdb27d44df11421c">PI_DEV_TIMEOUT</a>:</div>
<div class="line"><span class="lineno">  617</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;timeout))</div>
<div class="line"><span class="lineno">  618</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  619</span>            memcpy (option_value, &amp;data-&gt;timeout, sizeof (data-&gt;timeout));</div>
<div class="line"><span class="lineno">  620</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  621</span>    }</div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  624</span>    </div>
<div class="line"><span class="lineno">  625</span><a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>:</div>
<div class="line"><span class="lineno">  626</span>    errno = EINVAL;</div>
<div class="line"><span class="lineno">  627</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_ARGUMENT);</div>
<div class="line"><span class="lineno">  628</span>}</div>
<div class="ttc" id="anamespacepisock_html_a27f77c813182e7dda5f8747dc8b1e136"><div class="ttname"><a href="namespacepisock.html#a27f77c813182e7dda5f8747dc8b1e136">pisock.PI_DEV_HIGHRATE</a></div><div class="ttdeci">PI_DEV_HIGHRATE</div><div class="ttdef"><b>Definition</b> pisock.py:89</div></div>
<div class="ttc" id="anamespacepisock_html_a904ef211991b6d09779dd7a37d1cb3eb"><div class="ttname"><a href="namespacepisock.html#a904ef211991b6d09779dd7a37d1cb3eb">pisock.PI_DEV_ESTRATE</a></div><div class="ttdeci">PI_DEV_ESTRATE</div><div class="ttdef"><b>Definition</b> pisock.py:88</div></div>
<div class="ttc" id="anamespacepisock_html_aa3c28674694b0215bdb27d44df11421c"><div class="ttname"><a href="namespacepisock.html#aa3c28674694b0215bdb27d44df11421c">pisock.PI_DEV_TIMEOUT</a></div><div class="ttdeci">PI_DEV_TIMEOUT</div><div class="ttdef"><b>Definition</b> pisock.py:90</div></div>
<div class="ttc" id="anamespacepisock_html_aef1c6a9364b46addf81c70042abc097a"><div class="ttname"><a href="namespacepisock.html#aef1c6a9364b46addf81c70042abc097a">pisock.PI_DEV_RATE</a></div><div class="ttdeci">PI_DEV_RATE</div><div class="ttdef"><b>Definition</b> pisock.py:87</div></div>
<div class="ttc" id="anamespacepisock_html_af10dacfa214e2575bb2e0ee407c242e0"><div class="ttname"><a href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">pisock.error</a></div><div class="ttdeci">error</div><div class="ttdef"><b>Definition</b> pisock.py:41</div></div>
<div class="ttc" id="asocket_8c_html_a415df518818c6813556c5607b29e833e"><div class="ttname"><a href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a></div><div class="ttdeci">int pi_set_error(int pi_sd, int error_code)</div><div class="ttdef"><b>Definition</b> socket.c:1625</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00145">pi_serial_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_ab75a8a1e52d10dbcbad17363335bf4c0_cgraph.png" border="0" usemap="#aserial_8c_ab75a8a1e52d10dbcbad17363335bf4c0_cgraph" alt=""/></div>
<map name="aserial_8c_ab75a8a1e52d10dbcbad17363335bf4c0_cgraph" id="aserial_8c_ab75a8a1e52d10dbcbad17363335bf4c0_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,146,80"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="194,55,283,80"/>
<area shape="poly" title=" " alt="" coords="146,65,178,65,178,70,146,70"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="331,55,436,80"/>
<area shape="poly" title=" " alt="" coords="284,65,316,65,316,70,284,70"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="491,5,597,31"/>
<area shape="poly" title=" " alt="" coords="427,51,484,34,486,39,429,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="484,55,604,80"/>
<area shape="poly" title=" " alt="" coords="437,65,469,65,469,70,437,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="500,104,588,130"/>
<area shape="poly" title=" " alt="" coords="429,78,487,97,485,102,427,84"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_ab75a8a1e52d10dbcbad17363335bf4c0_icgraph.png" border="0" usemap="#aserial_8c_ab75a8a1e52d10dbcbad17363335bf4c0_icgraph" alt=""/></div>
<map name="aserial_8c_ab75a8a1e52d10dbcbad17363335bf4c0_icgraph" id="aserial_8c_ab75a8a1e52d10dbcbad17363335bf4c0_icgraph">
<area shape="rect" title=" " alt="" coords="1310,242,1450,268"/>
<area shape="rect" href="serial_8c.html#a85853ffdd086cbc2223a5ac6f9071d97" title=" " alt="" coords="1140,242,1262,268"/>
<area shape="poly" title=" " alt="" coords="1294,258,1262,258,1262,252,1294,252"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="adbd8210e25d9f04a3541a53df4eeb8bc" name="adbd8210e25d9f04a3541a53df4eeb8bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbd8210e25d9f04a3541a53df4eeb8bc">&#9670;&#160;</a></span>pi_serial_listen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_serial_listen </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>backlog</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  444</span>{</div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordtype">int</span>     result;</div>
<div class="line"><span class="lineno">  446</span>    <span class="keyword">struct  </span>pi_serial_data *data =</div>
<div class="line"><span class="lineno">  447</span>        (<span class="keyword">struct </span>pi_serial_data *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  448</span>    </div>
<div class="line"><span class="lineno">  449</span>    <span class="comment">/* ps-&gt;rate has been set by bind */</span></div>
<div class="line"><span class="lineno">  450</span>    result = data-&gt;impl.changebaud(ps);</div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">if</span> (result == 0)</div>
<div class="line"><span class="lineno">  452</span>        ps-&gt;state = PI_SOCK_LISTEN;</div>
<div class="line"><span class="lineno">  453</span>    </div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  455</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00206">pi_serial_device()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_adbd8210e25d9f04a3541a53df4eeb8bc_icgraph.png" border="0" usemap="#aserial_8c_adbd8210e25d9f04a3541a53df4eeb8bc_icgraph" alt=""/></div>
<map name="aserial_8c_adbd8210e25d9f04a3541a53df4eeb8bc_icgraph" id="aserial_8c_adbd8210e25d9f04a3541a53df4eeb8bc_icgraph">
<area shape="rect" title=" " alt="" coords="1140,242,1247,268"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a85853ffdd086cbc2223a5ac6f9071d97" name="a85853ffdd086cbc2223a5ac6f9071d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85853ffdd086cbc2223a5ac6f9071d97">&#9670;&#160;</a></span>pi_serial_protocol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pi_protocol_t * pi_serial_protocol </td>
          <td>(</td>
          <td class="paramtype">pi_device_t *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  146</span>{   </div>
<div class="line"><span class="lineno">  147</span>    pi_protocol_t *prot;</div>
<div class="line"><span class="lineno">  148</span>    <span class="keyword">struct </span>pi_serial_data *data;</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    ASSERT (dev != NULL);</div>
<div class="line"><span class="lineno">  151</span>    </div>
<div class="line"><span class="lineno">  152</span>    prot = (pi_protocol_t *) malloc(<span class="keyword">sizeof</span> (pi_protocol_t));</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    data = (<span class="keyword">struct </span>pi_serial_data *)(dev-&gt;data);</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">if</span> (prot != NULL) {</div>
<div class="line"><span class="lineno">  157</span>        prot-&gt;level         = <a class="code hl_variable" href="namespacepisock.html#a27c5884926087c8b237832c724d880ec">PI_LEVEL_DEV</a>;</div>
<div class="line"><span class="lineno">  158</span>        prot-&gt;dup       = <a class="code hl_function" href="#a9bcde37a8062a4328fbf19af4cd3f5d4">pi_serial_protocol_dup</a>;</div>
<div class="line"><span class="lineno">  159</span>        prot-&gt;free      = <a class="code hl_function" href="#a49c8085defddea09dc0c734fbea69e33">pi_serial_protocol_free</a>;</div>
<div class="line"><span class="lineno">  160</span>        prot-&gt;read      = data-&gt;impl.read;</div>
<div class="line"><span class="lineno">  161</span>        prot-&gt;write         = data-&gt;impl.write;</div>
<div class="line"><span class="lineno">  162</span>        prot-&gt;flush     = data-&gt;impl.flush;</div>
<div class="line"><span class="lineno">  163</span>        prot-&gt;getsockopt    = <a class="code hl_function" href="#ab75a8a1e52d10dbcbad17363335bf4c0">pi_serial_getsockopt</a>;</div>
<div class="line"><span class="lineno">  164</span>        prot-&gt;setsockopt    = <a class="code hl_function" href="#a3387de816ed7f5d42ad4cec7b5a51bc1">pi_serial_setsockopt</a>;</div>
<div class="line"><span class="lineno">  165</span>        prot-&gt;data      = NULL;</div>
<div class="line"><span class="lineno">  166</span>    }</div>
<div class="line"><span class="lineno">  167</span>    </div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">return</span> prot;</div>
<div class="line"><span class="lineno">  169</span>}</div>
<div class="ttc" id="anamespacepisock_html_a27c5884926087c8b237832c724d880ec"><div class="ttname"><a href="namespacepisock.html#a27c5884926087c8b237832c724d880ec">pisock.PI_LEVEL_DEV</a></div><div class="ttdeci">PI_LEVEL_DEV</div><div class="ttdef"><b>Definition</b> pisock.py:79</div></div>
<div class="ttc" id="aserial_8c_html_a3387de816ed7f5d42ad4cec7b5a51bc1"><div class="ttname"><a href="#a3387de816ed7f5d42ad4cec7b5a51bc1">pi_serial_setsockopt</a></div><div class="ttdeci">static int pi_serial_setsockopt(pi_socket_t *ps, int level, int option_name, const void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> serial.c:643</div></div>
<div class="ttc" id="aserial_8c_html_a49c8085defddea09dc0c734fbea69e33"><div class="ttname"><a href="#a49c8085defddea09dc0c734fbea69e33">pi_serial_protocol_free</a></div><div class="ttdeci">static void pi_serial_protocol_free(pi_protocol_t *prot)</div><div class="ttdef"><b>Definition</b> serial.c:124</div></div>
<div class="ttc" id="aserial_8c_html_a9bcde37a8062a4328fbf19af4cd3f5d4"><div class="ttname"><a href="#a9bcde37a8062a4328fbf19af4cd3f5d4">pi_serial_protocol_dup</a></div><div class="ttdeci">static pi_protocol_t * pi_serial_protocol_dup(pi_protocol_t *prot)</div><div class="ttdef"><b>Definition</b> serial.c:88</div></div>
<div class="ttc" id="aserial_8c_html_ab75a8a1e52d10dbcbad17363335bf4c0"><div class="ttname"><a href="#ab75a8a1e52d10dbcbad17363335bf4c0">pi_serial_getsockopt</a></div><div class="ttdeci">static int pi_serial_getsockopt(pi_socket_t *ps, int level, int option_name, void *option_value, size_t *option_len)</div><div class="ttdef"><b>Definition</b> serial.c:591</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00591">pi_serial_getsockopt()</a>, <a class="el" href="#l00088">pi_serial_protocol_dup()</a>, <a class="el" href="#l00124">pi_serial_protocol_free()</a>, and <a class="el" href="#l00643">pi_serial_setsockopt()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00206">pi_serial_device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_a85853ffdd086cbc2223a5ac6f9071d97_cgraph.png" border="0" usemap="#aserial_8c_a85853ffdd086cbc2223a5ac6f9071d97_cgraph" alt=""/></div>
<map name="aserial_8c_a85853ffdd086cbc2223a5ac6f9071d97_cgraph" id="aserial_8c_a85853ffdd086cbc2223a5ac6f9071d97_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,128,106"/>
<area shape="rect" href="serial_8c.html#ab75a8a1e52d10dbcbad17363335bf4c0" title=" " alt="" coords="181,5,322,31"/>
<area shape="poly" title=" " alt="" coords="93,77,175,40,190,34,192,39,177,45,95,82"/>
<area shape="rect" href="serial_8c.html#a9bcde37a8062a4328fbf19af4cd3f5d4" title=" " alt="" coords="176,55,326,80"/>
<area shape="poly" title=" " alt="" coords="128,82,160,77,161,83,128,87"/>
<area shape="rect" href="serial_8c.html#a49c8085defddea09dc0c734fbea69e33" title=" " alt="" coords="176,104,327,130"/>
<area shape="poly" title=" " alt="" coords="128,98,161,102,160,108,128,103"/>
<area shape="rect" href="serial_8c.html#a3387de816ed7f5d42ad4cec7b5a51bc1" title=" " alt="" coords="181,153,322,179"/>
<area shape="poly" title=" " alt="" coords="96,104,177,140,192,145,191,150,175,145,94,109"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="375,80,464,106"/>
<area shape="poly" title=" " alt="" coords="300,29,328,40,385,69,383,74,326,45,298,34"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="512,80,618,106"/>
<area shape="poly" title=" " alt="" coords="465,90,497,90,497,96,465,96"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="673,31,778,56"/>
<area shape="poly" title=" " alt="" coords="609,77,666,59,667,64,610,82"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="666,80,785,106"/>
<area shape="poly" title=" " alt="" coords="618,90,650,90,650,96,618,96"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="682,129,769,155"/>
<area shape="poly" title=" " alt="" coords="610,104,668,122,667,127,609,109"/>
<area shape="poly" title=" " alt="" coords="298,150,326,140,382,111,385,116,328,145,300,155"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_a85853ffdd086cbc2223a5ac6f9071d97_icgraph.png" border="0" usemap="#aserial_8c_a85853ffdd086cbc2223a5ac6f9071d97_icgraph" alt=""/></div>
<map name="aserial_8c_a85853ffdd086cbc2223a5ac6f9071d97_icgraph" id="aserial_8c_a85853ffdd086cbc2223a5ac6f9071d97_icgraph">
<area shape="rect" title=" " alt="" coords="1140,242,1262,268"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a9bcde37a8062a4328fbf19af4cd3f5d4" name="a9bcde37a8062a4328fbf19af4cd3f5d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bcde37a8062a4328fbf19af4cd3f5d4">&#9670;&#160;</a></span>pi_serial_protocol_dup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static pi_protocol_t * pi_serial_protocol_dup </td>
          <td>(</td>
          <td class="paramtype">pi_protocol_t *</td>          <td class="paramname"><span class="paramname"><em>prot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   89</span>{</div>
<div class="line"><span class="lineno">   90</span>    pi_protocol_t *new_prot;</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    ASSERT (prot != NULL);</div>
<div class="line"><span class="lineno">   93</span>    </div>
<div class="line"><span class="lineno">   94</span>    new_prot = (pi_protocol_t *) malloc(<span class="keyword">sizeof</span> (pi_protocol_t));</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> (new_prot != NULL) {</div>
<div class="line"><span class="lineno">   97</span>        new_prot-&gt;level     = prot-&gt;level;</div>
<div class="line"><span class="lineno">   98</span>        new_prot-&gt;dup       = prot-&gt;dup;</div>
<div class="line"><span class="lineno">   99</span>        new_prot-&gt;free      = prot-&gt;free;</div>
<div class="line"><span class="lineno">  100</span>        new_prot-&gt;read      = prot-&gt;read;</div>
<div class="line"><span class="lineno">  101</span>        new_prot-&gt;write     = prot-&gt;write;</div>
<div class="line"><span class="lineno">  102</span>        new_prot-&gt;flush     = prot-&gt;flush;</div>
<div class="line"><span class="lineno">  103</span>        new_prot-&gt;getsockopt    = prot-&gt;getsockopt;</div>
<div class="line"><span class="lineno">  104</span>        new_prot-&gt;setsockopt    = prot-&gt;setsockopt;</div>
<div class="line"><span class="lineno">  105</span>        new_prot-&gt;data      = NULL;</div>
<div class="line"><span class="lineno">  106</span>    }</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">return</span> new_prot;</div>
<div class="line"><span class="lineno">  109</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00145">pi_serial_protocol()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_a9bcde37a8062a4328fbf19af4cd3f5d4_icgraph.png" border="0" usemap="#aserial_8c_a9bcde37a8062a4328fbf19af4cd3f5d4_icgraph" alt=""/></div>
<map name="aserial_8c_a9bcde37a8062a4328fbf19af4cd3f5d4_icgraph" id="aserial_8c_a9bcde37a8062a4328fbf19af4cd3f5d4_icgraph">
<area shape="rect" title=" " alt="" coords="1310,242,1460,268"/>
<area shape="rect" href="serial_8c.html#a85853ffdd086cbc2223a5ac6f9071d97" title=" " alt="" coords="1140,242,1262,268"/>
<area shape="poly" title=" " alt="" coords="1294,258,1262,258,1262,252,1294,252"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a49c8085defddea09dc0c734fbea69e33" name="a49c8085defddea09dc0c734fbea69e33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c8085defddea09dc0c734fbea69e33">&#9670;&#160;</a></span>pi_serial_protocol_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void pi_serial_protocol_free </td>
          <td>(</td>
          <td class="paramtype">pi_protocol_t *</td>          <td class="paramname"><span class="paramname"><em>prot</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  125</span>{</div>
<div class="line"><span class="lineno">  126</span>    ASSERT (prot != NULL);</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">if</span> (prot != NULL)</div>
<div class="line"><span class="lineno">  129</span>        free(prot);</div>
<div class="line"><span class="lineno">  130</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00145">pi_serial_protocol()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_a49c8085defddea09dc0c734fbea69e33_icgraph.png" border="0" usemap="#aserial_8c_a49c8085defddea09dc0c734fbea69e33_icgraph" alt=""/></div>
<map name="aserial_8c_a49c8085defddea09dc0c734fbea69e33_icgraph" id="aserial_8c_a49c8085defddea09dc0c734fbea69e33_icgraph">
<area shape="rect" title=" " alt="" coords="1310,242,1461,268"/>
<area shape="rect" href="serial_8c.html#a85853ffdd086cbc2223a5ac6f9071d97" title=" " alt="" coords="1140,242,1262,268"/>
<area shape="poly" title=" " alt="" coords="1294,258,1262,258,1262,252,1294,252"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="a3387de816ed7f5d42ad4cec7b5a51bc1" name="a3387de816ed7f5d42ad4cec7b5a51bc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3387de816ed7f5d42ad4cec7b5a51bc1">&#9670;&#160;</a></span>pi_serial_setsockopt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pi_serial_setsockopt </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>option_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>option_value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>option_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  645</span>{</div>
<div class="line"><span class="lineno">  646</span>    <span class="keyword">struct </span>pi_serial_data *data =</div>
<div class="line"><span class="lineno">  647</span>        (<span class="keyword">struct </span>pi_serial_data *)ps-&gt;device-&gt;data;</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span>    <span class="comment">/* FIXME: can&#39;t change stuff if already connected */</span></div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">switch</span> (option_name) {</div>
<div class="line"><span class="lineno">  651</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a904ef211991b6d09779dd7a37d1cb3eb">PI_DEV_ESTRATE</a>:</div>
<div class="line"><span class="lineno">  652</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;establishrate))</div>
<div class="line"><span class="lineno">  653</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  654</span>            memcpy (&amp;data-&gt;establishrate, option_value, sizeof (data-&gt;establishrate));</div>
<div class="line"><span class="lineno">  655</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#a27f77c813182e7dda5f8747dc8b1e136">PI_DEV_HIGHRATE</a>:</div>
<div class="line"><span class="lineno">  658</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;establishhighrate))</div>
<div class="line"><span class="lineno">  659</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  660</span>            memcpy (&amp;data-&gt;establishhighrate, option_value, sizeof (data-&gt;establishhighrate));</div>
<div class="line"><span class="lineno">  661</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>        <span class="keywordflow">case</span> <a class="code hl_variable" href="namespacepisock.html#aa3c28674694b0215bdb27d44df11421c">PI_DEV_TIMEOUT</a>:</div>
<div class="line"><span class="lineno">  664</span>            <span class="keywordflow">if</span> (*option_len != <span class="keyword">sizeof</span> (data-&gt;timeout))</div>
<div class="line"><span class="lineno">  665</span>                <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  666</span>            memcpy (&amp;data-&gt;timeout, option_value, sizeof (data-&gt;timeout));</div>
<div class="line"><span class="lineno">  667</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  668</span>    }</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  671</span>    </div>
<div class="line"><span class="lineno">  672</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>:</div>
<div class="line"><span class="lineno">  673</span>    errno = EINVAL;</div>
<div class="line"><span class="lineno">  674</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(ps-&gt;sd, PI_ERR_GENERIC_ARGUMENT);</div>
<div class="line"><span class="lineno">  675</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01625">pi_set_error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00145">pi_serial_protocol()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_a3387de816ed7f5d42ad4cec7b5a51bc1_cgraph.png" border="0" usemap="#aserial_8c_a3387de816ed7f5d42ad4cec7b5a51bc1_cgraph" alt=""/></div>
<map name="aserial_8c_a3387de816ed7f5d42ad4cec7b5a51bc1_cgraph" id="aserial_8c_a3387de816ed7f5d42ad4cec7b5a51bc1_cgraph">
<area shape="rect" title=" " alt="" coords="5,55,146,80"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="194,55,283,80"/>
<area shape="poly" title=" " alt="" coords="146,65,178,65,178,70,146,70"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="331,55,436,80"/>
<area shape="poly" title=" " alt="" coords="284,65,316,65,316,70,284,70"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="491,5,597,31"/>
<area shape="poly" title=" " alt="" coords="427,51,484,34,486,39,429,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="484,55,604,80"/>
<area shape="poly" title=" " alt="" coords="437,65,469,65,469,70,437,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="500,104,588,130"/>
<area shape="poly" title=" " alt="" coords="429,78,487,97,485,102,427,84"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_a3387de816ed7f5d42ad4cec7b5a51bc1_icgraph.png" border="0" usemap="#aserial_8c_a3387de816ed7f5d42ad4cec7b5a51bc1_icgraph" alt=""/></div>
<map name="aserial_8c_a3387de816ed7f5d42ad4cec7b5a51bc1_icgraph" id="aserial_8c_a3387de816ed7f5d42ad4cec7b5a51bc1_icgraph">
<area shape="rect" title=" " alt="" coords="1310,242,1450,268"/>
<area shape="rect" href="serial_8c.html#a85853ffdd086cbc2223a5ac6f9071d97" title=" " alt="" coords="1140,242,1262,268"/>
<area shape="poly" title=" " alt="" coords="1294,258,1262,258,1262,252,1294,252"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
<a id="af67584512ce1964be95668c7a37d7c34" name="af67584512ce1964be95668c7a37d7c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67584512ce1964be95668c7a37d7c34">&#9670;&#160;</a></span>pi_socket_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pi_socket_init </td>
          <td>(</td>
          <td class="paramtype">pi_socket_t *</td>          <td class="paramname"><span class="paramname"><em>ps</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  982</span>{</div>
<div class="line"><span class="lineno">  983</span>    <a class="code hl_function" href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b">protocol_queue_build</a> (ps, 1);</div>
<div class="line"><span class="lineno">  984</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  985</span>}</div>
<div class="ttc" id="asocket_8c_html_abbc33d60b040a4ed0667fba946921f9b"><div class="ttname"><a href="socket_8c.html#abbc33d60b040a4ed0667fba946921f9b">protocol_queue_build</a></div><div class="ttdeci">static void protocol_queue_build(pi_socket_t *ps, int autodetect)</div><div class="ttdef"><b>Definition</b> socket.c:431</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00469">pi_serial_accept()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="serial_8c_af67584512ce1964be95668c7a37d7c34_icgraph.png" border="0" usemap="#aserial_8c_af67584512ce1964be95668c7a37d7c34_icgraph" alt=""/></div>
<map name="aserial_8c_af67584512ce1964be95668c7a37d7c34_icgraph" id="aserial_8c_af67584512ce1964be95668c7a37d7c34_icgraph">
<area shape="rect" title=" " alt="" coords="1303,242,1404,268"/>
<area shape="rect" href="serial_8c.html#afd1f0015559a46379c5a5302589450fa" title=" " alt="" coords="1140,242,1255,268"/>
<area shape="poly" title=" " alt="" coords="1287,258,1255,258,1255,252,1287,252"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="977,242,1092,268"/>
<area shape="poly" title=" " alt="" coords="1124,258,1092,258,1092,252,1124,252"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="831,242,929,268"/>
<area shape="poly" title=" " alt="" coords="962,258,930,258,930,252,962,252"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="710,145,772,170"/>
<area shape="poly" title=" " alt="" coords="847,235,759,173,762,169,850,231"/>
<area shape="rect" href="socket_8c.html#a941d3345fc005dbd4583c01aedf0504b" title=" " alt="" coords="699,292,783,317"/>
<area shape="poly" title=" " alt="" coords="828,276,780,293,779,288,826,271"/>
<area shape="rect" href="pisock__wrap_8c.html#a93d21fa0d73dd33057be113819f38db4" title=" " alt="" coords="535,21,640,46"/>
<area shape="poly" title=" " alt="" coords="720,133,689,96,649,60,630,49,633,45,652,55,693,92,724,130"/>
<area shape="rect" href="connect_8c.html#a2e5febae39ff2bb757f58471f231d8a6" title=" " alt="" coords="538,70,637,96"/>
<area shape="poly" title=" " alt="" coords="704,139,650,109,625,99,627,94,652,105,707,134"/>
<area shape="rect" href="libjpisock_8c.html#a201020848015baf4f5015d6d0f736988" title=" " alt="" coords="538,120,637,145"/>
<area shape="poly" title=" " alt="" coords="694,153,637,143,638,138,694,147"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="542,169,633,194"/>
<area shape="poly" title=" " alt="" coords="695,167,634,177,633,172,694,162"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="550,218,625,244"/>
<area shape="poly" title=" " alt="" coords="705,181,652,209,627,220,625,215,650,205,703,176"/>
<area shape="rect" href="libjpisock_8c.html#a461cdfef86fecffb4449d69c271573e7" title=" " alt="" coords="323,5,476,46"/>
<area shape="poly" title=" " alt="" coords="529,115,523,110,508,97,498,85,489,72,475,60,456,49,459,44,478,56,493,69,502,82,512,94,526,106,532,110"/>
<area shape="rect" href="pitcl_8c.html#aa7a47547eb5440bc9f883afba9254f65" title=" " alt="" coords="363,70,436,96"/>
<area shape="poly" title=" " alt="" coords="529,164,523,160,508,147,498,134,489,121,475,109,436,93,438,88,478,105,493,118,503,130,512,143,526,156,532,159"/>
<area shape="rect" href="pitcl_8c.html#afa4522a01803f57bd2b147fae9c0f225" title=" " alt="" coords="349,120,450,145"/>
<area shape="poly" title=" " alt="" coords="526,168,450,148,451,143,527,163"/>
<area shape="rect" href="pilot-wav_8c.html#a79213f9623d93348a3a7f9ba790963c9" title=" " alt="" coords="364,169,435,194"/>
<area shape="poly" title=" " alt="" coords="526,184,436,184,436,179,526,179"/>
<area shape="rect" href="pilot-install-memo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="375,218,424,244"/>
<area shape="poly" title=" " alt="" coords="528,200,425,227,424,222,526,195"/>
<area shape="rect" href="pilot-hinotes_8c.html#a217dbf8b442f20279ea00b898af96f52" title=" " alt="" coords="375,268,424,293"/>
<area shape="poly" title=" " alt="" coords="532,204,526,208,512,220,503,233,493,246,478,259,451,271,425,279,424,273,449,266,475,254,489,242,498,230,508,217,523,204,529,199"/>
<area shape="rect" href="pilot-addresses_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="375,317,424,342"/>
<area shape="poly" title=" " alt="" coords="530,204,526,207,509,232,503,257,497,282,490,295,478,308,452,322,425,330,424,324,450,318,475,304,485,292,492,280,498,255,504,230,522,204,526,200"/>
<area shape="rect" href="pitcl_8c.html#ab8a87c2a8cbabc03b87303f4bc2e9601" title=" " alt="" coords="177,70,273,96"/>
<area shape="poly" title=" " alt="" coords="336,117,272,99,274,94,338,112"/>
<area shape="rect" href="pitcl_8c.html#addda8a7f5fdbf7d4efee71dde6b810d9" title=" " alt="" coords="175,120,275,145"/>
<area shape="poly" title=" " alt="" coords="333,135,275,135,275,130,333,130"/>
<area shape="rect" href="pitcl_8c.html#a96c8407b29d4a8f6613f0d136322f5b4" title=" " alt="" coords="5,96,127,121"/>
<area shape="poly" title=" " alt="" coords="162,96,128,101,127,96,161,90"/>
<area shape="poly" title=" " alt="" coords="159,125,126,120,127,115,160,120"/>
<area shape="rect" href="pilot-wav_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="200,169,250,194"/>
<area shape="poly" title=" " alt="" coords="348,184,250,184,250,179,348,179"/>
<area shape="rect" href="pisock__wrap_8c.html#a77396b6722dba076dac73dfce5847361" title=" " alt="" coords="524,268,651,293"/>
<area shape="poly" title=" " alt="" coords="683,298,650,293,651,288,684,293"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="563,317,612,342"/>
<area shape="poly" title=" " alt="" coords="684,316,613,328,612,323,683,311"/>
<area shape="rect" href="pilot-nredir_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="563,366,612,392"/>
<area shape="poly" title=" " alt="" coords="707,328,652,357,614,373,612,368,650,353,704,323"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ef3825c9845ea6880aaea633307886b2.html">libpisock</a></li><li class="navelem"><a class="el" href="serial_8c.html">serial.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
