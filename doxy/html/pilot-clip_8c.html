<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: src/pilot-clip.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('pilot-clip_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pilot-clip.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &quot;pi-source.h&quot;</code><br />
<code>#include &quot;pi-syspkt.h&quot;</code><br />
<code>#include &quot;pi-dlp.h&quot;</code><br />
<code>#include &quot;pi-header.h&quot;</code><br />
<code>#include &quot;pi-userland.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pilot-clip.c:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-clip_8c__incl.png" border="0" usemap="#asrc_2pilot-clip_8c" alt=""/></div>
<map name="asrc_2pilot-clip_8c" id="asrc_2pilot-clip_8c">
<area shape="rect" title=" " alt="" coords="300,5,403,31"/>
<area shape="rect" title=" " alt="" coords="5,79,66,105"/>
<area shape="poly" title=" " alt="" coords="301,33,81,81,80,76,299,27"/>
<area shape="rect" title=" " alt="" coords="90,79,176,105"/>
<area shape="poly" title=" " alt="" coords="315,34,185,76,184,71,314,29"/>
<area shape="rect" title=" " alt="" coords="200,79,285,105"/>
<area shape="poly" title=" " alt="" coords="334,34,275,73,272,68,332,29"/>
<area shape="rect" title=" " alt="" coords="309,79,394,105"/>
<area shape="poly" title=" " alt="" coords="354,31,354,63,349,63,349,31"/>
<area shape="rect" title=" " alt="" coords="418,79,482,105"/>
<area shape="poly" title=" " alt="" coords="370,29,423,68,420,72,367,34"/>
<area shape="rect" title=" " alt="" coords="505,79,590,105"/>
<area shape="poly" title=" " alt="" coords="386,29,501,71,499,76,384,34"/>
<area shape="rect" title=" " alt="" coords="613,79,708,105"/>
<area shape="poly" title=" " alt="" coords="404,29,599,74,598,79,403,34"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac4b2831b8e52f0b60459e37158ec273d" id="r_ac4b2831b8e52f0b60459e37158ec273d"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4b2831b8e52f0b60459e37158ec273d">GetClip</a> (int sock, int type, int *length)</td></tr>
<tr class="separator:ac4b2831b8e52f0b60459e37158ec273d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f2228420376f4db7e1274f2b41667c" id="r_ac0f2228420376f4db7e1274f2b41667c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0f2228420376f4db7e1274f2b41667c">main</a> (int argc, const char *argv[])</td></tr>
<tr class="separator:ac0f2228420376f4db7e1274f2b41667c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d2269ff8e26b11e23c3c7f7851c0ea" id="r_a52d2269ff8e26b11e23c3c7f7851c0ea"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52d2269ff8e26b11e23c3c7f7851c0ea">SetClip</a> (int sock, int type, void *data, int length)</td></tr>
<tr class="separator:a52d2269ff8e26b11e23c3c7f7851c0ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac4b2831b8e52f0b60459e37158ec273d" name="ac4b2831b8e52f0b60459e37158ec273d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b2831b8e52f0b60459e37158ec273d">&#9670;&#160;</a></span>GetClip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * GetClip </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   32</span>{</div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordtype">int</span>     len,</div>
<div class="line"><span class="lineno">   34</span>        err;</div>
<div class="line"><span class="lineno">   35</span>    <span class="keyword">struct  </span>RPC_params p;</div>
<div class="line"><span class="lineno">   36</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> handle, ptr;</div>
<div class="line"><span class="lineno">   37</span>    <span class="keywordtype">void</span>    *<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>;</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    <span class="comment">/* ClipboardGetItem */</span></div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_function" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a>(&amp;p, 0xA10C, RPC_PtrReply, RPC_Byte(type), RPC_ShortPtr(&amp;len),</div>
<div class="line"><span class="lineno">   41</span>        RPC_End);</div>
<div class="line"><span class="lineno">   42</span>    err = dlp_RPC(sock, &amp;p, &amp;handle);</div>
<div class="line"><span class="lineno">   43</span>    <span class="keywordflow">if</span> (err)</div>
<div class="line"><span class="lineno">   44</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">if</span> (!handle)</div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="comment">/* MemHandleLock */</span></div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_function" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a>(&amp;p, 0xA021, RPC_PtrReply, RPC_Long(handle), RPC_End);</div>
<div class="line"><span class="lineno">   51</span>    err = dlp_RPC(sock, &amp;p, &amp;ptr);</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>    <span class="keywordflow">if</span> (err)</div>
<div class="line"><span class="lineno">   54</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> = malloc(len);</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>    <span class="comment">/* MemMove */</span></div>
<div class="line"><span class="lineno">   59</span>    <a class="code hl_function" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a>(&amp;p, 0xA026, RPC_IntReply, RPC_Ptr(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, len),</div>
<div class="line"><span class="lineno">   60</span>        RPC_Long(ptr), RPC_Long(len), RPC_End);</div>
<div class="line"><span class="lineno">   61</span>    err = dlp_RPC(sock, &amp;p, 0);</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    <span class="comment">/* MemHandleUnlock */</span></div>
<div class="line"><span class="lineno">   64</span>    <a class="code hl_function" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a>(&amp;p, 0xA022, RPC_IntReply, RPC_Long(handle), RPC_End);</div>
<div class="line"><span class="lineno">   65</span>    err = dlp_RPC(sock, &amp;p, 0);</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">if</span> (length)</div>
<div class="line"><span class="lineno">   68</span>        *length = len;</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>;</div>
<div class="line"><span class="lineno">   71</span>}</div>
<div class="ttc" id="apilot-debug_8c_html_a0ab27356885000c0b9430ce5f9b4a4ec"><div class="ttname"><a href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a></div><div class="ttdeci">unsigned char buffer[0xffff]</div><div class="ttdef"><b>Definition</b> pilot-debug.c:767</div></div>
<div class="ttc" id="asyspkt_8c_html_a8d9588d3d9c10a6470f60ec1158319ec"><div class="ttname"><a href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a></div><div class="ttdeci">int PackRPC(struct RPC_params *p, int trap, int reply,...)</div><div class="ttdef"><b>Definition</b> syspkt.c:835</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>, and <a class="el" href="#l00835">PackRPC()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00115">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-clip_8c_ac4b2831b8e52f0b60459e37158ec273d_cgraph.png" border="0" usemap="#apilot-clip_8c_ac4b2831b8e52f0b60459e37158ec273d_cgraph" alt=""/></div>
<map name="apilot-clip_8c_ac4b2831b8e52f0b60459e37158ec273d_cgraph" id="apilot-clip_8c_ac4b2831b8e52f0b60459e37158ec273d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,71,31"/>
<area shape="rect" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec" title=" " alt="" coords="119,5,199,31"/>
<area shape="poly" title=" " alt="" coords="71,16,103,16,103,21,71,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-clip_8c_ac4b2831b8e52f0b60459e37158ec273d_icgraph.png" border="0" usemap="#apilot-clip_8c_ac4b2831b8e52f0b60459e37158ec273d_icgraph" alt=""/></div>
<map name="apilot-clip_8c_ac4b2831b8e52f0b60459e37158ec273d_icgraph" id="apilot-clip_8c_ac4b2831b8e52f0b60459e37158ec273d_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,168,31"/>
<area shape="rect" href="pilot-clip_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ac0f2228420376f4db7e1274f2b41667c" name="ac0f2228420376f4db7e1274f2b41667c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0f2228420376f4db7e1274f2b41667c">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>argv</em></span>[]&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  116</span>{</div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordtype">int</span>     c,      <span class="comment">/* switch */</span></div>
<div class="line"><span class="lineno">  118</span>        <a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>      = -1,</div>
<div class="line"><span class="lineno">  119</span>        ret;</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="keyword">enum</span> { mode_none, mode_set=<span class="charliteral">&#39;s&#39;</span>, mode_get=<span class="charliteral">&#39;g&#39;</span> } <a class="code hl_variable" href="pd-tty_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> = mode_none;</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordtype">char</span>    <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>[0xffff];</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>    poptContext <a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a>;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    <span class="keyword">struct </span>poptOption <a class="code hl_variable" href="pilot-install-user_8c.html#a145180624d42b5fa57bff49541e32c6a">options</a>[] = {</div>
<div class="line"><span class="lineno">  128</span>        USERLAND_RESERVED_OPTIONS</div>
<div class="line"><span class="lineno">  129</span>            {<span class="stringliteral">&quot;get&quot;</span>,     <span class="charliteral">&#39;g&#39;</span>, POPT_ARG_NONE, NULL,   <span class="charliteral">&#39;g&#39;</span>, </div>
<div class="line"><span class="lineno">  130</span>            <span class="stringliteral">&quot;Print the contents of the clipboard on STDOUT&quot;</span>, NULL},</div>
<div class="line"><span class="lineno">  131</span>            {<span class="stringliteral">&quot;set&quot;</span>,     <span class="charliteral">&#39;s&#39;</span>, POPT_ARG_NONE, NULL,   <span class="charliteral">&#39;s&#39;</span>, </div>
<div class="line"><span class="lineno">  132</span>            <span class="stringliteral">&quot;Set the value in the clipboard from STDIN&quot;</span>, NULL},</div>
<div class="line"><span class="lineno">  133</span>                POPT_AUTOHELP</div>
<div class="line"><span class="lineno">  134</span>                POPT_TABLEEND</div>
<div class="line"><span class="lineno">  135</span>    };</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a> = poptGetContext(<span class="stringliteral">&quot;pilot-clip&quot;</span>, argc, argv, <a class="code hl_variable" href="pilot-install-user_8c.html#a145180624d42b5fa57bff49541e32c6a">options</a>, 0);</div>
<div class="line"><span class="lineno">  138</span>    poptSetOtherOptionHelp(<a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a>,<span class="stringliteral">&quot;\n\n&quot;</span></div>
<div class="line"><span class="lineno">  139</span>    <span class="stringliteral">&quot;   Get or Set the Palm Clipboard contents from STDOUT/STDIN.\n&quot;</span></div>
<div class="line"><span class="lineno">  140</span>    <span class="stringliteral">&quot;   Must provide one of -g or -s.\n\n&quot;</span>);</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">if</span> (argc &lt; 2) {</div>
<div class="line"><span class="lineno">  143</span>        poptPrintUsage(<a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a>,stderr,0);</div>
<div class="line"><span class="lineno">  144</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  145</span>    }</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordflow">while</span> ((c = poptGetNextOpt(<a class="code hl_variable" href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a>)) &gt;= 0) {</div>
<div class="line"><span class="lineno">  148</span>        <span class="keywordflow">switch</span> (c) {</div>
<div class="line"><span class="lineno">  149</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>:</div>
<div class="line"><span class="lineno">  151</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="pd-tty_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> != mode_none) {</div>
<div class="line"><span class="lineno">  152</span>                fprintf(stderr,</div>
<div class="line"><span class="lineno">  153</span>                    <span class="stringliteral">&quot;   ERROR: --get or --set, not both.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  154</span>                <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  155</span>            }</div>
<div class="line"><span class="lineno">  156</span>            <a class="code hl_variable" href="pd-tty_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> = c;</div>
<div class="line"><span class="lineno">  157</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  158</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  159</span>            fprintf(stderr,<span class="stringliteral">&quot;   ERROR: Unhandled option %d.\n&quot;</span>, c);</div>
<div class="line"><span class="lineno">  160</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  161</span>        }</div>
<div class="line"><span class="lineno">  162</span>    }</div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">if</span> (mode_none == <a class="code hl_variable" href="pd-tty_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a>) {</div>
<div class="line"><span class="lineno">  164</span>        fprintf(stderr, <span class="stringliteral">&quot;   ERROR: You must specify whether to &quot;</span></div>
<div class="line"><span class="lineno">  165</span>                <span class="stringliteral">&quot;\&quot;Get\&quot; or \&quot;Set\&quot; the clipboard\n&quot;</span>);</div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  167</span>    }</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> = <a class="code hl_function" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc">plu_connect</a>();</div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a> &lt; 0)</div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b">dlp_OpenConduit</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>) &lt; 0)</div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">goto</span> error_close;</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pd-tty_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a> == mode_set) {</div>
<div class="line"><span class="lineno">  178</span>        ret = read(fileno(stdin), <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, 0xffff);</div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">if</span> (ret &gt;= 0) {</div>
<div class="line"><span class="lineno">  180</span>            <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>[ret++] = 0;</div>
<div class="line"><span class="lineno">  181</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#a52d2269ff8e26b11e23c3c7f7851c0ea">SetClip</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, 0, <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, ret) &lt;= 0)</div>
<div class="line"><span class="lineno">  182</span>                <span class="keywordflow">goto</span> error_close;</div>
<div class="line"><span class="lineno">  183</span>        }</div>
<div class="line"><span class="lineno">  184</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordtype">char</span> *b;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>        ret = 0;</div>
<div class="line"><span class="lineno">  188</span>        b = <a class="code hl_function" href="#ac4b2831b8e52f0b60459e37158ec273d">GetClip</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, 0, &amp;ret);</div>
<div class="line"><span class="lineno">  189</span>        <span class="keywordflow">if</span> (b == NULL)</div>
<div class="line"><span class="lineno">  190</span>            <span class="keywordflow">goto</span> error_close;</div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">if</span> (ret &gt; 0)</div>
<div class="line"><span class="lineno">  192</span>            write(fileno(stdout), b, ret);</div>
<div class="line"><span class="lineno">  193</span>    }</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>) &lt; 0)</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">goto</span> <a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>;</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>error_close:</div>
<div class="line"><span class="lineno">  201</span>    <a class="code hl_function" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span><a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>:</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  205</span>}</div>
<div class="ttc" id="adlp_8c_html_ae7892afecc1f271dac5596703412a63b"><div class="ttname"><a href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b">dlp_OpenConduit</a></div><div class="ttdeci">int dlp_OpenConduit(int sd)</div><div class="ttdef"><b>Definition</b> dlp.c:1880</div></div>
<div class="ttc" id="anamespacepisock_html_af10dacfa214e2575bb2e0ee407c242e0"><div class="ttname"><a href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">pisock.error</a></div><div class="ttdeci">error</div><div class="ttdef"><b>Definition</b> pisock.py:41</div></div>
<div class="ttc" id="apd-tty_8c_html_a1ea5d0cb93f22f7d0fdf804bd68c3326"><div class="ttname"><a href="pd-tty_8c.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">mode</a></div><div class="ttdeci">static int mode</div><div class="ttdef"><b>Definition</b> pd-tty.c:194</div></div>
<div class="ttc" id="apilot-clip_8c_html_a52d2269ff8e26b11e23c3c7f7851c0ea"><div class="ttname"><a href="#a52d2269ff8e26b11e23c3c7f7851c0ea">SetClip</a></div><div class="ttdeci">static int SetClip(int sock, int type, void *data, int length)</div><div class="ttdef"><b>Definition</b> pilot-clip.c:73</div></div>
<div class="ttc" id="apilot-clip_8c_html_ac4b2831b8e52f0b60459e37158ec273d"><div class="ttname"><a href="#ac4b2831b8e52f0b60459e37158ec273d">GetClip</a></div><div class="ttdeci">static void * GetClip(int sock, int type, int *length)</div><div class="ttdef"><b>Definition</b> pilot-clip.c:31</div></div>
<div class="ttc" id="apilot-install-memo_8c_html_a2443128754f8d7ca4b43f362af82eca9"><div class="ttname"><a href="pilot-install-memo_8c.html#a2443128754f8d7ca4b43f362af82eca9">po</a></div><div class="ttdeci">poptContext po</div><div class="ttdef"><b>Definition</b> pilot-install-memo.c:31</div></div>
<div class="ttc" id="apilot-install-user_8c_html_a145180624d42b5fa57bff49541e32c6a"><div class="ttname"><a href="pilot-install-user_8c.html#a145180624d42b5fa57bff49541e32c6a">options</a></div><div class="ttdeci">const struct poptOption options[]</div><div class="ttdef"><b>Definition</b> pilot-install-user.c:33</div></div>
<div class="ttc" id="apilot-xfer_8c_html_a06b0afe769d54ae94259d8532bc878b0"><div class="ttname"><a href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a></div><div class="ttdeci">int sd</div><div class="ttdef"><b>Definition</b> pilot-xfer.c:107</div></div>
<div class="ttc" id="asocket_8c_html_acc90bbb82f9a58d3635166976e9f3484"><div class="ttname"><a href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484">pi_close</a></div><div class="ttdeci">int pi_close(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1415</div></div>
<div class="ttc" id="auserland_8c_html_a21d841df63f1c93b1fc98b4b4a8b0bbc"><div class="ttname"><a href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc">plu_connect</a></div><div class="ttdeci">int plu_connect()</div><div class="ttdef"><b>Definition</b> userland.c:37</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>, <a class="el" href="#l01880">dlp_OpenConduit()</a>, <a class="el" href="#l00031">GetClip()</a>, <a class="el" href="#l00194">mode</a>, <a class="el" href="#l00033">options</a>, <a class="el" href="#l01415">pi_close()</a>, <a class="el" href="#l00037">plu_connect()</a>, <a class="el" href="#l00031">po</a>, <a class="el" href="#l00107">sd</a>, and <a class="el" href="#l00073">SetClip()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-clip_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph.png" border="0" usemap="#apilot-clip_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph" alt=""/></div>
<map name="apilot-clip_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph" id="apilot-clip_8c_ac0f2228420376f4db7e1274f2b41667c_cgraph">
<area shape="rect" title=" " alt="" coords="5,699,55,725"/>
<area shape="rect" href="dlp_8c.html#ae7892afecc1f271dac5596703412a63b" title=" " alt="" coords="551,1246,672,1272"/>
<area shape="poly" title=" " alt="" coords="55,706,111,702,185,705,226,711,266,721,304,737,339,759,368,785,391,811,409,837,422,864,439,919,448,974,455,1031,468,1089,492,1148,510,1178,534,1209,568,1236,564,1240,530,1213,506,1182,487,1151,463,1091,450,1032,443,975,434,920,417,866,404,840,387,814,364,789,336,763,302,742,264,726,225,716,185,710,111,707,55,711"/>
<area shape="rect" href="pilot-clip_8c.html#ac4b2831b8e52f0b60459e37158ec273d" title=" " alt="" coords="116,750,181,776"/>
<area shape="poly" title=" " alt="" coords="56,720,104,741,102,746,54,725"/>
<area shape="rect" href="socket_8c.html#acc90bbb82f9a58d3635166976e9f3484" title=" " alt="" coords="400,496,469,522"/>
<area shape="poly" title=" " alt="" coords="54,698,392,527,395,532,56,702"/>
<area shape="rect" href="userland_8c.html#a21d841df63f1c93b1fc98b4b4a8b0bbc" title=" " alt="" coords="103,471,194,497"/>
<area shape="poly" title=" " alt="" coords="36,698,131,509,136,512,40,700"/>
<area shape="rect" href="pilot-clip_8c.html#a52d2269ff8e26b11e23c3c7f7851c0ea" title=" " alt="" coords="116,799,180,825"/>
<area shape="poly" title=" " alt="" coords="43,723,70,754,104,786,108,788,104,793,101,790,66,757,39,727"/>
<area shape="poly" title=" " alt="" coords="581,1247,576,1237,579,1228,591,1221,611,1219,633,1222,644,1228,641,1233,631,1227,611,1224,593,1226,583,1231,581,1237,586,1244"/>
<area shape="rect" href="dlp_8c.html#abc04e2934d3630d69e4bcbb45a072f16" title=" " alt="" coords="766,1099,839,1125"/>
<area shape="poly" title=" " alt="" coords="639,1243,665,1228,689,1209,704,1190,712,1172,721,1154,737,1135,751,1126,754,1131,741,1139,725,1157,717,1174,708,1193,693,1213,668,1232,642,1248"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="1453,1223,1543,1249"/>
<area shape="poly" title=" " alt="" coords="623,1270,640,1297,667,1330,700,1361,740,1386,798,1399,901,1407,1046,1402,1133,1393,1231,1379,1308,1362,1340,1349,1380,1328,1430,1294,1471,1258,1475,1262,1433,1298,1383,1333,1343,1354,1310,1367,1231,1384,1134,1399,1046,1408,901,1413,797,1405,738,1390,697,1366,663,1333,636,1300,618,1273"/>
<area shape="rect" href="socket_8c.html#a6d145a62ddf40544ae37407640b0e353" title=" " alt="" coords="1122,1451,1202,1477"/>
<area shape="poly" title=" " alt="" coords="620,1271,635,1305,661,1349,696,1394,717,1414,740,1430,786,1451,835,1465,885,1474,935,1479,1030,1479,1106,1471,1107,1476,1030,1484,935,1485,884,1480,834,1470,784,1456,738,1434,714,1418,692,1398,656,1352,631,1307,615,1273"/>
<area shape="rect" href="dlp_8c.html#a0de7f4a564ecc2722587f714e85e4b19" title=" " alt="" coords="744,1150,861,1176"/>
<area shape="poly" title=" " alt="" coords="632,1243,680,1215,738,1184,749,1179,751,1184,740,1189,682,1219,635,1248"/>
<area shape="rect" href="dlp_8c.html#a0343d3907222faa9d3b51fde64afce0e" title=" " alt="" coords="743,1248,862,1274"/>
<area shape="poly" title=" " alt="" coords="672,1257,728,1258,728,1263,672,1262"/>
<area shape="rect" href="dlp_8c.html#a756cc365dac867567e63f818cd975268" title=" " alt="" coords="739,1199,866,1225"/>
<area shape="poly" title=" " alt="" coords="667,1243,732,1226,733,1232,668,1248"/>
<area shape="rect" href="socket_8c.html#a4abe9b686262eeec637d6990e57d8f6a" title=" " alt="" coords="749,1350,856,1376"/>
<area shape="poly" title=" " alt="" coords="637,1270,740,1328,762,1340,760,1345,738,1333,634,1274"/>
<area shape="rect" href="dlp_8c.html#adbcfa8ce4f9b2bcf9e7938eb2f27221d" title=" " alt="" coords="918,747,1041,773"/>
<area shape="poly" title=" " alt="" coords="808,1098,864,980,877,942,885,910,895,879,912,841,932,810,954,783,958,786,937,813,917,844,900,881,891,912,882,943,869,982,813,1100"/>
<area shape="poly" title=" " alt="" coords="838,1123,982,1181,1093,1221,1145,1231,1185,1235,1279,1237,1438,1236,1438,1242,1279,1243,1185,1240,1144,1237,1092,1227,980,1185,836,1128"/>
<area shape="rect" href="dlp_8c.html#a469476bd7495dcaa314f1952f130f679" title=" " alt="" coords="914,1098,1045,1124"/>
<area shape="poly" title=" " alt="" coords="840,1109,899,1109,899,1114,840,1114"/>
<area shape="rect" href="socket_8c.html#abc47198f50210793f9e8151cbef90c4d" title=" " alt="" coords="1093,848,1231,874"/>
<area shape="poly" title=" " alt="" coords="822,1096,1128,881,1131,885,825,1101"/>
<area shape="rect" href="dlp_8c.html#aecd93c7895b4c6c2282b911eaaf9a46e" title=" " alt="" coords="1118,747,1206,773"/>
<area shape="poly" title=" " alt="" coords="1042,757,1103,757,1103,763,1042,763"/>
<area shape="rect" href="socket_8c.html#ac087e3021464b4aa649a041c8f547088" title=" " alt="" coords="1129,648,1195,674"/>
<area shape="poly" title=" " alt="" coords="996,745,1038,714,1091,683,1113,674,1115,679,1094,688,1041,719,999,749"/>
<area shape="poly" title=" " alt="" coords="1030,771,1235,832,1331,865,1364,879,1383,891,1413,929,1438,970,1457,1015,1472,1060,1490,1144,1498,1207,1492,1208,1485,1144,1466,1061,1452,1017,1433,973,1409,932,1380,895,1362,884,1329,870,1233,837,1029,776"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="1129,698,1195,724"/>
<area shape="poly" title=" " alt="" coords="1029,744,1113,721,1114,726,1031,749"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="1632,547,1738,573"/>
<area shape="poly" title=" " alt="" coords="1196,661,1264,663,1357,661,1462,650,1515,640,1566,627,1613,606,1653,580,1656,584,1616,610,1568,632,1516,646,1463,656,1358,666,1264,669,1195,666"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="1281,547,1379,573"/>
<area shape="poly" title=" " alt="" coords="1184,646,1293,579,1296,583,1187,650"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="1810,395,1915,421"/>
<area shape="poly" title=" " alt="" coords="1700,544,1833,429,1836,433,1703,549"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="1803,344,1922,370"/>
<area shape="poly" title=" " alt="" coords="1689,545,1729,469,1761,422,1801,381,1807,376,1811,380,1805,385,1765,426,1733,472,1694,548"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="1819,547,1906,573"/>
<area shape="poly" title=" " alt="" coords="1738,557,1803,557,1803,563,1738,563"/>
<area shape="poly" title=" " alt="" coords="1500,1222,1673,587,1679,588,1505,1224"/>
<area shape="poly" title=" " alt="" coords="997,1122,1039,1154,1066,1170,1094,1183,1185,1209,1279,1225,1367,1232,1438,1234,1438,1240,1367,1238,1279,1230,1184,1214,1092,1188,1063,1175,1036,1158,994,1126"/>
<area shape="rect" href="dlp_8c.html#a032b2d86af38002420c06e64d8742ee4" title=" " alt="" coords="1115,1299,1209,1325"/>
<area shape="poly" title=" " alt="" coords="995,1122,1141,1286,1137,1289,991,1126"/>
<area shape="rect" href="dlp_8c.html#a14b12dff7b24abac1f09697c7b3eaa13" title=" " alt="" coords="1097,1048,1226,1074"/>
<area shape="poly" title=" " alt="" coords="1029,1095,1096,1076,1097,1081,1031,1100"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="1112,1098,1212,1124"/>
<area shape="poly" title=" " alt="" coords="1045,1108,1096,1108,1096,1113,1045,1113"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="1111,1147,1213,1173"/>
<area shape="poly" title=" " alt="" coords="1031,1122,1097,1140,1096,1145,1029,1127"/>
<area shape="rect" href="debug_8c.html#ac942525fcc03cc9c77dfe0628ade03b9" title=" " alt="" coords="1114,950,1210,976"/>
<area shape="poly" title=" " alt="" coords="987,1096,1028,1043,1057,1012,1091,984,1099,980,1102,984,1094,989,1061,1016,1032,1046,991,1099"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="1130,999,1194,1025"/>
<area shape="poly" title=" " alt="" coords="996,1095,1038,1065,1091,1034,1114,1024,1116,1029,1094,1038,1041,1070,999,1100"/>
<area shape="poly" title=" " alt="" coords="986,1096,1028,1026,1091,936,1135,884,1139,888,1095,939,1033,1029,991,1099"/>
<area shape="poly" title=" " alt="" coords="990,1123,1047,1235,1095,1336,1148,1436,1144,1439,1090,1339,1042,1237,985,1125"/>
<area shape="poly" title=" " alt="" coords="1197,846,1360,774,1464,721,1565,660,1616,621,1658,582,1662,586,1620,625,1568,665,1467,726,1362,779,1199,850"/>
<area shape="poly" title=" " alt="" coords="1203,1464,1291,1468,1399,1468,1453,1464,1500,1457,1539,1447,1565,1431,1576,1414,1587,1385,1607,1296,1626,1177,1642,1042,1666,772,1679,588,1684,588,1672,773,1647,1042,1631,1178,1613,1297,1592,1387,1581,1417,1569,1435,1541,1451,1501,1463,1453,1470,1400,1473,1291,1474,1202,1470"/>
<area shape="rect" href="socket_8c.html#a082db14a855d890be5f3e23b2ebb12e5" title=" " alt="" coords="1279,1400,1381,1426"/>
<area shape="poly" title=" " alt="" coords="1202,1449,1270,1429,1272,1434,1203,1455"/>
<area shape="poly" title=" " alt="" coords="1382,1421,1426,1426,1476,1424,1524,1412,1546,1401,1565,1386,1585,1360,1603,1325,1619,1283,1632,1233,1653,1120,1667,995,1676,870,1680,754,1681,589,1687,589,1685,754,1681,870,1672,996,1658,1121,1637,1234,1624,1284,1608,1328,1590,1363,1569,1390,1548,1406,1526,1417,1476,1429,1426,1431,1381,1427"/>
<area shape="poly" title=" " alt="" coords="1354,1398,1380,1379,1436,1318,1478,1260,1482,1263,1440,1321,1383,1383,1358,1402"/>
<area shape="rect" href="socket_8c.html#aaeefde34eb00f88065ce7a51dd03a8e6" title=" " alt="" coords="1429,1350,1567,1376"/>
<area shape="poly" title=" " alt="" coords="1375,1397,1438,1378,1439,1383,1376,1402"/>
<area shape="rect" href="dlp_8c.html#ae92dd2edab1c8ed95d762ea1725b5431" title=" " alt="" coords="933,1248,1026,1274"/>
<area shape="poly" title=" " alt="" coords="846,1174,868,1184,892,1206,916,1227,935,1239,932,1243,913,1231,889,1210,865,1189,844,1179"/>
<area shape="poly" title=" " alt="" coords="857,1272,915,1284,1012,1297,1100,1305,1099,1310,1012,1302,914,1289,856,1277"/>
<area shape="poly" title=" " alt="" coords="863,1259,918,1259,918,1264,863,1264"/>
<area shape="poly" title=" " alt="" coords="852,1223,919,1242,918,1247,851,1228"/>
<area shape="poly" title=" " alt="" coords="823,1374,877,1411,958,1457,1006,1478,1056,1496,1108,1508,1161,1512,1332,1512,1403,1516,1461,1520,1488,1518,1513,1510,1538,1495,1565,1472,1576,1453,1587,1422,1607,1328,1626,1203,1642,1061,1666,780,1679,588,1685,589,1672,780,1647,1062,1631,1204,1613,1329,1592,1423,1581,1455,1569,1475,1541,1499,1515,1515,1489,1523,1461,1525,1403,1522,1331,1517,1160,1517,1107,1513,1054,1501,1004,1483,956,1462,874,1416,820,1378"/>
<area shape="rect" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec" title=" " alt="" coords="250,774,330,800"/>
<area shape="poly" title=" " alt="" coords="182,766,235,775,234,780,181,771"/>
<area shape="poly" title=" " alt="" coords="469,496,531,481,666,461,801,456,1332,456,1376,458,1421,465,1507,486,1584,512,1644,538,1642,543,1582,517,1506,491,1420,470,1375,464,1331,461,801,461,666,466,532,487,470,502"/>
<area shape="poly" title=" " alt="" coords="461,494,482,482,530,452,603,414,661,383,689,371,721,362,758,357,801,355,1332,355,1795,399,1794,404,1331,360,801,360,758,362,722,367,691,376,663,388,606,419,533,457,485,486,463,498"/>
<area shape="poly" title=" " alt="" coords="466,494,482,482,497,460,504,438,512,416,530,394,596,346,625,330,655,318,719,307,801,304,1499,304,1628,310,1755,329,1797,338,1796,343,1755,335,1627,315,1499,309,801,309,720,312,656,324,627,335,598,350,534,398,517,419,509,440,502,462,486,486,469,498"/>
<area shape="poly" title=" " alt="" coords="470,518,532,532,605,537,699,538,866,539,1266,554,1266,560,866,544,699,544,604,542,531,537,469,523"/>
<area shape="rect" href="dlp_8c.html#a27617d8e73e875c7df186ee02fd96b43" title=" " alt="" coords="555,1099,668,1125"/>
<area shape="poly" title=" " alt="" coords="465,521,486,540,509,586,530,650,566,808,593,968,609,1084,604,1084,588,969,561,809,525,651,504,588,482,543,461,525"/>
<area shape="rect" href="socket_8c.html#ab636d5244f935701991791240583295a" title=" " alt="" coords="532,598,691,624"/>
<area shape="poly" title=" " alt="" coords="458,521,485,539,509,559,533,576,559,589,556,594,530,581,505,563,482,543,455,525"/>
<area shape="rect" href="socket_8c.html#af6e9a4a5aabc48480dbd6961d24819ec" title=" " alt="" coords="557,496,666,522"/>
<area shape="poly" title=" " alt="" coords="470,507,541,507,541,512,470,512"/>
<area shape="poly" title=" " alt="" coords="668,1109,750,1109,750,1115,668,1115"/>
<area shape="poly" title=" " alt="" coords="615,1098,646,1018,706,895,747,826,795,758,850,694,913,639,954,611,999,588,1045,569,1093,553,1192,532,1291,522,1388,520,1477,525,1617,544,1617,549,1476,531,1387,526,1292,527,1193,537,1095,558,1047,574,1001,593,957,616,916,643,854,698,799,761,751,829,711,897,651,1021,620,1100"/>
<area shape="poly" title=" " alt="" coords="623,1097,675,1049,758,987,808,957,862,932,919,916,978,909,1163,909,1195,912,1225,919,1281,945,1332,983,1376,1030,1414,1079,1446,1128,1487,1208,1483,1210,1441,1131,1410,1082,1372,1033,1328,987,1279,950,1223,924,1194,917,1163,915,978,915,920,921,864,937,811,962,761,991,679,1053,627,1101"/>
<area shape="poly" title=" " alt="" coords="663,1123,738,1143,736,1148,662,1128"/>
<area shape="poly" title=" " alt="" coords="669,1120,693,1134,705,1147,712,1160,718,1186,724,1211,730,1223,741,1235,744,1238,740,1242,737,1239,726,1226,719,1213,713,1187,707,1162,700,1150,689,1138,667,1125"/>
<area shape="poly" title=" " alt="" coords="669,1122,692,1134,708,1147,717,1160,726,1173,741,1186,747,1190,744,1194,737,1190,722,1177,713,1163,704,1151,690,1138,667,1127"/>
<area shape="poly" title=" " alt="" coords="669,1119,693,1134,708,1153,717,1171,724,1206,727,1244,732,1264,741,1285,759,1313,779,1336,775,1340,755,1316,737,1288,727,1265,722,1244,719,1207,712,1173,704,1156,689,1138,666,1124"/>
<area shape="poly" title=" " alt="" coords="581,1100,576,1091,579,1081,591,1075,611,1073,633,1075,644,1082,641,1086,631,1080,611,1078,593,1080,583,1084,581,1090,586,1097"/>
<area shape="poly" title=" " alt="" coords="173,495,355,607,486,692,505,728,518,763,525,797,528,830,523,892,510,953,497,1013,492,1075,495,1107,502,1139,515,1174,534,1209,546,1224,562,1236,559,1240,543,1228,529,1212,510,1176,497,1141,490,1107,487,1075,492,1012,505,952,517,891,522,830,520,798,513,765,500,730,482,695,352,612,170,500"/>
<area shape="poly" title=" " alt="" coords="195,485,385,502,384,508,194,491"/>
<area shape="rect" href="dlp_8c.html#a9f0c8f272d342b38d3c05c2e1906d08d" title=" " alt="" coords="551,1172,672,1198"/>
<area shape="poly" title=" " alt="" coords="195,493,365,541,444,568,471,580,486,590,498,612,507,638,517,703,518,779,515,862,511,944,510,1022,517,1088,524,1114,534,1136,546,1151,562,1162,559,1167,543,1154,529,1139,519,1116,512,1089,505,1022,506,944,509,861,513,779,511,703,502,639,494,614,482,594,468,584,442,573,364,546,194,498"/>
<area shape="rect" href="socket_8c.html#a822f6b3639c99cb43468b11ff7c41799" title=" " alt="" coords="242,446,337,472"/>
<area shape="poly" title=" " alt="" coords="194,473,226,467,227,473,195,478"/>
<area shape="rect" href="socket_8c.html#affbe18c8f2af556dffc3ac354fbf957d" title=" " alt="" coords="258,167,321,193"/>
<area shape="poly" title=" " alt="" coords="151,470,181,370,207,302,240,236,264,203,268,206,244,239,212,304,186,372,156,471"/>
<area shape="rect" href="socket_8c.html#a251bfe75de5f2d1c4ff58701c887a4e0" title=" " alt="" coords="1296,243,1365,269"/>
<area shape="poly" title=" " alt="" coords="155,469,191,415,219,380,252,343,291,309,335,280,382,261,433,253,981,253,1280,253,1280,259,981,259,433,259,384,266,337,285,294,313,256,347,223,383,195,418,159,472"/>
<area shape="rect" href="socket_8c.html#aa2d1d1b59340099588ea7bc15508745b" title=" " alt="" coords="1459,67,1537,93"/>
<area shape="poly" title=" " alt="" coords="148,470,164,365,183,289,209,208,246,131,269,96,294,65,324,40,356,20,393,7,433,3,1163,3,1242,8,1320,23,1390,41,1448,59,1446,64,1389,46,1319,28,1241,14,1163,8,433,8,394,12,359,25,327,44,298,69,273,99,250,133,214,210,188,290,170,366,154,471"/>
<area shape="poly" title=" " alt="" coords="646,1169,752,1128,754,1133,648,1174"/>
<area shape="poly" title=" " alt="" coords="640,1170,665,1155,689,1135,751,1064,790,1002,864,847,877,815,883,788,893,761,912,733,954,693,993,668,1036,651,1092,633,1196,611,1340,590,1616,563,1617,568,1341,596,1197,616,1093,639,1038,656,995,673,957,697,916,736,897,764,889,789,882,816,869,849,795,1004,756,1068,693,1139,668,1159,643,1174"/>
<area shape="poly" title=" " alt="" coords="674,1196,693,1207,710,1227,717,1248,724,1267,741,1284,783,1304,840,1320,907,1332,979,1339,1121,1344,1182,1341,1231,1335,1294,1319,1356,1298,1457,1253,1459,1258,1358,1303,1296,1324,1231,1340,1183,1346,1121,1349,979,1345,906,1337,839,1325,781,1309,737,1289,719,1270,712,1250,705,1230,689,1211,671,1201"/>
<area shape="poly" title=" " alt="" coords="672,1176,729,1169,730,1174,673,1181"/>
<area shape="poly" title=" " alt="" coords="664,1196,692,1207,716,1221,740,1235,751,1240,749,1245,738,1240,714,1225,690,1212,662,1201"/>
<area shape="poly" title=" " alt="" coords="673,1191,724,1198,724,1204,672,1196"/>
<area shape="poly" title=" " alt="" coords="674,1195,693,1207,706,1223,714,1238,719,1268,724,1298,730,1313,741,1329,754,1340,750,1344,737,1332,725,1316,718,1300,714,1269,708,1240,701,1226,689,1211,671,1200"/>
<area shape="poly" title=" " alt="" coords="581,1174,576,1164,579,1154,591,1148,611,1146,633,1148,644,1155,641,1160,631,1153,611,1151,593,1153,583,1158,581,1163,586,1171"/>
<area shape="poly" title=" " alt="" coords="335,443,385,431,497,411,610,405,1332,405,1400,408,1454,418,1505,437,1568,467,1619,500,1661,534,1658,538,1616,504,1565,472,1503,442,1453,423,1400,414,1331,411,610,411,497,416,386,436,336,448"/>
<area shape="poly" title=" " alt="" coords="330,470,386,490,385,495,328,475"/>
<area shape="rect" href="socket_8c.html#a74cb1559592c8a983bfe0c9b0d04e689" title=" " alt="" coords="394,446,475,472"/>
<area shape="poly" title=" " alt="" coords="338,456,379,456,379,461,338,461"/>
<area shape="rect" href="socket_8c.html#a970e724b72986d947471a345e67a119b" title=" " alt="" coords="385,142,484,168"/>
<area shape="poly" title=" " alt="" coords="321,172,370,163,371,169,322,177"/>
<area shape="poly" title=" " alt="" coords="481,165,532,177,666,198,801,203,1331,203,1365,201,1386,203,1411,210,1442,223,1477,245,1519,278,1569,325,1609,376,1641,433,1664,488,1678,531,1673,533,1659,489,1636,435,1605,379,1565,328,1516,282,1474,249,1439,228,1410,215,1385,208,1365,207,1332,208,801,208,666,203,531,183,480,171"/>
<area shape="rect" href="bluetooth_8c.html#a24b1126547be11c99add23f2ff902147" title=" " alt="" coords="543,142,680,168"/>
<area shape="poly" title=" " alt="" coords="484,152,527,152,527,157,484,157"/>
<area shape="rect" href="inet_8c.html#a4eb490f2821f8a144bd9940e66d11354" title=" " alt="" coords="559,43,664,69"/>
<area shape="poly" title=" " alt="" coords="448,139,484,109,530,78,543,72,546,76,533,82,487,113,451,143"/>
<area shape="rect" href="serial_8c.html#ae73e19d76cbb99f66343c25eef4f73eb" title=" " alt="" coords="554,92,668,118"/>
<area shape="poly" title=" " alt="" coords="483,139,547,120,549,125,484,144"/>
<area shape="poly" title=" " alt="" coords="1366,267,1462,313,1517,347,1568,387,1602,423,1631,462,1672,531,1668,534,1626,465,1598,426,1565,391,1514,352,1460,318,1364,272"/>
<area shape="rect" href="socket_8c.html#aeb6cb5d5a1d0d9e5ed6222318ec7e2fe" title=" " alt="" coords="1632,43,1738,69"/>
<area shape="poly" title=" " alt="" coords="1537,72,1616,62,1617,67,1537,78"/>
<area shape="rect" href="socket_8c.html#adb4121505778ba4f07deb4ffd88a8a5e" title=" " alt="" coords="1647,92,1723,118"/>
<area shape="poly" title=" " alt="" coords="1537,83,1632,96,1631,101,1537,88"/>
<area shape="rect" href="socket_8c.html#aeb10f9e94747279130170a2e215372b2" title=" " alt="" coords="1615,344,1755,370"/>
<area shape="poly" title=" " alt="" coords="1510,92,1669,330,1664,333,1506,95"/>
<area shape="poly" title=" " alt="" coords="1733,368,1802,388,1800,393,1732,373"/>
<area shape="poly" title=" " alt="" coords="1755,355,1787,355,1787,360,1755,360"/>
<area shape="poly" title=" " alt="" coords="181,804,234,794,235,799,182,809"/>
</map>
</div>

</div>
</div>
<a id="a52d2269ff8e26b11e23c3c7f7851c0ea" name="a52d2269ff8e26b11e23c3c7f7851c0ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52d2269ff8e26b11e23c3c7f7851c0ea">&#9670;&#160;</a></span>SetClip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int SetClip </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   74</span>{</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordtype">int</span>     err;</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordtype">char</span>    *b = data;</div>
<div class="line"><span class="lineno">   77</span>    <span class="keyword">struct  </span>RPC_params p;</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> handle, ptr;</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    <span class="comment">/* MemHandleNew */</span></div>
<div class="line"><span class="lineno">   81</span>    <a class="code hl_function" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a>(&amp;p, 0xA01E, RPC_PtrReply, RPC_Long(length), RPC_End);</div>
<div class="line"><span class="lineno">   82</span>    err = dlp_RPC(sock, &amp;p, &amp;handle);</div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">if</span> (err)</div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">if</span> (!handle)</div>
<div class="line"><span class="lineno">   87</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">/* MemHandleLock */</span></div>
<div class="line"><span class="lineno">   90</span>    <a class="code hl_function" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a>(&amp;p, 0xA021, RPC_PtrReply, RPC_Long(handle), RPC_End);</div>
<div class="line"><span class="lineno">   91</span>    err = dlp_RPC(sock, &amp;p, &amp;ptr);</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">if</span> (err)</div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="comment">/* MemMove */</span></div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_function" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a>(&amp;p, 0xA026, RPC_IntReply, RPC_Long(ptr),</div>
<div class="line"><span class="lineno">   98</span>        RPC_Ptr(b, length), RPC_Long(length), RPC_End);</div>
<div class="line"><span class="lineno">   99</span>    err = dlp_RPC(sock, &amp;p, 0);</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    length--;</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <span class="comment">/* ClipboardAddItem */</span></div>
<div class="line"><span class="lineno">  104</span>    <a class="code hl_function" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a>(&amp;p, 0xA10A, RPC_IntReply, RPC_Byte(type), RPC_Long(ptr),</div>
<div class="line"><span class="lineno">  105</span>        RPC_Short(length), RPC_End);</div>
<div class="line"><span class="lineno">  106</span>    err = dlp_RPC(sock, &amp;p, 0);</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>    <span class="comment">/* MemPtrFree */</span></div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_function" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a>(&amp;p, 0xA012, RPC_IntReply, RPC_Long(ptr), RPC_End);</div>
<div class="line"><span class="lineno">  110</span>    err = dlp_RPC(sock, &amp;p, 0);</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  112</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00835">PackRPC()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00115">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-clip_8c_a52d2269ff8e26b11e23c3c7f7851c0ea_cgraph.png" border="0" usemap="#apilot-clip_8c_a52d2269ff8e26b11e23c3c7f7851c0ea_cgraph" alt=""/></div>
<map name="apilot-clip_8c_a52d2269ff8e26b11e23c3c7f7851c0ea_cgraph" id="apilot-clip_8c_a52d2269ff8e26b11e23c3c7f7851c0ea_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,70,31"/>
<area shape="rect" href="syspkt_8c.html#a8d9588d3d9c10a6470f60ec1158319ec" title=" " alt="" coords="118,5,198,31"/>
<area shape="poly" title=" " alt="" coords="70,16,102,16,102,21,70,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pilot-clip_8c_a52d2269ff8e26b11e23c3c7f7851c0ea_icgraph.png" border="0" usemap="#apilot-clip_8c_a52d2269ff8e26b11e23c3c7f7851c0ea_icgraph" alt=""/></div>
<map name="apilot-clip_8c_a52d2269ff8e26b11e23c3c7f7851c0ea_icgraph" id="apilot-clip_8c_a52d2269ff8e26b11e23c3c7f7851c0ea_icgraph">
<area shape="rect" title=" " alt="" coords="103,5,167,31"/>
<area shape="rect" href="pilot-clip_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="pilot-clip_8c.html">pilot-clip.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
