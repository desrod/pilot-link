<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pilot-link: libpisock/syspkt.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pilot-link
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('syspkt_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">syspkt.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;pi-source.h&quot;</code><br />
<code>#include &quot;pi-syspkt.h&quot;</code><br />
<code>#include &quot;pi-slp.h&quot;</code><br />
<code>#include &quot;pi-serial.h&quot;</code><br />
<code>#include &quot;pi-error.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for syspkt.c:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c__incl.png" border="0" usemap="#alibpisock_2syspkt_8c" alt=""/></div>
<map name="alibpisock_2syspkt_8c" id="alibpisock_2syspkt_8c">
<area shape="rect" title=" " alt="" coords="536,5,662,31"/>
<area shape="rect" title=" " alt="" coords="5,79,95,105"/>
<area shape="poly" title=" " alt="" coords="536,28,350,49,110,81,110,76,349,43,536,23"/>
<area shape="rect" title=" " alt="" coords="119,79,216,105"/>
<area shape="poly" title=" " alt="" coords="536,32,231,81,230,76,536,26"/>
<area shape="rect" title=" " alt="" coords="239,79,325,105"/>
<area shape="poly" title=" " alt="" coords="546,34,341,80,340,75,545,29"/>
<area shape="rect" title=" " alt="" coords="349,79,412,105"/>
<area shape="poly" title=" " alt="" coords="563,34,428,78,427,73,561,29"/>
<area shape="rect" title=" " alt="" coords="436,79,496,105"/>
<area shape="poly" title=" " alt="" coords="578,34,503,74,501,69,575,29"/>
<area shape="rect" title=" " alt="" coords="520,79,588,105"/>
<area shape="poly" title=" " alt="" coords="594,33,572,67,567,64,590,30"/>
<area shape="rect" title=" " alt="" coords="612,79,677,105"/>
<area shape="poly" title=" " alt="" coords="609,30,631,64,627,67,605,33"/>
<area shape="rect" title=" " alt="" coords="701,79,786,105"/>
<area shape="poly" title=" " alt="" coords="625,29,707,69,704,74,623,34"/>
<area shape="rect" title=" " alt="" coords="810,79,895,105"/>
<area shape="poly" title=" " alt="" coords="643,29,796,72,794,77,642,34"/>
<area shape="rect" title=" " alt="" coords="920,79,983,105"/>
<area shape="poly" title=" " alt="" coords="663,28,905,76,904,81,662,33"/>
<area shape="rect" title=" " alt="" coords="1007,79,1085,105"/>
<area shape="poly" title=" " alt="" coords="663,25,810,46,992,76,991,81,809,51,663,30"/>
<area shape="rect" title=" " alt="" coords="1109,79,1180,105"/>
<area shape="poly" title=" " alt="" coords="663,22,852,41,1094,76,1094,81,852,47,663,27"/>
</map>
</div>
</div>
<p><a href="">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a09e924e712e1538a4838136c4874ed3c" id="r_a09e924e712e1538a4838136c4874ed3c"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09e924e712e1538a4838136c4874ed3c">DoRPC</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, int sockaddr, struct RPC_params *p, int *error)</td></tr>
<tr class="separator:a09e924e712e1538a4838136c4874ed3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc4123893b679d1063548b150e5342c" id="r_a1fc4123893b679d1063548b150e5342c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fc4123893b679d1063548b150e5342c">InvertRPC</a> (struct RPC_params *p)</td></tr>
<tr class="separator:a1fc4123893b679d1063548b150e5342c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d9588d3d9c10a6470f60ec1158319ec" id="r_a8d9588d3d9c10a6470f60ec1158319ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d9588d3d9c10a6470f60ec1158319ec">PackRPC</a> (struct RPC_params *p, int trap, int reply,...)</td></tr>
<tr class="separator:a8d9588d3d9c10a6470f60ec1158319ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd3fb2816518fe159da889a1a868dca" id="r_a3dd3fb2816518fe159da889a1a868dca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3dd3fb2816518fe159da889a1a868dca">RPC</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, int sockaddr, int trap, int reply,...)</td></tr>
<tr class="separator:a3dd3fb2816518fe159da889a1a868dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae69ab83909ee3284c76c8a2dedd56540" id="r_ae69ab83909ee3284c76c8a2dedd56540"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae69ab83909ee3284c76c8a2dedd56540">RPC_Int_Void</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, int trap)</td></tr>
<tr class="separator:ae69ab83909ee3284c76c8a2dedd56540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a336c889b0466da587152a137cf2752b5" id="r_a336c889b0466da587152a137cf2752b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a336c889b0466da587152a137cf2752b5">RPC_Ptr_Void</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, int trap)</td></tr>
<tr class="separator:a336c889b0466da587152a137cf2752b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af43f37804a6985f7f6c6bcef623346" id="r_a1af43f37804a6985f7f6c6bcef623346"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1af43f37804a6985f7f6c6bcef623346">sys_Continue</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, struct Pilot_registers *r, struct Pilot_watch *w)</td></tr>
<tr class="separator:a1af43f37804a6985f7f6c6bcef623346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf45bfdbf1eb690727d1d24374ad5c8" id="r_a5cf45bfdbf1eb690727d1d24374ad5c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5cf45bfdbf1eb690727d1d24374ad5c8">sys_Find</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, unsigned long startaddr, unsigned long stopaddr, size_t len, int caseinsensitive, void *data, unsigned long *found)</td></tr>
<tr class="separator:a5cf45bfdbf1eb690727d1d24374ad5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc0400c6fbb378913c1c10658d43dda0" id="r_adc0400c6fbb378913c1c10658d43dda0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc0400c6fbb378913c1c10658d43dda0">sys_GetTrapBreaks</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, int *traps)</td></tr>
<tr class="separator:adc0400c6fbb378913c1c10658d43dda0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d3ce499c302409fc2cbcae351c7c8d8" id="r_a4d3ce499c302409fc2cbcae351c7c8d8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d3ce499c302409fc2cbcae351c7c8d8">sys_PackRegisters</a> (void *data, struct Pilot_registers *r)</td></tr>
<tr class="separator:a4d3ce499c302409fc2cbcae351c7c8d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927d0d557f5acb49f47471ff6f1dc7e6" id="r_a927d0d557f5acb49f47471ff6f1dc7e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a927d0d557f5acb49f47471ff6f1dc7e6">sys_QueryState</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>)</td></tr>
<tr class="separator:a927d0d557f5acb49f47471ff6f1dc7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a7aad36022bce1fc0bcc8f05df755bf" id="r_a1a7aad36022bce1fc0bcc8f05df755bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a7aad36022bce1fc0bcc8f05df755bf">sys_ReadMemory</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, unsigned long addr, unsigned long len, void *dest)</td></tr>
<tr class="separator:a1a7aad36022bce1fc0bcc8f05df755bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bd168aecc209206a5c39f9bb4b0e816" id="r_a2bd168aecc209206a5c39f9bb4b0e816"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2bd168aecc209206a5c39f9bb4b0e816">sys_RemoteEvent</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, int penDown, int x, int y, int keypressed, int keymod, int keyasc, int keycode)</td></tr>
<tr class="separator:a2bd168aecc209206a5c39f9bb4b0e816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abebb0faa35c3035234bbb24ac92f6402" id="r_abebb0faa35c3035234bbb24ac92f6402"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abebb0faa35c3035234bbb24ac92f6402">sys_RPC</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, int sockaddr, int trap, long *D0, long *A0, int params, struct RPC_param *param, int reply)</td></tr>
<tr class="separator:abebb0faa35c3035234bbb24ac92f6402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31b7c869ca59098a9dde2d0895a44f4" id="r_ae31b7c869ca59098a9dde2d0895a44f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae31b7c869ca59098a9dde2d0895a44f4">sys_SetBreakpoints</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, struct Pilot_breakpoint *b)</td></tr>
<tr class="separator:ae31b7c869ca59098a9dde2d0895a44f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7110fc45d6f55efae7e131029338a3" id="r_a2a7110fc45d6f55efae7e131029338a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a7110fc45d6f55efae7e131029338a3">sys_SetTrapBreaks</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, int *traps)</td></tr>
<tr class="separator:a2a7110fc45d6f55efae7e131029338a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ebf01f1449a7b87fc7b4fd0d407cbc" id="r_ad3ebf01f1449a7b87fc7b4fd0d407cbc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3ebf01f1449a7b87fc7b4fd0d407cbc">sys_Step</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>)</td></tr>
<tr class="separator:ad3ebf01f1449a7b87fc7b4fd0d407cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1852632aca065cb1f1020e3e573cf63" id="r_af1852632aca065cb1f1020e3e573cf63"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1852632aca065cb1f1020e3e573cf63">sys_ToggleDbgBreaks</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>)</td></tr>
<tr class="separator:af1852632aca065cb1f1020e3e573cf63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade75e4cccb3104ca76e1174b37761791" id="r_ade75e4cccb3104ca76e1174b37761791"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade75e4cccb3104ca76e1174b37761791">sys_UnpackRegisters</a> (void *data, struct Pilot_registers *r)</td></tr>
<tr class="separator:ade75e4cccb3104ca76e1174b37761791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75d7777928809cab4d3cc67f08af1d1" id="r_ad75d7777928809cab4d3cc67f08af1d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad75d7777928809cab4d3cc67f08af1d1">sys_UnpackState</a> (void *<a class="el" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>, struct Pilot_state *s)</td></tr>
<tr class="separator:ad75d7777928809cab4d3cc67f08af1d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22491e1e2931663a9a7f05db03be6405" id="r_a22491e1e2931663a9a7f05db03be6405"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22491e1e2931663a9a7f05db03be6405">sys_WriteMemory</a> (int <a class="el" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, unsigned long addr, unsigned long len, void *src)</td></tr>
<tr class="separator:a22491e1e2931663a9a7f05db03be6405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89142545c93afa489d7106b8ae6f2fa0" id="r_a89142545c93afa489d7106b8ae6f2fa0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89142545c93afa489d7106b8ae6f2fa0">UninvertRPC</a> (struct RPC_params *p)</td></tr>
<tr class="separator:a89142545c93afa489d7106b8ae6f2fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a09e924e712e1538a4838136c4874ed3c" name="a09e924e712e1538a4838136c4874ed3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09e924e712e1538a4838136c4874ed3c">&#9670;&#160;</a></span>DoRPC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long DoRPC </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sockaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct RPC_params *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>error</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  964</span>{</div>
<div class="line"><span class="lineno">  965</span>    <span class="keywordtype">int</span>     err;</div>
<div class="line"><span class="lineno">  966</span>    <span class="keywordtype">long</span>    D0 = 0,</div>
<div class="line"><span class="lineno">  967</span>        A0 = 0;</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>    <a class="code hl_function" href="#a1fc4123893b679d1063548b150e5342c">InvertRPC</a>(p);</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>    err =</div>
<div class="line"><span class="lineno">  972</span>        <a class="code hl_function" href="#abebb0faa35c3035234bbb24ac92f6402">sys_RPC</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, sockaddr, p-&gt;trap, &amp;D0, &amp;A0, p-&gt;args, &amp;p-&gt;param[0],</div>
<div class="line"><span class="lineno">  973</span>            p-&gt;reply);</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>    <a class="code hl_function" href="#a89142545c93afa489d7106b8ae6f2fa0">UninvertRPC</a>(p);</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>    <span class="keywordflow">if</span> (error)</div>
<div class="line"><span class="lineno">  978</span>        *<a class="code hl_variable" href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">error</a> = err;</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>    <span class="keywordflow">if</span> (p-&gt;reply == RPC_PtrReply)</div>
<div class="line"><span class="lineno">  981</span>        <span class="keywordflow">return</span> A0;</div>
<div class="line"><span class="lineno">  982</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;reply == RPC_IntReply)</div>
<div class="line"><span class="lineno">  983</span>        <span class="keywordflow">return</span> D0;</div>
<div class="line"><span class="lineno">  984</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  985</span>        <span class="keywordflow">return</span> err;</div>
<div class="line"><span class="lineno">  986</span>}</div>
<div class="ttc" id="anamespacepisock_html_af10dacfa214e2575bb2e0ee407c242e0"><div class="ttname"><a href="namespacepisock.html#af10dacfa214e2575bb2e0ee407c242e0">pisock.error</a></div><div class="ttdeci">error</div><div class="ttdef"><b>Definition</b> pisock.py:41</div></div>
<div class="ttc" id="apilot-xfer_8c_html_a06b0afe769d54ae94259d8532bc878b0"><div class="ttname"><a href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a></div><div class="ttdeci">int sd</div><div class="ttdef"><b>Definition</b> pilot-xfer.c:107</div></div>
<div class="ttc" id="asyspkt_8c_html_a1fc4123893b679d1063548b150e5342c"><div class="ttname"><a href="#a1fc4123893b679d1063548b150e5342c">InvertRPC</a></div><div class="ttdeci">void InvertRPC(struct RPC_params *p)</div><div class="ttdef"><b>Definition</b> syspkt.c:924</div></div>
<div class="ttc" id="asyspkt_8c_html_a89142545c93afa489d7106b8ae6f2fa0"><div class="ttname"><a href="#a89142545c93afa489d7106b8ae6f2fa0">UninvertRPC</a></div><div class="ttdeci">void UninvertRPC(struct RPC_params *p)</div><div class="ttdef"><b>Definition</b> syspkt.c:885</div></div>
<div class="ttc" id="asyspkt_8c_html_abebb0faa35c3035234bbb24ac92f6402"><div class="ttname"><a href="#abebb0faa35c3035234bbb24ac92f6402">sys_RPC</a></div><div class="ttdeci">int sys_RPC(int sd, int sockaddr, int trap, long *D0, long *A0, int params, struct RPC_param *param, int reply)</div><div class="ttdef"><b>Definition</b> syspkt.c:668</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00924">InvertRPC()</a>, <a class="el" href="#l00107">sd</a>, <a class="el" href="#l00668">sys_RPC()</a>, and <a class="el" href="#l00885">UninvertRPC()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00555">DbgAttach()</a>, <a class="el" href="#l00660">DbgAttachConsole()</a>, <a class="el" href="#l00519">DbgGetDeviceVersion()</a>, and <a class="el" href="#l00707">DbgRPC()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a09e924e712e1538a4838136c4874ed3c_cgraph.png" border="0" usemap="#asyspkt_8c_a09e924e712e1538a4838136c4874ed3c_cgraph" alt=""/></div>
<map name="asyspkt_8c_a09e924e712e1538a4838136c4874ed3c_cgraph" id="asyspkt_8c_a09e924e712e1538a4838136c4874ed3c_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,73,131"/>
<area shape="rect" href="syspkt_8c.html#a1fc4123893b679d1063548b150e5342c" title=" " alt="" coords="129,56,212,82"/>
<area shape="poly" title=" " alt="" coords="72,103,119,85,121,90,74,108"/>
<area shape="rect" href="syspkt_8c.html#abebb0faa35c3035234bbb24ac92f6402" title=" " alt="" coords="131,105,210,131"/>
<area shape="poly" title=" " alt="" coords="73,116,116,116,116,121,73,121"/>
<area shape="rect" href="syspkt_8c.html#a89142545c93afa489d7106b8ae6f2fa0" title=" " alt="" coords="121,155,220,180"/>
<area shape="poly" title=" " alt="" coords="74,128,121,146,119,151,72,133"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="269,5,369,31"/>
<area shape="poly" title=" " alt="" coords="201,103,218,92,233,79,242,67,251,54,266,40,271,37,274,41,270,44,255,57,246,70,237,82,222,96,204,107"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="268,55,370,80"/>
<area shape="poly" title=" " alt="" coords="209,102,264,83,266,88,211,107"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="288,156,351,182"/>
<area shape="poly" title=" " alt="" coords="211,129,274,151,272,156,209,134"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="418,107,508,132"/>
<area shape="poly" title=" " alt="" coords="210,116,403,117,403,122,210,121"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="286,205,352,231"/>
<area shape="poly" title=" " alt="" coords="204,129,222,140,237,154,246,167,255,179,270,192,274,195,271,200,266,196,251,183,242,170,233,157,218,144,201,134"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="431,156,495,182"/>
<area shape="poly" title=" " alt="" coords="351,166,415,166,415,172,351,172"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="556,156,661,182"/>
<area shape="poly" title=" " alt="" coords="495,166,540,166,540,172,495,172"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="559,205,658,231"/>
<area shape="poly" title=" " alt="" coords="496,177,555,197,554,203,494,182"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="716,107,821,132"/>
<area shape="poly" title=" " alt="" coords="652,153,709,135,710,140,654,158"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="709,156,828,182"/>
<area shape="poly" title=" " alt="" coords="661,166,693,166,693,172,661,172"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="725,205,812,231"/>
<area shape="poly" title=" " alt="" coords="654,180,711,198,710,203,652,185"/>
<area shape="poly" title=" " alt="" coords="504,130,555,148,553,153,502,136"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="430,205,496,231"/>
<area shape="poly" title=" " alt="" coords="353,216,415,216,415,221,353,221"/>
<area shape="poly" title=" " alt="" coords="496,204,553,185,555,190,498,209"/>
<area shape="poly" title=" " alt="" coords="497,216,544,216,544,221,497,221"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a09e924e712e1538a4838136c4874ed3c_icgraph.png" border="0" usemap="#asyspkt_8c_a09e924e712e1538a4838136c4874ed3c_icgraph" alt=""/></div>
<map name="asyspkt_8c_a09e924e712e1538a4838136c4874ed3c_icgraph" id="asyspkt_8c_a09e924e712e1538a4838136c4874ed3c_icgraph">
<area shape="rect" title=" " alt="" coords="565,252,633,278"/>
<area shape="rect" href="pilot-debug_8c.html#a6c53b0db60a15b9b7745a0f6ffbc957b" title=" " alt="" coords="400,227,483,252"/>
<area shape="poly" title=" " alt="" coords="550,260,483,249,484,243,551,254"/>
<area shape="rect" href="pilot-debug_8c.html#a7a6f3abcadc4c0f6078908d7f4073256" title=" " alt="" coords="215,176,290,202"/>
<area shape="poly" title=" " alt="" coords="568,245,544,229,516,217,456,201,394,193,290,190,290,184,394,187,457,196,518,212,546,224,571,240"/>
<area shape="rect" href="pilot-debug_8c.html#acb6811d2d338b9eef6752c97442b8ec6" title=" " alt="" coords="187,400,318,426"/>
<area shape="poly" title=" " alt="" coords="579,291,552,318,519,343,469,367,416,385,319,407,318,402,414,380,467,362,516,339,549,314,576,288"/>
<area shape="rect" href="pilot-debug_8c.html#ac33e2efef1e2cfc8b86289ad15de5955" title=" " alt="" coords="366,303,517,328"/>
<area shape="poly" title=" " alt="" coords="552,283,485,305,483,300,550,278"/>
<area shape="poly" title=" " alt="" coords="384,227,289,201,291,196,386,222"/>
<area shape="rect" href="pilot-debug_8c.html#a75a6605568ee31c1f0c2a486775fd942" title=" " alt="" coords="25,5,119,31"/>
<area shape="poly" title=" " alt="" coords="418,216,374,168,316,120,266,91,213,67,118,33,120,28,215,62,269,86,320,116,378,165,422,213"/>
<area shape="rect" href="pilot-debug_8c.html#a17abc8aecff811b22b2663c9d4bd3fe8" title=" " alt="" coords="25,55,119,80"/>
<area shape="poly" title=" " alt="" coords="407,220,317,166,229,127,138,94,109,83,111,78,140,89,231,122,319,161,410,215"/>
<area shape="rect" href="pilot-debug_8c.html#ac6b92546ccba22d0282e536513bb4955" title=" " alt="" coords="16,252,128,278"/>
<area shape="poly" title=" " alt="" coords="385,246,129,264,128,258,384,241"/>
<area shape="rect" href="pilot-debug_8c.html#adad49ccde53bae1567b84326cb37d5be" title=" " alt="" coords="208,277,297,303"/>
<area shape="poly" title=" " alt="" coords="386,257,298,281,296,276,384,252"/>
<area shape="poly" title=" " alt="" coords="235,164,195,104,168,72,137,44,118,34,121,29,140,40,172,68,200,101,239,161"/>
<area shape="rect" href="pilot-debug_8c.html#aca5dde8086769436b3eabe9d899ccc97" title=" " alt="" coords="21,104,123,130"/>
<area shape="poly" title=" " alt="" coords="206,172,138,143,110,133,112,128,140,138,208,167"/>
<area shape="poly" title=" " alt="" coords="226,167,187,130,137,94,116,83,118,79,140,89,190,125,230,163"/>
<area shape="poly" title=" " alt="" coords="211,211,140,243,113,254,111,249,138,238,209,206"/>
<area shape="rect" href="pilot-debug_8c.html#ae303ebba9fe1311895e478934212773f" title=" " alt="" coords="29,301,115,327"/>
<area shape="poly" title=" " alt="" coords="232,215,191,254,140,292,117,304,114,299,137,288,188,250,228,211"/>
<area shape="rect" href="pilot-debug_8c.html#a37ffecfd2a5432eab0a2a3e7bcac88c1" title=" " alt="" coords="13,351,131,376"/>
<area shape="poly" title=" " alt="" coords="231,215,189,266,176,288,168,306,158,323,140,342,123,352,120,348,137,337,154,320,163,304,171,285,184,263,227,211"/>
<area shape="rect" href="pilot-debug_8c.html#add68e1c4ca93649d6a77c7eebfa02736" title=" " alt="" coords="12,153,132,179"/>
<area shape="poly" title=" " alt="" coords="199,185,132,176,133,171,200,180"/>
<area shape="rect" href="pilot-debug_8c.html#a36134fdc30c5271114e904e31cb22da4" title=" " alt="" coords="5,400,139,426"/>
<area shape="poly" title=" " alt="" coords="229,215,208,239,189,266,175,301,170,331,162,360,141,391,125,402,122,397,137,387,157,358,165,330,170,299,184,264,204,236,225,211"/>
<area shape="rect" href="pilot-debug_8c.html#a226a8a688a76efc304507a6875a35079" title=" " alt="" coords="17,203,127,228"/>
<area shape="poly" title=" " alt="" coords="200,199,128,210,127,205,199,194"/>
<area shape="poly" title=" " alt="" coords="221,393,182,366,137,341,113,330,115,325,140,336,185,362,224,389"/>
<area shape="poly" title=" " alt="" coords="187,398,121,380,123,374,189,393"/>
<area shape="poly" title=" " alt="" coords="171,416,139,416,139,410,171,410"/>
<area shape="rect" href="pilot-debug_8c.html#a85a74fd08020e12563c650750fa2135e" title=" " alt="" coords="35,449,109,475"/>
<area shape="poly" title=" " alt="" coords="189,433,110,455,109,450,187,428"/>
<area shape="rect" href="pilot-debug_8c.html#a91ac6cee94637fb898dde9a73817def8" title=" " alt="" coords="35,499,109,524"/>
<area shape="poly" title=" " alt="" coords="224,437,185,464,140,490,111,502,109,497,137,485,182,459,221,433"/>
<area shape="rect" href="pilot-debug_8c.html#a483120d368283eaa7eb4459fab4d3c66" title=" " alt="" coords="22,548,122,574"/>
<area shape="poly" title=" " alt="" coords="236,440,196,490,169,516,140,539,120,550,117,545,137,535,166,512,192,486,232,437"/>
<area shape="poly" title=" " alt="" coords="350,318,187,318,115,317,115,312,187,313,350,313"/>
</map>
</div>

</div>
</div>
<a id="a1fc4123893b679d1063548b150e5342c" name="a1fc4123893b679d1063548b150e5342c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fc4123893b679d1063548b150e5342c">&#9670;&#160;</a></span>InvertRPC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InvertRPC </td>
          <td>(</td>
          <td class="paramtype">struct RPC_params *</td>          <td class="paramname"><span class="paramname"><em>p</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  925</span>{</div>
<div class="line"><span class="lineno">  926</span>    <span class="keywordtype">int</span>     j;</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordflow">for</span> (j = 0; j &lt; p-&gt;args; j++) {</div>
<div class="line"><span class="lineno">  929</span>        <span class="keywordflow">if</span> (p-&gt;param[j].invert) {</div>
<div class="line"><span class="lineno">  930</span>            <span class="keywordtype">void</span> *c = p-&gt;param[j].data;</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>            <span class="keywordflow">if</span> ((p-&gt;param[j].invert == 2)</div>
<div class="line"><span class="lineno">  933</span>                &amp;&amp; (p-&gt;param[j].size == 2)) {</div>
<div class="line"><span class="lineno">  934</span>                <span class="keywordtype">int</span> *s = c;</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>                *s = ntohs(*s) &gt;&gt; 8;</div>
<div class="line"><span class="lineno">  937</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;param[j].size == 2) {</div>
<div class="line"><span class="lineno">  938</span>                <span class="keywordtype">int</span> *s = c;</div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span>                *s = ntohs(*s);</div>
<div class="line"><span class="lineno">  941</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  942</span>                <span class="keywordtype">long</span> *l = c;</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>                *l = ntohl((<span class="keywordtype">unsigned</span>) *l);</div>
<div class="line"><span class="lineno">  945</span>            }</div>
<div class="line"><span class="lineno">  946</span>        }</div>
<div class="line"><span class="lineno">  947</span>    }</div>
<div class="line"><span class="lineno">  948</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00963">DoRPC()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a1fc4123893b679d1063548b150e5342c_icgraph.png" border="0" usemap="#asyspkt_8c_a1fc4123893b679d1063548b150e5342c_icgraph" alt=""/></div>
<map name="asyspkt_8c_a1fc4123893b679d1063548b150e5342c_icgraph" id="asyspkt_8c_a1fc4123893b679d1063548b150e5342c_icgraph">
<area shape="rect" title=" " alt="" coords="681,252,764,278"/>
<area shape="rect" href="syspkt_8c.html#a09e924e712e1538a4838136c4874ed3c" title=" " alt="" coords="565,252,633,278"/>
<area shape="poly" title=" " alt="" coords="665,268,633,268,633,262,665,262"/>
<area shape="rect" href="pilot-debug_8c.html#a6c53b0db60a15b9b7745a0f6ffbc957b" title=" " alt="" coords="400,227,483,252"/>
<area shape="poly" title=" " alt="" coords="550,260,483,249,484,243,551,254"/>
<area shape="rect" href="pilot-debug_8c.html#a7a6f3abcadc4c0f6078908d7f4073256" title=" " alt="" coords="215,176,290,202"/>
<area shape="poly" title=" " alt="" coords="568,245,544,229,516,217,456,201,394,193,290,190,290,184,394,187,457,196,518,212,546,224,571,240"/>
<area shape="rect" href="pilot-debug_8c.html#acb6811d2d338b9eef6752c97442b8ec6" title=" " alt="" coords="187,400,318,426"/>
<area shape="poly" title=" " alt="" coords="579,291,552,318,519,343,469,367,416,385,319,407,318,402,414,380,467,362,516,339,549,314,576,288"/>
<area shape="rect" href="pilot-debug_8c.html#ac33e2efef1e2cfc8b86289ad15de5955" title=" " alt="" coords="366,303,517,328"/>
<area shape="poly" title=" " alt="" coords="552,283,485,305,483,300,550,278"/>
<area shape="poly" title=" " alt="" coords="384,227,289,201,291,196,386,222"/>
<area shape="rect" href="pilot-debug_8c.html#a75a6605568ee31c1f0c2a486775fd942" title=" " alt="" coords="25,5,119,31"/>
<area shape="poly" title=" " alt="" coords="418,216,374,168,316,120,266,91,213,67,118,33,120,28,215,62,269,86,320,116,378,165,422,213"/>
<area shape="rect" href="pilot-debug_8c.html#a17abc8aecff811b22b2663c9d4bd3fe8" title=" " alt="" coords="25,55,119,80"/>
<area shape="poly" title=" " alt="" coords="407,220,317,166,229,127,138,94,109,83,111,78,140,89,231,122,319,161,410,215"/>
<area shape="rect" href="pilot-debug_8c.html#ac6b92546ccba22d0282e536513bb4955" title=" " alt="" coords="16,252,128,278"/>
<area shape="poly" title=" " alt="" coords="385,246,129,264,128,258,384,241"/>
<area shape="rect" href="pilot-debug_8c.html#adad49ccde53bae1567b84326cb37d5be" title=" " alt="" coords="208,277,297,303"/>
<area shape="poly" title=" " alt="" coords="386,257,298,281,296,276,384,252"/>
<area shape="poly" title=" " alt="" coords="235,164,195,104,168,72,137,44,118,34,121,29,140,40,172,68,200,101,239,161"/>
<area shape="rect" href="pilot-debug_8c.html#aca5dde8086769436b3eabe9d899ccc97" title=" " alt="" coords="21,104,123,130"/>
<area shape="poly" title=" " alt="" coords="206,172,138,143,110,133,112,128,140,138,208,167"/>
<area shape="poly" title=" " alt="" coords="226,167,187,130,137,94,116,83,118,79,140,89,190,125,230,163"/>
<area shape="poly" title=" " alt="" coords="211,211,140,243,113,254,111,249,138,238,209,206"/>
<area shape="rect" href="pilot-debug_8c.html#ae303ebba9fe1311895e478934212773f" title=" " alt="" coords="29,301,115,327"/>
<area shape="poly" title=" " alt="" coords="232,215,191,254,140,292,117,304,114,299,137,288,188,250,228,211"/>
<area shape="rect" href="pilot-debug_8c.html#a37ffecfd2a5432eab0a2a3e7bcac88c1" title=" " alt="" coords="13,351,131,376"/>
<area shape="poly" title=" " alt="" coords="231,215,189,266,176,288,168,306,158,323,140,342,123,352,120,348,137,337,154,320,163,304,171,285,184,263,227,211"/>
<area shape="rect" href="pilot-debug_8c.html#add68e1c4ca93649d6a77c7eebfa02736" title=" " alt="" coords="12,153,132,179"/>
<area shape="poly" title=" " alt="" coords="199,185,132,176,133,171,200,180"/>
<area shape="rect" href="pilot-debug_8c.html#a36134fdc30c5271114e904e31cb22da4" title=" " alt="" coords="5,400,139,426"/>
<area shape="poly" title=" " alt="" coords="229,215,208,239,189,266,175,301,170,331,162,360,141,391,125,402,122,397,137,387,157,358,165,330,170,299,184,264,204,236,225,211"/>
<area shape="rect" href="pilot-debug_8c.html#a226a8a688a76efc304507a6875a35079" title=" " alt="" coords="17,203,127,228"/>
<area shape="poly" title=" " alt="" coords="200,199,128,210,127,205,199,194"/>
<area shape="poly" title=" " alt="" coords="221,393,182,366,137,341,113,330,115,325,140,336,185,362,224,389"/>
<area shape="poly" title=" " alt="" coords="187,398,121,380,123,374,189,393"/>
<area shape="poly" title=" " alt="" coords="171,416,139,416,139,410,171,410"/>
<area shape="rect" href="pilot-debug_8c.html#a85a74fd08020e12563c650750fa2135e" title=" " alt="" coords="35,449,109,475"/>
<area shape="poly" title=" " alt="" coords="189,433,110,455,109,450,187,428"/>
<area shape="rect" href="pilot-debug_8c.html#a91ac6cee94637fb898dde9a73817def8" title=" " alt="" coords="35,499,109,524"/>
<area shape="poly" title=" " alt="" coords="224,437,185,464,140,490,111,502,109,497,137,485,182,459,221,433"/>
<area shape="rect" href="pilot-debug_8c.html#a483120d368283eaa7eb4459fab4d3c66" title=" " alt="" coords="22,548,122,574"/>
<area shape="poly" title=" " alt="" coords="236,440,196,490,169,516,140,539,120,550,117,545,137,535,166,512,192,486,232,437"/>
<area shape="poly" title=" " alt="" coords="350,318,187,318,115,317,115,312,187,313,350,313"/>
</map>
</div>

</div>
</div>
<a id="a8d9588d3d9c10a6470f60ec1158319ec" name="a8d9588d3d9c10a6470f60ec1158319ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d9588d3d9c10a6470f60ec1158319ec">&#9670;&#160;</a></span>PackRPC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PackRPC </td>
          <td>(</td>
          <td class="paramtype">struct RPC_params *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>trap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>reply</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  836</span>{</div>
<div class="line"><span class="lineno">  837</span>    <span class="keywordtype">int</span>     idx = 0;</div>
<div class="line"><span class="lineno">  838</span>    va_list ap;</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>    p-&gt;trap = trap;</div>
<div class="line"><span class="lineno">  841</span>    p-&gt;reply = reply;</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>    va_start(ap, reply);</div>
<div class="line"><span class="lineno">  844</span>    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  845</span>        <span class="keywordtype">int</span> type = (int) va_arg(ap, <span class="keywordtype">int</span>);</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>        <span class="keywordflow">if</span> (type == 0)</div>
<div class="line"><span class="lineno">  848</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">if</span> (type &lt; 0) {</div>
<div class="line"><span class="lineno">  850</span>            p-&gt;param[idx].byRef     = 0;</div>
<div class="line"><span class="lineno">  851</span>            p-&gt;param[idx].size  = -type;</div>
<div class="line"><span class="lineno">  852</span>            p-&gt;param[idx].arg   = (int) va_arg(ap, <span class="keywordtype">int</span>);</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>            p-&gt;param[idx].data  = &amp;p-&gt;param[idx].arg;</div>
<div class="line"><span class="lineno">  855</span>            p-&gt;param[idx].invert    = 0;</div>
<div class="line"><span class="lineno">  856</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  857</span>            <span class="keywordtype">void</span> *c = (<span class="keywordtype">void</span> *) va_arg(ap, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>            p-&gt;param[idx].byRef     = 1;</div>
<div class="line"><span class="lineno">  860</span>            p-&gt;param[idx].size  = type;</div>
<div class="line"><span class="lineno">  861</span>            p-&gt;param[idx].data  = c;</div>
<div class="line"><span class="lineno">  862</span>            p-&gt;param[idx].invert    = (int) va_arg(ap, <span class="keywordtype">int</span>);</div>
<div class="line"><span class="lineno">  863</span>        }</div>
<div class="line"><span class="lineno">  864</span>        idx++;</div>
<div class="line"><span class="lineno">  865</span>    }</div>
<div class="line"><span class="lineno">  866</span>    p-&gt;args = idx;</div>
<div class="line"><span class="lineno">  867</span>    va_end(ap);</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  870</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00555">DbgAttach()</a>, <a class="el" href="#l00660">DbgAttachConsole()</a>, <a class="el" href="#l00519">DbgGetDeviceVersion()</a>, <a class="el" href="#l02331">dlp_GetROMToken()</a>, <a class="el" href="#l00214">do_get_ram()</a>, <a class="el" href="#l00086">do_get_rom()</a>, <a class="el" href="#l00031">GetClip()</a>, <a class="el" href="#l00978">proc_battery()</a>, <a class="el" href="#l00915">proc_coldboot()</a>, <a class="el" href="#l01473">proc_feature()</a>, <a class="el" href="#l01152">proc_getdisplay()</a>, <a class="el" href="#l01049">proc_mirror()</a>, <a class="el" href="#l01267">proc_pushbutton()</a>, <a class="el" href="#l00892">proc_sendscreen()</a>, <a class="el" href="#l01131">proc_updatedisplay()</a>, <a class="el" href="#l00947">proc_warmboot()</a>, and <a class="el" href="#l00073">SetClip()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a8d9588d3d9c10a6470f60ec1158319ec_icgraph.png" border="0" usemap="#asyspkt_8c_a8d9588d3d9c10a6470f60ec1158319ec_icgraph" alt=""/></div>
<map name="asyspkt_8c_a8d9588d3d9c10a6470f60ec1158319ec_icgraph" id="asyspkt_8c_a8d9588d3d9c10a6470f60ec1158319ec_icgraph">
<area shape="rect" title=" " alt="" coords="589,534,670,560"/>
<area shape="rect" href="pilot-debug_8c.html#a6c53b0db60a15b9b7745a0f6ffbc957b" title=" " alt="" coords="434,154,517,180"/>
<area shape="poly" title=" " alt="" coords="623,519,616,462,602,386,577,304,560,264,539,226,518,201,495,182,499,178,522,198,544,223,564,261,582,302,607,385,622,461,629,518"/>
<area shape="rect" href="pilot-debug_8c.html#a75a6605568ee31c1f0c2a486775fd942" title=" " alt="" coords="25,28,119,53"/>
<area shape="poly" title=" " alt="" coords="624,519,617,423,602,294,590,229,576,170,559,123,539,90,518,70,494,54,441,29,384,15,324,9,265,9,210,14,120,31,119,26,209,9,265,4,325,3,385,10,443,24,497,49,521,66,543,87,564,120,582,169,596,228,607,293,622,422,629,519"/>
<area shape="rect" href="pilot-debug_8c.html#aca5dde8086769436b3eabe9d899ccc97" title=" " alt="" coords="21,306,123,332"/>
<area shape="poly" title=" " alt="" coords="611,522,580,477,539,430,495,390,458,362,417,340,360,322,298,310,234,307,174,309,124,314,124,308,174,303,234,301,298,305,362,317,419,335,461,357,498,386,543,427,585,474,615,519"/>
<area shape="rect" href="pilot-debug_8c.html#a17abc8aecff811b22b2663c9d4bd3fe8" title=" " alt="" coords="25,78,119,104"/>
<area shape="poly" title=" " alt="" coords="623,519,614,433,597,321,573,213,557,172,539,143,518,123,494,106,442,81,384,67,325,60,266,61,210,66,120,82,119,76,209,60,266,55,325,55,385,61,444,76,497,102,521,119,543,140,562,169,578,212,603,320,619,432,628,518"/>
<area shape="rect" href="pilot-debug_8c.html#ac6b92546ccba22d0282e536513bb4955" title=" " alt="" coords="16,230,128,256"/>
<area shape="poly" title=" " alt="" coords="619,520,609,485,593,444,570,403,539,366,493,330,440,302,384,281,327,265,270,255,217,248,128,244,129,239,218,243,271,249,328,260,386,275,442,297,496,326,543,363,574,400,597,442,614,484,624,519"/>
<area shape="rect" href="pilot-debug_8c.html#ae303ebba9fe1311895e478934212773f" title=" " alt="" coords="29,586,115,612"/>
<area shape="poly" title=" " alt="" coords="593,570,542,592,445,621,367,634,287,635,186,626,115,613,116,608,187,620,287,629,366,629,444,616,540,587,591,565"/>
<area shape="rect" href="pilot-debug_8c.html#a37ffecfd2a5432eab0a2a3e7bcac88c1" title=" " alt="" coords="13,484,131,509"/>
<area shape="poly" title=" " alt="" coords="574,537,541,531,428,518,314,509,131,500,131,495,315,504,428,513,542,526,575,532"/>
<area shape="rect" href="pilot-debug_8c.html#add68e1c4ca93649d6a77c7eebfa02736" title=" " alt="" coords="12,369,132,395"/>
<area shape="poly" title=" " alt="" coords="606,525,576,497,540,472,488,450,432,431,320,405,216,391,132,386,133,380,217,386,321,400,434,426,490,445,543,467,580,492,609,521"/>
<area shape="rect" href="pilot-debug_8c.html#a36134fdc30c5271114e904e31cb22da4" title=" " alt="" coords="5,534,139,560"/>
<area shape="poly" title=" " alt="" coords="574,550,139,550,139,544,574,544"/>
<area shape="rect" href="pilot-debug_8c.html#a226a8a688a76efc304507a6875a35079" title=" " alt="" coords="17,433,127,459"/>
<area shape="poly" title=" " alt="" coords="593,529,540,506,427,479,313,462,209,453,127,449,128,444,209,447,314,456,428,473,542,501,595,524"/>
<area shape="rect" href="pilot-debug_8c.html#acb6811d2d338b9eef6752c97442b8ec6" title=" " alt="" coords="208,686,340,712"/>
<area shape="poly" title=" " alt="" coords="619,576,590,625,568,650,543,669,493,691,439,703,387,708,340,708,340,703,387,703,439,698,491,686,540,665,565,646,585,622,614,573"/>
<area shape="rect" href="pilot-debug_8c.html#ac33e2efef1e2cfc8b86289ad15de5955" title=" " alt="" coords="198,585,350,611"/>
<area shape="poly" title=" " alt="" coords="575,562,542,568,350,593,350,588,541,563,574,557"/>
<area shape="rect" href="dlp_8c.html#a1a110d8bbe35329c26dcd941c9c2aca0" title=" " alt="" coords="409,761,541,787"/>
<area shape="poly" title=" " alt="" coords="620,576,590,644,569,683,543,719,520,744,497,763,494,759,517,740,539,716,564,680,585,641,616,574"/>
<area shape="rect" href="pilot-getrom_8c.html#a16b6c113ebaaf096fa74c2e8949ea40c" title=" " alt="" coords="430,810,520,836"/>
<area shape="poly" title=" " alt="" coords="629,575,622,623,608,683,582,746,565,775,543,801,522,815,519,811,540,797,560,772,578,743,603,682,617,622,624,575"/>
<area shape="rect" href="pilot-getrom_8c.html#a1d8f79b16f99255230068f8d6d442136" title=" " alt="" coords="430,860,520,885"/>
<area shape="poly" title=" " alt="" coords="631,576,627,632,614,705,603,744,588,782,568,818,543,850,522,865,519,860,540,847,564,815,583,780,598,742,609,704,621,632,625,575"/>
<area shape="rect" href="pilot-clip_8c.html#ac4b2831b8e52f0b60459e37158ec273d" title=" " alt="" coords="442,958,508,984"/>
<area shape="poly" title=" " alt="" coords="628,575,619,660,601,771,577,877,561,919,543,949,527,961,509,969,507,964,525,957,539,945,556,917,571,876,596,770,613,659,623,575"/>
<area shape="rect" href="pilot-clip_8c.html#a52d2269ff8e26b11e23c3c7f7851c0ea" title=" " alt="" coords="443,909,507,935"/>
<area shape="poly" title=" " alt="" coords="627,576,616,651,598,747,574,838,559,874,543,900,527,912,509,919,507,914,525,907,539,896,555,872,569,837,593,746,611,650,622,575"/>
<area shape="rect" href="pilot-debug_8c.html#a7a6f3abcadc4c0f6078908d7f4073256" title=" " alt="" coords="237,332,311,357"/>
<area shape="poly" title=" " alt="" coords="449,192,292,333,288,329,446,189"/>
<area shape="poly" title=" " alt="" coords="447,146,408,116,360,90,297,69,231,56,119,44,119,39,232,50,298,64,362,85,410,111,450,142"/>
<area shape="poly" title=" " alt="" coords="436,149,400,133,360,119,296,106,230,98,119,93,119,88,230,93,296,101,362,114,402,128,438,145"/>
<area shape="poly" title=" " alt="" coords="418,180,129,235,128,230,417,175"/>
<area shape="rect" href="pilot-debug_8c.html#adad49ccde53bae1567b84326cb37d5be" title=" " alt="" coords="229,129,318,155"/>
<area shape="poly" title=" " alt="" coords="418,163,319,150,319,145,418,157"/>
<area shape="poly" title=" " alt="" coords="257,319,184,168,173,138,166,113,156,91,137,68,118,55,121,51,140,64,161,88,171,111,178,136,189,166,262,317"/>
<area shape="poly" title=" " alt="" coords="221,341,123,328,124,323,222,335"/>
<area shape="poly" title=" " alt="" coords="251,321,82,106,86,103,255,318"/>
<area shape="poly" title=" " alt="" coords="231,326,98,259,100,254,234,322"/>
<area shape="poly" title=" " alt="" coords="266,373,248,416,221,470,185,525,140,575,117,589,114,584,137,570,181,522,217,467,243,414,261,371"/>
<area shape="poly" title=" " alt="" coords="254,371,205,422,174,449,140,473,116,485,114,481,137,469,170,445,201,418,250,367"/>
<area shape="poly" title=" " alt="" coords="222,357,133,373,132,368,221,351"/>
<area shape="poly" title=" " alt="" coords="261,372,214,447,180,488,140,524,119,536,117,531,137,520,176,484,209,443,257,370"/>
<area shape="poly" title=" " alt="" coords="234,367,100,435,98,430,231,362"/>
<area shape="poly" title=" " alt="" coords="212,683,185,669,161,648,137,627,113,615,116,610,140,622,164,644,188,665,214,678"/>
<area shape="poly" title=" " alt="" coords="240,679,211,654,184,625,169,596,163,571,155,548,137,524,119,512,122,508,140,520,160,545,168,569,174,594,189,622,215,650,243,675"/>
<area shape="poly" title=" " alt="" coords="244,678,185,625,162,599,137,576,112,563,115,558,140,572,166,595,189,621,247,674"/>
<area shape="rect" href="pilot-debug_8c.html#a85a74fd08020e12563c650750fa2135e" title=" " alt="" coords="35,637,109,663"/>
<area shape="poly" title=" " alt="" coords="203,685,109,661,110,656,204,679"/>
<area shape="rect" href="pilot-debug_8c.html#a91ac6cee94637fb898dde9a73817def8" title=" " alt="" coords="35,686,109,712"/>
<area shape="poly" title=" " alt="" coords="193,702,110,702,110,696,193,696"/>
<area shape="rect" href="pilot-debug_8c.html#a483120d368283eaa7eb4459fab4d3c66" title=" " alt="" coords="22,736,122,761"/>
<area shape="poly" title=" " alt="" coords="204,719,123,739,122,734,203,714"/>
<area shape="poly" title=" " alt="" coords="183,601,116,602,115,596,183,596"/>
<area shape="poly" title=" " alt="" coords="501,748,492,742,475,740,459,742,451,746,449,752,453,759,449,762,444,752,447,743,458,737,475,734,494,737,504,744"/>
<area shape="rect" href="pisock__wrap_8c.html#a510916226ca10268fa9767fd9fb89172" title=" " alt="" coords="187,785,361,811"/>
<area shape="poly" title=" " alt="" coords="394,786,362,790,361,785,394,781"/>
<area shape="rect" href="pilot-getrom_8c.html#a17688563ba8ead826569674e97b1c1c7" title=" " alt="" coords="224,736,324,761"/>
<area shape="poly" title=" " alt="" coords="393,766,324,757,324,752,394,761"/>
<area shape="rect" href="pilot-getrom_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="47,836,97,861"/>
<area shape="poly" title=" " alt="" coords="211,766,188,775,134,806,91,837,88,833,131,802,186,770,209,761"/>
<area shape="poly" title=" " alt="" coords="415,830,97,850,97,844,415,824"/>
<area shape="poly" title=" " alt="" coords="415,877,308,876,186,870,97,856,97,851,187,864,309,871,415,871"/>
<area shape="rect" href="pilot-clip_8c.html#ac0f2228420376f4db7e1274f2b41667c" title=" " alt="" coords="249,948,298,973"/>
<area shape="poly" title=" " alt="" coords="427,971,299,964,299,959,427,966"/>
<area shape="poly" title=" " alt="" coords="428,933,300,958,299,953,427,928"/>
</map>
</div>

</div>
</div>
<a id="a3dd3fb2816518fe159da889a1a868dca" name="a3dd3fb2816518fe159da889a1a868dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dd3fb2816518fe159da889a1a868dca">&#9670;&#160;</a></span>RPC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RPC </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sockaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>trap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>reply</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  752</span>{</div>
<div class="line"><span class="lineno">  753</span>    <span class="keywordtype">int</span>     idx     = 0,</div>
<div class="line"><span class="lineno">  754</span>        j,</div>
<div class="line"><span class="lineno">  755</span>        RPC_arg[20];</div>
<div class="line"><span class="lineno">  756</span>    va_list ap;</div>
<div class="line"><span class="lineno">  757</span>    <span class="keyword">struct  </span>RPC_param p[20];</div>
<div class="line"><span class="lineno">  758</span>    <span class="keywordtype">long</span>    D0  = 0,</div>
<div class="line"><span class="lineno">  759</span>        A0  = 0;</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>    va_start(ap, reply);</div>
<div class="line"><span class="lineno">  762</span>    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  763</span>        <span class="keywordtype">int</span> type = va_arg(ap, <span class="keywordtype">int</span>);</div>
<div class="line"><span class="lineno">  764</span> </div>
<div class="line"><span class="lineno">  765</span>        <span class="keywordflow">if</span> (type == 0)</div>
<div class="line"><span class="lineno">  766</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  767</span>        <span class="keywordflow">if</span> (type &lt; 0) {</div>
<div class="line"><span class="lineno">  768</span>            p[idx].byRef    = 0;</div>
<div class="line"><span class="lineno">  769</span>            p[idx].size     = -type;</div>
<div class="line"><span class="lineno">  770</span>            RPC_arg[idx]    = va_arg(ap, <span class="keywordtype">int</span>);</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span>            p[idx].data     = &amp;RPC_arg[idx];</div>
<div class="line"><span class="lineno">  773</span>            p[idx].invert   = 0;</div>
<div class="line"><span class="lineno">  774</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  775</span>            <span class="keywordtype">void</span> *c = va_arg(ap, <span class="keywordtype">void</span> *);</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>            p[idx].byRef    = 1;</div>
<div class="line"><span class="lineno">  778</span>            p[idx].size     = type;</div>
<div class="line"><span class="lineno">  779</span>            p[idx].data     = c;</div>
<div class="line"><span class="lineno">  780</span>            p[idx].invert   = va_arg(ap, <span class="keywordtype">int</span>);</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>            <span class="keywordflow">if</span> (p[idx].invert) {</div>
<div class="line"><span class="lineno">  783</span>                <span class="keywordflow">if</span> (p[idx].<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> == 2) {</div>
<div class="line"><span class="lineno">  784</span>                    <span class="keywordtype">int</span> *s = c;</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>                    *s = htons(*s);</div>
<div class="line"><span class="lineno">  787</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  788</span>                    <span class="keywordtype">int</span> *l = c;</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>                    *l = htonl(*l);</div>
<div class="line"><span class="lineno">  791</span>                }</div>
<div class="line"><span class="lineno">  792</span>            }</div>
<div class="line"><span class="lineno">  793</span>        }</div>
<div class="line"><span class="lineno">  794</span>        idx++;</div>
<div class="line"><span class="lineno">  795</span>    }</div>
<div class="line"><span class="lineno">  796</span>    va_end(ap);</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#abebb0faa35c3035234bbb24ac92f6402">sys_RPC</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, sockaddr, trap, &amp;D0, &amp;A0, idx, p, reply != 2) &lt; 0)</div>
<div class="line"><span class="lineno">  799</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5">pi_error</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>);</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>    <span class="keywordflow">for</span> (j = 0; j &lt; idx; j++) {</div>
<div class="line"><span class="lineno">  802</span>        <span class="keywordflow">if</span> (p[j].invert) {</div>
<div class="line"><span class="lineno">  803</span>            <span class="keywordtype">void</span> *c = p[j].data;</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>            <span class="keywordflow">if</span> (p[j].<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> == 2) {</div>
<div class="line"><span class="lineno">  806</span>                <span class="keywordtype">int</span> *s = c;</div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>                *s = htons(*s);</div>
<div class="line"><span class="lineno">  809</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  810</span>                <span class="keywordtype">int</span> *l = c;</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>                *l = htonl(*l);</div>
<div class="line"><span class="lineno">  813</span>            }</div>
<div class="line"><span class="lineno">  814</span>        }</div>
<div class="line"><span class="lineno">  815</span>    }</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>    <span class="keywordflow">if</span> (reply)</div>
<div class="line"><span class="lineno">  818</span>        <span class="keywordflow">return</span> A0;</div>
<div class="line"><span class="lineno">  819</span>    <span class="keywordflow">return</span> D0;</div>
<div class="line"><span class="lineno">  820</span>}</div>
<div class="ttc" id="asocket_8c_html_a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5"><div class="ttname"><a href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5">pi_error</a></div><div class="ttdeci">int pi_error(int pi_sd)</div><div class="ttdef"><b>Definition</b> socket.c:1613</div></div>
<div class="ttc" id="avalidate_8cc_html_a439227feff9d7f55384e8780cfc2eb82"><div class="ttname"><a href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition</b> validate.cc:81</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01613">pi_error()</a>, <a class="el" href="#l00107">sd</a>, <a class="el" href="#l00081">size</a>, and <a class="el" href="#l00668">sys_RPC()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00052">read_user()</a>, <a class="el" href="#l01001">RPC_Int_Void()</a>, and <a class="el" href="#l01019">RPC_Ptr_Void()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a3dd3fb2816518fe159da889a1a868dca_cgraph.png" border="0" usemap="#asyspkt_8c_a3dd3fb2816518fe159da889a1a868dca_cgraph" alt=""/></div>
<map name="asyspkt_8c_a3dd3fb2816518fe159da889a1a868dca_cgraph" id="asyspkt_8c_a3dd3fb2816518fe159da889a1a868dca_cgraph">
<area shape="rect" title=" " alt="" coords="5,69,56,95"/>
<area shape="rect" href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5" title=" " alt="" coords="111,5,175,31"/>
<area shape="poly" title=" " alt="" coords="53,67,104,37,107,41,56,71"/>
<area shape="rect" href="syspkt_8c.html#abebb0faa35c3035234bbb24ac92f6402" title=" " alt="" coords="104,93,182,119"/>
<area shape="poly" title=" " alt="" coords="57,85,89,92,87,97,56,90"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="518,105,623,131"/>
<area shape="poly" title=" " alt="" coords="175,14,232,14,307,18,389,29,471,52,509,71,543,93,540,98,507,75,469,57,388,34,306,23,232,19,175,19"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="678,56,783,82"/>
<area shape="poly" title=" " alt="" coords="614,102,671,84,672,89,616,107"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="671,105,790,131"/>
<area shape="poly" title=" " alt="" coords="623,116,655,116,655,121,623,121"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="687,155,774,180"/>
<area shape="poly" title=" " alt="" coords="616,129,673,147,672,152,614,134"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="231,68,331,94"/>
<area shape="poly" title=" " alt="" coords="182,96,215,90,216,95,183,102"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="230,117,332,143"/>
<area shape="poly" title=" " alt="" coords="183,110,215,116,214,121,182,116"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="250,216,313,242"/>
<area shape="poly" title=" " alt="" coords="155,118,186,159,232,203,238,207,235,211,228,207,182,162,151,121"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="380,67,470,92"/>
<area shape="poly" title=" " alt="" coords="159,91,190,70,229,53,266,47,303,47,371,59,370,65,303,53,266,52,231,58,193,75,162,95"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="248,167,314,192"/>
<area shape="poly" title=" " alt="" coords="168,117,231,153,239,157,237,162,229,158,165,122"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="393,191,457,216"/>
<area shape="poly" title=" " alt="" coords="313,221,378,209,379,214,314,226"/>
<area shape="poly" title=" " alt="" coords="449,188,468,177,534,137,536,142,471,182,452,193"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="521,167,620,192"/>
<area shape="poly" title=" " alt="" coords="457,196,505,188,506,193,458,201"/>
<area shape="poly" title=" " alt="" coords="471,89,506,98,504,103,470,94"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="392,141,458,167"/>
<area shape="poly" title=" " alt="" coords="314,171,376,160,377,165,315,176"/>
<area shape="poly" title=" " alt="" coords="458,143,502,132,503,137,459,149"/>
<area shape="poly" title=" " alt="" coords="459,157,507,166,506,171,458,163"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a3dd3fb2816518fe159da889a1a868dca_icgraph.png" border="0" usemap="#asyspkt_8c_a3dd3fb2816518fe159da889a1a868dca_icgraph" alt=""/></div>
<map name="asyspkt_8c_a3dd3fb2816518fe159da889a1a868dca_icgraph" id="asyspkt_8c_a3dd3fb2816518fe159da889a1a868dca_icgraph">
<area shape="rect" title=" " alt="" coords="258,55,308,80"/>
<area shape="rect" href="pilot-debugsh_8c.html#a2e9b4313f82457aa9ac8418175284eee" title=" " alt="" coords="117,5,196,31"/>
<area shape="poly" title=" " alt="" coords="243,55,190,34,192,29,245,50"/>
<area shape="rect" href="syspkt_8c.html#ae69ab83909ee3284c76c8a2dedd56540" title=" " alt="" coords="104,55,209,80"/>
<area shape="poly" title=" " alt="" coords="243,70,209,70,209,65,243,65"/>
<area shape="rect" href="syspkt_8c.html#a336c889b0466da587152a137cf2752b5" title=" " alt="" coords="103,104,210,130"/>
<area shape="poly" title=" " alt="" coords="245,85,192,106,190,101,243,80"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="101,21,55,21,55,16,101,16"/>
</map>
</div>

</div>
</div>
<a id="ae69ab83909ee3284c76c8a2dedd56540" name="ae69ab83909ee3284c76c8a2dedd56540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae69ab83909ee3284c76c8a2dedd56540">&#9670;&#160;</a></span>RPC_Int_Void()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RPC_Int_Void </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>trap</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1002</span>{</div>
<div class="line"><span class="lineno"> 1003</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a3dd3fb2816518fe159da889a1a868dca">RPC</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, 1, trap, 0, RPC_End);</div>
<div class="line"><span class="lineno"> 1004</span>}</div>
<div class="ttc" id="asyspkt_8c_html_a3dd3fb2816518fe159da889a1a868dca"><div class="ttname"><a href="#a3dd3fb2816518fe159da889a1a868dca">RPC</a></div><div class="ttdeci">int RPC(int sd, int sockaddr, int trap, int reply,...)</div><div class="ttdef"><b>Definition</b> syspkt.c:751</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00751">RPC()</a>, and <a class="el" href="#l00107">sd</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_ae69ab83909ee3284c76c8a2dedd56540_cgraph.png" border="0" usemap="#asyspkt_8c_ae69ab83909ee3284c76c8a2dedd56540_cgraph" alt=""/></div>
<map name="asyspkt_8c_ae69ab83909ee3284c76c8a2dedd56540_cgraph" id="asyspkt_8c_ae69ab83909ee3284c76c8a2dedd56540_cgraph">
<area shape="rect" title=" " alt="" coords="5,69,111,95"/>
<area shape="rect" href="syspkt_8c.html#a3dd3fb2816518fe159da889a1a868dca" title=" " alt="" coords="159,69,209,95"/>
<area shape="poly" title=" " alt="" coords="111,80,143,80,143,85,111,85"/>
<area shape="rect" href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5" title=" " alt="" coords="264,5,328,31"/>
<area shape="poly" title=" " alt="" coords="207,67,258,37,260,41,209,71"/>
<area shape="rect" href="syspkt_8c.html#abebb0faa35c3035234bbb24ac92f6402" title=" " alt="" coords="257,93,335,119"/>
<area shape="poly" title=" " alt="" coords="210,85,242,92,241,97,209,90"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="671,105,776,131"/>
<area shape="poly" title=" " alt="" coords="329,14,385,14,460,18,543,29,624,52,663,71,696,93,693,98,660,75,622,57,542,34,459,23,385,19,329,19"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="831,56,937,82"/>
<area shape="poly" title=" " alt="" coords="767,102,824,84,826,89,769,107"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="824,105,944,131"/>
<area shape="poly" title=" " alt="" coords="777,116,809,116,809,121,777,121"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="840,155,928,180"/>
<area shape="poly" title=" " alt="" coords="769,129,827,147,825,152,767,134"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="384,68,485,94"/>
<area shape="poly" title=" " alt="" coords="335,96,369,90,370,95,336,102"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="383,117,486,143"/>
<area shape="poly" title=" " alt="" coords="336,110,369,116,368,121,335,116"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="403,216,466,242"/>
<area shape="poly" title=" " alt="" coords="309,118,340,159,385,203,391,207,388,211,382,207,336,162,304,121"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="534,67,623,92"/>
<area shape="poly" title=" " alt="" coords="313,91,344,70,383,53,419,47,457,47,525,59,524,65,456,53,420,52,384,58,346,75,315,95"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="401,167,468,192"/>
<area shape="poly" title=" " alt="" coords="321,117,385,153,392,157,390,162,382,158,319,122"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="547,191,610,216"/>
<area shape="poly" title=" " alt="" coords="466,221,531,209,532,214,467,226"/>
<area shape="poly" title=" " alt="" coords="603,188,622,177,687,137,690,142,624,182,605,193"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="674,167,773,192"/>
<area shape="poly" title=" " alt="" coords="610,196,658,188,659,193,611,201"/>
<area shape="poly" title=" " alt="" coords="624,89,659,98,658,103,623,94"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="545,141,612,167"/>
<area shape="poly" title=" " alt="" coords="468,171,529,160,530,165,469,176"/>
<area shape="poly" title=" " alt="" coords="611,143,655,132,657,137,613,149"/>
<area shape="poly" title=" " alt="" coords="613,157,660,166,659,171,612,163"/>
</map>
</div>

</div>
</div>
<a id="a336c889b0466da587152a137cf2752b5" name="a336c889b0466da587152a137cf2752b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a336c889b0466da587152a137cf2752b5">&#9670;&#160;</a></span>RPC_Ptr_Void()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RPC_Ptr_Void </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>trap</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1020</span>{</div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a3dd3fb2816518fe159da889a1a868dca">RPC</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, 1, trap, 1, RPC_End);</div>
<div class="line"><span class="lineno"> 1022</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00751">RPC()</a>, and <a class="el" href="#l00107">sd</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a336c889b0466da587152a137cf2752b5_cgraph.png" border="0" usemap="#asyspkt_8c_a336c889b0466da587152a137cf2752b5_cgraph" alt=""/></div>
<map name="asyspkt_8c_a336c889b0466da587152a137cf2752b5_cgraph" id="asyspkt_8c_a336c889b0466da587152a137cf2752b5_cgraph">
<area shape="rect" title=" " alt="" coords="5,69,113,95"/>
<area shape="rect" href="syspkt_8c.html#a3dd3fb2816518fe159da889a1a868dca" title=" " alt="" coords="161,69,211,95"/>
<area shape="poly" title=" " alt="" coords="113,80,145,80,145,85,113,85"/>
<area shape="rect" href="socket_8c.html#a8d0c4fb1c8f9f4cf8eb1376fa8f35ca5" title=" " alt="" coords="266,5,330,31"/>
<area shape="poly" title=" " alt="" coords="209,67,260,37,262,41,211,71"/>
<area shape="rect" href="syspkt_8c.html#abebb0faa35c3035234bbb24ac92f6402" title=" " alt="" coords="259,93,337,119"/>
<area shape="poly" title=" " alt="" coords="212,85,244,92,243,97,211,90"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="673,105,778,131"/>
<area shape="poly" title=" " alt="" coords="331,14,387,14,462,18,545,29,626,52,665,71,698,93,695,98,662,75,624,57,544,34,461,23,387,19,331,19"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="833,56,939,82"/>
<area shape="poly" title=" " alt="" coords="769,102,826,84,828,89,771,107"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="826,105,946,131"/>
<area shape="poly" title=" " alt="" coords="779,116,811,116,811,121,779,121"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="842,155,930,180"/>
<area shape="poly" title=" " alt="" coords="771,129,829,147,827,152,769,134"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="386,68,487,94"/>
<area shape="poly" title=" " alt="" coords="337,96,371,90,372,95,338,102"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="385,117,488,143"/>
<area shape="poly" title=" " alt="" coords="338,110,371,116,370,121,337,116"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="405,216,468,242"/>
<area shape="poly" title=" " alt="" coords="311,118,342,159,387,203,393,207,390,211,384,207,338,162,306,121"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="536,67,625,92"/>
<area shape="poly" title=" " alt="" coords="315,91,346,70,385,53,421,47,459,47,527,59,526,65,458,53,422,52,386,58,348,75,317,95"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="403,167,470,192"/>
<area shape="poly" title=" " alt="" coords="323,117,387,153,394,157,392,162,384,158,321,122"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="549,191,612,216"/>
<area shape="poly" title=" " alt="" coords="468,221,533,209,534,214,469,226"/>
<area shape="poly" title=" " alt="" coords="605,188,624,177,689,137,692,142,626,182,607,193"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="676,167,775,192"/>
<area shape="poly" title=" " alt="" coords="612,196,660,188,661,193,613,201"/>
<area shape="poly" title=" " alt="" coords="626,89,661,98,660,103,625,94"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="547,141,614,167"/>
<area shape="poly" title=" " alt="" coords="470,171,531,160,532,165,471,176"/>
<area shape="poly" title=" " alt="" coords="613,143,657,132,659,137,615,149"/>
<area shape="poly" title=" " alt="" coords="615,157,662,166,661,171,614,163"/>
</map>
</div>

</div>
</div>
<a id="a1af43f37804a6985f7f6c6bcef623346" name="a1af43f37804a6985f7f6c6bcef623346"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1af43f37804a6985f7f6c6bcef623346">&#9670;&#160;</a></span>sys_Continue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_Continue </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct Pilot_registers *</td>          <td class="paramname"><span class="paramname"><em>r</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct Pilot_watch *</td>          <td class="paramname"><span class="paramname"><em>w</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  168</span>{</div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordtype">char</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[94];</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[0]  = 0;</div>
<div class="line"><span class="lineno">  172</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[1]  = 0;</div>
<div class="line"><span class="lineno">  173</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[2]  = 0;</div>
<div class="line"><span class="lineno">  174</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[3]  = 0;</div>
<div class="line"><span class="lineno">  175</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[4]  = 0x07;</div>
<div class="line"><span class="lineno">  176</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[5]  = 0;        <span class="comment">/* gapfill */</span></div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <span class="keywordflow">if</span> (!r)</div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 6);</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>    <a class="code hl_function" href="#a4d3ce499c302409fc2cbcae351c7c8d8">sys_PackRegisters</a>(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> + 6, r);</div>
<div class="line"><span class="lineno">  182</span>    set_byte(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> + 80, (w != 0) ? 1 : 0);</div>
<div class="line"><span class="lineno">  183</span>    set_byte(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> + 81, 0);</div>
<div class="line"><span class="lineno">  184</span>    set_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> + 82, w ? w-&gt;address : 0);</div>
<div class="line"><span class="lineno">  185</span>    set_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> + 86, w ? w-&gt;length : 0);</div>
<div class="line"><span class="lineno">  186</span>    set_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> + 90, w ? w-&gt;checksum : 0);</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 94);</div>
<div class="line"><span class="lineno">  189</span>}</div>
<div class="ttc" id="apitcl_8c_html_a0dea8f1af961c5e9eb4425acd7c95409"><div class="ttname"><a href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a></div><div class="ttdeci">char buf[0xffff]</div><div class="ttdef"><b>Definition</b> pitcl.c:34</div></div>
<div class="ttc" id="asocket_8c_html_a0eb81ed865386ef5f955a93f02426c82"><div class="ttname"><a href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a></div><div class="ttdeci">ssize_t pi_write(int pi_sd, const void *msg, size_t len)</div><div class="ttdef"><b>Definition</b> socket.c:1332</div></div>
<div class="ttc" id="asyspkt_8c_html_a4d3ce499c302409fc2cbcae351c7c8d8"><div class="ttname"><a href="#a4d3ce499c302409fc2cbcae351c7c8d8">sys_PackRegisters</a></div><div class="ttdeci">static int sys_PackRegisters(void *data, struct Pilot_registers *r)</div><div class="ttdef"><b>Definition</b> syspkt.c:137</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l01332">pi_write()</a>, <a class="el" href="#l00107">sd</a>, and <a class="el" href="#l00137">sys_PackRegisters()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00779">proc_g()</a>, and <a class="el" href="#l00822">proc_t()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a1af43f37804a6985f7f6c6bcef623346_cgraph.png" border="0" usemap="#asyspkt_8c_a1af43f37804a6985f7f6c6bcef623346_cgraph" alt=""/></div>
<map name="asyspkt_8c_a1af43f37804a6985f7f6c6bcef623346_cgraph" id="asyspkt_8c_a1af43f37804a6985f7f6c6bcef623346_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,107,131"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="189,80,256,106"/>
<area shape="poly" title=" " alt="" coords="107,108,173,98,174,103,108,113"/>
<area shape="rect" href="syspkt_8c.html#a4d3ce499c302409fc2cbcae351c7c8d8" title=" " alt="" coords="155,129,290,155"/>
<area shape="poly" title=" " alt="" coords="108,123,140,128,139,133,107,128"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="338,80,404,106"/>
<area shape="poly" title=" " alt="" coords="256,90,322,90,322,96,256,96"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="452,55,558,80"/>
<area shape="poly" title=" " alt="" coords="404,84,436,78,437,83,405,89"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="456,104,554,130"/>
<area shape="poly" title=" " alt="" coords="405,96,441,103,440,108,404,101"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="613,5,718,31"/>
<area shape="poly" title=" " alt="" coords="549,51,606,34,607,39,550,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="606,55,725,80"/>
<area shape="poly" title=" " alt="" coords="558,65,590,65,590,70,558,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="622,104,709,130"/>
<area shape="poly" title=" " alt="" coords="550,78,608,97,607,102,549,84"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a1af43f37804a6985f7f6c6bcef623346_icgraph.png" border="0" usemap="#asyspkt_8c_a1af43f37804a6985f7f6c6bcef623346_icgraph" alt=""/></div>
<map name="asyspkt_8c_a1af43f37804a6985f7f6c6bcef623346_icgraph" id="asyspkt_8c_a1af43f37804a6985f7f6c6bcef623346_icgraph">
<area shape="rect" title=" " alt="" coords="114,31,215,56"/>
<area shape="rect" href="pilot-debug_8c.html#a2799257422b5301cbeecc800d67665a4" title=" " alt="" coords="5,5,66,31"/>
<area shape="poly" title=" " alt="" coords="98,33,65,27,67,21,99,28"/>
<area shape="rect" href="pilot-debug_8c.html#a06ee9ed66ba74c181bd81507110f6ef7" title=" " alt="" coords="7,55,64,80"/>
<area shape="poly" title=" " alt="" coords="99,58,65,65,64,60,98,53"/>
</map>
</div>

</div>
</div>
<a id="a5cf45bfdbf1eb690727d1d24374ad5c8" name="a5cf45bfdbf1eb690727d1d24374ad5c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cf45bfdbf1eb690727d1d24374ad5c8">&#9670;&#160;</a></span>sys_Find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_Find </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>startaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>stopaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>caseinsensitive</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *</td>          <td class="paramname"><span class="paramname"><em>found</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  577</span>{</div>
<div class="line"><span class="lineno">  578</span>    <span class="keywordtype">int</span>     result;</div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_typedef" href="pilot-xfer_8c.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>;</div>
<div class="line"><span class="lineno">  580</span>    pi_buffer_t *<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (len + 17);</div>
<div class="line"><span class="lineno">  583</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> == NULL) {</div>
<div class="line"><span class="lineno">  584</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  586</span>    }</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[0] = 0;</div>
<div class="line"><span class="lineno">  589</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[1] = 0;</div>
<div class="line"><span class="lineno">  590</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[2] = 0;</div>
<div class="line"><span class="lineno">  591</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[3] = 0;</div>
<div class="line"><span class="lineno">  592</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] = 0x11;</div>
<div class="line"><span class="lineno">  593</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[5] = 0;       <span class="comment">/* gapfill */</span></div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>    set_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 6, startaddr);</div>
<div class="line"><span class="lineno">  596</span>    set_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 10, stopaddr);</div>
<div class="line"><span class="lineno">  597</span>    set_short(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 14, len);</div>
<div class="line"><span class="lineno">  598</span>    set_byte(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 16, caseinsensitive);</div>
<div class="line"><span class="lineno">  599</span>    memcpy(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 17, data, len);</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>    <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data, len + 17);</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>    result = <a class="code hl_function" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199">pi_read</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 12);</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno">  606</span>        <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  607</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  608</span>    }</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>    <span class="keywordflow">if</span> (found)</div>
<div class="line"><span class="lineno">  611</span>        *found = get_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 6);</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>    <span class="keywordtype">byte</span> = get_byte(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 10);</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="pilot-xfer_8c.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>;</div>
<div class="line"><span class="lineno">  618</span>}</div>
<div class="ttc" id="api-buffer_8c_html_a6775d9fcdb4fb3e02ce032337e1d10dc"><div class="ttname"><a href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a></div><div class="ttdeci">pi_buffer_t * pi_buffer_new(size_t capacity)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:31</div></div>
<div class="ttc" id="api-buffer_8c_html_af440579d61c8649154b0f0512c285606"><div class="ttname"><a href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a></div><div class="ttdeci">void pi_buffer_free(pi_buffer_t *buf)</div><div class="ttdef"><b>Definition</b> pi-buffer.c:103</div></div>
<div class="ttc" id="apilot-xfer_8c_html_a0c8186d9b9b7880309c27230bbb5e69d"><div class="ttname"><a href="pilot-xfer_8c.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a></div><div class="ttdeci">unsigned char byte</div><div class="ttdef"><b>Definition</b> pilot-xfer.c:50</div></div>
<div class="ttc" id="asocket_8c_html_a2e89f53f6dc64b669c778fcf29b27199"><div class="ttname"><a href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199">pi_read</a></div><div class="ttdeci">ssize_t pi_read(int pi_sd, pi_buffer_t *msg, size_t len)</div><div class="ttdef"><b>Definition</b> socket.c:1315</div></div>
<div class="ttc" id="asocket_8c_html_a415df518818c6813556c5607b29e833e"><div class="ttname"><a href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a></div><div class="ttdeci">int pi_set_error(int pi_sd, int error_code)</div><div class="ttdef"><b>Definition</b> socket.c:1625</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01315">pi_read()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01332">pi_write()</a>, and <a class="el" href="#l00107">sd</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a5cf45bfdbf1eb690727d1d24374ad5c8_cgraph.png" border="0" usemap="#asyspkt_8c_a5cf45bfdbf1eb690727d1d24374ad5c8_cgraph" alt=""/></div>
<map name="asyspkt_8c_a5cf45bfdbf1eb690727d1d24374ad5c8_cgraph" id="asyspkt_8c_a5cf45bfdbf1eb690727d1d24374ad5c8_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,80,131"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="129,5,229,31"/>
<area shape="poly" title=" " alt="" coords="54,103,85,73,126,40,132,36,135,41,129,44,89,77,58,107"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="128,55,230,80"/>
<area shape="poly" title=" " alt="" coords="78,102,127,84,129,89,80,107"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="147,156,210,182"/>
<area shape="poly" title=" " alt="" coords="80,129,134,149,132,154,78,134"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="278,107,367,132"/>
<area shape="poly" title=" " alt="" coords="80,116,263,117,263,122,80,121"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="146,205,212,231"/>
<area shape="poly" title=" " alt="" coords="58,129,89,160,129,192,135,195,132,200,126,196,85,164,54,133"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="291,156,354,182"/>
<area shape="poly" title=" " alt="" coords="211,166,275,166,275,172,211,172"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="415,156,521,182"/>
<area shape="poly" title=" " alt="" coords="355,166,400,166,400,172,355,172"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="419,205,517,231"/>
<area shape="poly" title=" " alt="" coords="356,177,415,197,413,203,354,182"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="576,107,681,132"/>
<area shape="poly" title=" " alt="" coords="512,153,569,135,570,140,513,158"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="569,156,688,182"/>
<area shape="poly" title=" " alt="" coords="521,166,553,166,553,172,521,172"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="585,205,672,231"/>
<area shape="poly" title=" " alt="" coords="513,180,571,198,570,203,512,185"/>
<area shape="poly" title=" " alt="" coords="364,130,414,148,413,153,362,136"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="290,205,356,231"/>
<area shape="poly" title=" " alt="" coords="213,216,274,216,274,221,213,221"/>
<area shape="poly" title=" " alt="" coords="356,204,413,185,414,190,357,209"/>
<area shape="poly" title=" " alt="" coords="356,216,403,216,403,221,356,221"/>
</map>
</div>

</div>
</div>
<a id="adc0400c6fbb378913c1c10658d43dda0" name="adc0400c6fbb378913c1c10658d43dda0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc0400c6fbb378913c1c10658d43dda0">&#9670;&#160;</a></span>sys_GetTrapBreaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_GetTrapBreaks </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>traps</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  326</span>{</div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordtype">int</span>     idx;</div>
<div class="line"><span class="lineno">  328</span>    pi_buffer_t *<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (32);</div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> == NULL) {</div>
<div class="line"><span class="lineno">  332</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  333</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  334</span>    }</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[0] = 0;</div>
<div class="line"><span class="lineno">  337</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[1] = 0;</div>
<div class="line"><span class="lineno">  338</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[2] = 0;</div>
<div class="line"><span class="lineno">  339</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[3] = 0;</div>
<div class="line"><span class="lineno">  340</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] = 0x10;</div>
<div class="line"><span class="lineno">  341</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[5] = 0;       <span class="comment">/* gapfill */</span></div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>    <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data, 6);</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>    idx = <a class="code hl_function" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199">pi_read</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 16);</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordflow">if</span> ((idx &lt; 16) || (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] != (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) 0x90)) {</div>
<div class="line"><span class="lineno">  348</span>        <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  350</span>    }</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordflow">for</span> (idx = 0; idx &lt; 5; idx++) {</div>
<div class="line"><span class="lineno">  353</span>        traps[idx] = get_short(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 6 + idx * 2);</div>
<div class="line"><span class="lineno">  354</span>    }</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  357</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  358</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01315">pi_read()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01332">pi_write()</a>, and <a class="el" href="#l00107">sd</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_adc0400c6fbb378913c1c10658d43dda0_cgraph.png" border="0" usemap="#asyspkt_8c_adc0400c6fbb378913c1c10658d43dda0_cgraph" alt=""/></div>
<map name="asyspkt_8c_adc0400c6fbb378913c1c10658d43dda0_cgraph" id="asyspkt_8c_adc0400c6fbb378913c1c10658d43dda0_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,143,131"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="192,5,292,31"/>
<area shape="poly" title=" " alt="" coords="93,102,189,40,196,36,199,41,192,44,95,107"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="191,55,293,80"/>
<area shape="poly" title=" " alt="" coords="118,102,182,83,183,88,120,107"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="210,156,274,182"/>
<area shape="poly" title=" " alt="" coords="120,129,196,152,194,157,118,134"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="341,107,430,132"/>
<area shape="poly" title=" " alt="" coords="143,116,325,117,325,122,143,121"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="209,205,275,231"/>
<area shape="poly" title=" " alt="" coords="95,129,192,192,199,196,196,200,189,196,93,134"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="354,156,417,182"/>
<area shape="poly" title=" " alt="" coords="274,166,338,166,338,172,274,172"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="478,156,584,182"/>
<area shape="poly" title=" " alt="" coords="418,166,463,166,463,172,418,172"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="482,205,580,231"/>
<area shape="poly" title=" " alt="" coords="419,177,478,197,476,203,417,182"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="639,107,744,132"/>
<area shape="poly" title=" " alt="" coords="575,153,632,135,633,140,576,158"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="632,156,751,182"/>
<area shape="poly" title=" " alt="" coords="584,166,616,166,616,172,584,172"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="648,205,735,231"/>
<area shape="poly" title=" " alt="" coords="576,180,634,198,633,203,575,185"/>
<area shape="poly" title=" " alt="" coords="427,130,477,148,476,153,425,136"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="352,205,419,231"/>
<area shape="poly" title=" " alt="" coords="276,216,337,216,337,221,276,221"/>
<area shape="poly" title=" " alt="" coords="419,204,476,185,477,190,420,209"/>
<area shape="poly" title=" " alt="" coords="419,216,466,216,466,221,419,221"/>
</map>
</div>

</div>
</div>
<a id="a4d3ce499c302409fc2cbcae351c7c8d8" name="a4d3ce499c302409fc2cbcae351c7c8d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d3ce499c302409fc2cbcae351c7c8d8">&#9670;&#160;</a></span>sys_PackRegisters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int sys_PackRegisters </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct Pilot_registers *</td>          <td class="paramname"><span class="paramname"><em>r</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  138</span>{</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordtype">int</span>     idx;</div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> = data;</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">for</span> (idx = 0; idx &lt; 8; idx++)</div>
<div class="line"><span class="lineno">  143</span>        set_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + idx * 4, r-&gt;D[idx]);</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">for</span> (idx = 0; idx &lt; 7; idx++)</div>
<div class="line"><span class="lineno">  145</span>        set_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 32 + idx * 4, r-&gt;A[idx]);</div>
<div class="line"><span class="lineno">  146</span>    set_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 60, r-&gt;USP);</div>
<div class="line"><span class="lineno">  147</span>    set_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 64, r-&gt;SSP);</div>
<div class="line"><span class="lineno">  148</span>    set_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 68, r-&gt;PC);</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    set_short(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 72, r-&gt;SR);</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  153</span>}</div>
<div class="ttc" id="apilot-debug_8c_html_a0ab27356885000c0b9430ce5f9b4a4ec"><div class="ttname"><a href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a></div><div class="ttdeci">unsigned char buffer[0xffff]</div><div class="ttdef"><b>Definition</b> pilot-debug.c:767</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00167">sys_Continue()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a4d3ce499c302409fc2cbcae351c7c8d8_icgraph.png" border="0" usemap="#asyspkt_8c_a4d3ce499c302409fc2cbcae351c7c8d8_icgraph" alt=""/></div>
<map name="asyspkt_8c_a4d3ce499c302409fc2cbcae351c7c8d8_icgraph" id="asyspkt_8c_a4d3ce499c302409fc2cbcae351c7c8d8_icgraph">
<area shape="rect" title=" " alt="" coords="263,31,398,56"/>
<area shape="rect" href="syspkt_8c.html#a1af43f37804a6985f7f6c6bcef623346" title=" " alt="" coords="114,31,215,56"/>
<area shape="poly" title=" " alt="" coords="247,46,216,46,216,41,247,41"/>
<area shape="rect" href="pilot-debug_8c.html#a2799257422b5301cbeecc800d67665a4" title=" " alt="" coords="5,5,66,31"/>
<area shape="poly" title=" " alt="" coords="98,33,65,27,67,21,99,28"/>
<area shape="rect" href="pilot-debug_8c.html#a06ee9ed66ba74c181bd81507110f6ef7" title=" " alt="" coords="7,55,64,80"/>
<area shape="poly" title=" " alt="" coords="99,58,65,65,64,60,98,53"/>
</map>
</div>

</div>
</div>
<a id="a927d0d557f5acb49f47471ff6f1dc7e6" name="a927d0d557f5acb49f47471ff6f1dc7e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a927d0d557f5acb49f47471ff6f1dc7e6">&#9670;&#160;</a></span>sys_QueryState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_QueryState </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  422</span>{</div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordtype">char</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[6];</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[0] = 0;</div>
<div class="line"><span class="lineno">  426</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[1] = 0;</div>
<div class="line"><span class="lineno">  427</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[2] = 0;</div>
<div class="line"><span class="lineno">  428</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[3] = 0;</div>
<div class="line"><span class="lineno">  429</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[4] = 0;</div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[5] = 0;     <span class="comment">/* gapfill */</span></div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 2);</div>
<div class="line"><span class="lineno">  433</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l01332">pi_write()</a>, and <a class="el" href="#l00107">sd</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00555">DbgAttach()</a>, and <a class="el" href="#l00623">DbgAttachDebugger()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a927d0d557f5acb49f47471ff6f1dc7e6_cgraph.png" border="0" usemap="#asyspkt_8c_a927d0d557f5acb49f47471ff6f1dc7e6_cgraph" alt=""/></div>
<map name="asyspkt_8c_a927d0d557f5acb49f47471ff6f1dc7e6_cgraph" id="asyspkt_8c_a927d0d557f5acb49f47471ff6f1dc7e6_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,121,106"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="169,80,235,106"/>
<area shape="poly" title=" " alt="" coords="121,90,153,90,153,96,121,96"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="283,80,349,106"/>
<area shape="poly" title=" " alt="" coords="235,90,267,90,267,96,235,96"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="397,55,503,80"/>
<area shape="poly" title=" " alt="" coords="349,84,381,78,382,83,350,89"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="401,104,499,130"/>
<area shape="poly" title=" " alt="" coords="350,96,386,103,385,108,349,101"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="558,5,663,31"/>
<area shape="poly" title=" " alt="" coords="494,51,551,34,552,39,495,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="551,55,670,80"/>
<area shape="poly" title=" " alt="" coords="503,65,535,65,535,70,503,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="567,104,654,130"/>
<area shape="poly" title=" " alt="" coords="495,78,553,97,552,102,494,84"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a927d0d557f5acb49f47471ff6f1dc7e6_icgraph.png" border="0" usemap="#asyspkt_8c_a927d0d557f5acb49f47471ff6f1dc7e6_icgraph" alt=""/></div>
<map name="asyspkt_8c_a927d0d557f5acb49f47471ff6f1dc7e6_icgraph" id="asyspkt_8c_a927d0d557f5acb49f47471ff6f1dc7e6_icgraph">
<area shape="rect" title=" " alt="" coords="511,388,627,414"/>
<area shape="rect" href="pilot-debug_8c.html#a6c53b0db60a15b9b7745a0f6ffbc957b" title=" " alt="" coords="352,312,435,338"/>
<area shape="poly" title=" " alt="" coords="522,384,424,341,426,336,524,379"/>
<area shape="rect" href="pilot-debug_8c.html#ae3ee2f57e961b52f7f3eecf2e5b6a390" title=" " alt="" coords="324,439,463,464"/>
<area shape="poly" title=" " alt="" coords="508,421,441,441,440,436,506,416"/>
<area shape="rect" href="pilot-debug_8c.html#a7a6f3abcadc4c0f6078908d7f4073256" title=" " alt="" coords="194,213,268,239"/>
<area shape="poly" title=" " alt="" coords="356,306,253,242,256,237,359,301"/>
<area shape="rect" href="pilot-debug_8c.html#a75a6605568ee31c1f0c2a486775fd942" title=" " alt="" coords="25,400,119,426"/>
<area shape="poly" title=" " alt="" coords="354,347,277,378,194,398,120,410,119,405,193,393,275,373,352,342"/>
<area shape="rect" href="pilot-debug_8c.html#a17abc8aecff811b22b2663c9d4bd3fe8" title=" " alt="" coords="25,5,119,31"/>
<area shape="poly" title=" " alt="" coords="374,301,336,248,282,179,214,107,177,74,137,44,117,34,120,29,140,40,180,70,218,104,286,176,341,244,378,297"/>
<area shape="rect" href="pilot-debug_8c.html#ac6b92546ccba22d0282e536513bb4955" title=" " alt="" coords="16,351,128,376"/>
<area shape="poly" title=" " alt="" coords="336,323,265,321,187,327,111,353,110,348,186,322,265,316,336,317"/>
<area shape="rect" href="pilot-debug_8c.html#adad49ccde53bae1567b84326cb37d5be" title=" " alt="" coords="187,337,276,363"/>
<area shape="poly" title=" " alt="" coords="337,336,277,346,276,341,336,331"/>
<area shape="poly" title=" " alt="" coords="220,254,182,330,160,367,140,391,121,403,118,398,137,387,156,364,177,328,215,252"/>
<area shape="rect" href="pilot-debug_8c.html#aca5dde8086769436b3eabe9d899ccc97" title=" " alt="" coords="21,301,123,327"/>
<area shape="poly" title=" " alt="" coords="203,251,140,293,116,303,114,298,137,288,200,247"/>
<area shape="poly" title=" " alt="" coords="217,200,179,113,157,71,137,44,118,32,120,28,140,40,161,68,184,111,222,198"/>
<area shape="poly" title=" " alt="" coords="212,253,140,342,121,352,118,348,137,337,208,249"/>
<area shape="rect" href="pilot-debug_8c.html#ae303ebba9fe1311895e478934212773f" title=" " alt="" coords="29,55,115,80"/>
<area shape="poly" title=" " alt="" coords="216,201,185,147,163,118,137,94,114,81,117,76,140,89,167,115,189,144,221,198"/>
<area shape="rect" href="pilot-debug_8c.html#a37ffecfd2a5432eab0a2a3e7bcac88c1" title=" " alt="" coords="13,104,131,130"/>
<area shape="poly" title=" " alt="" coords="207,204,176,172,137,143,116,133,119,128,140,139,179,168,211,200"/>
<area shape="rect" href="pilot-debug_8c.html#add68e1c4ca93649d6a77c7eebfa02736" title=" " alt="" coords="12,153,132,179"/>
<area shape="poly" title=" " alt="" coords="182,210,138,193,109,182,111,177,140,188,184,205"/>
<area shape="rect" href="pilot-debug_8c.html#a36134fdc30c5271114e904e31cb22da4" title=" " alt="" coords="5,203,139,228"/>
<area shape="poly" title=" " alt="" coords="178,225,139,223,139,217,179,220"/>
<area shape="rect" href="pilot-debug_8c.html#a226a8a688a76efc304507a6875a35079" title=" " alt="" coords="17,252,127,278"/>
<area shape="poly" title=" " alt="" coords="180,241,128,254,127,249,178,236"/>
<area shape="rect" href="pilot-debug_8c.html#a2799257422b5301cbeecc800d67665a4" title=" " alt="" coords="201,439,262,464"/>
<area shape="poly" title=" " alt="" coords="308,454,262,454,262,449,308,449"/>
<area shape="rect" href="pilot-debug_8c.html#a06ee9ed66ba74c181bd81507110f6ef7" title=" " alt="" coords="203,488,260,514"/>
<area shape="poly" title=" " alt="" coords="335,472,261,495,260,490,334,467"/>
</map>
</div>

</div>
</div>
<a id="a1a7aad36022bce1fc0bcc8f05df755bf" name="a1a7aad36022bce1fc0bcc8f05df755bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a7aad36022bce1fc0bcc8f05df755bf">&#9670;&#160;</a></span>sys_ReadMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_ReadMemory </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>dest</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  448</span>{</div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordtype">int</span>     result;</div>
<div class="line"><span class="lineno">  450</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> todo, <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><span class="lineno">  451</span>    pi_buffer_t *<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (0xFFFF);</div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> == NULL) {</div>
<div class="line"><span class="lineno">  455</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  456</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  457</span>    }</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 0;</div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  461</span>        todo    = len;</div>
<div class="line"><span class="lineno">  462</span>        <span class="keywordflow">if</span> (todo &gt; 256)</div>
<div class="line"><span class="lineno">  463</span>            todo = 256;</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[0] = 0;</div>
<div class="line"><span class="lineno">  466</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[1] = 0;</div>
<div class="line"><span class="lineno">  467</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[2] = 0;</div>
<div class="line"><span class="lineno">  468</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[3] = 0;</div>
<div class="line"><span class="lineno">  469</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] = 0x01;</div>
<div class="line"><span class="lineno">  470</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[5] = 0;   <span class="comment">/* gapfill */</span></div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>        set_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 6, addr + <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>);</div>
<div class="line"><span class="lineno">  473</span>        set_short(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 10, todo);</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>        <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data, 12);</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>        result = <a class="code hl_function" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199">pi_read</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, todo + 6);</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno">  480</span>            <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  481</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><span class="lineno">  482</span>        }</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] == 0x81)</div>
<div class="line"><span class="lineno">  485</span>            &amp;&amp; ((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) result == todo + 6)) {</div>
<div class="line"><span class="lineno">  486</span>            memcpy(((<span class="keywordtype">char</span> *) dest) + <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 6, todo);</div>
<div class="line"><span class="lineno">  487</span>            <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> += todo;</div>
<div class="line"><span class="lineno">  488</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  489</span>            <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  490</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><span class="lineno">  491</span>        }</div>
<div class="line"><span class="lineno">  492</span>    } <span class="keywordflow">while</span> (<a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> &lt; len);</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><span class="lineno">  496</span>}</div>
<div class="ttc" id="apilot-debug_8c_html_a5992b274cfdcacdbc1fa8347fd01ebde"><div class="ttname"><a href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a></div><div class="ttdeci">int done</div><div class="ttdef"><b>Definition</b> pilot-debug.c:68</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00068">done</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01315">pi_read()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01332">pi_write()</a>, and <a class="el" href="#l00107">sd</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01152">proc_getdisplay()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a1a7aad36022bce1fc0bcc8f05df755bf_cgraph.png" border="0" usemap="#asyspkt_8c_a1a7aad36022bce1fc0bcc8f05df755bf_cgraph" alt=""/></div>
<map name="asyspkt_8c_a1a7aad36022bce1fc0bcc8f05df755bf_cgraph" id="asyspkt_8c_a1a7aad36022bce1fc0bcc8f05df755bf_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,133,131"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="182,5,282,31"/>
<area shape="poly" title=" " alt="" coords="86,103,128,73,179,40,186,36,189,41,182,44,131,77,89,107"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="181,55,283,80"/>
<area shape="poly" title=" " alt="" coords="112,102,173,83,175,88,114,107"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="200,156,264,182"/>
<area shape="poly" title=" " alt="" coords="114,129,187,152,185,157,112,134"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="331,107,420,132"/>
<area shape="poly" title=" " alt="" coords="133,116,316,117,315,122,133,121"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="199,205,265,231"/>
<area shape="poly" title=" " alt="" coords="89,129,131,159,182,192,189,196,186,200,179,196,128,164,86,134"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="344,156,407,182"/>
<area shape="poly" title=" " alt="" coords="264,166,328,166,328,172,264,172"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="468,156,574,182"/>
<area shape="poly" title=" " alt="" coords="408,166,453,166,453,172,408,172"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="472,205,570,231"/>
<area shape="poly" title=" " alt="" coords="409,177,468,197,466,203,407,182"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="629,107,734,132"/>
<area shape="poly" title=" " alt="" coords="565,153,622,135,623,140,566,158"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="622,156,741,182"/>
<area shape="poly" title=" " alt="" coords="574,166,606,166,606,172,574,172"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="638,205,725,231"/>
<area shape="poly" title=" " alt="" coords="566,180,624,198,623,203,565,185"/>
<area shape="poly" title=" " alt="" coords="417,130,467,148,466,153,415,136"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="342,205,409,231"/>
<area shape="poly" title=" " alt="" coords="266,216,327,216,327,221,266,221"/>
<area shape="poly" title=" " alt="" coords="409,204,466,185,467,190,410,209"/>
<area shape="poly" title=" " alt="" coords="409,216,456,216,456,221,409,221"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a1a7aad36022bce1fc0bcc8f05df755bf_icgraph.png" border="0" usemap="#asyspkt_8c_a1a7aad36022bce1fc0bcc8f05df755bf_icgraph" alt=""/></div>
<map name="asyspkt_8c_a1a7aad36022bce1fc0bcc8f05df755bf_icgraph" id="asyspkt_8c_a1a7aad36022bce1fc0bcc8f05df755bf_icgraph">
<area shape="rect" title=" " alt="" coords="166,5,293,31"/>
<area shape="rect" href="pilot-debug_8c.html#ac6b92546ccba22d0282e536513bb4955" title=" " alt="" coords="5,5,118,31"/>
<area shape="poly" title=" " alt="" coords="150,21,118,21,118,16,150,16"/>
</map>
</div>

</div>
</div>
<a id="a2bd168aecc209206a5c39f9bb4b0e816" name="a2bd168aecc209206a5c39f9bb4b0e816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bd168aecc209206a5c39f9bb4b0e816">&#9670;&#160;</a></span>sys_RemoteEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_RemoteEvent </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>penDown</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>keypressed</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>keymod</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>keyasc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>keycode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  636</span>{</div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordtype">char</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[16];</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>    <span class="comment">/* Offset 1, 3 and 9 are padding */</span></div>
<div class="line"><span class="lineno">  640</span>    set_byte(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[0], 0x0D); <span class="comment">/* RemoteEvtCommand    */</span></div>
<div class="line"><span class="lineno">  641</span>    set_byte(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[1], 0);</div>
<div class="line"><span class="lineno">  642</span>    set_byte(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[2], penDown);</div>
<div class="line"><span class="lineno">  643</span>    set_byte(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[3], 0);</div>
<div class="line"><span class="lineno">  644</span>    set_short(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[4], x);</div>
<div class="line"><span class="lineno">  645</span>    set_short(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[6], y);</div>
<div class="line"><span class="lineno">  646</span>    set_byte(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[8], keypressed);</div>
<div class="line"><span class="lineno">  647</span>    set_byte(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[9], 0);</div>
<div class="line"><span class="lineno">  648</span>    set_short(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[10], keymod);</div>
<div class="line"><span class="lineno">  649</span>    set_short(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[12], keyasc);</div>
<div class="line"><span class="lineno">  650</span>    set_short(&amp;<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[14], keycode);</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 16);</div>
<div class="line"><span class="lineno">  653</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l01332">pi_write()</a>, and <a class="el" href="#l00107">sd</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01366">proc_key()</a>, <a class="el" href="#l01336">proc_pen()</a>, and <a class="el" href="#l00052">read_user()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a2bd168aecc209206a5c39f9bb4b0e816_cgraph.png" border="0" usemap="#asyspkt_8c_a2bd168aecc209206a5c39f9bb4b0e816_cgraph" alt=""/></div>
<map name="asyspkt_8c_a2bd168aecc209206a5c39f9bb4b0e816_cgraph" id="asyspkt_8c_a2bd168aecc209206a5c39f9bb4b0e816_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,135,106"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="183,80,249,106"/>
<area shape="poly" title=" " alt="" coords="135,90,167,90,167,96,135,96"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="297,80,363,106"/>
<area shape="poly" title=" " alt="" coords="249,90,281,90,281,96,249,96"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="411,55,517,80"/>
<area shape="poly" title=" " alt="" coords="363,84,395,78,396,83,364,89"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="415,104,513,130"/>
<area shape="poly" title=" " alt="" coords="364,96,400,103,399,108,363,101"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="572,5,677,31"/>
<area shape="poly" title=" " alt="" coords="508,51,565,34,566,39,509,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="565,55,684,80"/>
<area shape="poly" title=" " alt="" coords="517,65,549,65,549,70,517,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="581,104,668,130"/>
<area shape="poly" title=" " alt="" coords="509,78,567,97,566,102,508,84"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a2bd168aecc209206a5c39f9bb4b0e816_icgraph.png" border="0" usemap="#asyspkt_8c_a2bd168aecc209206a5c39f9bb4b0e816_icgraph" alt=""/></div>
<map name="asyspkt_8c_a2bd168aecc209206a5c39f9bb4b0e816_icgraph" id="asyspkt_8c_a2bd168aecc209206a5c39f9bb4b0e816_icgraph">
<area shape="rect" title=" " alt="" coords="229,55,358,80"/>
<area shape="rect" href="pilot-debug_8c.html#a85a74fd08020e12563c650750fa2135e" title=" " alt="" coords="105,5,179,31"/>
<area shape="poly" title=" " alt="" coords="236,52,178,33,180,28,238,47"/>
<area shape="rect" href="pilot-debug_8c.html#a91ac6cee94637fb898dde9a73817def8" title=" " alt="" coords="105,55,179,80"/>
<area shape="poly" title=" " alt="" coords="214,70,180,70,180,65,214,65"/>
<area shape="rect" href="pilot-debugsh_8c.html#a2e9b4313f82457aa9ac8418175284eee" title=" " alt="" coords="103,104,181,130"/>
<area shape="poly" title=" " alt="" coords="238,88,182,107,180,102,236,83"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,104,55,130"/>
<area shape="poly" title=" " alt="" coords="87,120,55,120,55,114,87,114"/>
</map>
</div>

</div>
</div>
<a id="abebb0faa35c3035234bbb24ac92f6402" name="abebb0faa35c3035234bbb24ac92f6402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abebb0faa35c3035234bbb24ac92f6402">&#9670;&#160;</a></span>sys_RPC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_RPC </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sockaddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>trap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *</td>          <td class="paramname"><span class="paramname"><em>D0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long *</td>          <td class="paramname"><span class="paramname"><em>A0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct RPC_param *</td>          <td class="paramname"><span class="paramname"><em>param</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>reply</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  670</span>{</div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordtype">int</span>     idx;</div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *c;</div>
<div class="line"><span class="lineno">  673</span>    pi_buffer_t *<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (4096);</div>
<div class="line"><span class="lineno">  676</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> == NULL) {</div>
<div class="line"><span class="lineno">  677</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  678</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  679</span>    }</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[0] = sockaddr;    <span class="comment">/* 0 for debug, 1 for console */</span></div>
<div class="line"><span class="lineno">  682</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[1] = sockaddr;</div>
<div class="line"><span class="lineno">  683</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[2] = 0;</div>
<div class="line"><span class="lineno">  684</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] = 0x0a;</div>
<div class="line"><span class="lineno">  685</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[5] = 0;</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>    set_short(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 6, trap);</div>
<div class="line"><span class="lineno">  688</span>    set_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 8, *D0);</div>
<div class="line"><span class="lineno">  689</span>    set_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 12, *A0);</div>
<div class="line"><span class="lineno">  690</span>    set_short(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 16, params);</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>    c = <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 18;</div>
<div class="line"><span class="lineno">  693</span>    <span class="keywordflow">for</span> (idx = params - 1; idx &gt;= 0; idx--) {</div>
<div class="line"><span class="lineno">  694</span>        set_byte(c, param[idx].byRef);</div>
<div class="line"><span class="lineno">  695</span>        c++;</div>
<div class="line"><span class="lineno">  696</span>        set_byte(c, param[idx].<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  697</span>        c++;</div>
<div class="line"><span class="lineno">  698</span>        <span class="keywordflow">if</span> (param[idx].data)</div>
<div class="line"><span class="lineno">  699</span>            memcpy(c, param[idx].data, param[idx].<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  700</span>        c += param[idx].size;</div>
<div class="line"><span class="lineno">  701</span>        <span class="keywordflow">if</span> (param[idx].<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a> &amp; 1)</div>
<div class="line"><span class="lineno">  702</span>            *c++ = 0;</div>
<div class="line"><span class="lineno">  703</span>    }</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>    <span class="keywordflow">if</span> (sockaddr == 3)</div>
<div class="line"><span class="lineno">  706</span>        set_short(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 4, c - <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data - 6);</div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>    <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 4,(<span class="keywordtype">size_t</span>)(c - <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data - 4));</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span>    <span class="keywordflow">if</span> (reply) {</div>
<div class="line"><span class="lineno">  711</span>        <span class="keywordtype">int</span> l = <a class="code hl_function" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199">pi_read</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 4096);</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>        <span class="keywordflow">if</span> (l &lt; 0) {</div>
<div class="line"><span class="lineno">  714</span>            <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  715</span>            <span class="keywordflow">return</span> l;</div>
<div class="line"><span class="lineno">  716</span>        }</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[0] != (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)0x8a) {</div>
<div class="line"><span class="lineno">  719</span>            <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  720</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, -2);</div>
<div class="line"><span class="lineno">  721</span>        }</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>        *D0 = get_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 4);</div>
<div class="line"><span class="lineno">  724</span>        *A0 = get_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 8);</div>
<div class="line"><span class="lineno">  725</span>        c = <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 14;</div>
<div class="line"><span class="lineno">  726</span>        <span class="keywordflow">for</span> (idx = params - 1; idx &gt;= 0; idx--) {</div>
<div class="line"><span class="lineno">  727</span>            <span class="keywordflow">if</span> (param[idx].byRef &amp;&amp; param[idx].data)</div>
<div class="line"><span class="lineno">  728</span>                memcpy(param[idx].data, c + 2,</div>
<div class="line"><span class="lineno">  729</span>                       param[idx].<a class="code hl_variable" href="validate_8cc.html#a439227feff9d7f55384e8780cfc2eb82">size</a>);</div>
<div class="line"><span class="lineno">  730</span>            c += 2 + ((get_byte(c + 1) + 1) &amp; ~1);</div>
<div class="line"><span class="lineno">  731</span>        }</div>
<div class="line"><span class="lineno">  732</span>    }</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  735</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  736</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01315">pi_read()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01332">pi_write()</a>, <a class="el" href="#l00107">sd</a>, and <a class="el" href="#l00081">size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00963">DoRPC()</a>, and <a class="el" href="#l00751">RPC()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_abebb0faa35c3035234bbb24ac92f6402_cgraph.png" border="0" usemap="#asyspkt_8c_abebb0faa35c3035234bbb24ac92f6402_cgraph" alt=""/></div>
<map name="asyspkt_8c_abebb0faa35c3035234bbb24ac92f6402_cgraph" id="asyspkt_8c_abebb0faa35c3035234bbb24ac92f6402_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,84,131"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="133,5,233,31"/>
<area shape="poly" title=" " alt="" coords="56,103,89,73,130,40,136,36,139,41,133,44,92,77,60,107"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="132,55,234,80"/>
<area shape="poly" title=" " alt="" coords="81,102,131,84,133,89,83,107"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="151,156,214,182"/>
<area shape="poly" title=" " alt="" coords="83,129,138,150,136,155,81,134"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="282,107,371,132"/>
<area shape="poly" title=" " alt="" coords="84,116,266,117,266,122,84,121"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="150,205,216,231"/>
<area shape="poly" title=" " alt="" coords="60,129,92,160,133,192,139,195,136,200,130,196,89,164,56,133"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="295,156,358,182"/>
<area shape="poly" title=" " alt="" coords="215,166,279,166,279,172,215,172"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="419,156,525,182"/>
<area shape="poly" title=" " alt="" coords="359,166,404,166,404,172,359,172"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="423,205,521,231"/>
<area shape="poly" title=" " alt="" coords="360,177,419,197,417,203,358,182"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="580,107,685,132"/>
<area shape="poly" title=" " alt="" coords="516,153,573,135,574,140,517,158"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="573,156,692,182"/>
<area shape="poly" title=" " alt="" coords="525,166,557,166,557,172,525,172"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="589,205,676,231"/>
<area shape="poly" title=" " alt="" coords="517,180,575,198,574,203,516,185"/>
<area shape="poly" title=" " alt="" coords="368,130,418,148,417,153,366,136"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="294,205,360,231"/>
<area shape="poly" title=" " alt="" coords="217,216,278,216,278,221,217,221"/>
<area shape="poly" title=" " alt="" coords="360,204,417,185,418,190,361,209"/>
<area shape="poly" title=" " alt="" coords="360,216,407,216,407,221,360,221"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_abebb0faa35c3035234bbb24ac92f6402_icgraph.png" border="0" usemap="#asyspkt_8c_abebb0faa35c3035234bbb24ac92f6402_icgraph" alt=""/></div>
<map name="asyspkt_8c_abebb0faa35c3035234bbb24ac92f6402_icgraph" id="asyspkt_8c_abebb0faa35c3035234bbb24ac92f6402_icgraph">
<area shape="rect" title=" " alt="" coords="657,399,735,424"/>
<area shape="rect" href="syspkt_8c.html#a09e924e712e1538a4838136c4874ed3c" title=" " alt="" coords="541,324,609,350"/>
<area shape="poly" title=" " alt="" coords="659,393,596,353,599,348,662,388"/>
<area shape="rect" href="syspkt_8c.html#a3dd3fb2816518fe159da889a1a868dca" title=" " alt="" coords="550,449,600,475"/>
<area shape="poly" title=" " alt="" coords="650,433,602,454,599,449,648,428"/>
<area shape="rect" href="pilot-debug_8c.html#a6c53b0db60a15b9b7745a0f6ffbc957b" title=" " alt="" coords="398,131,481,156"/>
<area shape="poly" title=" " alt="" coords="554,313,448,158,452,155,558,310"/>
<area shape="rect" href="pilot-debug_8c.html#a7a6f3abcadc4c0f6078908d7f4073256" title=" " alt="" coords="225,207,300,232"/>
<area shape="poly" title=" " alt="" coords="526,322,298,235,300,230,528,317"/>
<area shape="rect" href="pilot-debug_8c.html#acb6811d2d338b9eef6752c97442b8ec6" title=" " alt="" coords="197,400,328,426"/>
<area shape="poly" title=" " alt="" coords="527,351,319,402,318,397,526,346"/>
<area shape="rect" href="pilot-debug_8c.html#ac33e2efef1e2cfc8b86289ad15de5955" title=" " alt="" coords="187,337,338,363"/>
<area shape="poly" title=" " alt="" coords="526,342,339,350,338,344,526,336"/>
<area shape="poly" title=" " alt="" coords="403,167,339,198,301,212,299,207,337,193,401,162"/>
<area shape="rect" href="pilot-debug_8c.html#a75a6605568ee31c1f0c2a486775fd942" title=" " alt="" coords="25,5,119,31"/>
<area shape="poly" title=" " alt="" coords="407,124,374,102,337,83,280,63,221,47,119,27,120,22,222,42,281,58,339,78,377,98,410,119"/>
<area shape="rect" href="pilot-debug_8c.html#a17abc8aecff811b22b2663c9d4bd3fe8" title=" " alt="" coords="25,55,119,80"/>
<area shape="poly" title=" " alt="" coords="384,128,337,115,219,92,119,76,120,71,220,87,339,110,385,123"/>
<area shape="rect" href="pilot-debug_8c.html#ac6b92546ccba22d0282e536513bb4955" title=" " alt="" coords="16,104,128,130"/>
<area shape="poly" title=" " alt="" coords="382,142,129,124,129,118,383,137"/>
<area shape="rect" href="pilot-debug_8c.html#adad49ccde53bae1567b84326cb37d5be" title=" " alt="" coords="218,157,307,183"/>
<area shape="poly" title=" " alt="" coords="383,155,308,166,307,161,382,149"/>
<area shape="poly" title=" " alt="" coords="209,213,185,197,170,178,162,158,160,119,157,81,150,63,137,44,118,31,121,27,141,40,155,60,162,80,165,119,167,157,175,175,188,194,212,208"/>
<area shape="rect" href="pilot-debug_8c.html#aca5dde8086769436b3eabe9d899ccc97" title=" " alt="" coords="21,252,123,278"/>
<area shape="poly" title=" " alt="" coords="211,234,124,255,123,250,210,229"/>
<area shape="poly" title=" " alt="" coords="209,212,185,198,173,184,166,171,160,144,154,118,148,106,137,94,118,81,121,77,140,89,152,103,159,117,165,143,171,169,177,181,188,193,212,207"/>
<area shape="poly" title=" " alt="" coords="210,210,185,198,169,184,160,170,152,156,137,143,118,133,120,128,140,139,156,153,165,167,174,180,188,193,212,205"/>
<area shape="rect" href="pilot-debug_8c.html#ae303ebba9fe1311895e478934212773f" title=" " alt="" coords="29,400,115,426"/>
<area shape="poly" title=" " alt="" coords="245,246,140,391,117,404,114,399,137,387,241,243"/>
<area shape="rect" href="pilot-debug_8c.html#a37ffecfd2a5432eab0a2a3e7bcac88c1" title=" " alt="" coords="13,301,131,327"/>
<area shape="poly" title=" " alt="" coords="229,243,140,293,114,303,112,298,138,288,226,238"/>
<area shape="rect" href="pilot-debug_8c.html#add68e1c4ca93649d6a77c7eebfa02736" title=" " alt="" coords="12,153,132,179"/>
<area shape="poly" title=" " alt="" coords="209,208,120,182,122,177,211,202"/>
<area shape="rect" href="pilot-debug_8c.html#a36134fdc30c5271114e904e31cb22da4" title=" " alt="" coords="5,351,139,376"/>
<area shape="poly" title=" " alt="" coords="243,246,199,294,171,320,140,342,119,352,117,348,137,337,167,315,195,290,239,243"/>
<area shape="rect" href="pilot-debug_8c.html#a226a8a688a76efc304507a6875a35079" title=" " alt="" coords="17,203,127,228"/>
<area shape="poly" title=" " alt="" coords="210,221,127,219,128,214,210,216"/>
<area shape="poly" title=" " alt="" coords="181,416,116,416,116,410,181,410"/>
<area shape="poly" title=" " alt="" coords="216,395,185,378,161,358,137,340,115,330,117,325,140,336,165,354,188,373,219,390"/>
<area shape="poly" title=" " alt="" coords="194,398,124,380,125,374,196,393"/>
<area shape="rect" href="pilot-debug_8c.html#a85a74fd08020e12563c650750fa2135e" title=" " alt="" coords="35,449,109,475"/>
<area shape="poly" title=" " alt="" coords="196,433,110,455,109,450,194,428"/>
<area shape="rect" href="pilot-debug_8c.html#a91ac6cee94637fb898dde9a73817def8" title=" " alt="" coords="35,499,109,524"/>
<area shape="poly" title=" " alt="" coords="231,437,188,464,140,490,111,502,109,497,138,485,186,459,228,432"/>
<area shape="rect" href="pilot-debug_8c.html#a483120d368283eaa7eb4459fab4d3c66" title=" " alt="" coords="22,548,122,574"/>
<area shape="poly" title=" " alt="" coords="224,436,189,464,174,484,166,502,157,520,140,539,123,550,120,545,137,535,153,517,161,500,170,481,185,460,221,432"/>
<area shape="poly" title=" " alt="" coords="207,371,114,402,113,397,205,366"/>
<area shape="rect" href="pilot-debugsh_8c.html#a2e9b4313f82457aa9ac8418175284eee" title=" " alt="" coords="400,475,479,500"/>
<area shape="poly" title=" " alt="" coords="535,472,480,483,479,478,534,467"/>
<area shape="rect" href="syspkt_8c.html#ae69ab83909ee3284c76c8a2dedd56540" title=" " alt="" coords="387,524,492,550"/>
<area shape="poly" title=" " alt="" coords="543,486,495,515,473,526,471,521,492,510,540,482"/>
<area shape="rect" href="syspkt_8c.html#a336c889b0466da587152a137cf2752b5" title=" " alt="" coords="386,425,493,451"/>
<area shape="poly" title=" " alt="" coords="534,458,493,450,494,445,535,452"/>
<area shape="rect" href="pilot-debugsh_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="238,475,287,500"/>
<area shape="poly" title=" " alt="" coords="385,490,287,490,287,485,385,485"/>
</map>
</div>

</div>
</div>
<a id="ae31b7c869ca59098a9dde2d0895a44f4" name="ae31b7c869ca59098a9dde2d0895a44f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31b7c869ca59098a9dde2d0895a44f4">&#9670;&#160;</a></span>sys_SetBreakpoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_SetBreakpoints </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct Pilot_breakpoint *</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  230</span>{</div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordtype">int</span>     idx;</div>
<div class="line"><span class="lineno">  232</span>    pi_buffer_t *<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (94);</div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> == NULL) {</div>
<div class="line"><span class="lineno">  236</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  238</span>    }</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[0] = 0;</div>
<div class="line"><span class="lineno">  241</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[1] = 0;</div>
<div class="line"><span class="lineno">  242</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[2] = 0;</div>
<div class="line"><span class="lineno">  243</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[3] = 0;</div>
<div class="line"><span class="lineno">  244</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] = 0x0c;</div>
<div class="line"><span class="lineno">  245</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[5] = 0;       <span class="comment">/* gapfill */</span></div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">for</span> (idx = 0; idx &lt; 6; idx++) {</div>
<div class="line"><span class="lineno">  248</span>        set_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 6 + idx * 6, b[idx].address);</div>
<div class="line"><span class="lineno">  249</span>        set_byte(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 10 + idx * 6, b[idx].enabled);</div>
<div class="line"><span class="lineno">  250</span>        set_byte(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 11 + idx * 6, 0);</div>
<div class="line"><span class="lineno">  251</span>    }</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data, 42);</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    idx = <a class="code hl_function" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199">pi_read</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 6);</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">if</span> (idx &lt;= 0 || buf-&gt;data[4] != (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) 0x8c) {</div>
<div class="line"><span class="lineno">  258</span>        <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  260</span>    }</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  264</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01315">pi_read()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01332">pi_write()</a>, and <a class="el" href="#l00107">sd</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00474">SetBreakpoint()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_ae31b7c869ca59098a9dde2d0895a44f4_cgraph.png" border="0" usemap="#asyspkt_8c_ae31b7c869ca59098a9dde2d0895a44f4_cgraph" alt=""/></div>
<map name="asyspkt_8c_ae31b7c869ca59098a9dde2d0895a44f4_cgraph" id="asyspkt_8c_ae31b7c869ca59098a9dde2d0895a44f4_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,144,131"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="193,5,293,31"/>
<area shape="poly" title=" " alt="" coords="93,102,190,40,197,36,200,41,193,44,96,107"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="192,55,294,80"/>
<area shape="poly" title=" " alt="" coords="119,102,183,83,185,88,121,107"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="211,156,274,182"/>
<area shape="poly" title=" " alt="" coords="121,129,197,153,196,158,119,134"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="342,107,431,132"/>
<area shape="poly" title=" " alt="" coords="144,116,326,117,326,122,144,121"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="210,205,276,231"/>
<area shape="poly" title=" " alt="" coords="96,129,193,192,200,196,197,200,190,196,93,134"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="355,156,418,182"/>
<area shape="poly" title=" " alt="" coords="275,166,339,166,339,172,275,172"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="479,156,585,182"/>
<area shape="poly" title=" " alt="" coords="419,166,464,166,464,172,419,172"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="483,205,581,231"/>
<area shape="poly" title=" " alt="" coords="420,177,479,197,477,203,418,182"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="640,107,745,132"/>
<area shape="poly" title=" " alt="" coords="576,153,633,135,634,140,577,158"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="633,156,752,182"/>
<area shape="poly" title=" " alt="" coords="585,166,617,166,617,172,585,172"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="649,205,736,231"/>
<area shape="poly" title=" " alt="" coords="577,180,635,198,634,203,576,185"/>
<area shape="poly" title=" " alt="" coords="428,130,478,148,477,153,426,136"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="354,205,420,231"/>
<area shape="poly" title=" " alt="" coords="277,216,338,216,338,221,277,221"/>
<area shape="poly" title=" " alt="" coords="420,204,477,185,478,190,421,209"/>
<area shape="poly" title=" " alt="" coords="420,216,467,216,467,221,420,221"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_ae31b7c869ca59098a9dde2d0895a44f4_icgraph.png" border="0" usemap="#asyspkt_8c_ae31b7c869ca59098a9dde2d0895a44f4_icgraph" alt=""/></div>
<map name="asyspkt_8c_ae31b7c869ca59098a9dde2d0895a44f4_icgraph" id="asyspkt_8c_ae31b7c869ca59098a9dde2d0895a44f4_icgraph">
<area shape="rect" title=" " alt="" coords="262,5,400,31"/>
<area shape="rect" href="pilot-debug_8c.html#aceb62650003cedf0ca17ddd284204d76" title=" " alt="" coords="111,5,214,31"/>
<area shape="poly" title=" " alt="" coords="246,21,215,21,215,16,246,16"/>
<area shape="rect" href="pilot-debug_8c.html#a06ee9ed66ba74c181bd81507110f6ef7" title=" " alt="" coords="5,5,63,31"/>
<area shape="poly" title=" " alt="" coords="95,21,63,21,63,16,95,16"/>
</map>
</div>

</div>
</div>
<a id="a2a7110fc45d6f55efae7e131029338a3" name="a2a7110fc45d6f55efae7e131029338a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a7110fc45d6f55efae7e131029338a3">&#9670;&#160;</a></span>sys_SetTrapBreaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_SetTrapBreaks </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>traps</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  279</span>{</div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordtype">int</span>     idx;</div>
<div class="line"><span class="lineno">  281</span>    pi_buffer_t *<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (32);</div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> == NULL) {</div>
<div class="line"><span class="lineno">  285</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  287</span>    }</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[0] = 0;</div>
<div class="line"><span class="lineno">  290</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[1] = 0;</div>
<div class="line"><span class="lineno">  291</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[2] = 0;</div>
<div class="line"><span class="lineno">  292</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[3] = 0;</div>
<div class="line"><span class="lineno">  293</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] = 0x11;</div>
<div class="line"><span class="lineno">  294</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[5] = 0;       <span class="comment">/* gapfill */</span></div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">for</span> (idx = 0; idx &lt; 5; idx++) {</div>
<div class="line"><span class="lineno">  297</span>        set_short(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 6 + idx * 2, traps[idx]);</div>
<div class="line"><span class="lineno">  298</span>    }</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data, 16);</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>    idx = <a class="code hl_function" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199">pi_read</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 6);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">if</span> ((idx &lt;= 0) || (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] != (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) 0x91)) {</div>
<div class="line"><span class="lineno">  305</span>        <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  307</span>    }</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  310</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  311</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01315">pi_read()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01332">pi_write()</a>, and <a class="el" href="#l00107">sd</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a2a7110fc45d6f55efae7e131029338a3_cgraph.png" border="0" usemap="#asyspkt_8c_a2a7110fc45d6f55efae7e131029338a3_cgraph" alt=""/></div>
<map name="asyspkt_8c_a2a7110fc45d6f55efae7e131029338a3_cgraph" id="asyspkt_8c_a2a7110fc45d6f55efae7e131029338a3_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,142,131"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="191,5,291,31"/>
<area shape="poly" title=" " alt="" coords="92,102,188,40,195,36,198,41,191,44,95,107"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="190,55,292,80"/>
<area shape="poly" title=" " alt="" coords="118,102,181,83,182,88,119,107"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="209,156,272,182"/>
<area shape="poly" title=" " alt="" coords="119,129,195,152,193,157,118,134"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="340,107,429,132"/>
<area shape="poly" title=" " alt="" coords="142,116,324,117,324,122,142,121"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="208,205,274,231"/>
<area shape="poly" title=" " alt="" coords="95,129,191,192,198,196,195,200,188,196,92,134"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="353,156,416,182"/>
<area shape="poly" title=" " alt="" coords="273,166,337,166,337,172,273,172"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="477,156,583,182"/>
<area shape="poly" title=" " alt="" coords="417,166,462,166,462,172,417,172"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="481,205,579,231"/>
<area shape="poly" title=" " alt="" coords="418,177,477,197,475,203,416,182"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="638,107,743,132"/>
<area shape="poly" title=" " alt="" coords="574,153,631,135,632,140,575,158"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="631,156,750,182"/>
<area shape="poly" title=" " alt="" coords="583,166,615,166,615,172,583,172"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="647,205,734,231"/>
<area shape="poly" title=" " alt="" coords="575,180,633,198,632,203,574,185"/>
<area shape="poly" title=" " alt="" coords="426,130,476,148,475,153,424,136"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="352,205,418,231"/>
<area shape="poly" title=" " alt="" coords="275,216,336,216,336,221,275,221"/>
<area shape="poly" title=" " alt="" coords="418,204,475,185,476,190,419,209"/>
<area shape="poly" title=" " alt="" coords="418,216,465,216,465,221,418,221"/>
</map>
</div>

</div>
</div>
<a id="ad3ebf01f1449a7b87fc7b4fd0d407cbc" name="ad3ebf01f1449a7b87fc7b4fd0d407cbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3ebf01f1449a7b87fc7b4fd0d407cbc">&#9670;&#160;</a></span>sys_Step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_Step </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  204</span>{</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordtype">char</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[94];</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[0] = 0;</div>
<div class="line"><span class="lineno">  208</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[1] = 0;</div>
<div class="line"><span class="lineno">  209</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[2] = 0;</div>
<div class="line"><span class="lineno">  210</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[3] = 0;</div>
<div class="line"><span class="lineno">  211</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[4] = 0x03;</div>
<div class="line"><span class="lineno">  212</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>[5] = 0;     <span class="comment">/* gapfill */</span></div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 6);</div>
<div class="line"><span class="lineno">  215</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l01332">pi_write()</a>, and <a class="el" href="#l00107">sd</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_ad3ebf01f1449a7b87fc7b4fd0d407cbc_cgraph.png" border="0" usemap="#asyspkt_8c_ad3ebf01f1449a7b87fc7b4fd0d407cbc_cgraph" alt=""/></div>
<map name="asyspkt_8c_ad3ebf01f1449a7b87fc7b4fd0d407cbc_cgraph" id="asyspkt_8c_ad3ebf01f1449a7b87fc7b4fd0d407cbc_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,82,106"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="130,80,196,106"/>
<area shape="poly" title=" " alt="" coords="82,90,114,90,114,96,82,96"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="244,80,310,106"/>
<area shape="poly" title=" " alt="" coords="196,90,228,90,228,96,196,96"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="358,55,464,80"/>
<area shape="poly" title=" " alt="" coords="310,84,342,78,343,83,311,89"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="362,104,460,130"/>
<area shape="poly" title=" " alt="" coords="311,96,347,103,346,108,310,101"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="519,5,624,31"/>
<area shape="poly" title=" " alt="" coords="455,51,512,34,513,39,456,57"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="512,55,631,80"/>
<area shape="poly" title=" " alt="" coords="464,65,496,65,496,70,464,70"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="528,104,615,130"/>
<area shape="poly" title=" " alt="" coords="456,78,514,97,513,102,455,84"/>
</map>
</div>

</div>
</div>
<a id="af1852632aca065cb1f1020e3e573cf63" name="af1852632aca065cb1f1020e3e573cf63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1852632aca065cb1f1020e3e573cf63">&#9670;&#160;</a></span>sys_ToggleDbgBreaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_ToggleDbgBreaks </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  374</span>{</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordtype">int</span>     idx;</div>
<div class="line"><span class="lineno">  376</span>    pi_buffer_t *<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_typedef" href="pilot-xfer_8c.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>;</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (32);</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> == NULL) {</div>
<div class="line"><span class="lineno">  381</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  382</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  383</span>    }</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[0] = 0;</div>
<div class="line"><span class="lineno">  386</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[1] = 0;</div>
<div class="line"><span class="lineno">  387</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[2] = 0;</div>
<div class="line"><span class="lineno">  388</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[3] = 0;</div>
<div class="line"><span class="lineno">  389</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] = 0x0d;</div>
<div class="line"><span class="lineno">  390</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[5] = 0;       <span class="comment">/* gapfill */</span></div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>    <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data, 6);</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>    idx = <a class="code hl_function" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199">pi_read</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 7);</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">if</span> ((idx &lt; 7) || (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] != (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>) 0x8d)) {</div>
<div class="line"><span class="lineno">  397</span>        <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  399</span>    }</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>    <span class="keywordtype">byte</span> = get_byte(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 6);</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="pilot-xfer_8c.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>;</div>
<div class="line"><span class="lineno">  406</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01315">pi_read()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01332">pi_write()</a>, and <a class="el" href="#l00107">sd</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_af1852632aca065cb1f1020e3e573cf63_cgraph.png" border="0" usemap="#asyspkt_8c_af1852632aca065cb1f1020e3e573cf63_cgraph" alt=""/></div>
<map name="asyspkt_8c_af1852632aca065cb1f1020e3e573cf63_cgraph" id="asyspkt_8c_af1852632aca065cb1f1020e3e573cf63_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,158,131"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="207,5,307,31"/>
<area shape="poly" title=" " alt="" coords="101,103,204,40,211,36,214,41,207,44,104,107"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="206,55,308,80"/>
<area shape="poly" title=" " alt="" coords="128,102,195,83,196,88,129,107"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="225,156,288,182"/>
<area shape="poly" title=" " alt="" coords="129,129,211,153,210,158,128,134"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="356,107,445,132"/>
<area shape="poly" title=" " alt="" coords="158,116,341,117,341,122,158,121"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="224,205,290,231"/>
<area shape="poly" title=" " alt="" coords="104,129,207,192,214,196,211,200,204,196,101,134"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="369,156,432,182"/>
<area shape="poly" title=" " alt="" coords="289,166,353,166,353,172,289,172"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="493,156,599,182"/>
<area shape="poly" title=" " alt="" coords="433,166,478,166,478,172,433,172"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="497,205,595,231"/>
<area shape="poly" title=" " alt="" coords="434,177,493,197,491,203,432,182"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="654,107,759,132"/>
<area shape="poly" title=" " alt="" coords="590,153,647,135,648,140,591,158"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="647,156,766,182"/>
<area shape="poly" title=" " alt="" coords="599,166,631,166,631,172,599,172"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="663,205,750,231"/>
<area shape="poly" title=" " alt="" coords="591,180,649,198,648,203,590,185"/>
<area shape="poly" title=" " alt="" coords="442,130,492,148,491,153,440,136"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="368,205,434,231"/>
<area shape="poly" title=" " alt="" coords="291,216,352,216,352,221,291,221"/>
<area shape="poly" title=" " alt="" coords="434,204,491,185,492,190,435,209"/>
<area shape="poly" title=" " alt="" coords="434,216,481,216,481,221,434,221"/>
</map>
</div>

</div>
</div>
<a id="ade75e4cccb3104ca76e1174b37761791" name="ade75e4cccb3104ca76e1174b37761791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade75e4cccb3104ca76e1174b37761791">&#9670;&#160;</a></span>sys_UnpackRegisters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_UnpackRegisters </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct Pilot_registers *</td>          <td class="paramname"><span class="paramname"><em>r</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   97</span>{</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> = data;</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>    r-&gt;D[0] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 0);</div>
<div class="line"><span class="lineno">  101</span>    r-&gt;D[1] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 4);</div>
<div class="line"><span class="lineno">  102</span>    r-&gt;D[2] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 8);</div>
<div class="line"><span class="lineno">  103</span>    r-&gt;D[3] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 12);</div>
<div class="line"><span class="lineno">  104</span>    r-&gt;D[4] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 16);</div>
<div class="line"><span class="lineno">  105</span>    r-&gt;D[5] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 20);</div>
<div class="line"><span class="lineno">  106</span>    r-&gt;D[6] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 24);</div>
<div class="line"><span class="lineno">  107</span>    r-&gt;D[7] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 28);</div>
<div class="line"><span class="lineno">  108</span>    r-&gt;A[0] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 32);</div>
<div class="line"><span class="lineno">  109</span>    r-&gt;A[1] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 36);</div>
<div class="line"><span class="lineno">  110</span>    r-&gt;A[2] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 40);</div>
<div class="line"><span class="lineno">  111</span>    r-&gt;A[3] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 44);</div>
<div class="line"><span class="lineno">  112</span>    r-&gt;A[4] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 48);</div>
<div class="line"><span class="lineno">  113</span>    r-&gt;A[5] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 52);</div>
<div class="line"><span class="lineno">  114</span>    r-&gt;A[6] = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 56);</div>
<div class="line"><span class="lineno">  115</span>    r-&gt;USP  = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 60);</div>
<div class="line"><span class="lineno">  116</span>    r-&gt;SSP  = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 64);</div>
<div class="line"><span class="lineno">  117</span>    r-&gt;PC   = get_long(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 68);</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    r-&gt;SR   = get_short(<a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a> + 72);</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  122</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00059">sys_UnpackState()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_ade75e4cccb3104ca76e1174b37761791_icgraph.png" border="0" usemap="#asyspkt_8c_ade75e4cccb3104ca76e1174b37761791_icgraph" alt=""/></div>
<map name="asyspkt_8c_ade75e4cccb3104ca76e1174b37761791_icgraph" id="asyspkt_8c_ade75e4cccb3104ca76e1174b37761791_icgraph">
<area shape="rect" title=" " alt="" coords="818,464,968,490"/>
<area shape="rect" href="syspkt_8c.html#ad75d7777928809cab4d3cc67f08af1d1" title=" " alt="" coords="645,464,770,490"/>
<area shape="poly" title=" " alt="" coords="803,480,771,480,771,474,803,474"/>
<area shape="rect" href="pilot-debug_8c.html#a2f660d1bf8432de4a8dcddfc01179bdd" title=" " alt="" coords="511,464,597,490"/>
<area shape="poly" title=" " alt="" coords="629,480,597,480,597,474,629,474"/>
<area shape="rect" href="pilot-debug_8c.html#a6c53b0db60a15b9b7745a0f6ffbc957b" title=" " alt="" coords="352,312,435,338"/>
<area shape="poly" title=" " alt="" coords="526,455,407,340,411,336,530,451"/>
<area shape="rect" href="pilot-debug_8c.html#ae3ee2f57e961b52f7f3eecf2e5b6a390" title=" " alt="" coords="324,439,463,464"/>
<area shape="poly" title=" " alt="" coords="495,470,463,465,464,460,496,465"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="356,537,431,563"/>
<area shape="poly" title=" " alt="" coords="519,500,464,529,433,541,431,536,462,524,516,496"/>
<area shape="rect" href="pilot-debug_8c.html#aceb62650003cedf0ca17ddd284204d76" title=" " alt="" coords="342,488,445,514"/>
<area shape="poly" title=" " alt="" coords="497,488,446,496,445,491,496,483"/>
<area shape="rect" href="pilot-debug_8c.html#a7a6f3abcadc4c0f6078908d7f4073256" title=" " alt="" coords="194,213,268,239"/>
<area shape="poly" title=" " alt="" coords="356,306,253,242,256,237,359,301"/>
<area shape="rect" href="pilot-debug_8c.html#a75a6605568ee31c1f0c2a486775fd942" title=" " alt="" coords="25,400,119,426"/>
<area shape="poly" title=" " alt="" coords="354,347,277,378,194,398,120,410,119,405,193,393,275,373,352,342"/>
<area shape="rect" href="pilot-debug_8c.html#a17abc8aecff811b22b2663c9d4bd3fe8" title=" " alt="" coords="25,5,119,31"/>
<area shape="poly" title=" " alt="" coords="374,301,336,248,282,179,214,107,177,74,137,44,117,34,120,29,140,40,180,70,218,104,286,176,341,244,378,297"/>
<area shape="rect" href="pilot-debug_8c.html#ac6b92546ccba22d0282e536513bb4955" title=" " alt="" coords="16,351,128,376"/>
<area shape="poly" title=" " alt="" coords="336,323,265,321,187,327,111,353,110,348,186,322,265,316,336,317"/>
<area shape="rect" href="pilot-debug_8c.html#adad49ccde53bae1567b84326cb37d5be" title=" " alt="" coords="187,337,276,363"/>
<area shape="poly" title=" " alt="" coords="337,336,277,346,276,341,336,331"/>
<area shape="poly" title=" " alt="" coords="220,254,182,330,160,367,140,391,121,403,118,398,137,387,156,364,177,328,215,252"/>
<area shape="rect" href="pilot-debug_8c.html#aca5dde8086769436b3eabe9d899ccc97" title=" " alt="" coords="21,301,123,327"/>
<area shape="poly" title=" " alt="" coords="203,251,140,293,116,303,114,298,137,288,200,247"/>
<area shape="poly" title=" " alt="" coords="217,200,179,113,157,71,137,44,118,32,120,28,140,40,161,68,184,111,222,198"/>
<area shape="poly" title=" " alt="" coords="212,253,140,342,121,352,118,348,137,337,208,249"/>
<area shape="rect" href="pilot-debug_8c.html#ae303ebba9fe1311895e478934212773f" title=" " alt="" coords="29,55,115,80"/>
<area shape="poly" title=" " alt="" coords="216,201,185,147,163,118,137,94,114,81,117,76,140,89,167,115,189,144,221,198"/>
<area shape="rect" href="pilot-debug_8c.html#a37ffecfd2a5432eab0a2a3e7bcac88c1" title=" " alt="" coords="13,104,131,130"/>
<area shape="poly" title=" " alt="" coords="207,204,176,172,137,143,116,133,119,128,140,139,179,168,211,200"/>
<area shape="rect" href="pilot-debug_8c.html#add68e1c4ca93649d6a77c7eebfa02736" title=" " alt="" coords="12,153,132,179"/>
<area shape="poly" title=" " alt="" coords="182,210,138,193,109,182,111,177,140,188,184,205"/>
<area shape="rect" href="pilot-debug_8c.html#a36134fdc30c5271114e904e31cb22da4" title=" " alt="" coords="5,203,139,228"/>
<area shape="poly" title=" " alt="" coords="178,225,139,223,139,217,179,220"/>
<area shape="rect" href="pilot-debug_8c.html#a226a8a688a76efc304507a6875a35079" title=" " alt="" coords="17,252,127,278"/>
<area shape="poly" title=" " alt="" coords="180,241,128,254,127,249,178,236"/>
<area shape="rect" href="pilot-debug_8c.html#a2799257422b5301cbeecc800d67665a4" title=" " alt="" coords="201,439,262,464"/>
<area shape="poly" title=" " alt="" coords="308,454,262,454,262,449,308,449"/>
<area shape="rect" href="pilot-debug_8c.html#a06ee9ed66ba74c181bd81507110f6ef7" title=" " alt="" coords="203,488,260,514"/>
<area shape="poly" title=" " alt="" coords="335,472,261,495,260,490,334,467"/>
<area shape="poly" title=" " alt="" coords="327,504,260,504,260,498,327,498"/>
</map>
</div>

</div>
</div>
<a id="ad75d7777928809cab4d3cc67f08af1d1" name="ad75d7777928809cab4d3cc67f08af1d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad75d7777928809cab4d3cc67f08af1d1">&#9670;&#160;</a></span>sys_UnpackState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_UnpackState </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct Pilot_state *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   60</span>{</div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordtype">int</span>     idx;</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data = <a class="code hl_variable" href="pilot-debug_8c.html#a0ab27356885000c0b9430ce5f9b4a4ec">buffer</a>;</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>    s-&gt;reset        = get_short(data);</div>
<div class="line"><span class="lineno">   65</span>    s-&gt;exception        = get_short(data + 2);</div>
<div class="line"><span class="lineno">   66</span>    memcpy(s-&gt;func_name, data + 152, 32);</div>
<div class="line"><span class="lineno">   67</span>    memcpy(s-&gt;instructions, data + 78, 30);</div>
<div class="line"><span class="lineno">   68</span>    s-&gt;func_name[32 - 1]    = 0;</div>
<div class="line"><span class="lineno">   69</span>    s-&gt;func_start       = get_long(data + 144);</div>
<div class="line"><span class="lineno">   70</span>    s-&gt;func_end         = get_long(data + 148);</div>
<div class="line"><span class="lineno">   71</span>    <a class="code hl_function" href="#ade75e4cccb3104ca76e1174b37761791">sys_UnpackRegisters</a>(data + 4, &amp;s-&gt;regs);</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">for</span> (idx = 0; idx &lt; 6; idx++) {</div>
<div class="line"><span class="lineno">   74</span>        s-&gt;breakpoint[idx].address = get_long(data + 108 + idx * 6);</div>
<div class="line"><span class="lineno">   75</span>        s-&gt;breakpoint[idx].enabled = get_byte(data + 112 + idx * 6);</div>
<div class="line"><span class="lineno">   76</span>    }</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    s-&gt;trap_rev = get_short(data + 184);</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   81</span>}</div>
<div class="ttc" id="asyspkt_8c_html_ade75e4cccb3104ca76e1174b37761791"><div class="ttname"><a href="#ade75e4cccb3104ca76e1174b37761791">sys_UnpackRegisters</a></div><div class="ttdeci">int sys_UnpackRegisters(void *data, struct Pilot_registers *r)</div><div class="ttdef"><b>Definition</b> syspkt.c:96</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00767">buffer</a>, and <a class="el" href="#l00096">sys_UnpackRegisters()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00244">Read_Pilot()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_ad75d7777928809cab4d3cc67f08af1d1_cgraph.png" border="0" usemap="#asyspkt_8c_ad75d7777928809cab4d3cc67f08af1d1_cgraph" alt=""/></div>
<map name="asyspkt_8c_ad75d7777928809cab4d3cc67f08af1d1_cgraph" id="asyspkt_8c_ad75d7777928809cab4d3cc67f08af1d1_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,131,31"/>
<area shape="rect" href="syspkt_8c.html#ade75e4cccb3104ca76e1174b37761791" title=" " alt="" coords="179,5,329,31"/>
<area shape="poly" title=" " alt="" coords="131,16,163,16,163,21,131,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_ad75d7777928809cab4d3cc67f08af1d1_icgraph.png" border="0" usemap="#asyspkt_8c_ad75d7777928809cab4d3cc67f08af1d1_icgraph" alt=""/></div>
<map name="asyspkt_8c_ad75d7777928809cab4d3cc67f08af1d1_icgraph" id="asyspkt_8c_ad75d7777928809cab4d3cc67f08af1d1_icgraph">
<area shape="rect" title=" " alt="" coords="645,464,770,490"/>
<area shape="rect" href="pilot-debug_8c.html#a2f660d1bf8432de4a8dcddfc01179bdd" title=" " alt="" coords="511,464,597,490"/>
<area shape="poly" title=" " alt="" coords="629,480,597,480,597,474,629,474"/>
<area shape="rect" href="pilot-debug_8c.html#a6c53b0db60a15b9b7745a0f6ffbc957b" title=" " alt="" coords="352,312,435,338"/>
<area shape="poly" title=" " alt="" coords="526,455,407,340,411,336,530,451"/>
<area shape="rect" href="pilot-debug_8c.html#ae3ee2f57e961b52f7f3eecf2e5b6a390" title=" " alt="" coords="324,439,463,464"/>
<area shape="poly" title=" " alt="" coords="495,470,463,465,464,460,496,465"/>
<area shape="rect" href="pilot-debug_8c.html#a0dacc8d2e2dac4868581ef1931b0cee1" title=" " alt="" coords="356,537,431,563"/>
<area shape="poly" title=" " alt="" coords="519,500,464,529,433,541,431,536,462,524,516,496"/>
<area shape="rect" href="pilot-debug_8c.html#aceb62650003cedf0ca17ddd284204d76" title=" " alt="" coords="342,488,445,514"/>
<area shape="poly" title=" " alt="" coords="497,488,446,496,445,491,496,483"/>
<area shape="rect" href="pilot-debug_8c.html#a7a6f3abcadc4c0f6078908d7f4073256" title=" " alt="" coords="194,213,268,239"/>
<area shape="poly" title=" " alt="" coords="356,306,253,242,256,237,359,301"/>
<area shape="rect" href="pilot-debug_8c.html#a75a6605568ee31c1f0c2a486775fd942" title=" " alt="" coords="25,400,119,426"/>
<area shape="poly" title=" " alt="" coords="354,347,277,378,194,398,120,410,119,405,193,393,275,373,352,342"/>
<area shape="rect" href="pilot-debug_8c.html#a17abc8aecff811b22b2663c9d4bd3fe8" title=" " alt="" coords="25,5,119,31"/>
<area shape="poly" title=" " alt="" coords="374,301,336,248,282,179,214,107,177,74,137,44,117,34,120,29,140,40,180,70,218,104,286,176,341,244,378,297"/>
<area shape="rect" href="pilot-debug_8c.html#ac6b92546ccba22d0282e536513bb4955" title=" " alt="" coords="16,351,128,376"/>
<area shape="poly" title=" " alt="" coords="336,323,265,321,187,327,111,353,110,348,186,322,265,316,336,317"/>
<area shape="rect" href="pilot-debug_8c.html#adad49ccde53bae1567b84326cb37d5be" title=" " alt="" coords="187,337,276,363"/>
<area shape="poly" title=" " alt="" coords="337,336,277,346,276,341,336,331"/>
<area shape="poly" title=" " alt="" coords="220,254,182,330,160,367,140,391,121,403,118,398,137,387,156,364,177,328,215,252"/>
<area shape="rect" href="pilot-debug_8c.html#aca5dde8086769436b3eabe9d899ccc97" title=" " alt="" coords="21,301,123,327"/>
<area shape="poly" title=" " alt="" coords="203,251,140,293,116,303,114,298,137,288,200,247"/>
<area shape="poly" title=" " alt="" coords="217,200,179,113,157,71,137,44,118,32,120,28,140,40,161,68,184,111,222,198"/>
<area shape="poly" title=" " alt="" coords="212,253,140,342,121,352,118,348,137,337,208,249"/>
<area shape="rect" href="pilot-debug_8c.html#ae303ebba9fe1311895e478934212773f" title=" " alt="" coords="29,55,115,80"/>
<area shape="poly" title=" " alt="" coords="216,201,185,147,163,118,137,94,114,81,117,76,140,89,167,115,189,144,221,198"/>
<area shape="rect" href="pilot-debug_8c.html#a37ffecfd2a5432eab0a2a3e7bcac88c1" title=" " alt="" coords="13,104,131,130"/>
<area shape="poly" title=" " alt="" coords="207,204,176,172,137,143,116,133,119,128,140,139,179,168,211,200"/>
<area shape="rect" href="pilot-debug_8c.html#add68e1c4ca93649d6a77c7eebfa02736" title=" " alt="" coords="12,153,132,179"/>
<area shape="poly" title=" " alt="" coords="182,210,138,193,109,182,111,177,140,188,184,205"/>
<area shape="rect" href="pilot-debug_8c.html#a36134fdc30c5271114e904e31cb22da4" title=" " alt="" coords="5,203,139,228"/>
<area shape="poly" title=" " alt="" coords="178,225,139,223,139,217,179,220"/>
<area shape="rect" href="pilot-debug_8c.html#a226a8a688a76efc304507a6875a35079" title=" " alt="" coords="17,252,127,278"/>
<area shape="poly" title=" " alt="" coords="180,241,128,254,127,249,178,236"/>
<area shape="rect" href="pilot-debug_8c.html#a2799257422b5301cbeecc800d67665a4" title=" " alt="" coords="201,439,262,464"/>
<area shape="poly" title=" " alt="" coords="308,454,262,454,262,449,308,449"/>
<area shape="rect" href="pilot-debug_8c.html#a06ee9ed66ba74c181bd81507110f6ef7" title=" " alt="" coords="203,488,260,514"/>
<area shape="poly" title=" " alt="" coords="335,472,261,495,260,490,334,467"/>
<area shape="poly" title=" " alt="" coords="327,504,260,504,260,498,327,498"/>
</map>
</div>

</div>
</div>
<a id="a22491e1e2931663a9a7f05db03be6405" name="a22491e1e2931663a9a7f05db03be6405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22491e1e2931663a9a7f05db03be6405">&#9670;&#160;</a></span>sys_WriteMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sys_WriteMemory </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  512</span>{</div>
<div class="line"><span class="lineno">  513</span>    <span class="keywordtype">int</span>     result;</div>
<div class="line"><span class="lineno">  514</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> todo, <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><span class="lineno">  515</span>    pi_buffer_t *<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>;</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>    <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> = <a class="code hl_function" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc">pi_buffer_new</a> (0xFFFF);</div>
<div class="line"><span class="lineno">  518</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a> == NULL) {</div>
<div class="line"><span class="lineno">  519</span>        errno = ENOMEM;</div>
<div class="line"><span class="lineno">  520</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="socket_8c.html#a415df518818c6813556c5607b29e833e">pi_set_error</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, PI_ERR_GENERIC_MEMORY);</div>
<div class="line"><span class="lineno">  521</span>    }</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>    <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> = 0;</div>
<div class="line"><span class="lineno">  524</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  525</span>        todo = len;</div>
<div class="line"><span class="lineno">  526</span>        <span class="keywordflow">if</span> (todo &gt; 256)</div>
<div class="line"><span class="lineno">  527</span>            todo = 256;</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[0] = 0;</div>
<div class="line"><span class="lineno">  530</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[1] = 0;</div>
<div class="line"><span class="lineno">  531</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[2] = 0;</div>
<div class="line"><span class="lineno">  532</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[3] = 0;</div>
<div class="line"><span class="lineno">  533</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] = 0x02;</div>
<div class="line"><span class="lineno">  534</span>        <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[5] = 0;   <span class="comment">/* gapfill */</span></div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>        set_long(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 6, addr);</div>
<div class="line"><span class="lineno">  537</span>        set_short(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 10, len);</div>
<div class="line"><span class="lineno">  538</span>        memcpy(<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data + 12, (<span class="keywordtype">char</span> *)src + <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>, todo);</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>        <a class="code hl_function" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82">pi_write</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data, len + 12);</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>        result = <a class="code hl_function" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199">pi_read</a>(<a class="code hl_variable" href="pilot-xfer_8c.html#a06b0afe769d54ae94259d8532bc878b0">sd</a>, <a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>, 6);</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>        <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno">  545</span>            <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><span class="lineno">  547</span>        }</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>-&gt;data[4] == (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)0x82)</div>
<div class="line"><span class="lineno">  550</span>            &amp;&amp; ((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) result == todo + 6)) {</div>
<div class="line"><span class="lineno">  551</span>            ;</div>
<div class="line"><span class="lineno">  552</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  553</span>            <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  554</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><span class="lineno">  555</span>        }</div>
<div class="line"><span class="lineno">  556</span>    } <span class="keywordflow">while</span> (<a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a> &lt; len);</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>    <a class="code hl_function" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606">pi_buffer_free</a> (<a class="code hl_variable" href="pitcl_8c.html#a0dea8f1af961c5e9eb4425acd7c95409">buf</a>);</div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="pilot-debug_8c.html#a5992b274cfdcacdbc1fa8347fd01ebde">done</a>;</div>
<div class="line"><span class="lineno">  560</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00034">buf</a>, <a class="el" href="#l00068">done</a>, <a class="el" href="#l00103">pi_buffer_free()</a>, <a class="el" href="#l00031">pi_buffer_new()</a>, <a class="el" href="#l01315">pi_read()</a>, <a class="el" href="#l01625">pi_set_error()</a>, <a class="el" href="#l01332">pi_write()</a>, and <a class="el" href="#l00107">sd</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a22491e1e2931663a9a7f05db03be6405_cgraph.png" border="0" usemap="#asyspkt_8c_a22491e1e2931663a9a7f05db03be6405_cgraph" alt=""/></div>
<map name="asyspkt_8c_a22491e1e2931663a9a7f05db03be6405_cgraph" id="asyspkt_8c_a22491e1e2931663a9a7f05db03be6405_cgraph">
<area shape="rect" title=" " alt="" coords="5,105,132,131"/>
<area shape="rect" href="pi-buffer_8c.html#af440579d61c8649154b0f0512c285606" title=" " alt="" coords="181,5,281,31"/>
<area shape="poly" title=" " alt="" coords="86,103,127,73,178,40,185,36,188,41,181,44,130,77,89,107"/>
<area shape="rect" href="pi-buffer_8c.html#a6775d9fcdb4fb3e02ce032337e1d10dc" title=" " alt="" coords="180,55,282,80"/>
<area shape="poly" title=" " alt="" coords="111,102,173,83,174,88,113,107"/>
<area shape="rect" href="socket_8c.html#a2e89f53f6dc64b669c778fcf29b27199" title=" " alt="" coords="199,156,262,182"/>
<area shape="poly" title=" " alt="" coords="113,129,185,152,184,157,111,134"/>
<area shape="rect" href="socket_8c.html#a415df518818c6813556c5607b29e833e" title=" " alt="" coords="330,107,419,132"/>
<area shape="poly" title=" " alt="" coords="132,116,314,117,314,122,132,121"/>
<area shape="rect" href="socket_8c.html#a0eb81ed865386ef5f955a93f02426c82" title=" " alt="" coords="198,205,264,231"/>
<area shape="poly" title=" " alt="" coords="89,129,130,159,181,192,188,196,185,200,178,196,127,164,86,134"/>
<area shape="rect" href="socket_8c.html#aaa2992e844d3a1447f54a342dced4fa0" title=" " alt="" coords="343,156,406,182"/>
<area shape="poly" title=" " alt="" coords="263,166,327,166,327,172,263,172"/>
<area shape="rect" href="socket_8c.html#a32b1327c018fb882e8283498858bf8a0" title=" " alt="" coords="467,156,573,182"/>
<area shape="poly" title=" " alt="" coords="407,166,452,166,452,172,407,172"/>
<area shape="rect" href="socket_8c.html#a73c92624f86d6b9ff6bc7d316e72c64c" title=" " alt="" coords="471,205,569,231"/>
<area shape="poly" title=" " alt="" coords="408,177,467,197,465,203,406,182"/>
<area shape="rect" href="threadsafe_8c.html#a57e2304ed7e93f453b4fc66dff84c7c6" title=" " alt="" coords="628,107,733,132"/>
<area shape="poly" title=" " alt="" coords="564,153,621,135,622,140,565,158"/>
<area shape="rect" href="threadsafe_8c.html#a099d75170599d86ab20348b2af1e4da8" title=" " alt="" coords="621,156,740,182"/>
<area shape="poly" title=" " alt="" coords="573,166,605,166,605,172,573,172"/>
<area shape="rect" href="socket_8c.html#ad3e27d0710fe93c314822a548da2286d" title=" " alt="" coords="637,205,724,231"/>
<area shape="poly" title=" " alt="" coords="565,180,623,198,622,203,564,185"/>
<area shape="poly" title=" " alt="" coords="416,130,466,148,465,153,414,136"/>
<area shape="rect" href="socket_8c.html#a78bf82c7be1ea4fa0fece28e9c58fa57" title=" " alt="" coords="342,205,408,231"/>
<area shape="poly" title=" " alt="" coords="265,216,326,216,326,221,265,221"/>
<area shape="poly" title=" " alt="" coords="408,204,465,185,466,190,409,209"/>
<area shape="poly" title=" " alt="" coords="408,216,455,216,455,221,408,221"/>
</map>
</div>

</div>
</div>
<a id="a89142545c93afa489d7106b8ae6f2fa0" name="a89142545c93afa489d7106b8ae6f2fa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89142545c93afa489d7106b8ae6f2fa0">&#9670;&#160;</a></span>UninvertRPC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UninvertRPC </td>
          <td>(</td>
          <td class="paramtype">struct RPC_params *</td>          <td class="paramname"><span class="paramname"><em>p</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  886</span>{</div>
<div class="line"><span class="lineno">  887</span>    <span class="keywordtype">int</span>     j;</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>    <span class="keywordflow">for</span> (j = 0; j &lt; p-&gt;args; j++) {</div>
<div class="line"><span class="lineno">  890</span>        <span class="keywordflow">if</span> (p-&gt;param[j].invert) {</div>
<div class="line"><span class="lineno">  891</span>            <span class="keywordtype">void</span> *c = p-&gt;param[j].data;</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span>            <span class="keywordflow">if</span> ((p-&gt;param[j].invert == 2)</div>
<div class="line"><span class="lineno">  894</span>                &amp;&amp; (p-&gt;param[j].size == 2)) {</div>
<div class="line"><span class="lineno">  895</span>                <span class="keywordtype">int</span> *s = c;</div>
<div class="line"><span class="lineno">  896</span> </div>
<div class="line"><span class="lineno">  897</span>                *s = htons(*s) &gt;&gt; 8;</div>
<div class="line"><span class="lineno">  898</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p-&gt;param[j].size == 2) {</div>
<div class="line"><span class="lineno">  899</span>                <span class="keywordtype">int</span> *s = c;</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>                *s = htons(*s);</div>
<div class="line"><span class="lineno">  902</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  903</span>                <span class="keywordtype">long</span> *l = c;</div>
<div class="line"><span class="lineno">  904</span> </div>
<div class="line"><span class="lineno">  905</span>                *l = htonl(*l);</div>
<div class="line"><span class="lineno">  906</span>            }</div>
<div class="line"><span class="lineno">  907</span>        }</div>
<div class="line"><span class="lineno">  908</span>    }</div>
<div class="line"><span class="lineno">  909</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00963">DoRPC()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="syspkt_8c_a89142545c93afa489d7106b8ae6f2fa0_icgraph.png" border="0" usemap="#asyspkt_8c_a89142545c93afa489d7106b8ae6f2fa0_icgraph" alt=""/></div>
<map name="asyspkt_8c_a89142545c93afa489d7106b8ae6f2fa0_icgraph" id="asyspkt_8c_a89142545c93afa489d7106b8ae6f2fa0_icgraph">
<area shape="rect" title=" " alt="" coords="681,252,780,278"/>
<area shape="rect" href="syspkt_8c.html#a09e924e712e1538a4838136c4874ed3c" title=" " alt="" coords="565,252,633,278"/>
<area shape="poly" title=" " alt="" coords="665,268,633,268,633,262,665,262"/>
<area shape="rect" href="pilot-debug_8c.html#a6c53b0db60a15b9b7745a0f6ffbc957b" title=" " alt="" coords="400,227,483,252"/>
<area shape="poly" title=" " alt="" coords="550,260,483,249,484,243,551,254"/>
<area shape="rect" href="pilot-debug_8c.html#a7a6f3abcadc4c0f6078908d7f4073256" title=" " alt="" coords="215,176,290,202"/>
<area shape="poly" title=" " alt="" coords="568,245,544,229,516,217,456,201,394,193,290,190,290,184,394,187,457,196,518,212,546,224,571,240"/>
<area shape="rect" href="pilot-debug_8c.html#acb6811d2d338b9eef6752c97442b8ec6" title=" " alt="" coords="187,400,318,426"/>
<area shape="poly" title=" " alt="" coords="579,291,552,318,519,343,469,367,416,385,319,407,318,402,414,380,467,362,516,339,549,314,576,288"/>
<area shape="rect" href="pilot-debug_8c.html#ac33e2efef1e2cfc8b86289ad15de5955" title=" " alt="" coords="366,303,517,328"/>
<area shape="poly" title=" " alt="" coords="552,283,485,305,483,300,550,278"/>
<area shape="poly" title=" " alt="" coords="384,227,289,201,291,196,386,222"/>
<area shape="rect" href="pilot-debug_8c.html#a75a6605568ee31c1f0c2a486775fd942" title=" " alt="" coords="25,5,119,31"/>
<area shape="poly" title=" " alt="" coords="418,216,374,168,316,120,266,91,213,67,118,33,120,28,215,62,269,86,320,116,378,165,422,213"/>
<area shape="rect" href="pilot-debug_8c.html#a17abc8aecff811b22b2663c9d4bd3fe8" title=" " alt="" coords="25,55,119,80"/>
<area shape="poly" title=" " alt="" coords="407,220,317,166,229,127,138,94,109,83,111,78,140,89,231,122,319,161,410,215"/>
<area shape="rect" href="pilot-debug_8c.html#ac6b92546ccba22d0282e536513bb4955" title=" " alt="" coords="16,252,128,278"/>
<area shape="poly" title=" " alt="" coords="385,246,129,264,128,258,384,241"/>
<area shape="rect" href="pilot-debug_8c.html#adad49ccde53bae1567b84326cb37d5be" title=" " alt="" coords="208,277,297,303"/>
<area shape="poly" title=" " alt="" coords="386,257,298,281,296,276,384,252"/>
<area shape="poly" title=" " alt="" coords="235,164,195,104,168,72,137,44,118,34,121,29,140,40,172,68,200,101,239,161"/>
<area shape="rect" href="pilot-debug_8c.html#aca5dde8086769436b3eabe9d899ccc97" title=" " alt="" coords="21,104,123,130"/>
<area shape="poly" title=" " alt="" coords="206,172,138,143,110,133,112,128,140,138,208,167"/>
<area shape="poly" title=" " alt="" coords="226,167,187,130,137,94,116,83,118,79,140,89,190,125,230,163"/>
<area shape="poly" title=" " alt="" coords="211,211,140,243,113,254,111,249,138,238,209,206"/>
<area shape="rect" href="pilot-debug_8c.html#ae303ebba9fe1311895e478934212773f" title=" " alt="" coords="29,301,115,327"/>
<area shape="poly" title=" " alt="" coords="232,215,191,254,140,292,117,304,114,299,137,288,188,250,228,211"/>
<area shape="rect" href="pilot-debug_8c.html#a37ffecfd2a5432eab0a2a3e7bcac88c1" title=" " alt="" coords="13,351,131,376"/>
<area shape="poly" title=" " alt="" coords="231,215,189,266,176,288,168,306,158,323,140,342,123,352,120,348,137,337,154,320,163,304,171,285,184,263,227,211"/>
<area shape="rect" href="pilot-debug_8c.html#add68e1c4ca93649d6a77c7eebfa02736" title=" " alt="" coords="12,153,132,179"/>
<area shape="poly" title=" " alt="" coords="199,185,132,176,133,171,200,180"/>
<area shape="rect" href="pilot-debug_8c.html#a36134fdc30c5271114e904e31cb22da4" title=" " alt="" coords="5,400,139,426"/>
<area shape="poly" title=" " alt="" coords="229,215,208,239,189,266,175,301,170,331,162,360,141,391,125,402,122,397,137,387,157,358,165,330,170,299,184,264,204,236,225,211"/>
<area shape="rect" href="pilot-debug_8c.html#a226a8a688a76efc304507a6875a35079" title=" " alt="" coords="17,203,127,228"/>
<area shape="poly" title=" " alt="" coords="200,199,128,210,127,205,199,194"/>
<area shape="poly" title=" " alt="" coords="221,393,182,366,137,341,113,330,115,325,140,336,185,362,224,389"/>
<area shape="poly" title=" " alt="" coords="187,398,121,380,123,374,189,393"/>
<area shape="poly" title=" " alt="" coords="171,416,139,416,139,410,171,410"/>
<area shape="rect" href="pilot-debug_8c.html#a85a74fd08020e12563c650750fa2135e" title=" " alt="" coords="35,449,109,475"/>
<area shape="poly" title=" " alt="" coords="189,433,110,455,109,450,187,428"/>
<area shape="rect" href="pilot-debug_8c.html#a91ac6cee94637fb898dde9a73817def8" title=" " alt="" coords="35,499,109,524"/>
<area shape="poly" title=" " alt="" coords="224,437,185,464,140,490,111,502,109,497,137,485,182,459,221,433"/>
<area shape="rect" href="pilot-debug_8c.html#a483120d368283eaa7eb4459fab4d3c66" title=" " alt="" coords="22,548,122,574"/>
<area shape="poly" title=" " alt="" coords="236,440,196,490,169,516,140,539,120,550,117,545,137,535,166,512,192,486,232,437"/>
<area shape="poly" title=" " alt="" coords="350,318,187,318,115,317,115,312,187,313,350,313"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ef3825c9845ea6880aaea633307886b2.html">libpisock</a></li><li class="navelem"><a class="el" href="syspkt_8c.html">syspkt.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
